import{a as lt,c as Ss}from"./chunk-DTTLYL35.js";import{a as Cs}from"./chunk-JHBN74HO.js";import{a as Tt,b as me,c as ws,d as mt,e as St,f as xs,g as kt,h as Ii,i as Et,j as Lt,k as st,l as ft,m as ot,n as it}from"./chunk-WNDDUXID.js";import{h as Ge}from"./chunk-B73NTX2F.js";import{a as ks}from"./chunk-5HHDMMW5.js";import{c as Ts}from"./chunk-2B2EYJPR.js";import{C as He,D as Ke,P as Ie,R as Xt,T as Di,h as tt,i as Ei,j as ht,k as Li,l as vs,o as pt,x as Mi}from"./chunk-RLR7EZVK.js";import"./chunk-W4BNGQYG.js";import{$b as fs,Aa as us,Ba as At,C as Ci,Cc as ki,F as os,Gb as dt,Ha as ut,Hb as ie,Ia as ne,Ib as Ue,Ic as Ce,Jb as ps,Jc as yt,K as wi,La as he,Lb as Ae,M as ls,Mb as Ht,Nb as Pt,O as rs,Ob as zt,P as as,Pb as H,Qb as U,Rb as ve,Sb as Qt,Tb as jt,Ub as Gt,Vb as Re,Yb as re,Zb as ae,_b as ms,a as ct,b as qt,d as Ft,dc as Le,e as Xe,ea as vt,ec as Ve,f as is,fa as cs,fc as _t,gc as J,hb as ds,hc as Qe,ib as I,ic as se,jc as Ti,kc as gs,l as ns,la as Te,lc as bs,mc as _s,qb as Ee,qc as wt,sc as xe,tc as Si,u as ss,ua as be,ub as De,uc as ys,va as _e,vc as ee,wa as bt,wb as hs,wc as ce,xa as xi,xc as we,ya as Yt,yb as Ct,yc as xt,zb as ye}from"./chunk-DAEZZW2A.js";var Ls=Ft((ci,qn)=>{"use strict";(function(e,t){typeof ci=="object"&&typeof qn=="object"?qn.exports=t():typeof define=="function"&&define.amd?define([],t):typeof ci=="object"?ci.AirDatepicker=t():e.AirDatepicker=t()})(ci,function(){return function(){"use strict";var e={d:function(z,y){for(var T in y)e.o(y,T)&&!e.o(z,T)&&Object.defineProperty(z,T,{enumerable:!0,get:y[T]})},o:function(z,y){return Object.prototype.hasOwnProperty.call(z,y)}},t={};e.d(t,{default:function(){return le}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},n={classes:"",inline:!1,locale:{days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u043E\u0441","\u041F\u043E\u043D","\u0412\u0442\u043E","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041F\u044F\u0442","\u0421\u0443\u0431"],daysMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function s(z){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof z=="string"?y.querySelector(z):z}function a(){let{tagName:z="div",className:y="",innerHtml:T="",id:w="",attrs:O={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=document.createElement(z);return y&&B.classList.add(...y.split(" ")),w&&(B.id=w),T&&(B.innerHTML=T),O&&u(B,O),B}function u(z,y){for(let[T,w]of Object.entries(y))w!==void 0&&z.setAttribute(T,w);return z}function h(z){return new Date(z.getFullYear(),z.getMonth()+1,0).getDate()}function o(z){let y=z.getHours(),{hours:T,dayPeriod:w}=_(y);return{year:z.getFullYear(),month:z.getMonth(),fullMonth:z.getMonth()+1<10?"0"+(z.getMonth()+1):z.getMonth()+1,date:z.getDate(),fullDate:z.getDate()<10?"0"+z.getDate():z.getDate(),day:z.getDay(),hours:y,fullHours:c(y),hours12:T,dayPeriod:w,fullHours12:c(T),minutes:z.getMinutes(),fullMinutes:z.getMinutes()<10?"0"+z.getMinutes():z.getMinutes()}}function _(z){return{dayPeriod:z>11?"pm":"am",hours:z%12==0?12:z%12}}function c(z){return z<10?"0"+z:z}function g(z){let y=10*Math.floor(z.getFullYear()/10);return[y,y+9]}function k(){let z=[];for(var y=arguments.length,T=new Array(y),w=0;w<y;w++)T[w]=arguments[w];return T.forEach(O=>{if(typeof O=="object")for(let B in O)O[B]&&z.push(B);else O&&z.push(O)}),z.join(" ")}function M(z,y){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.days;if(!z||!y)return!1;let w=o(z),O=o(y);return{[i.days]:w.date===O.date&&w.month===O.month&&w.year===O.year,[i.months]:w.month===O.month&&w.year===O.year,[i.years]:w.year===O.year}[T]}function N(z,y,T){let w=l(z,!1).getTime(),O=l(y,!1).getTime();return T?w>=O:w>O}function P(z,y){return!N(z,y,!0)}function l(z){let y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],T=new Date(z.getTime());return typeof y!="boolean"||y||function(w){w.setHours(0,0,0,0)}(T),T}function r(z,y,T){z.length?z.forEach(w=>{w.addEventListener(y,T)}):z.addEventListener(y,T)}function d(z,y){return!(!z||z===document||z instanceof DocumentFragment)&&(z.matches(y)?z:d(z.parentNode,y))}function p(z,y,T){return z>T?T:z<y?y:z}function m(z){for(var y=arguments.length,T=new Array(y>1?y-1:0),w=1;w<y;w++)T[w-1]=arguments[w];return T.filter(O=>O).forEach(O=>{for(let[B,E]of Object.entries(O))if(E!==void 0&&E.toString()==="[object Object]"){let q=z[B]!==void 0?z[B].toString():void 0,G=E.toString(),ue=Array.isArray(E)?[]:{};z[B]=z[B]?q!==G?ue:z[B]:ue,m(z[B],E)}else z[B]=E}),z}function b(z){let y=z;return z instanceof Date||(typeof z=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(z)&&(z+="T00:00:00"),y=new Date(z)),isNaN(y.getTime())&&(console.log(`Unable to convert value "${z}" to Date object`),y=!1),y}function f(z){let y="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+y+")("+z+")($|<|"+y+")","g")}function v(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class x{constructor(){let{type:y,date:T,dp:w,opts:O,body:B}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),v(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),v(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),v(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),v(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),v(this,"onChangeFocusDate",E=>{if(!E)return void(this.focused&&this.removeFocus());let q=M(E,this.date,this.type);q?this.focus():!q&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),v(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell)),this.type=y,this.singleType=this.type.slice(0,-1),this.date=T,this.dp=w,this.opts=O,this.body=B,this.customData=!1,this.init()}init(){var y,T;let{onRenderCell:w}=this.opts;w&&(this.customData=w({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),(y=this.customData)!==null&&y!==void 0&&y.disabled?this.dp.disableDate(this.date):((T=this.customData)===null||T===void 0?void 0:T.disabled)===!1&&this.dp.enableDate(this.date)}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var y;let{year:T,month:w,fullMonth:O,date:B,fullDate:E}=o(this.date),q=((y=this.customData)===null||y===void 0?void 0:y.attrs)||{};this.$cell=a({attrs:ct({"data-year":T,"data-month":w,"data-date":B,"data-iso-date":`${T}-${O}-${E}`},q)}),this.$cell.adpCell=this}_getClassName(){var y;let T=new Date,{selectOtherMonths:w,selectOtherYears:O}=this.opts,{minDate:B,maxDate:E,isDateDisabled:q}=this.dp,{day:G}=o(this.date),ue=this._isOutOfMinMaxRange(),de=q(this.date),fe=k("air-datepicker-cell",`-${this.singleType}-`,{"-current-":M(T,this.date,this.type),"-min-date-":B&&M(B,this.date,this.type),"-max-date-":E&&M(E,this.date,this.type)}),pe="";switch(this.type){case i.days:pe=k({"-weekend-":this.dp.isWeekend(G),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!w||ue||de});break;case i.months:pe=k({"-disabled-":ue});break;case i.years:pe=k({"-other-decade-":this.isOtherDecade,"-disabled-":ue||this.isOtherDecade&&!O})}return k(fe,pe,(y=this.customData)===null||y===void 0?void 0:y.classes).split(" ")}_getHtml(){var y;let{year:T,month:w,date:O}=o(this.date),{showOtherMonths:B,showOtherYears:E}=this.opts;if((y=this.customData)!==null&&y!==void 0&&y.html)return this.customData.html;switch(this.type){case i.days:return!B&&this.isOtherMonth?"":O;case i.months:return this.dp.locale[this.opts.monthsField][w];case i.years:return!E&&this.isOtherDecade?"":T}}_isOutOfMinMaxRange(){let{minDate:y,maxDate:T}=this.dp,{type:w,date:O}=this,{month:B,year:E,date:q}=o(O),G=w===i.days,ue=w===i.years,de=!!y&&new Date(E,ue?y.getMonth():B,G?q:y.getDate()),fe=!!T&&new Date(E,ue?T.getMonth():B,G?q:T.getDate());return y&&T?P(de,y)||N(fe,T):y?P(de,y):T?N(fe,T):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{selectedDates:y,focusDate:T,rangeDateTo:w,rangeDateFrom:O}=this.dp,B=y.length;if(this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),!B)return;let E=O,q=w;if(B===1&&T){let pe=N(T,y[0]);E=pe?y[0]:T,q=pe?T:y[0]}let G=k({"-in-range-":E&&q&&(ue=this.date,de=E,fe=q,N(ue,de)&&P(ue,fe)),"-range-from-":E&&M(this.date,E,this.type),"-range-to-":q&&M(this.date,q,this.type)});var ue,de,fe;G&&this.$cell.classList.add(...G.split(" "))}_handleSelectedStatus(){let y=this.dp._checkIfDateIsSelected(this.date,this.type);y?this.select():!y&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){M(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function C(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}let S={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`},R=".air-datepicker-cell";class L{constructor(y){let{dp:T,type:w,opts:O}=y;C(this,"handleClick",B=>{let E=B.target.closest(R).adpCell;if(E.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let q=this.dp._checkIfDateIsSelected(E.date,E.type);q?this.dp._handleAlreadySelectedDates(q,E.date):this.dp.selectDate(E.date)}),C(this,"handleDayNameClick",B=>{let E=B.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(E),datepicker:this.dp})}),C(this,"onChangeCurrentView",B=>{B!==this.type?this.hide():(this.show(),this.render())}),C(this,"onMouseOverCell",B=>{let E=d(B.target,R);this.dp.setFocusDate(!!E&&E.adpCell.date)}),C(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),C(this,"onClickBody",B=>{let{onClickDayName:E}=this.opts,q=B.target;q.closest(R)&&this.handleClick(B),E&&q.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(B)}),C(this,"onMouseDown",B=>{this.pressed=!0;let E=d(B.target,R),q=E&&E.adpCell;M(q.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),M(q.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),C(this,"onMouseMove",B=>{if(!this.pressed||!this.dp.isMinViewReached)return;B.preventDefault();let E=d(B.target,R),q=E&&E.adpCell,{selectedDates:G,rangeDateTo:ue,rangeDateFrom:de}=this.dp;if(!q||q.isDisabled)return;let{date:fe}=q;if(G.length===2){if(this.rangeFromFocused&&!N(fe,ue)){let{hours:pe,minutes:ze}=o(de);fe.setHours(pe),fe.setMinutes(ze),this.dp.rangeDateFrom=fe,this.dp.replaceDate(de,fe)}if(this.rangeToFocused&&!P(fe,de)){let{hours:pe,minutes:ze}=o(ue);fe.setHours(pe),fe.setMinutes(ze),this.dp.rangeDateTo=fe,this.dp.replaceDate(ue,fe)}}}),C(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),C(this,"onChangeViewDate",(B,E)=>{if(!this.isVisible)return;let q=g(B),G=g(E);switch(this.dp.currentView){case i.days:if(M(B,E,i.months))return;break;case i.months:if(M(B,E,i.years))return;break;case i.years:if(q[0]===G[0]&&q[1]===G[1])return}this.render()}),C(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(B=>{this.$cells.appendChild(B.render())})}),this.dp=T,this.type=w,this.opts=O,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:y,dynamicRange:T}=this.opts;r(this.$el,"mouseover",this.onMouseOverCell),r(this.$el,"mouseout",this.onMouseOutCell),r(this.$el,"click",this.onClickBody),y&&T&&(r(this.$el,"mousedown",this.onMouseDown),r(this.$el,"mousemove",this.onMouseMove),r(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:`air-datepicker-body -${this.type}-`,innerHtml:S[this.type]}),this.$names=s(".air-datepicker-body--day-names",this.$el),this.$cells=s(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,T="",w=this.dp.isWeekend,{onClickDayName:O}=this.opts,B=y,E=0;for(;E<7;){let q=B%7;T+=`<div class="${k("air-datepicker-body--day-name",{[i.cssClassWeekend]:w(q),"-clickable-":!!O})}" data-day-index='${q}'>${this.dp.locale.daysMin[q]}</div>`,E++,B++}return T}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(y){let{type:T,dp:w,opts:O}=this;return new x({type:T,dp:w,opts:O,date:y,body:this})}_generateCells(){L.getDatesFunction(this.type)(this.dp,y=>{this.cells.push(this._generateCell(y))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(y=>y.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(y,T){let{viewDate:w,opts:{fixedHeight:O},locale:{firstDay:B}}=y,E=h(w),{year:q,month:G}=o(w),ue=new Date(q,G,1),de=new Date(q,G,E),fe=ue.getDay()-B,pe=6-de.getDay()+B;fe=fe<0?fe+7:fe,pe=pe>6?pe-7:pe;let ze=function(je,Ye){let{year:et,month:nt,date:Zt}=o(je);return new Date(et,nt,Zt-Ye)}(ue,fe),qe=E+fe+pe,$e=ze.getDate(),{year:Ze,month:Oe}=o(ze),Ot=0;O&&(qe=42);let at=[];for(;Ot<qe;){let je=new Date(Ze,Oe,$e+Ot);T&&T(je),at.push(je),Ot++}return at}static getMonthsDates(y,T){let{year:w}=y.parsedViewDate,O=0,B=[];for(;O<12;){let E=new Date(w,O);B.push(E),T&&T(E),O++}return B}static getYearsDates(y,T){let w=g(y.viewDate),O=w[0]-1,B=w[1]+1,E=O,q=[];for(;E<=B;){let G=new Date(E,0);q.push(G),T&&T(G),E++}return q}static getDatesFunction(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.days;return{[i.days]:L.getDaysDates,[i.months]:L.getMonthsDates,[i.years]:L.getYearsDates}[y]}}function F(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class V{constructor(y){let{dp:T,opts:w}=y;F(this,"onClickNav",O=>{let B=d(O.target,".air-datepicker-nav--action");if(!B)return;let E=B.dataset.action;this.dp[E]()}),F(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),F(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),F(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),F(this,"update",()=>{let{prevHtml:O,nextHtml:B}=this.opts;this.$prev.innerHTML=O,this.$next.innerHTML=B,this._resetNavStatus(),this.render(),this.handleNavStatus()}),F(this,"renderDelay",()=>{setTimeout(this.render)}),F(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(O,B){for(let E in B)B[E]?O.classList.add(E):O.classList.remove(E)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=T,this.opts=w,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=s(".air-datepicker-nav--title",this.$el),this.$prev=s('[data-action="prev"]',this.$el),this.$next=s('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:y,opts:T}=this,w=T.navTitles[y.currentView];return typeof w=="function"?w(y):y.formatDate(y.viewDate,w)}handleNavStatus(){let{disableNavWhenOutOfRange:y}=this.opts,{minDate:T,maxDate:w}=this.dp;if(!T&&!w||!y)return;let{year:O,month:B}=this.dp.parsedViewDate,E=!!T&&o(T),q=!!w&&o(w);switch(this.dp.currentView){case i.days:T&&E.month>=B&&E.year>=O&&this._disableNav("prev"),w&&q.month<=B&&q.year<=O&&this._disableNav("next");break;case i.months:T&&E.year>=O&&this._disableNav("prev"),w&&q.year<=O&&this._disableNav("next");break;case i.years:{let G=g(this.dp.viewDate);T&&E.year>=G[0]&&this._disableNav("prev"),w&&q.year<=G[1]&&this._disableNav("next");break}}}_disableNav(y){s('[data-action="'+y+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(y){for(var T=arguments.length,w=new Array(T>1?T-1:0),O=1;O<T;O++)w[O-1]=arguments[O];y.length?y.forEach(B=>{B.classList.remove(...w)}):y.classList.remove(...w)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:y,nextHtml:T}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${y}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${T}</div>`}get isNavIsFunction(){let{navTitles:y}=this.opts;return Object.keys(y).find(T=>typeof y[T]=="function")}}var K={today:{content:z=>z.locale.today,onClick:z=>z.setViewDate(new Date)},clear:{content:z=>z.locale.clear,onClick:z=>z.clear()}};class te{constructor(y){let{dp:T,opts:w}=y;this.dp=T,this.opts=w,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:y}=this.opts;Array.isArray(y)||(y=[y]),y.forEach(T=>{let w=T;typeof T=="string"&&K[T]&&(w=K[T]);let O=this.createButton(w);w.onClick&&this.attachEventToButton(O,w.onClick),this.$el.appendChild(O)})}attachEventToButton(y,T){y.addEventListener("click",()=>{T(this.dp)})}createButton(y){let{content:T,className:w,tagName:O="button",attrs:B={}}=y;return a({tagName:O,innerHtml:`<span tabindex='-1'>${typeof T=="function"?T(this.dp):T}</span>`,className:k("air-datepicker-button",w),attrs:B})}render(){this.generateButtons()}}function X(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class Z{constructor(){let{opts:y,dp:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,"toggleTimepickerIsActive",O=>{this.dp.timepickerIsActive=O}),X(this,"onChangeSelectedDate",O=>{let{date:B,updateTime:E=!1}=O;B&&(this.setMinMaxTime(B),this.setCurrentTime(!!E&&B),this.addTimeToDate(B))}),X(this,"onChangeLastSelectedDate",O=>{O&&(this.setTime(O),this.render())}),X(this,"onChangeInputRange",O=>{let B=O.target;this[B.getAttribute("name")]=B.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),X(this,"onMouseEnterLeave",O=>{let B=O.target.getAttribute("name"),E=this.$minutesText;B==="hours"&&(E=this.$hoursText),E.classList.toggle("-focus-")}),X(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),X(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=y,this.dp=T;let{timeFormat:w}=this.dp.locale;w&&(w.match(f("h"))||w.match(f("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let y="input";navigator.userAgent.match(/trident/gi)&&(y="change"),r(this.$ranges,y,this.onChangeInputRange),r(this.$ranges,"mouseenter",this.onMouseEnterLeave),r(this.$ranges,"mouseleave",this.onMouseEnterLeave),r(this.$ranges,"focus",this.onFocus),r(this.$ranges,"mousedown",this.onFocus),r(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:k("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:y,hours:T,displayHours:w,minutes:O,minHours:B,minMinutes:E,maxHours:q,maxMinutes:G,dayPeriod:ue,opts:{hoursStep:de,minutesStep:fe}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${c(w)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${c(O)}</span>   `+(y?`<span class='air-datepicker-time--current-ampm'>${ue}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${T}" min="${B}" max="${q}" step="${de}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${O}" min="${E}" max="${G}" step="${fe}"/>   </div></div>`}defineDOM(){let y=T=>s(T,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=y('[name="hours"]'),this.$minutes=y('[name="minutes"]'),this.$hoursText=y(".air-datepicker-time--current-hours"),this.$minutesText=y(".air-datepicker-time--current-minutes"),this.$ampm=y(".air-datepicker-time--current-ampm")}setTime(y){this.setMinMaxTime(y),this.setCurrentTime(y)}addTimeToDate(y){y&&(y.setHours(this.hours),y.setMinutes(this.minutes))}setMinMaxTime(y){if(this.setMinMaxTimeFromOptions(),y){let{minDate:T,maxDate:w}=this.dp;T&&M(y,T)&&this.setMinTimeFromMinDate(T),w&&M(y,w)&&this.setMaxTimeFromMaxDate(w)}}setCurrentTime(y){let{hours:T,minutes:w}=y?o(y):this;this.hours=p(T,this.minHours,this.maxHours),this.minutes=p(w,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:y,minMinutes:T,maxHours:w,maxMinutes:O}=this.opts;this.minHours=p(y,0,23),this.minMinutes=p(T,0,59),this.maxHours=p(w,0,23),this.maxMinutes=p(O,0,59)}setMinTimeFromMinDate(y){let{lastSelectedDate:T}=this.dp;this.minHours=y.getHours(),T&&T.getHours()>y.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=y.getMinutes()}setMaxTimeFromMaxDate(y){let{lastSelectedDate:T}=this.dp;this.maxHours=y.getHours(),T&&T.getHours()<y.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=y.getMinutes()}updateSliders(){u(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,u(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=c(this.displayHours),this.$minutesText.innerHTML=c(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(y){this._hours=y;let{hours:T,dayPeriod:w}=_(y);this.displayHours=this.ampm?T:y,this.dayPeriod=w}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function j(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class W{constructor(y){let{dp:T,opts:w}=y;j(this,"pressedKeys",new Set),j(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],O=>O.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],O=>O.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],O=>O.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],O=>O.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],O=>O.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],O=>O.year-=10],[["Control","Shift","ArrowUp"],(O,B)=>B.up()]])),j(this,"handleHotKey",O=>{let B=this.hotKeys.get(O),E=o(this.getInitialFocusDate());B(E,this.dp);let{year:q,month:G,date:ue}=E,de=h(new Date(q,G));de<ue&&(ue=de);let fe=this.dp.getClampedDate(new Date(q,G,ue));this.dp.setFocusDate(fe,{viewDateTransition:!0})}),j(this,"isHotKeyPressed",()=>{let O=!1,B=this.pressedKeys.size,E=q=>this.pressedKeys.has(q);for(let[q]of this.hotKeys){if(O)break;if(Array.isArray(q[0]))q.forEach(G=>{O||B!==G.length||(O=G.every(E)&&q)});else{if(B!==q.length)continue;O=q.every(E)&&q}}return O}),j(this,"isArrow",O=>O>=37&&O<=40),j(this,"onKeyDown",O=>{if(!this.dp.visible&&!this.dp.treatAsInline)return;let{key:B,which:E}=O,{dp:q,dp:{focusDate:G},opts:ue}=this;this.registerKey(B);let de=this.isHotKeyPressed();if(de)return O.preventDefault(),void this.handleHotKey(de);if(this.isArrow(E))return O.preventDefault(),void this.focusNextCell(B);if(B==="Enter"){if(q.currentView!==ue.minView)return void q.down();if(G){let fe=q._checkIfDateIsSelected(G);return void(fe?q._handleAlreadySelectedDates(fe,G):q.selectDate(G))}}B==="Escape"&&this.dp.hide()}),j(this,"onKeyUp",O=>{this.removeKey(O.key)}),this.dp=T,this.opts=w,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:y}=this.dp;y.addEventListener("keydown",this.onKeyDown),y.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:y}=this.dp;y.removeEventListener("keydown",this.onKeyDown),y.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:y,currentView:T,selectedDates:w,parsedViewDate:{year:O,month:B}}=this.dp,E=y||w[w.length-1];if(!E)switch(T){case i.days:E=new Date(O,B,new Date().getDate());break;case i.months:E=new Date(O,B,1);break;case i.years:E=new Date(O,0,1)}return E}focusNextCell(y){let T=this.getInitialFocusDate(),{currentView:w}=this.dp,{days:O,months:B,years:E}=i,q=o(T),G=q.year,ue=q.month,de=q.date;switch(y){case"ArrowLeft":w===O&&(de-=1),w===B&&(ue-=1),w===E&&(G-=1);break;case"ArrowUp":w===O&&(de-=7),w===B&&(ue-=3),w===E&&(G-=4);break;case"ArrowRight":w===O&&(de+=1),w===B&&(ue+=1),w===E&&(G+=1);break;case"ArrowDown":w===O&&(de+=7),w===B&&(ue+=3),w===E&&(G+=4)}let fe=this.dp.getClampedDate(new Date(G,ue,de));this.dp.setFocusDate(fe,{viewDateTransition:!0})}registerKey(y){this.pressedKeys.add(y)}removeKey(y){this.pressedKeys.delete(y)}}let Y={on(z,y){this.__events||(this.__events={}),this.__events[z]?this.__events[z].push(y):this.__events[z]=[y]},off(z,y){this.__events&&this.__events[z]&&(this.__events[z]=this.__events[z].filter(T=>T!==y))},removeAllEvents(){this.__events={}},trigger(z){for(var y=arguments.length,T=new Array(y>1?y-1:0),w=1;w<y;w++)T[w-1]=arguments[w];this.__events&&this.__events[z]&&this.__events[z].forEach(O=>{O(...T)})}};function D(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}let Q="",A="",$=!1;class le{static buildGlobalContainer(y){$=!0,Q=a({className:y,id:y}),s("body").appendChild(Q)}constructor(y,T){var w=this;if(D(this,"viewIndexes",[i.days,i.months,i.years]),D(this,"next",()=>{let{year:E,month:q}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(E,q+1,1));break;case i.months:this.setViewDate(new Date(E+1,q,1));break;case i.years:this.setViewDate(new Date(E+10,0,1))}}),D(this,"prev",()=>{let{year:E,month:q}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(E,q-1,1));break;case i.months:this.setViewDate(new Date(E-1,q,1));break;case i.years:this.setViewDate(new Date(E-10,0,1))}}),D(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),D(this,"setPosition",function(E){let q=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(E=E||w.opts.position)=="function")return void(w.customHide=E({$datepicker:w.$datepicker,$target:w.$el,$pointer:w.$pointer,isViewChange:q,done:w._finishHide}));let G,ue,{isMobile:de}=w.opts,fe=w.$el.getBoundingClientRect(),pe=w.$el.getBoundingClientRect(),ze=w.$datepicker.offsetParent,qe=w.$el.offsetParent,$e=w.$datepicker.getBoundingClientRect(),Ze=E.split(" "),Oe=window.scrollY,Ot=window.scrollX,at=w.opts.offset,je=Ze[0],Ye=Ze[1];if(de)w.$datepicker.style.cssText="left: 50%; top: 50%";else{if(ze===qe&&ze!==document.body&&(pe={top:w.$el.offsetTop,left:w.$el.offsetLeft,width:fe.width,height:w.$el.offsetHeight},Oe=0,Ot=0),ze!==qe&&ze!==document.body){let et=ze.getBoundingClientRect();pe={top:fe.top-et.top,left:fe.left-et.left,width:fe.width,height:fe.height},Oe=0,Ot=0}switch(je){case"top":G=pe.top-$e.height-at;break;case"right":ue=pe.left+pe.width+at;break;case"bottom":G=pe.top+pe.height+at;break;case"left":ue=pe.left-$e.width-at}switch(Ye){case"top":G=pe.top;break;case"right":ue=pe.left+pe.width-$e.width;break;case"bottom":G=pe.top+pe.height-$e.height;break;case"left":ue=pe.left;break;case"center":/left|right/.test(je)?G=pe.top+pe.height/2-$e.height/2:ue=pe.left+pe.width/2-$e.width/2}w.$datepicker.style.cssText=`left: ${ue+Ot}px; top: ${G+Oe}px`}}),D(this,"_setInputValue",()=>{let{opts:E,$altField:q,locale:{dateFormat:G}}=this,{altFieldDateFormat:ue,altField:de}=E;de&&q&&(q.value=this._getInputValue(ue)),this.$el.value=this._getInputValue(G),this.$el.dispatchEvent(new Event("change"))}),D(this,"_getInputValue",E=>{let{selectedDates:q,opts:G}=this,{multipleDates:ue,multipleDatesSeparator:de}=G;if(!q.length)return"";let fe=typeof E=="function",pe=fe?E(ue?q:q[0]):q.map(ze=>this.formatDate(ze,E));return pe=fe?pe:pe.join(de),pe}),D(this,"_checkIfDateIsSelected",function(E){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.days,G=!1;return w.selectedDates.some(ue=>{let de=M(E,ue,q);return G=de&&ue,de}),G}),D(this,"_scheduleCallAfterTransition",E=>{this._cancelScheduledCall(),E&&E(!1),this._onTransitionEnd=()=>{E&&E(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),D(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),D(this,"setViewDate",E=>{if(!((E=b(E))instanceof Date)||M(E,this.viewDate))return;let q=this.viewDate;this.viewDate=E;let{onChangeViewDate:G}=this.opts;if(G){let{month:ue,year:de}=this.parsedViewDate;G({month:ue,year:de,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,E,q)}),D(this,"setFocusDate",function(E){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!E||(E=b(E))instanceof Date)&&(w.focusDate=E,w.trigger(i.eventChangeFocusDate,E,q))}),D(this,"setCurrentView",function(E){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w.viewIndexes.includes(E)){if(w.currentView=E,w.elIsInput&&w.visible&&w.setPosition(void 0,!0),w.trigger(i.eventChangeCurrentView,E),!w.views[E]){let G=w.views[E]=new L({dp:w,opts:w.opts,type:E});w.shouldUpdateDOM&&w.$content.appendChild(G.$el)}w.opts.onChangeView&&!q.silent&&w.opts.onChangeView(E)}}),D(this,"_updateLastSelectedDate",E=>{this.lastSelectedDate=E,this.trigger(i.eventChangeLastSelectedDate,E)}),D(this,"destroy",()=>{if(this.isDestroyed)return;let{showEvent:E,isMobile:q}=this.opts,G=this.$datepicker.parentNode;G&&G.removeChild(this.$datepicker),this.$el.removeEventListener(E,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),q&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0}),D(this,"update",function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=m({},w.opts),{silent:ue}=q;m(w.opts,E);let{timepicker:de,buttons:fe,range:pe,selectedDates:ze,isMobile:qe}=w.opts,$e=w.visible||w.treatAsInline;w._createMinMaxDates(),w._limitViewDateByMaxMinDates(),w._handleLocale(),ze&&(w.selectedDates=[],w.selectDate(ze,{silent:ue})),E.view&&w.setCurrentView(E.view,{silent:ue}),w._setInputValue(),G.range&&!pe?(w.rangeDateTo=!1,w.rangeDateFrom=!1):!G.range&&pe&&w.selectedDates.length&&(w.rangeDateFrom=w.selectedDates[0],w.rangeDateTo=w.selectedDates[1]),G.timepicker&&!de?($e&&w.timepicker.destroy(),w.timepicker=!1,w.$timepicker.parentNode.removeChild(w.$timepicker)):!G.timepicker&&de&&w._addTimepicker(),!G.buttons&&fe?w._addButtons():G.buttons&&!fe?(w.buttons.destroy(),w.$buttons.parentNode.removeChild(w.$buttons)):$e&&G.buttons&&fe&&w.buttons.clearHtml().render(),!G.isMobile&&qe?(w.treatAsInline||A||w._createMobileOverlay(),w._addMobileAttributes(),w.visible&&w._showMobileOverlay()):G.isMobile&&!qe&&(w._removeMobileAttributes(),w.visible&&(A.classList.remove("-active-"),typeof w.opts.position!="function"&&w.setPosition())),$e&&(w.nav.update(),w.views[w.currentView].render(),w.currentView===i.days&&w.views[w.currentView].renderDayNames())}),D(this,"disableDate",(E,q)=>{(Array.isArray(E)?E:[E]).forEach(G=>{let ue=b(G);if(!ue)return;let de=q?"delete":"add";this.disabledDates[de](this.formatDate(ue,"yyyy-MM-dd"));let fe=this.getCell(ue,this.currentViewSingular);fe&&fe.adpCell.render()},[])}),D(this,"enableDate",E=>{this.disableDate(E,!0)}),D(this,"isDateDisabled",E=>{let q=b(E);return this.disabledDates.has(this.formatDate(q,"yyyy-MM-dd"))}),D(this,"isOtherMonth",E=>{let{month:q}=o(E);return q!==this.parsedViewDate.month}),D(this,"isOtherYear",E=>{let{year:q}=o(E);return q!==this.parsedViewDate.year}),D(this,"isOtherDecade",E=>{let{year:q}=o(E),[G,ue]=g(this.viewDate);return q<G||q>ue}),D(this,"_onChangeSelectedDate",E=>{let{silent:q}=E;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!q&&this._triggerOnSelect()})}),D(this,"_onChangeFocusedDate",function(E){let{viewDateTransition:q}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!E)return;let G=!1;q&&(G=w.isOtherMonth(E)||w.isOtherYear(E)||w.isOtherDecade(E)),G&&w.setViewDate(E),w.opts.onFocus&&w.opts.onFocus({datepicker:w,date:E})}),D(this,"_onChangeTime",E=>{let{hours:q,minutes:G}=E,ue=new Date,{lastSelectedDate:de,opts:{onSelect:fe}}=this,pe=de;de||(pe=ue);let ze=this.getCell(pe,this.currentViewSingular),qe=ze&&ze.adpCell;qe&&qe.isDisabled||(pe.setHours(q),pe.setMinutes(G),de?(this._setInputValue(),fe&&this._triggerOnSelect()):this.selectDate(pe))}),D(this,"_onFocus",E=>{this.visible||this.show()}),D(this,"_onBlur",E=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),D(this,"_onMouseDown",E=>{this.inFocus=!0}),D(this,"_onMouseUp",E=>{this.inFocus=!1,this.$el.focus()}),D(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),D(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),D(this,"getViewDates",function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.days;return L.getDatesFunction(E)(w)}),D(this,"isWeekend",E=>this.opts.weekends.includes(E)),D(this,"getClampedDate",E=>{let{minDate:q,maxDate:G}=this,ue=E;return G&&N(E,G)?ue=G:q&&P(E,q)&&(ue=q),ue}),this.$el=s(y),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=m({},n,T),this.$customContainer=!!this.opts.container&&s(this.opts.container),this.$altField=s(this.opts.altField||!1);let{view:O,startDate:B}=this.opts;B||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=b(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=O,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:y,treatAsInline:T,opts:{inline:w,isMobile:O,selectedDates:B,keyboardNav:E,onlyTimepicker:q}}=this,G=s("body");(!$||$&&Q&&!G.contains(Q))&&!w&&this.elIsInput&&!this.$customContainer&&le.buildGlobalContainer(le.defaultGlobalContainerId),!O||A||T||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(w||this._bindEvents(),E&&!q&&(this.keyboardNav=new W({dp:this,opts:y}))),B&&this.selectDate(B,{silent:!0}),this.opts.visible&&!T&&this.show(),O&&!T&&this.$el.setAttribute("readonly",!0),T&&this._createComponents()}_createMobileOverlay(){A=a({className:"air-datepicker-overlay"}),Q.appendChild(A)}_createComponents(){let{opts:y,treatAsInline:T,opts:{inline:w,buttons:O,timepicker:B,position:E,classes:q,onlyTimepicker:G,isMobile:ue}}=this;this._buildBaseHtml(),this.elIsInput&&(w||this._setPositionClasses(E)),!w&&this.elIsInput||this.$datepicker.classList.add("-inline-"),q&&this.$datepicker.classList.add(...q.split(" ")),G&&this.$datepicker.classList.add("-only-timepicker-"),ue&&!T&&this._addMobileAttributes(),this.views[this.currentView]=new L({dp:this,type:this.currentView,opts:y}),this.nav=new V({dp:this,opts:y}),B&&this._addTimepicker(),O&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let y in this.views)this.views[y].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){A.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){A.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:y,maxDate:T}=this.opts;this.minDate=!!y&&b(y),this.maxDate=!!T&&b(T)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new Z({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new te({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:y}=this.opts;var T,w;this.elIsInput?y?(T=this.$datepicker,(w=this.$el).parentNode.insertBefore(T,w.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=s(".air-datepicker--content",this.$datepicker),this.$pointer=s(".air-datepicker--pointer",this.$datepicker),this.$nav=s(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:y,dateFormat:T,firstDay:w,timepicker:O,onlyTimepicker:B,timeFormat:E,dateTimeSeparator:q}=this.opts;var G;this.locale=(G=y,JSON.parse(JSON.stringify(G))),T&&(this.locale.dateFormat=T),E!==void 0&&E!==""&&(this.locale.timeFormat=E);let{timeFormat:ue}=this.locale;if(w!==""&&(this.locale.firstDay=w),O&&typeof T!="function"){let de=ue?q:"";this.locale.dateFormat=[this.locale.dateFormat,ue||""].join(de)}B&&typeof T!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(y){if(typeof y=="function")return void this.$datepicker.classList.add("-custom-position-");let T=(y=y.split(" "))[0],w=`air-datepicker -${T}-${y[1]}- -from-${T}-`;this.$datepicker.classList.add(...w.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:y,minDate:T,maxDate:w}=this;w&&N(y,w)&&this.setViewDate(w),T&&P(y,T)&&this.setViewDate(T)}formatDate(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,T=arguments.length>1?arguments[1]:void 0;if(y=b(y),!(y instanceof Date))return;let w=T,O=this.locale,B=o(y),E=B.dayPeriod,q=g(y),G=le.replacer,ue={T:y.getTime(),m:B.minutes,mm:B.fullMinutes,h:B.hours12,hh:B.fullHours12,H:B.hours,HH:B.fullHours,aa:E,AA:E.toUpperCase(),E:O.daysShort[B.day],EEEE:O.days[B.day],d:B.date,dd:B.fullDate,M:B.month+1,MM:B.fullMonth,MMM:O.monthsShort[B.month],MMMM:O.months[B.month],yy:B.year.toString().slice(-2),yyyy:B.year,yyyy1:q[0],yyyy2:q[1]};for(let[de,fe]of Object.entries(ue))w=G(w,f(de),fe);return w}down(y){this._handleUpDownActions(y,"down")}up(y){this._handleUpDownActions(y,"up")}selectDate(y){let T,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:O,parsedViewDate:B,selectedDates:E}=this,{updateTime:q,silent:G}=w,{moveToOtherMonthsOnSelect:ue,moveToOtherYearsOnSelect:de,multipleDates:fe,range:pe,autoClose:ze,onBeforeSelect:qe}=this.opts,$e=E.length;if(Array.isArray(y))return y.forEach(Ze=>{this.selectDate(Ze,w)}),new Promise(Ze=>{setTimeout(Ze)});if((y=b(y))instanceof Date){if(qe&&!G&&!qe({date:y,datepicker:this}))return Promise.resolve();if(O===i.days&&y.getMonth()!==B.month&&ue&&(T=new Date(y.getFullYear(),y.getMonth(),1)),O===i.years&&y.getFullYear()!==B.year&&de&&(T=new Date(y.getFullYear(),0,1)),T&&this.setViewDate(T),fe&&!pe){if($e===fe)return;this._checkIfDateIsSelected(y)||E.push(y)}else if(pe)switch($e){case 1:E.push(y),this.rangeDateTo||(this.rangeDateTo=y),N(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=y),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[y],this.rangeDateFrom=y,this.rangeDateTo="";break;default:this.selectedDates=[y],this.rangeDateFrom=y}else this.selectedDates=[y];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:w?.silent,date:y,updateTime:q}),this._updateLastSelectedDate(y),ze&&!this.timepickerIsActive&&this.visible&&(fe||pe?pe&&$e===1&&this.hide():this.hide()),new Promise(Ze=>{setTimeout(Ze)})}}unselectDate(y){let T=this.selectedDates,w=this;if((y=b(y))instanceof Date)return T.some((O,B)=>{if(M(O,y))return T.splice(B,1),w.selectedDates.length?(w.rangeDateTo="",w.rangeDateFrom=T[0],w._updateLastSelectedDate(w.selectedDates[w.selectedDates.length-1])):(w.rangeDateFrom="",w.rangeDateTo="",w._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:y}),!0})}replaceDate(y,T){let w=this.selectedDates.find(B=>M(B,y,this.currentView)),O=this.selectedDates.indexOf(w);O<0||M(this.selectedDates[O],T,this.currentView)||(this.selectedDates[O]=T,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:T,updateTime:!0}),this._updateLastSelectedDate(T))}clear(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:y.silent}),new Promise(T=>{setTimeout(T)})}show(){let{onShow:y,isMobile:T}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,y&&this._scheduleCallAfterTransition(y),T&&this._showMobileOverlay()}hide(){let{onHide:y,isMobile:T}=this.opts,w=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(O=>{!this.customHide&&(O&&w||!O&&!w)&&this._finishHide(),y&&y(O)}),T&&A.classList.remove("-active-")}_triggerOnSelect(){let y=[],T=[],{selectedDates:w,locale:O,opts:{onSelect:B,multipleDates:E,range:q}}=this,G=E||q,ue=typeof O.dateFormat=="function";w.length&&(y=w.map(l),T=ue?E?O.dateFormat(y):y.map(de=>O.dateFormat(de)):y.map(de=>this.formatDate(de,O.dateFormat))),B({date:G?y:y[0],formattedDate:G?T:T[0],datepicker:this})}_handleAlreadySelectedDates(y,T){let{selectedDates:w,rangeDateFrom:O,rangeDateTo:B}=this,{range:E,toggleSelected:q}=this.opts,G=w.length,ue=typeof q=="function"?q({datepicker:this,date:T}):q,de=!!(E&&G===1&&y),fe=de?l(T):T;E&&!ue&&(G!==2&&this.selectDate(fe),G===2&&M(O,B))||(ue?this.unselectDate(fe):this._updateLastSelectedDate(de?fe:y))}_handleUpDownActions(y,T){if(!((y=b(y||this.focusDate||this.viewDate))instanceof Date))return;let w=T==="up"?this.viewIndex+1:this.viewIndex-1;w>2&&(w=2),w<0&&(w=0),this.setViewDate(new Date(y.getFullYear(),y.getMonth(),1)),this.setCurrentView(this.viewIndexes[w])}getCell(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.day;if(!((y=b(y))instanceof Date))return;let{year:w,month:O,date:B}=o(y),E=`[data-year="${w}"]`,q=`[data-month="${O}"]`,G={[i.day]:`${E}${q}[data-date="${B}"]`,[i.month]:`${E}${q}`,[i.year]:`${E}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(G[T]):void 0}_showMobileOverlay(){A.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((y,T)=>parseFloat(T)+y,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return o(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return g(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||Q}static replacer(y,T,w){return y.replace(T,function(O,B,E,q){return B+w+q})}}var oe;return D(le,"defaults",n),D(le,"version","3.6.0"),D(le,"defaultGlobalContainerId","air-datepicker-global-container"),oe=le.prototype,Object.assign(oe,Y),t.default}()})});var Is=Ft(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.default=void 0;var Hl={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};Bi.default=Hl});var Ns=Ft(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.default=void 0;var Pl={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],monthsShort:["Jan","F\xE9v","Mars","Avr","Mai","Juin","Juil","Ao\xFBt","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1};Oi.default=Pl});var Bs=Ft(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=void 0;var zl={days:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1};Fi.default=zl});var yo=Ft((_o,In)=>{"use strict";(function(e,t){typeof In=="object"&&typeof In.exports=="object"?In.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:_o,function(e,t){let i={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:i})),i})});var ai=Ft((Ho,Bn)=>{"use strict";(function(e,t){typeof Bn=="object"&&typeof Bn.exports=="object"?Bn.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:Ho,function(e,t){let i={name:"dialog",add:function(n){let s=n.context;s.dialog={kind:"",updateModal:!1,_closeSignal:!1};let a=n.util.createElement("DIV");a.className="se-dialog sun-editor-common";let u=n.util.createElement("DIV");u.className="se-dialog-back",u.style.display="none";let h=n.util.createElement("DIV");h.className="se-dialog-inner",h.style.display="none",a.appendChild(u),a.appendChild(h),s.dialog.modalArea=a,s.dialog.back=u,s.dialog.modal=h,s.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(n)),s.dialog.modal.addEventListener("click",this._onClick_dialog.bind(n)),s.element.relative.appendChild(a),a=null,u=null,h=null},_onMouseDown_dialog:function(n){/se-dialog-inner/.test(n.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(n){(/close/.test(n.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(n,s){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(u){/27/.test(u.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=s,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=n,this.modalForm=this.context[n].modal;let a=this.context[n].focusElement;typeof this.plugins[n].on=="function"&&this.plugins[n].on.call(this,s),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",a&&a.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);let n=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[n].init=="function"&&this.plugins[n].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var An=Ft((Wo,Fn)=>{"use strict";(function(e,t){typeof Fn=="object"&&typeof Fn.exports=="object"?Fn.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:Wo,function(e,t){let i={name:"component",set_container:function(n,s){let a=this.util.createElement("DIV");return a.className="se-component "+s,a.appendChild(n),a},set_cover:function(n){let s=this.util.createElement("FIGURE");return s.appendChild(n),s},create_caption:function(){let n=this.util.createElement("FIGCAPTION");return n.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",n}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var es=Ft((qo,Rn)=>{"use strict";(function(e,t){typeof Rn=="object"&&typeof Rn.exports=="object"?Rn.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:qo,function(e,t){let i={name:"resizing",add:function(n){let s=n.icons,a=n.context;a.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:s.align_justify,left:s.align_left,right:s.align_right,center:s.align_center}};let u=this.setController_resize(n);a.resizing.resizeContainer=u,a.resizing.resizeDiv=u.querySelector(".se-modal-resize"),a.resizing.resizeDot=u.querySelector(".se-resize-dot"),a.resizing.resizeDisplay=u.querySelector(".se-resize-display");let h=this.setController_button(n);a.resizing.resizeButton=h;let o=a.resizing.resizeHandles=a.resizing.resizeDot.querySelectorAll("span");a.resizing.resizeButtonGroup=h.querySelector("._se_resizing_btn_group"),a.resizing.rotationButtons=h.querySelectorAll("._se_resizing_btn_group ._se_rotation"),a.resizing.percentageButtons=h.querySelectorAll("._se_resizing_btn_group ._se_percentage"),a.resizing.alignMenu=h.querySelector(".se-resizing-align-list"),a.resizing.alignMenuList=a.resizing.alignMenu.querySelectorAll("button"),a.resizing.alignButton=h.querySelector("._se_resizing_align_button"),a.resizing.autoSizeButton=h.querySelector("._se_resizing_btn_group ._se_auto_size"),a.resizing.captionButton=h.querySelector("._se_resizing_caption_button"),u.addEventListener("mousedown",function(_){_.preventDefault()}),o[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),h.addEventListener("click",this.onClick_resizeButton.bind(n)),a.element.relative.appendChild(u),a.element.relative.appendChild(h),u=null,h=null,o=null},setController_resize:function(n){let s=n.util.createElement("DIV");return s.className="se-controller se-resizing-container",s.style.display="none",s.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',s},setController_button:function(n){let s=n.lang,a=n.icons,u=n.util.createElement("DIV");return u.className="se-controller se-controller-resizing",u.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+a.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+a.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+a.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+a.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+a.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+a.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+a.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+a.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+a.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+a.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+a.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+a.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+a.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+a.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.remove+"</span></span></button></div>",u},_module_getSizeX:function(n,s,a,u){return s||(s=n._element),a||(a=n._cover),u||(u=n._container),s?/%$/.test(s.style.width)?(u&&this.util.getNumber(u.style.width,2)||100)+"%":s.style.width:""},_module_getSizeY:function(n,s,a,u){return s||(s=n._element),a||(a=n._cover),u||(u=n._container),!u||!a?s&&s.style.height||"":this.util.getNumber(a.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?a.style.height:!/%$/.test(s.style.height)||!/%$/.test(s.style.width)?s.style.height:(u&&this.util.getNumber(u.style.height,2)||100)+"%"},_module_setModifyInputSize:function(n,s){let a=n._onlyPercentage&&this.context.resizing._rotateVertical;n.proportion.checked=n._proportionChecked=n._element.getAttribute("data-proportion")!=="false";let u=a?"":this.plugins.resizing._module_getSizeX.call(this,n);if(u===n._defaultSizeX&&(u=""),n._onlyPercentage&&(u=this.util.getNumber(u,2)),n.inputX.value=u,s.setInputSize.call(this,"x"),!n._onlyPercentage){let h=a?"":this.plugins.resizing._module_getSizeY.call(this,n);h===n._defaultSizeY&&(h=""),n._onlyPercentage&&(h=this.util.getNumber(h,2)),n.inputY.value=h}n.inputX.disabled=!!a,n.inputY.disabled=!!a,n.proportion.disabled=!!a,s.setRatio.call(this)},_module_setInputSize:function(n,s){if(n._onlyPercentage){s==="x"&&n.inputX.value>100&&(n.inputX.value=100);return}if(n.proportion.checked&&n._ratio&&/\d/.test(n.inputX.value)&&/\d/.test(n.inputY.value)){let a=n.inputX.value.replace(/\d+|\./g,"")||n.sizeUnit,u=n.inputY.value.replace(/\d+|\./g,"")||n.sizeUnit;if(a!==u)return;let h=a==="%"?2:0;s==="x"?n.inputY.value=this.util.getNumber(n._ratioY*this.util.getNumber(n.inputX.value,h),h)+u:n.inputX.value=this.util.getNumber(n._ratioX*this.util.getNumber(n.inputY.value,h),h)+a}},_module_setRatio:function(n){let s=n.inputX.value,a=n.inputY.value;if(n.proportion.checked&&/\d+/.test(s)&&/\d+/.test(a)){let u=s.replace(/\d+|\./g,"")||n.sizeUnit,h=a.replace(/\d+|\./g,"")||n.sizeUnit;if(u!==h)n._ratio=!1;else if(!n._ratio){let o=this.util.getNumber(s,0),_=this.util.getNumber(a,0);n._ratio=!0,n._ratioX=o/_,n._ratioY=_/o}}else n._ratio=!1},_module_sizeRevert:function(n){n._onlyPercentage?n.inputX.value=n._origin_w>100?100:n._origin_w:(n.inputX.value=n._origin_w,n.inputY.value=n._origin_h)},_module_saveCurrentSize:function(n){let s=this.plugins.resizing._module_getSizeX.call(this,n),a=this.plugins.resizing._module_getSizeY.call(this,n);n._element.setAttribute("width",s.replace("px","")),n._element.setAttribute("height",a.replace("px","")),n._element.setAttribute("data-size",s+","+a),n._videoRatio&&(n._videoRatio=a)},call_controller_resize:function(n,s){let a=this.context.resizing,u=this.context[s];a._resize_plugin=s;let h=a.resizeContainer,o=a.resizeDiv,_=this.util.getOffset(n,this.context.element.wysiwygFrame),c=a._rotateVertical=/^(90|270)$/.test(Math.abs(n.getAttribute("data-rotate")).toString()),g=c?n.offsetHeight:n.offsetWidth,k=c?n.offsetWidth:n.offsetHeight,M=_.top,N=_.left-this.context.element.wysiwygFrame.scrollLeft;h.style.top=M+"px",h.style.left=N+"px",h.style.width=g+"px",h.style.height=k+"px",o.style.top="0px",o.style.left="0px",o.style.width=g+"px",o.style.height=k+"px";let P=n.getAttribute("data-align")||"basic";P=P==="none"?"basic":P;let l=this.util.getParentElement(n,this.util.isComponent),r=this.util.getParentElement(n,"FIGURE"),d=this.plugins.resizing._module_getSizeX.call(this,u,n,r,l)||"auto",p=u._onlyPercentage&&s==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,u,n,r,l)||"auto");this.util.changeTxt(a.resizeDisplay,this.lang.dialogBox[P]+" ("+d+p+")"),a.resizeButtonGroup.style.display=u._resizing?"":"none";let m=u._resizing&&!u._resizeDotHide&&!u._onlyPercentage?"flex":"none",b=a.resizeHandles;for(let R=0,L=b.length;R<L;R++)b[R].style.display=m;if(u._resizing){let R=a.rotationButtons;R[0].style.display=R[1].style.display=u._rotation?"":"none"}if(u._alignHide)a.alignButton.style.display="none";else{a.alignButton.style.display="";let R=a.alignMenuList;this.util.changeElement(a.alignButton.firstElementChild,a.alignIcons[P]);for(let L=0,F=R.length;L<F;L++)R[L].getAttribute("data-value")===P?this.util.addClass(R[L],"on"):this.util.removeClass(R[L],"on")}let f=a.percentageButtons,v=/%$/.test(n.style.width)&&/%$/.test(l.style.width)?this.util.getNumber(l.style.width,0)/100+"":"";for(let R=0,L=f.length;R<L;R++)f[R].getAttribute("data-value")===v?this.util.addClass(f[R],"active"):this.util.removeClass(f[R],"active");u._captionShow?(a.captionButton.style.display="",this.util.getChildElement(n.parentNode,"figcaption")?(this.util.addClass(a.captionButton,"active"),u._captionChecked=!0):(this.util.removeClass(a.captionButton,"active"),u._captionChecked=!1)):a.captionButton.style.display="none",h.style.display="block";let x={left:0,top:50};this.options.iframe&&(x.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,x.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(a.resizeButton,h,"bottom",x);let C=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(h,a.resizeButton,C.bind(this),n,s),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),a._resize_w=g,a._resize_h=k;let S=(n.getAttribute("origin-size")||"").split(",");return a._origin_w=S[0]||n.naturalWidth,a._origin_h=S[1]||n.naturalHeight,{w:g,h:k,t:M,l:N}},_closeAlignMenu:null,openAlignMenu:function(){let n=this.context.resizing.alignButton;this.util.addClass(n,"on"),this.context.resizing.alignMenu.style.top=n.offsetTop+n.offsetHeight+"px",this.context.resizing.alignMenu.style.left=n.offsetLeft-n.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(n){n.stopPropagation();let s=n.target,a=s.getAttribute("data-command")||s.parentNode.getAttribute("data-command");if(!a)return;let u=s.getAttribute("data-value")||s.parentNode.getAttribute("data-value"),h=this.context.resizing._resize_plugin,o=this.context[h],_=o._element,c=this.plugins[h];if(n.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),a==="onalign"))){switch(a){case"auto":this.plugins.resizing.resetTransform.call(this,_),c.setAutoSize.call(this),this.selectComponent(_,h);break;case"percent":let g=this.plugins.resizing._module_getSizeY.call(this,o);if(this.context.resizing._rotateVertical){let m=_.getAttribute("data-percentage");m&&(g=m.split(",")[1])}this.plugins.resizing.resetTransform.call(this,_),c.setPercentSize.call(this,u*100,this.util.getNumber(g,0)===null||!/%$/.test(g)?"":g),this.selectComponent(_,h);break;case"mirror":let k=_.getAttribute("data-rotate")||"0",M=_.getAttribute("data-rotateX")||"",N=_.getAttribute("data-rotateY")||"";u==="h"&&!this.context.resizing._rotateVertical||u==="v"&&this.context.resizing._rotateVertical?N=N?"":"180":M=M?"":"180",_.setAttribute("data-rotateX",M),_.setAttribute("data-rotateY",N),this.plugins.resizing._setTransForm(_,k,M,N);break;case"rotate":let P=this.context.resizing,l=_.getAttribute("data-rotate")*1+u*1,r=this._w.Math.abs(l)>=360?0:l;_.setAttribute("data-rotate",r),P._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(r).toString()),this.plugins.resizing.setTransformSize.call(this,_,null,null),this.selectComponent(_,h);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":let d=u==="basic"?"none":u;c.setAlign.call(this,d,null,null,null),this.selectComponent(_,h);break;case"caption":let p=!o._captionChecked;if(c.openModify.call(this,!0),o._captionChecked=o.captionCheckEl.checked=p,c.update_image.call(this,!1,!1,!1),p){let m=this.util.getChildElement(o._caption,function(b){return b.nodeType===3});m?this.setRange(m,0,m,m.textContent.length):o._caption.focus(),this.controllersOff()}else this.selectComponent(_,h),c.openModify.call(this,!0);break;case"revert":c.setOriginSize.call(this),this.selectComponent(_,h);break;case"update":c.openModify.call(this),this.controllersOff();break;case"delete":c.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(n){let s=(n.getAttribute("data-size")||n.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,n.style.maxWidth="",n.style.transform="",n.style.transformOrigin="",n.setAttribute("data-rotate",""),n.setAttribute("data-rotateX",""),n.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,s[0]?s[0]:"auto",s[1]?s[1]:"",!0)},setTransformSize:function(n,s,a){let u=n.getAttribute("data-percentage"),h=this.context.resizing._rotateVertical,o=n.getAttribute("data-rotate")*1,_="";if(u&&!h)u=u.split(","),u[0]==="auto"&&u[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,u[0],u[1]);else{let c=this.util.getParentElement(n,"FIGURE"),g=s||n.offsetWidth,k=a||n.offsetHeight,M=(h?k:g)+"px",N=(h?g:k)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,g+"px",k+"px",!0),c.style.width=M,c.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":N,h){let P=g/2+"px "+g/2+"px 0",l=k/2+"px "+k/2+"px 0";_=o===90||o===-270?l:P}}n.style.transformOrigin=_,this.plugins.resizing._setTransForm(n,o.toString(),n.getAttribute("data-rotateX")||"",n.getAttribute("data-rotateY")||""),h?n.style.maxWidth="none":n.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,n)},_setTransForm:function(n,s,a,u){let h=(n.offsetWidth-n.offsetHeight)*(/-/.test(s)?1:-1),o="";if(/[1-9]/.test(s)&&(a||u))switch(o=a?"Y":"X",s){case"90":o=a&&u?"X":u?o:"";break;case"270":h*=-1,o=a&&u?"Y":a?o:"";break;case"-90":o=a&&u?"Y":a?o:"";break;case"-270":h*=-1,o=a&&u?"X":u?o:"";break;default:o=""}s%180===0&&(n.style.maxWidth=""),n.style.transform="rotate("+s+"deg)"+(a?" rotateX("+a+"deg)":"")+(u?" rotateY("+u+"deg)":"")+(o?" translate"+o+"("+h+"px)":"")},setCaptionPosition:function(n){let s=this.util.getChildElement(this.util.getParentElement(n,"FIGURE"),"FIGCAPTION");s&&(s.style.marginTop=(this.context.resizing._rotateVertical?n.offsetWidth-n.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(n){n.stopPropagation(),n.preventDefault();let s=this.context.resizing,a=s._resize_direction=n.target.classList[0];s._resizeClientX=n.clientX,s._resizeClientY=n.clientY,this.context.element.resizeBackground.style.display="block",s.resizeButton.style.display="none",s.resizeDiv.style.float=/l/.test(a)?"right":/r/.test(a)?"left":"none";let u=function(_){if(_.type==="keydown"&&_.keyCode!==27)return;let c=s._isChange;s._isChange=!1,this.removeDocEvent("mousemove",h),this.removeDocEvent("mouseup",u),this.removeDocEvent("keydown",u),_.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,a),c&&this.history.push(!1))}.bind(this),h=this.plugins.resizing.resizing_element.bind(this,s,a,this.context[s._resize_plugin]);this.addDocEvent("mousemove",h),this.addDocEvent("mouseup",u),this.addDocEvent("keydown",u)},resizing_element:function(n,s,a,u){let h=u.clientX,o=u.clientY,_=a._element_w,c=a._element_h,g=a._element_w+(/r/.test(s)?h-n._resizeClientX:n._resizeClientX-h),k=a._element_h+(/b/.test(s)?o-n._resizeClientY:n._resizeClientY-o),M=a._element_h/a._element_w*g;/t/.test(s)&&(n.resizeDiv.style.top=a._element_h-(/h/.test(s)?k:M)+"px"),/l/.test(s)&&(n.resizeDiv.style.left=a._element_w-g+"px"),/r|l/.test(s)&&(n.resizeDiv.style.width=g+"px",_=g),/^(t|b)[^h]$/.test(s)?(n.resizeDiv.style.height=M+"px",c=M):/^(t|b)h$/.test(s)&&(n.resizeDiv.style.height=k+"px",c=k),n._resize_w=_,n._resize_h=c,this.util.changeTxt(n.resizeDisplay,this._w.Math.round(_)+" x "+this._w.Math.round(c)),n._isChange=!0},cancel_controller_resize:function(n){let s=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let a=this._w.Math.round(s?this.context.resizing._resize_h:this.context.resizing._resize_w),u=this._w.Math.round(s?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!s&&!/%$/.test(a)){let _=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(a,0)>_&&(u=this._w.Math.round(u/a*_),a=_)}let h=this.context.resizing._resize_plugin;this.plugins[h].setSize.call(this,a,u,!1,n),s&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,a,u),this.selectComponent(this.context[h]._element,h)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var Pn=Ft((Uo,Hn)=>{"use strict";(function(e,t){typeof Hn=="object"&&typeof Hn.exports=="object"?Hn.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:Uo,function(e,t){let i={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(n){return/IMG/i.test(n)?!/FIGURE/i.test(n.parentElement.nodeName)||!/FIGURE/i.test(n.parentElement.parentElement.nodeName):!0},upload:function(n,s,a,u,h){this.showLoading();let o=this.plugins.fileManager,_=o._xmlHttp=this.util.getXMLHttpRequest();if(_.onreadystatechange=o._callBackUpload.bind(this,_,u,h),_.open("post",n,!0),s!==null&&typeof s=="object"&&this._w.Object.keys(s).length>0)for(let c in s)_.setRequestHeader(c,s[c]);_.send(a)},_callBackUpload:function(n,s,a){if(n.readyState===4)if(n.status===200)try{s(n)}catch(u){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+u.message+'"')}finally{this.closeLoading()}else{this.closeLoading();let u=n.responseText?JSON.parse(n.responseText):n;if(typeof a!="function"||a("",u,this)){let h="[SUNEDITOR.fileManager.upload.serverException] status: "+n.status+", response: "+(u.errorMessage||n.responseText);throw this.functions.noticeOpen(h),Error(h)}}},checkInfo:function(n,s,a,u,h){let o=[];for(let l=0,r=s.length;l<r;l++)o=o.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(s[l]+':not([data-se-embed="true"])')));let _=this.plugins.fileManager,c=this.context[n],g=c._infoList,k=_.setInfo.bind(this);if(o.length===g.length)if(this._componentsInfoReset){for(let l=0,r=o.length;l<r;l++)k(n,o[l],a,null,h);return}else{let l=!1;for(let r=0,d=g.length,p;r<d;r++)if(p=g[r],o.filter(function(m){return p.src===m.src&&p.index.toString()===m.getAttribute("data-index")}).length===0){l=!0;break}if(!l)return}let M=h?this.context.resizing._resize_plugin:"";h&&(this.context.resizing._resize_plugin=n);let N=[],P=[];for(let l=0,r=g.length;l<r;l++)P[l]=g[l].index;for(c.__updateTags=o;o.length>0;){let l=o.shift();!this.util.getParentElement(l,this.util.isMediaComponent)||!_._checkMediaComponent(l)?(N.push(c._infoIndex),u(l)):!l.getAttribute("data-index")||P.indexOf(l.getAttribute("data-index")*1)<0?(N.push(c._infoIndex),l.removeAttribute("data-index"),k(n,l,a,null,h)):N.push(l.getAttribute("data-index")*1)}for(let l=0,r;l<g.length;l++)r=g[l].index,!(N.indexOf(r)>-1)&&(g.splice(l,1),typeof a=="function"&&a(null,r,"delete",null,0,this),l--);h&&(this.context.resizing._resize_plugin=M)},setInfo:function(n,s,a,u,h){let o=h?this.context.resizing._resize_plugin:"";h&&(this.context.resizing._resize_plugin=n);let _=this.plugins[n],c=this.context[n],g=c._infoList,k=s.getAttribute("data-index"),M=null,N="";if(u||(u={name:s.getAttribute("data-file-name")||(typeof s.src=="string"?s.src.split("/").pop():""),size:s.getAttribute("data-file-size")||0}),!k||this._componentsInfoInit)N="create",k=c._infoIndex++,s.setAttribute("data-index",k),s.setAttribute("data-file-name",u.name),s.setAttribute("data-file-size",u.size),M={src:s.src,index:k*1,name:u.name,size:u.size},g.push(M);else{N="update",k*=1;for(let P=0,l=g.length;P<l;P++)if(k===g[P].index){M=g[P];break}M||(k=c._infoIndex++,M={index:k},g.push(M)),M.src=s.src,M.name=s.getAttribute("data-file-name"),M.size=s.getAttribute("data-file-size")*1}if(M.element=s,M.delete=_.destroy.bind(this,s),M.select=function(P){P.scrollIntoView(!0),this._w.setTimeout(_.select.bind(this,P))}.bind(this,s),h){if(!s.getAttribute("origin-size")&&s.naturalWidth&&s.setAttribute("origin-size",s.naturalWidth+","+s.naturalHeight),!s.getAttribute("data-origin")){let P=this.util.getParentElement(s,this.util.isMediaComponent),l=this.util.getParentElement(s,"FIGURE"),r=this.plugins.resizing._module_getSizeX.call(this,c,s,l,P),d=this.plugins.resizing._module_getSizeY.call(this,c,s,l,P);s.setAttribute("data-origin",r+","+d),s.setAttribute("data-size",r+","+d)}if(!s.style.width){let P=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");_.onModifyMode.call(this,s,null),_.applySize.call(this,P[0],P[1])}this.context.resizing._resize_plugin=o}typeof a=="function"&&a(s,k,N,M,--c._uploadFileLength<0?0:c._uploadFileLength,this)},deleteInfo:function(n,s,a){if(s>=0){let u=this.context[n]._infoList;for(let h=0,o=u.length;h<o;h++)if(s===u[h].index){u.splice(h,1),typeof a=="function"&&a(null,s,"delete",null,0,this);return}}},resetInfo:function(n,s){let a=this.context[n];if(typeof s=="function"){let u=a._infoList;for(let h=0,o=u.length;h<o;h++)s(null,u[h].index,"delete",null,0,this)}a._infoList=[],a._infoIndex=0}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var cl=Ft((al,zn)=>{"use strict";(function(e,t){typeof zn=="object"&&typeof zn.exports=="object"?zn.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:al,function(e,t){let i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(n){let s=n.context;s.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let a=n.util.createElement("DIV");a.className="se-file-browser sun-editor-common";let u=n.util.createElement("DIV");u.className="se-file-browser-back";let h=n.util.createElement("DIV");h.className="se-file-browser-inner",h.innerHTML=this.set_browser(n),a.appendChild(u),a.appendChild(h),this._loading=a.querySelector(".se-loading-box"),s.fileBrowser.area=a,s.fileBrowser.header=h.querySelector(".se-file-browser-header"),s.fileBrowser.titleArea=h.querySelector(".se-file-browser-title"),s.fileBrowser.tagArea=h.querySelector(".se-file-browser-tags"),s.fileBrowser.body=h.querySelector(".se-file-browser-body"),s.fileBrowser.list=h.querySelector(".se-file-browser-list"),s.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(n)),s.fileBrowser.list.addEventListener("click",this.onClickFile.bind(n)),h.addEventListener("mousedown",this._onMouseDown_browser.bind(n)),h.addEventListener("click",this._onClick_browser.bind(n)),s.element.relative.appendChild(a),a=null,u=null,h=null},set_browser:function(n){let s=n.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+s.dialogBox.close+'" aria-label="'+s.dialogBox.close+'">'+n.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(n){/se-file-browser-inner/.test(n.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(n){n.stopPropagation(),(/close/.test(n.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(n,s){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(o){/27/.test(o.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);let a=this.context.fileBrowser;a.contextPlugin=n,a.selectorHandler=s;let u=this.context[n],h=u.listClass;this.util.hasClass(a.list,h)||(a.list.className="se-file-browser-list "+h),this.options.popupDisplay==="full"?a.area.style.position="fixed":a.area.style.position="absolute",a.titleArea.textContent=u.title,a.area.style.display="block",this.context[n].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[n].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[n].url,this.context[n].header)},_bindClose:null,close:function(){let n=this.plugins.fileBrowser;n._xmlHttp&&n._xmlHttp.abort(),n._bindClose&&(this._d.removeEventListener("keydown",n._bindClose),n._bindClose=null);let s=this.context.fileBrowser;s.area.style.display="none",s.selectorHandler=null,s.selectedTags=[],s.items=[],s.list.innerHTML=s.tagArea.innerHTML=s.titleArea.textContent="",typeof this.plugins[s.contextPlugin].init=="function"&&this.plugins[s.contextPlugin].init.call(this),s.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(n,s){let a=this.plugins.fileBrowser,u=a._xmlHttp=this.util.getXMLHttpRequest();if(u.onreadystatechange=a._callBackGet.bind(this,u),u.open("get",n,!0),s!==null&&typeof s=="object"&&this._w.Object.keys(s).length>0)for(let h in s)u.setRequestHeader(h,s[h]);u.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(n){if(n.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,n.status===200)try{let s=JSON.parse(n.responseText);s.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,s.result,!0):s.nullMessage&&(this.context.fileBrowser.list.innerHTML=s.nullMessage)}catch(s){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+s.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),n.status!==0){let s=n.responseText?JSON.parse(n.responseText):n,a="[SUNEDITOR.fileBrowser.get.serverException] status: "+n.status+", response: "+(s.errorMessage||n.responseText);throw Error(a)}}},_drawListItem:function(n,s){let a=this.context.fileBrowser,u=this.context[a.contextPlugin],h=[],o=n.length,_=u.columnSize||a.columnSize,c=_<=1?1:Math.round(o/_)||1,g=u.itemTemplateHandler,k="",M='<div class="se-file-item-column">',N=1;for(let P=0,l,r;P<o;P++)if(l=n[P],r=l.tag?typeof l.tag=="string"?l.tag.split(","):l.tag:[],r=l.tag=r.map(function(d){return d.trim()}),M+=g(l),(P+1)%c===0&&N<_&&P+1<o&&(N++,M+='</div><div class="se-file-item-column">'),s&&r.length>0)for(let d=0,p=r.length,m;d<p;d++)m=r[d],m&&h.indexOf(m)===-1&&(h.push(m),k+='<a title="'+m+'" aria-label="'+m+'">'+m+"</a>");M+="</div>",a.list.innerHTML=M,s&&(a.items=n,a.tagArea.innerHTML=k,a.tagElements=a.tagArea.querySelectorAll("A"))},onClickTag:function(n){let s=n.target;if(!this.util.isAnchor(s))return;let a=s.textContent,u=this.plugins.fileBrowser,h=this.context.fileBrowser,o=h.tagArea.querySelector('a[title="'+a+'"]'),_=h.selectedTags,c=_.indexOf(a);c>-1?(_.splice(c,1),this.util.removeClass(o,"on")):(_.push(a),this.util.addClass(o,"on")),u._drawListItem.call(this,_.length===0?h.items:h.items.filter(function(g){return g.tag.some(function(k){return _.indexOf(k)>-1})}),!1)},onClickFile:function(n){n.preventDefault(),n.stopPropagation();let s=this.context.fileBrowser,a=s.list,u=n.target,h=null;if(u===a)return;for(;a!==u.parentNode&&(h=u.getAttribute("data-command"),!h);)u=u.parentNode;if(!h)return;(s.selectorHandler||this.context[s.contextPlugin].selectorHandler)(u,u.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var Ni=e=>{let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length;for(let s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*n));return t};var Mt=(()=>{class e{constructor(){this.componentId=ne(Ni(10)),this.isReadonly=ne(!1),this.isReadonly$=Ke(this.isReadonly),this.componentTabIndex=ne(0),this.componentClass=ne(""),this.componentLabel=ne(""),this.componentPlaceholder=ne(""),this.errorMap=ne([]),this._errorMessagesByKey=Ce(()=>new Map((this.errorMap()??[]).map(i=>[i.error,i.message]))),this.successMessage=ne(""),this.helpMessage=ne(""),this.formControl=ne(),this.componentBlur=ut(),this._value=he(null),this._isRequired=he(!1),this._isDisabled=he(!1),this._isTouched=he(!1),this._isValid=he(!1),this._showSuccess=Ce(()=>this.successMessage()&&this._isValid()&&this._isTouched()&&!this._isDisabled()),this._showErrors=Ce(()=>this.errorMap()?.length>0&&!this._isValid()&&this._isTouched()&&!this._isDisabled()),this._currentErrorMessage=he(""),this._currentErrorMessageExtraData=he({}),this._ngControl=he(null),this._injector=he(Te(us)),this.getIsRequiredControl=Ce(()=>!!this._ngControl()?.control?._rawValidators?.find(i=>i.name==="required")),this.destroyRef=Te(At),this.onChangeIsReadonly=this.isReadonly$.pipe(He()).subscribe(i=>{this._isDisabled.set(i||this._ngControl()?.disabled||!1)}),Ke(this.formControl).pipe(He(this.destroyRef)).subscribe(i=>{i&&this.setupFormControl()})}registerOnChange(i){this.onChange=i}writeValue(i){this._value.set(i)}registerOnTouched(i){this.onTouched=()=>{this._isTouched.set(!0),i()}}onChangedEventHandler(i){let n=i.target;this.onChangedHandler(n.value)}onChangedHandler(i){this._value.set(i),this.onChange&&this.onChange(i),this.onTouched&&this.onTouched()}onBlurHandler(){this.onTouched&&this.onTouched(),this.componentBlur.emit()}setupFormControl(){this._statusChange$&&(this._statusChange$.unsubscribe(),this._statusChange$=void 0),this._ngControl.set(this._injector().get(ws)),this._statusChange$=this._ngControl()?.control?.statusChanges.pipe(He(this.destroyRef)).subscribe(()=>{this.checkFormErrors()}),this._isTouched.set(this._ngControl()?.touched??!1),this._isDisabled.set(this.isReadonly()||this._ngControl()?.disabled||!1),this.checkFormErrors()}setDisabledState(i){this._isDisabled.set(i)}checkFormErrors(){let i=this._ngControl()?.control;this._isValid.set(i?.valid??!1),this._isTouched.set(!i?.pristine);let n=i?.errors;this._isRequired.set(n?.[me.required.name]);let s="",a="",u=!0;for(let[h,o]of Object.entries(n??{})){let _=this._errorMessagesByKey().get(h);_&&(s=h,a=_,u=o)}this._currentErrorMessage.set(a),this._currentErrorMessageExtraData.set({[s]:u})}ngAfterViewInit(){this.setupFormControl()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=hs({type:e,inputs:{componentId:[1,"componentId"],isReadonly:[1,"isReadonly"],componentTabIndex:[1,"componentTabIndex"],componentClass:[1,"componentClass"],componentLabel:[1,"componentLabel"],componentPlaceholder:[1,"componentPlaceholder"],errorMap:[1,"errorMap"],successMessage:[1,"successMessage"],helpMessage:[1,"helpMessage"],formControl:[1,"formControl"]},outputs:{componentBlur:"componentBlur"}})}}return e})();var ml=["optionListContainer"],fl=(e,t,i,n)=>({"max-height":e,"--option-list-width":t,"--option-list-top":i,"--option-list-bottom":n});function gl(e,t){if(e&1){let i=Re();H(0,"li",4),re("mousedown",function(s){let a=be(i).$implicit,u=ae();return s.stopImmediatePropagation(),_e(u.onSelectItem(a))}),H(1,"input",5,1),re("blur",function(s){be(i);let a=ae();return _e(a.onBlurHandler(s))}),U(),H(3,"label",6),J(4),ee(5,"transloco"),U()()}if(e&2){let i=t.$implicit,n=t.$index,s=t.$count,a=ae();Ue("m-0",n===s-1)("selected",a.selectionMode()==="single"?a.getSelected(i):null),ie("id","item-"+n),I(),Ue("d-none",a.selectionMode()==="single"||!(i!=null&&i.value)),ie("checked",a.getSelected(i))("disabled",!0)("id",n+"-"+i.value+"-checkbox")("name",n+"-"+i.value+"-checkbox")("ngClass",a.componentClass())("tabIndex",a.componentTabIndex())("value",a.getSelected(i)),I(2),Ue("ms-3",a.selectionMode()==="multiple"&&(i==null?null:i.value)),ie("for",n+"-"+i.value+"-checkbox"),I(),se(" ",a.translateValue()?ce(5,18,i.label):i.label," ")}}var Rt=function(e){return e.SELECT="select",e.AUTOCOMPLETE="autocomplete",e}(Rt||{}),Kt=(()=>{class e{constructor(){this.logLevel=Te(Cs,{optional:!0}),this.selectionMode=ne("single"),this.optionListMaxHeight=ne("201px"),this.selectOptions=ne([]),this.selectButtonRef=ne.required(),this._value=ne(),this._isDisabled=ne(),this.componentClass=ne(""),this.componentLabel=ne(""),this.componentTabIndex=ne(0),this.translateValue=ne(!1),this.nullOption=ne(!0),this.elementWidth=he("0px"),this.elementTop=he("0px"),this.elementBottom=he("0px"),this.scrollBehaviorOnOpen=ne("smooth"),this.changedHandler=ut(),this.blurHandler=ut(),this.optionListContainer=Ee("optionListContainer"),this.destroyRef=Te(At),this.parentType=ne.required(),this.parentID=ne(""),this.searchString=he(""),this.searchResetTimer=null,this.selectButtonRef$=Ke(this.selectButtonRef).pipe(He(this.destroyRef)).subscribe(()=>{this.getOptionListWidth(),this.getOptionListTop(),this.getScrollParent(this.selectButtonRef())?.addEventListener("scroll",()=>{this.getOptionListWidth(),this.getOptionListTop()})}),this.selectOptionsList=Ce(()=>this.nullOption()&&this.selectionMode()==="single"?[{label:"",value:null},...this.selectOptions()]:[...this.selectOptions()]),this.onKeyDown=null,this.selectedElementIndex=Ce(()=>this.selectOptionsList()?.findIndex(i=>i?.value===this._value())??0),this.optionList$=yt(()=>{let i=this.optionListContainer();if(i&&this.parentType()===Rt.SELECT){i?.nativeElement.focus();let u=i?.nativeElement;if(u){let o=u?.children[0]?.children.item(this.selectedElementIndex());o&&setTimeout(()=>{o.scrollIntoView({behavior:this.scrollBehaviorOnOpen()})},0)}}let s=i?.nativeElement?.children[0]?.children??[],a=this.selectedElementIndex();s?.[a]?.classList.add("selected"),this.onKeyDown&&this.onKeyDown.unsubscribe(),this.onKeyDown=Ci(document,"keydown",{capture:!0}).pipe(He(this.destroyRef)).subscribe(u=>{switch(u.key){case"ArrowDown":{this.parentType()===Rt.AUTOCOMPLETE&&i?.nativeElement.focus(),a!==this.selectedElementIndex()&&s[a]?.classList.remove("selected"),a===s.length-1?a=s.length-1:a+=1,a===0&&(u.preventDefault(),i?.nativeElement?.scroll(0,0));let h=i?.nativeElement?.getBoundingClientRect()?.bottom??0,o=i?.nativeElement?.children?.[0]?.children?.item(a)?.getBoundingClientRect()?.height,_=i?.nativeElement?.children?.[0]?.children?.item(a)?.getBoundingClientRect()?.bottom;h>(_??0)+(o??0)&&u.preventDefault(),s[a]?.classList.add("selected"),(i?.nativeElement?.scrollTop??0)>=(i?.nativeElement?.scrollHeight??0)-(i?.nativeElement?.offsetHeight??0)&&u.preventDefault();break}case"ArrowUp":{this.parentType()===Rt.AUTOCOMPLETE&&i?.nativeElement.focus(),a!==this.selectedElementIndex()&&s[a]?.classList.remove("selected"),a!==0&&(a-=1);let h=i?.nativeElement?.getBoundingClientRect()?.top??0,o=i?.nativeElement?.children?.[0]?.children?.item(a)?.getBoundingClientRect()?.height,_=i?.nativeElement?.children?.[0]?.children?.item(a)?.getBoundingClientRect()?.top;h<(_??0)-(o??0)&&u.preventDefault(),s[a]?.classList.add("selected"),i?.nativeElement?.scrollTop||u.preventDefault();break}case"Enter":{this.onSelectItem(this.selectOptionsList()[a]);break}default:{if((u?.key?.length===1||u?.key==="Backspace")&&this.parentType()===Rt.AUTOCOMPLETE&&document.activeElement?.id===i?.nativeElement?.id)a=0,document.getElementById(this.parentID())?.focus(),document.getElementById(this.parentID())?.click();else if(u?.key?.length===1&&this.parentType()===Rt.SELECT){let h=u.key;a=this.handleSearch(h,s,a),u.preventDefault()}break}}})})}handleSearch(i,n,s){this.searchResetTimer&&clearTimeout(this.searchResetTimer),this.searchString.update(h=>h+i),this.searchResetTimer=setTimeout(()=>{this.searchString.set(""),this.searchResetTimer=null},500);let a=this.searchString().toLowerCase(),u=this.selectOptionsList().findIndex(h=>h.label.toLowerCase().includes(a));return u!==-1&&u!==s?(n[s]?.classList.remove("selected"),n[u]?.classList.add("selected"),n[u]?.scrollIntoView({behavior:this.scrollBehaviorOnOpen()}),u):s}changePosition(){this.getOptionListWidth(),this.getOptionListTop()}isScrollable(i){if(!i)return!1;let n=!1;try{let s=i.scrollHeight>i.clientHeight,u=window.getComputedStyle(i).overflowY.includes("hidden");n=s&&!u}catch(s){this.logLevel==="verbose"&&console.error("captured error isScrollable",s)}return n}getScrollParent(i){return!i||i===document.body||!(i instanceof Element)?document.body:this.isScrollable(i)?i:this.getScrollParent(i.parentNode)}onSelectItem(i){if(this.selectionMode()==="single")this.changedHandler.emit(i?.value??null);else{let n=this._value();!Array.isArray(n)&&n&&(n=[n]);let s=n;s?s.some(a=>a===i?.value)?this.changedHandler.emit(s.filter(a=>a!==i?.value)):i?this.changedHandler.emit([...s,i.value]):this.changedHandler.emit([...s]):i?.value?this.changedHandler.emit([i.value]):this.changedHandler.emit(null)}this.getOptionListTop()}getSelected(i){return this.selectionMode()==="single"||!Array.isArray(this._value())?this._value()===i.value:this._value()?.some(n=>n===i?.value)}onBlurHandler(i){this.blurHandler.emit(i)}getOptionListWidth(){this.elementWidth.set(`${this.selectButtonRef()?.offsetWidth}px`)}getOptionListTop(){let i=this.optionListContainer()?.nativeElement;setTimeout(()=>{let n=window.innerHeight-(i?.getBoundingClientRect()?.height??0)-(this.selectButtonRef()?.getBoundingClientRect()?.top??0)-(this.selectButtonRef()?.getBoundingClientRect()?.height??0),s="unset",a="unset",u=n>=0;u?s=`${(this.selectButtonRef()?.getBoundingClientRect()?.top??0)+(this.selectButtonRef()?.getBoundingClientRect()?.height??0)}px`:a=`${window.innerHeight-(this.selectButtonRef()?.getBoundingClientRect()?.bottom??0)+(this.selectButtonRef()?.getBoundingClientRect()?.height??0)}px`,i?.classList.toggle("option-list-top",!u),this.elementTop.set(s),this.elementBottom.set(a)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["quang-option-list"]],viewQuery:function(n,s){n&1&&Le(s.optionListContainer,ml,5),n&2&&Ve()},hostBindings:function(n,s){n&1&&re("scroll",function(){return s.changePosition()},!1,ds)},inputs:{selectionMode:[1,"selectionMode"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],selectButtonRef:[1,"selectButtonRef"],_value:[1,"_value"],_isDisabled:[1,"_isDisabled"],componentClass:[1,"componentClass"],componentLabel:[1,"componentLabel"],componentTabIndex:[1,"componentTabIndex"],translateValue:[1,"translateValue"],nullOption:[1,"nullOption"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],parentType:[1,"parentType"],parentID:[1,"parentID"]},outputs:{changedHandler:"changedHandler",blurHandler:"blurHandler"},decls:5,vars:6,consts:[["optionListContainer",""],["inputCheckbox",""],["id","optionList","tabindex","1",1,"option-list",3,"blur","ngStyle"],[1,"item",3,"m-0","selected","id"],[1,"item",3,"mousedown","id"],["type","checkbox",1,"form-check-input","opacity-100",3,"blur","checked","disabled","id","name","ngClass","tabIndex","value"],[1,"form-check-label","checkbox-label","w-100","opacity-100",3,"for"]],template:function(n,s){if(n&1){let a=Re();H(0,"div",2,0),re("blur",function(h){return be(a),_e(s.onBlurHandler(h))}),H(2,"ul"),Pt(3,gl,6,20,"li",3,Ht),U()()}n&2&&(ie("ngStyle",ys(1,fl,s.optionListMaxHeight(),s.elementWidth(),s.elementTop(),s.elementBottom())),I(3),zt(s.selectOptionsList()))},dependencies:[Li,tt,Ie],styles:["[_nghost-%COMP%]{display:block;z-index:999}.option-list[_ngcontent-%COMP%]{--option-list-width: 100%;--option-list-top: 10px;--option-list-bottom: unset;border:1px solid var(--bs-border-color);border-top:0;border-radius:var(--bs-border-radius);overflow:auto;position:fixed;width:var(--option-list-width);top:var(--option-list-top);bottom:var(--option-list-bottom);z-index:999}.option-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.option-list[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);filter:brightness(95%)}.option-list.option-list-top[_ngcontent-%COMP%]{border-top:1px solid var(--bs-border-color);border-bottom:0}.option-list[_ngcontent-%COMP%]:focus-visible{outline:none}.item[_ngcontent-%COMP%]{display:flex;background-color:var(--bs-body-bg);z-index:1;padding:0 .5rem;min-height:2.5rem}.item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:.5rem 0}.item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--bs-body-bg);filter:brightness(95%)}.item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:hover{cursor:pointer}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{align-self:center}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{border-color:var(--bs-border-color);box-shadow:unset}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--bs-primary);border-color:var(--bs-border-color)}"],changeDetection:0})}}return e})();var bl=["optionList"],_l=["selectInput"],yl=["chipContainer"],vl=["autocompleteContainer"],Cl=e=>({"--chip-max-length":e}),wl=e=>({"m-0":e});function xl(e,t){if(e&1&&(H(0,"label",5),J(1),ee(2,"transloco"),H(3,"span",12),J(4,"*"),U()()),e&2){let i=ae();ie("htmlFor",i.componentId()),I(),se(" ",ce(2,3,i.componentLabel())," "),I(2),ie("hidden",!i._isRequired())}}function Tl(e,t){if(e&1){let i=Re();H(0,"button",16),re("click",function(){be(i);let s=ae(2).$implicit,a=ae(2);return _e(a.deleteChip(s))}),bt(),H(1,"svg",17),ve(2,"path",18),U()()}if(e&2){let i=ae(2).$index;ie("tabIndex",i+1)}}function Sl(e,t){if(e&1&&(H(0,"div",13)(1,"p",14),J(2),U(),ye(3,Tl,3,1,"button",15),U()),e&2){let i=ae().$implicit,n=ae(2);ie("quangTooltip",n.chipMaxLength()?n.getDescription(i):""),I(),ie("ngClass",xe(4,wl,n.isReadonly()||n._isDisabled())),I(),se(" ",n.getDescription(i)," "),I(),Ae(!n.isReadonly()&&!n._isDisabled()?3:-1)}}function kl(e,t){if(e&1&&ye(0,Sl,4,6,"div",13),e&2){let i=t.$implicit,n=ae(2);Ae(n.getDescription(i)?0:-1)}}function El(e,t){if(e&1&&Pt(0,kl,1,1,null,null,Ht),e&2){let i=ae();zt(i._chipList())}}function Ll(e,t){if(e&1){let i=Re();H(0,"quang-option-list",19,3),re("blurHandler",function(s){be(i);let a=ae();return _e(a.onBlurOptionList(s))})("changedHandler",function(s){be(i);let a=ae();return _e(a.onValueChange(s))}),U()}if(e&2){let i=ae(),n=_t(1);ie("_isDisabled",i._isDisabled())("_value",i._value())("componentClass",i.componentClass())("componentLabel",i.componentLabel())("componentTabIndex",i.componentTabIndex())("nullOption",!1)("optionListMaxHeight",i.optionListMaxHeight())("parentID",i.componentId())("parentType",i.ParentType)("scrollBehaviorOnOpen",i.scrollBehaviorOnOpen())("selectButtonRef",n)("selectOptions",i._filteredOptions())("translateValue",i.translateValue())}}function Ml(e,t){if(e&1&&(H(0,"small",11),J(1),ee(2,"transloco"),U()),e&2){let i=ae();ie("hidden",i._showSuccess()||i._showErrors()),I(),se(" ",ce(2,2,i.helpMessage())," ")}}var Wn=(()=>{class e extends Mt{constructor(){super(),this.syncFormWithText=ne(!1),this.optionListMaxHeight=ne("200px"),this.selectOptions=ne.required(),this.translateValue=ne(!0),this.scrollBehaviorOnOpen=ne("smooth"),this.emitOnly=ne(!1),this.multiple=ne(!1),this.chipMaxLength=ne(0),this.multiSelectDisplayMode=ne("vertical"),this.optionList=Ee("optionList"),this._showOptions=he(null),this._inputValue=he(""),this._optionHideTimeout=he(void 0),this._chipList=he([]),this._selectedOptions=he([]),this.inputValue$=new ns,this.selectOptionsChange=Ke(this.selectOptions).pipe(He()).subscribe(()=>{this._inputValue()||this.setInputValue()}),this._filteredOptions=Ce(()=>{let i=this._inputValue();return this.multiple()?this.filterOptions(i).filter(n=>!this._chipList().some(s=>s===n.value)):i?.length?this.filterOptions(i):this.selectOptions()}),this.selectedOption=ut(),this.searchTextChange=ut(),this.searchTextDebounce=ne(300),this.internalFilterOptions=ne(!0),this.ParentType=Rt.AUTOCOMPLETE,this.formValueChange$=void 0,this.selectInput=Ee("selectInput"),this.chipContainer=Ee("chipContainer"),this.autocompleteContainer=Ee("autocompleteContainer"),this.inputHeight=he(0),this.onChangeSelectInput=yt(()=>{let i=this.selectInput();i&&(this.inputHeight.set(i?.nativeElement?.getBoundingClientRect().height),i.nativeElement.addEventListener("keydown",n=>{if(this.multiple()&&this._chipList().length>0&&!this._inputValue()?.length&&n.key==="Backspace"){n.preventDefault();let s=this.chipContainer()?.nativeElement;if(s){let a=s.querySelectorAll(".chip button.btn-chip");if(a.length>0){let u=a[a.length-1];u.focus(),u.addEventListener("keydown",h=>{h.key==="Backspace"?(h.preventDefault(),this.deleteChip(this._chipList()[this._chipList().length-1]),i.nativeElement.focus()):h.preventDefault()})}}}}))}),this.inputValue$.pipe(He(),wi(this.searchTextDebounce()),as()).subscribe(i=>{i!==this._inputValue()&&(this.searchTextChange.emit(i?.toString()||""),this.syncFormWithText()&&this.onValueChange(i,!1)),this._inputValue.set(i?.toString()||""),!this._inputValue()?.length&&!this.emitOnly()&&!this.multiple()&&this._ngControl()?.control?.patchValue(null)}),Ke(this._showOptions).pipe(He()).subscribe(i=>{!i&&i!==null&&this.checkInputValue()})}setupFormControl(){super.setupFormControl();let i=this._ngControl()?.control;this.formValueChange$&&(this.formValueChange$.unsubscribe(),this.formValueChange$=void 0),i&&(this.formValueChange$=i.valueChanges.pipe(He(this.destroyRef)).subscribe(n=>{!this.syncFormWithText()&&!n&&this._inputValue.set("")}))}showOptionVisibility(){this._optionHideTimeout()&&(clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(null)),this._showOptions.set(!0)}hideOptionVisibility(i=!1){this._optionHideTimeout()&&clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(setTimeout(()=>{this._showOptions.set(!1)},i?0:50))}onChangeInput(i){this.showOptionVisibility(),this.inputValue$.next(i.target?.value)}filterOptions(i){let n=this.selectOptions();return this.internalFilterOptions()?n.filter(s=>s.label.toLowerCase().includes(i.toLowerCase())):n}onChangedHandler(i){super.onChangedHandler(i),this.setInputValue()}onValueChange(i,n=!0){this.multiple()?(this.onSelectValue(i),this.onChangedHandler(this._chipList()),this._chipList().some(s=>s===i)&&this.inputValue$.next("")):(this.onChangedHandler(i),n&&this.hideOptionVisibility(),this.selectedOption.emit(i))}checkInputValue(){let i=this.selectOptions().find(n=>n.label.toLowerCase()===this._inputValue()?.toLowerCase());if(!this.multiple()){if(i?.value===this._value())return;i?this.onChangedHandler(i.value??""):this.syncFormWithText()||this.onChangedHandler("")}}writeValue(i){super.writeValue(i),this.setInputValue(!0),Array.isArray(i)&&i.forEach(n=>{this.onSelectValue(n)})}onBlurInput(i){i?.relatedTarget?.id!==this.optionList()?.optionListContainer()?.nativeElement?.id&&this.onBlurHandler()}onBlurHandler(){setTimeout(()=>{this.hideOptionVisibility(),!this._inputValue()?.length&&!this.emitOnly()&&!this.multiple()&&this._ngControl()?.control?.patchValue(null),super.onBlurHandler()},100)}onBlurOptionList(i){i&&this.hideOptionVisibility()}setInputValue(i=!1){this._inputValue.set(this.selectOptions().find(n=>n.value===this._value())?.label??(i?"":this._inputValue())),this.syncFormWithText()||this.inputValue$.next(this._inputValue()??"")}getDescription(i){let n=this.selectOptions().find(s=>s.value===i);return n?n.label.toString():""}onSelectValue(i){let n=this.selectOptions().find(s=>s.value===i);n&&!this._chipList().some(s=>s===n?.value)&&(this.createChipList(n),this._selectedOptions.update(s=>[...s,n]))}deleteChip(i){let n=i?.toString(),s=this._chipList()?.findIndex(a=>a.toString()===n);if(s>=0){let a=this._chipList();Array.isArray(a)&&a.length>0&&(this._chipList.update(u=>u.filter((h,o)=>o!==s)),this.onChangedHandler(this._chipList()))}}createChipList(i){i&&this._chipList.update(n=>[...n,i.value])}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["quang-autocomplete"]],viewQuery:function(n,s){n&1&&(Le(s.optionList,bl,5),Le(s.selectInput,_l,5),Le(s.chipContainer,yl,5),Le(s.autocompleteContainer,vl,5)),n&2&&Ve(4)},inputs:{syncFormWithText:[1,"syncFormWithText"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],translateValue:[1,"translateValue"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],emitOnly:[1,"emitOnly"],multiple:[1,"multiple"],chipMaxLength:[1,"chipMaxLength"],multiSelectDisplayMode:[1,"multiSelectDisplayMode"],searchTextDebounce:[1,"searchTextDebounce"],internalFilterOptions:[1,"internalFilterOptions"]},outputs:{selectedOption:"selectedOption",searchTextChange:"searchTextChange"},features:[wt([{provide:Tt,useExisting:vt(()=>e),multi:!0},{provide:Kt,multi:!1}]),Ct],decls:17,vars:30,consts:[["autocompleteContainer",""],["chipContainer",""],["selectInput",""],["optionList",""],[1,"autocomplete-container",3,"ngStyle"],[1,"form-label",3,"htmlFor"],[1,"container-wrap",3,"ngClass"],["autocomplete","off","type","text",3,"blur","input","mousedown","disabled","id","ngClass","placeholder","tabIndex","value"],["selectionMode","single",3,"_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentID","parentType","scrollBehaviorOnOpen","selectButtonRef","selectOptions","translateValue"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"],[1,"chip","chip-hover",3,"quangTooltip"],[3,"ngClass"],["type","button",1,"btn","btn-chip",3,"tabIndex"],["type","button",1,"btn","btn-chip",3,"click","tabIndex"],["fill","currentColor","height","24","viewBox","0 0 512 512","width","24","xmlns","http://www.w3.org/2000/svg",1,"ionicon"],["d","M368 368L144 144M368 144L144 368","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","32"],["selectionMode","single",3,"blurHandler","changedHandler","_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentID","parentType","scrollBehaviorOnOpen","selectButtonRef","selectOptions","translateValue"]],template:function(n,s){if(n&1){let a=Re();H(0,"div",4,0),ye(2,xl,5,5,"label",5),H(3,"div",6,1),ye(5,El,2,0),H(6,"input",7,2),ee(8,"transloco"),re("blur",function(h){return be(a),_e(s.onBlurInput(h))})("input",function(h){return be(a),_e(s.onChangeInput(h))})("mousedown",function(){return be(a),_e(s.showOptionVisibility())}),U()(),ye(9,Ll,2,13,"quang-option-list",8),H(10,"div",9),J(11),ee(12,"transloco"),U(),H(13,"div",10),J(14),ee(15,"transloco"),U(),ye(16,Ml,3,4,"small",11),U()}n&2&&(ie("ngStyle",xe(28,Cl,s.chipMaxLength()?s.chipMaxLength()+"ch":"none")),I(2),Ae(s.componentLabel()?2:-1),I(),ie("ngClass",s.multiSelectDisplayMode()==="horizontal"?"horizontal form-control":""),I(2),Ae(s.multiple()&&s._chipList().length>0?5:-1),I(),Ue("form-control",s.multiSelectDisplayMode()!=="horizontal")("is-invalid",s._showErrors())("is-valid",s._showSuccess()),ie("disabled",s._isDisabled()||s.isReadonly())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ce(8,21,s.componentPlaceholder()))("tabIndex",s.componentTabIndex())("value",s._inputValue()),dt("required",s.getIsRequiredControl()),I(3),Ae(s._showOptions()?9:-1),I(2),se(" ",ce(12,23,s.successMessage())," "),I(3),se(" ",we(15,25,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),I(2),Ae(s.helpMessage()?16:-1))},dependencies:[Ie,tt,Kt,Li,Ts],styles:["[_nghost-%COMP%]{display:block;--chip-max-length: none}.autocomplete-container[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative}.chip[_ngcontent-%COMP%]:has(.btn-chip:disabled):hover{filter:unset;cursor:unset}.container-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.container-wrap.horizontal[_ngcontent-%COMP%]{display:flex}.container-wrap.horizontal[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{max-width:70%;margin-bottom:0;margin-left:.5rem;flex-wrap:nowrap;white-space:nowrap;overflow-x:auto;position:absolute;align-items:center}.container-wrap.horizontal[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{white-space:nowrap}.container-wrap.horizontal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:30%;flex:1 1 0;width:auto;border:none}.container-wrap.horizontal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}.chip[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.25rem .5rem;border-radius:16px;color:var(--bs-btn-color);background-color:rgba(var(--bs-primary-rgb),.1);border-width:1px;border-style:solid;border-color:var(--bs-primary-border-subtle);height:2rem}.chip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;max-width:var(--chip-max-length);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]{text-align:end;padding:0;min-width:unset}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]:hover{opacity:80%}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]:active{border-color:transparent}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--bs-primary);vertical-align:sub}.chip[_ngcontent-%COMP%]:has(.btn-chip:focus-visible){border-width:2px;filter:brightness(80%)}"],changeDetection:0})}}return e})();var Dl=["testComponent"],Il=e=>({enabled:e}),Nl=e=>({required:e}),Bl=e=>({readonly:e}),Ol=e=>({value:e}),Fl=e=>({valid:e});function Al(e,t){if(e&1){let i=Re();H(0,"div",5)(1,"quang-autocomplete",11,0),re("searchTextChange",function(s){be(i);let a=ae();return _e(a.changeTextTest(s))}),U(),ve(3,"quang-autocomplete",12),H(4,"quang-autocomplete",13),re("searchTextChange",function(s){be(i);let a=ae();return _e(a.changeTextTestFixed(s))}),U(),ve(5,"quang-autocomplete",14)(6,"quang-autocomplete",15)(7,"quang-autocomplete",16),U()}if(e&2){let i=ae();I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.stringListFiltered()),I(2),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.stringListFiltered())("syncFormWithText",!0),I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.textEqualValueStringListFiltered())("syncFormWithText",!0),I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.textEqualValueStringListFiltered())("syncFormWithText",!0),I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("multiple",!0)("searchTextDebounce",500)("selectOptions",i.stringListFiltered())("syncFormWithText",!0),I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("multiple",!0)("searchTextDebounce",500)("selectOptions",i.stringListFiltered())("syncFormWithText",!0)}}function Rl(e,t){if(e&1&&(H(0,"div",8)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let i=ae();I(2),se(" ",we(4,4,"form.label.formValue",xe(10,Ol,ce(3,2,i.testForm.value)))," "),I(4),se(" ",we(7,7,"form.label.formValidity",xe(12,Fl,i.testForm.valid))," ")}}var Es=(()=>{class e{constructor(){this.quangTranslationService=Te(Ge),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/autocomplete.md":"./assets/docs/autocomplete.it.md"),this.QuangAutocompleteComponent=Wn,this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.stringList=[{code:"required",description:"This field is required."},{code:"minLength",description:"This field must be at least 10 characters long."},{code:"maxLength",description:"This field must be at most 30 characters long."},{code:"pattern",description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:"email",description:"This field must be a valid email address."},{code:"min",description:"This field must be greater than or equal to 10."},{code:"max",description:"This field must be less than or equal to 30."},{code:"unique",description:"This field must be unique."},{code:"custom",description:"This field does not meet the custom validation rule."},{code:"async",description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.textEqualValueStringList=he(this.stringList.map(i=>({label:i.label,value:i.label}))),this.textEqualValueStringListFiltered=he(this.stringList.map(i=>({label:i.label,value:i.label}))),this.fixedStringList=he([...this.stringList]),this.stringListFiltered=he([...this.stringList]),this.numberList=[{code:1,description:"This field is required."},{code:2,description:"This field must be at least 10 characters long."},{code:3,description:"This field must be at most 30 characters long."},{code:4,description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:5,description:"This field must be a valid email address."},{code:6,description:"This field must be greater than or equal to 10."},{code:7,description:"This field must be less than or equal to 30."},{code:8,description:"This field must be unique."},{code:9,description:"This field does not meet the custom validation rule."},{code:10,description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.formBuilder=Te(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput1:this.formBuilder.control(null,[me.required]),testInput2:this.formBuilder.control("",[me.required]),testInput3:this.formBuilder.control(null,[me.required]),testInput4:this.formBuilder.control(null,[me.required]),testInputMultiple:this.formBuilder.control([],[me.required]),testInputMultipleHorizontal:this.formBuilder.control([],[me.required])}),this.showInput=he(!0),this.destroyRef=Te(At),setTimeout(()=>{this.testForm.patchValue({testInput1:"required",testInput2:"minLength"})},2e3)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput1.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput1.removeValidators(me.required):this.testForm.controls.testInput1.addValidators(me.required),this.testForm.controls.testInput1.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput1:this.formBuilder.control(this.stringList[2].value,[me.required]),testInput2:this.formBuilder.control(this.stringList[2].value,[me.required]),testInput3:this.formBuilder.control(this.stringList[2].value,[me.required]),testInput4:this.formBuilder.control(this.stringList[2].value,[me.required]),testInputMultiple:this.formBuilder.control([1,2],[me.required]),testInputMultipleHorizontal:this.formBuilder.control([1,2],[me.required])})}setFormValues(){this.testForm.patchValue({testInput1:"min",testInputMultiple:[3,4]})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0)}setReadonly(){this.isReadonly.set(!this.isReadonly())}changeTextTest(i){setTimeout(()=>{this.stringListFiltered.set(this.stringList.filter(n=>n.label.toLowerCase().includes(i.toLowerCase())))},500)}changeTextTestFixed(i){setTimeout(()=>{this.textEqualValueStringListFiltered.set(this.fixedStringList().filter(n=>n.label.toLowerCase().includes(i.toLowerCase())).map(n=>({label:n.label,value:n.label})))},500)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-autocomplete-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,Dl,5),n&2&&Ve()},decls:33,vars:39,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.autocompleteAsync","formControlName","testInput1","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",1,"col-6",3,"searchTextChange","errorMap","isReadonly","searchTextDebounce","selectOptions"],["componentLabel","form.label.autocompleteNotAsync","componentPlaceholder","form.placeholder.autocompleteNotAsync","formControlName","testInput2","multiSelectDisplayMode","horizontal","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteSuggestionAsync","formControlName","testInput3","successMessage","form.label.success",1,"col-6",3,"searchTextChange","errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteSuggestionNotAsync","formControlName","testInput4","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteMultiple","componentPlaceholder","form.placeholder.autocompleteMultiple","formControlName","testInputMultiple","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","multiple","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteMultipleHorizontal","componentPlaceholder","form.placeholder.autocompleteMultipleHorizontal","formControlName","testInputMultipleHorizontal","multiSelectDisplayMode","horizontal","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","multiple","searchTextDebounce","selectOptions","syncFormWithText"]],template:function(n,s){n&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1)(4,"div",2),ve(5,"div",3),H(6,"div",4),ye(7,Al,8,31,"div",5),H(8,"div",6)(9,"button",7),re("click",function(){return s.changeFormEnabled()}),J(10),ee(11,"transloco"),U(),H(12,"button",7),re("click",function(){return s.changeFormInputRequired()}),J(13),ee(14,"transloco"),U(),H(15,"button",7),re("click",function(){return s.changeVisibility()}),J(16),ee(17,"transloco"),U(),H(18,"button",7),re("click",function(){return s.recreateForm()}),J(19),ee(20,"transloco"),U(),H(21,"button",7),re("click",function(){return s.setFormValues()}),J(22),ee(23,"transloco"),U(),H(24,"button",7),re("click",function(){return s.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),U(),H(27,"button",7),re("click",function(){return s.setReadonly()}),J(28),ee(29,"transloco"),U()()()()(),ye(30,Rl,8,14,"div",8),H(31,"div",9),ve(32,"playground-component-documentation",10),U()),n&2&&(I(),Qe(ce(2,14,"title.components.autocomplete")),I(2),ie("formGroup",s.testForm),I(4),Ae(s.showInput()?7:-1),I(3),se(" ",we(11,16,"form.buttons.enabled",xe(33,Il,s.testForm.enabled))," "),I(3),se(" ",we(14,19,"form.buttons.required",xe(35,Nl,s.getIsRequiredInput()))," "),I(3),se(" ",ce(17,22,"form.buttons.changeVisibility")," "),I(3),se(" ",ce(20,24,"form.buttons.recreateForm")," "),I(3),se(" ",ce(23,26,"form.buttons.setForm")," "),I(3),se(" ",ce(26,28,"form.buttons.checkForm")," "),I(3),se(" ",we(29,30,"form.buttons.readonly",xe(37,Bl,s.isReadonly()))," "),I(2),Ae(s.showValueAndValidity()?30:-1),I(2),ie("componentType",s.QuangAutocompleteComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[ft,kt,mt,St,pt,ot,Et,Lt,Ie,Wn,it,lt],encapsulation:2,changeDetection:0})}}return e})();var Ms=Xe(Ls()),Ds=Ms.default;var mi=Xe(Is()),Zn=Xe(Ns()),Yn=Xe(Bs());function Me(e){let t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ne(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ai(e,t){let i=Me(e);return isNaN(t)?Ne(e,NaN):(t&&i.setDate(i.getDate()+t),i)}var Vl=Math.pow(10,8)*24*60*60*1e3,wu=-Vl,Ri=6048e5,Os=864e5,Fs=6e4,As=36e5,Rs=1e3;var Wl=3600;var Hs=Wl*24,xu=Hs*7,ql=Hs*365.2425,Ul=ql/12,Tu=Ul*3;var $l={};function Dt(){return $l}function gt(e,t){let i=Dt(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=Me(e),a=s.getDay(),u=(a<n?7:0)+a-n;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function Bt(e){return gt(e,{weekStartsOn:1})}function Hi(e){let t=Me(e),i=t.getFullYear(),n=Ne(e,0);n.setFullYear(i+1,0,4),n.setHours(0,0,0,0);let s=Bt(n),a=Ne(e,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);let u=Bt(a);return t.getTime()>=s.getTime()?i+1:t.getTime()>=u.getTime()?i:i-1}function Un(e){let t=Me(e);return t.setHours(0,0,0,0),t}function Ut(e){let t=Me(e),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+e-+i}function Ps(e,t){let i=Un(e),n=Un(t),s=+i-Ut(i),a=+n-Ut(n);return Math.round((s-a)/Os)}function zs(e){let t=Hi(e),i=Ne(e,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Bt(i)}function Vs(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pi(e){if(!Vs(e)&&typeof e!="number")return!1;let t=Me(e);return!isNaN(Number(t))}function Ws(e){let t=Me(e),i=Ne(e,0);return i.setFullYear(t.getFullYear(),0,1),i.setHours(0,0,0,0),i}var Zl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qs=(e,t,i)=>{let n,s=Zl[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+n:n+" ago":n};function zi(e){return(t={})=>{let i=t.width?String(t.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}var Yl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ql={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Us={date:zi({formats:Yl,defaultWidth:"full"}),time:zi({formats:Ql,defaultWidth:"full"}),dateTime:zi({formats:jl,defaultWidth:"full"})};var Gl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$s=(e,t,i,n)=>Gl[e];function ei(e){return(t,i)=>{let n=i?.context?String(i.context):"standalone",s;if(n==="formatting"&&e.formattingValues){let u=e.defaultFormattingWidth||e.defaultWidth,h=i?.width?String(i.width):u;s=e.formattingValues[h]||e.formattingValues[u]}else{let u=e.defaultWidth,h=i?.width?String(i.width):e.defaultWidth;s=e.values[h]||e.values[u]}let a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}var Xl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},er={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ir={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nr=(e,t)=>{let i=Number(e),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Zs={ordinalNumber:nr,era:ei({values:Xl,defaultWidth:"wide"}),quarter:ei({values:Kl,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ei({values:Jl,defaultWidth:"wide"}),day:ei({values:er,defaultWidth:"wide"}),dayPeriod:ei({values:tr,defaultWidth:"wide",formattingValues:ir,defaultFormattingWidth:"wide"})};function ti(e){return(t,i={})=>{let n=i.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;let u=a[0],h=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(h)?or(h,g=>g.test(u)):sr(h,g=>g.test(u)),_;_=e.valueCallback?e.valueCallback(o):o,_=i.valueCallback?i.valueCallback(_):_;let c=t.slice(u.length);return{value:_,rest:c}}}function sr(e,t){for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return i}function or(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i}function Ys(e){return(t,i={})=>{let n=t.match(e.matchPattern);if(!n)return null;let s=n[0],a=t.match(e.parsePattern);if(!a)return null;let u=e.valueCallback?e.valueCallback(a[0]):a[0];u=i.valueCallback?i.valueCallback(u):u;let h=t.slice(s.length);return{value:u,rest:h}}}var lr=/^(\d+)(th|st|nd|rd)?/i,rr=/\d+/i,ar={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cr={any:[/^b/i,/^(a|c)/i]},ur={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dr={any:[/1/i,/2/i,/3/i,/4/i]},hr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},br={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qs={ordinalNumber:Ys({matchPattern:lr,parsePattern:rr,valueCallback:e=>parseInt(e,10)}),era:ti({matchPatterns:ar,defaultMatchWidth:"wide",parsePatterns:cr,defaultParseWidth:"any"}),quarter:ti({matchPatterns:ur,defaultMatchWidth:"wide",parsePatterns:dr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ti({matchPatterns:hr,defaultMatchWidth:"wide",parsePatterns:pr,defaultParseWidth:"any"}),day:ti({matchPatterns:mr,defaultMatchWidth:"wide",parsePatterns:fr,defaultParseWidth:"any"}),dayPeriod:ti({matchPatterns:gr,defaultMatchWidth:"any",parsePatterns:br,defaultParseWidth:"any"})};var ui={code:"en-US",formatDistance:qs,formatLong:Us,formatRelative:$s,localize:Zs,match:Qs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function js(e){let t=Me(e);return Ps(t,Ws(t))+1}function Vi(e){let t=Me(e),i=+Bt(t)-+zs(t);return Math.round(i/Ri)+1}function ii(e,t){let i=Me(e),n=i.getFullYear(),s=Dt(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=Ne(e,0);u.setFullYear(n+1,0,a),u.setHours(0,0,0,0);let h=gt(u,t),o=Ne(e,0);o.setFullYear(n,0,a),o.setHours(0,0,0,0);let _=gt(o,t);return i.getTime()>=h.getTime()?n+1:i.getTime()>=_.getTime()?n:n-1}function Gs(e,t){let i=Dt(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=ii(e,t),a=Ne(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),gt(a,t)}function Wi(e,t){let i=Me(e),n=+gt(i,t)-+Gs(i,t);return Math.round(n/Ri)+1}function Pe(e,t){let i=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return i+n}var Vt={y(e,t){let i=e.getFullYear(),n=i>0?i:1-i;return Pe(t==="yy"?n%100:n,t.length)},M(e,t){let i=e.getMonth();return t==="M"?String(i+1):Pe(i+1,2)},d(e,t){return Pe(e.getDate(),t.length)},a(e,t){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(e,t){return Pe(e.getHours()%12||12,t.length)},H(e,t){return Pe(e.getHours(),t.length)},m(e,t){return Pe(e.getMinutes(),t.length)},s(e,t){return Pe(e.getSeconds(),t.length)},S(e,t){let i=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,i-3));return Pe(s,t.length)}};var ni={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$n={G:function(e,t,i){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})}},y:function(e,t,i){if(t==="yo"){let n=e.getFullYear(),s=n>0?n:1-n;return i.ordinalNumber(s,{unit:"year"})}return Vt.y(e,t)},Y:function(e,t,i,n){let s=ii(e,n),a=s>0?s:1-s;if(t==="YY"){let u=a%100;return Pe(u,2)}return t==="Yo"?i.ordinalNumber(a,{unit:"year"}):Pe(a,t.length)},R:function(e,t){let i=Hi(e);return Pe(i,t.length)},u:function(e,t){let i=e.getFullYear();return Pe(i,t.length)},Q:function(e,t,i){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pe(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,i){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pe(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,i){let n=e.getMonth();switch(t){case"M":case"MM":return Vt.M(e,t);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,i){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pe(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,i,n){let s=Wi(e,n);return t==="wo"?i.ordinalNumber(s,{unit:"week"}):Pe(s,t.length)},I:function(e,t,i){let n=Vi(e);return t==="Io"?i.ordinalNumber(n,{unit:"week"}):Pe(n,t.length)},d:function(e,t,i){return t==="do"?i.ordinalNumber(e.getDate(),{unit:"date"}):Vt.d(e,t)},D:function(e,t,i){let n=js(e);return t==="Do"?i.ordinalNumber(n,{unit:"dayOfYear"}):Pe(n,t.length)},E:function(e,t,i){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,i,n){let s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Pe(a,2);case"eo":return i.ordinalNumber(a,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,i,n){let s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Pe(a,t.length);case"co":return i.ordinalNumber(a,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,i){let n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Pe(s,t.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});case"iiii":default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,i){let s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,i){let n=e.getHours(),s;switch(n===12?s=ni.noon:n===0?s=ni.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,i){let n=e.getHours(),s;switch(n>=17?s=ni.evening:n>=12?s=ni.afternoon:n>=4?s=ni.morning:s=ni.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,i){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return Vt.h(e,t)},H:function(e,t,i){return t==="Ho"?i.ordinalNumber(e.getHours(),{unit:"hour"}):Vt.H(e,t)},K:function(e,t,i){let n=e.getHours()%12;return t==="Ko"?i.ordinalNumber(n,{unit:"hour"}):Pe(n,t.length)},k:function(e,t,i){let n=e.getHours();return n===0&&(n=24),t==="ko"?i.ordinalNumber(n,{unit:"hour"}):Pe(n,t.length)},m:function(e,t,i){return t==="mo"?i.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vt.m(e,t)},s:function(e,t,i){return t==="so"?i.ordinalNumber(e.getSeconds(),{unit:"second"}):Vt.s(e,t)},S:function(e,t){return Vt.S(e,t)},X:function(e,t,i){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ks(n);case"XXXX":case"XX":return $t(n);case"XXXXX":case"XXX":default:return $t(n,":")}},x:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"x":return Ks(n);case"xxxx":case"xx":return $t(n);case"xxxxx":case"xxx":default:return $t(n,":")}},O:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xs(n,":");case"OOOO":default:return"GMT"+$t(n,":")}},z:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xs(n,":");case"zzzz":default:return"GMT"+$t(n,":")}},t:function(e,t,i){let n=Math.trunc(e.getTime()/1e3);return Pe(n,t.length)},T:function(e,t,i){let n=e.getTime();return Pe(n,t.length)}};function Xs(e,t=""){let i=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?i+String(s):i+String(s)+t+Pe(a,2)}function Ks(e,t){return e%60===0?(e>0?"-":"+")+Pe(Math.abs(e)/60,2):$t(e,t)}function $t(e,t=""){let i=e>0?"-":"+",n=Math.abs(e),s=Pe(Math.trunc(n/60),2),a=Pe(n%60,2);return i+s+t+a}var Js=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eo=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_r=(e,t)=>{let i=e.match(/(P+)(p+)?/)||[],n=i[1],s=i[2];if(!s)return Js(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Js(n,t)).replace("{{time}}",eo(s,t))},di={p:eo,P:_r};var yr=/^D+$/,vr=/^Y+$/,Cr=["D","DD","YY","YYYY"];function qi(e){return yr.test(e)}function Ui(e){return vr.test(e)}function hi(e,t,i){let n=wr(e,t,i);if(console.warn(n),Cr.includes(e))throw new RangeError(n)}function wr(e,t,i){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var xr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sr=/^'([^]*?)'?$/,kr=/''/g,Er=/[a-zA-Z]/;function $i(e,t,i){let n=Dt(),s=i?.locale??n.locale??ui,a=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,h=Me(e);if(!Pi(h))throw new RangeError("Invalid time value");let o=t.match(Tr).map(c=>{let g=c[0];if(g==="p"||g==="P"){let k=di[g];return k(c,s.formatLong)}return c}).join("").match(xr).map(c=>{if(c==="''")return{isToken:!1,value:"'"};let g=c[0];if(g==="'")return{isToken:!1,value:Lr(c)};if($n[g])return{isToken:!0,value:c};if(g.match(Er))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:c}});s.localize.preprocessor&&(o=s.localize.preprocessor(h,o));let _={firstWeekContainsDate:a,weekStartsOn:u,locale:s};return o.map(c=>{if(!c.isToken)return c.value;let g=c.value;(!i?.useAdditionalWeekYearTokens&&Ui(g)||!i?.useAdditionalDayOfYearTokens&&qi(g))&&hi(g,t,String(e));let k=$n[g[0]];return k(h,g,s.localize,_)}).join("")}function Lr(e){let t=e.match(Sr);return t?t[1].replace(kr,"'"):e}function to(){return Object.assign({},Dt())}function io(e){let i=Me(e).getDay();return i===0&&(i=7),i}function no(e,t){let i=t instanceof Date?Ne(t,0):new t(0);return i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),i}var Mr=10,Zi=class{subPriority=0;validate(t,i){return!0}},Yi=class extends Zi{constructor(t,i,n,s,a){super(),this.value=t,this.validateValue=i,this.setValue=n,this.priority=s,a&&(this.subPriority=a)}validate(t,i){return this.validateValue(t,this.value,i)}set(t,i,n){return this.setValue(t,i,this.value,n)}},Qi=class extends Zi{priority=Mr;subPriority=-1;set(t,i){return i.timestampIsSet?t:Ne(t,no(t,Date))}};var ge=class{run(t,i,n,s){let a=this.parse(t,i,n,s);return a?{setter:new Yi(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,i,n){return!0}};var ji=class extends ge{priority=140;parse(t,i,n){switch(i){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,i,n){return i.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]};var Fe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},It={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function We(e,t){return e&&{value:t(e.value),rest:e.rest}}function Be(e,t){let i=t.match(e);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function Nt(e,t){let i=t.match(e);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};let n=i[1]==="+"?1:-1,s=i[2]?parseInt(i[2],10):0,a=i[3]?parseInt(i[3],10):0,u=i[5]?parseInt(i[5],10):0;return{value:n*(s*As+a*Fs+u*Rs),rest:t.slice(i[0].length)}}function Gi(e){return Be(Fe.anyDigitsSigned,e)}function ke(e,t){switch(e){case 1:return Be(Fe.singleDigit,t);case 2:return Be(Fe.twoDigits,t);case 3:return Be(Fe.threeDigits,t);case 4:return Be(Fe.fourDigits,t);default:return Be(new RegExp("^\\d{1,"+e+"}"),t)}}function si(e,t){switch(e){case 1:return Be(Fe.singleDigitSigned,t);case 2:return Be(Fe.twoDigitsSigned,t);case 3:return Be(Fe.threeDigitsSigned,t);case 4:return Be(Fe.fourDigitsSigned,t);default:return Be(new RegExp("^-?\\d{1,"+e+"}"),t)}}function oi(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Xi(e,t){let i=t>0,n=i?t:1-t,s;if(n<=50)s=e||100;else{let a=n+50,u=Math.trunc(a/100)*100,h=e>=a%100;s=e+u-(h?100:0)}return i?s:1-s}function Ki(e){return e%400===0||e%4===0&&e%100!==0}var Ji=class extends ge{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,i,n){let s=a=>({year:a,isTwoDigitYear:i==="yy"});switch(i){case"y":return We(ke(4,t),s);case"yo":return We(n.ordinalNumber(t,{unit:"year"}),s);default:return We(ke(i.length,t),s)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,n){let s=t.getFullYear();if(n.isTwoDigitYear){let u=Xi(n.year,s);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}let a=!("era"in i)||i.era===1?n.year:1-n.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}};var en=class extends ge{priority=130;parse(t,i,n){let s=a=>({year:a,isTwoDigitYear:i==="YY"});switch(i){case"Y":return We(ke(4,t),s);case"Yo":return We(n.ordinalNumber(t,{unit:"year"}),s);default:return We(ke(i.length,t),s)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,n,s){let a=ii(t,s);if(n.isTwoDigitYear){let h=Xi(n.year,a);return t.setFullYear(h,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),gt(t,s)}let u=!("era"in i)||i.era===1?n.year:1-n.year;return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),gt(t,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var tn=class extends ge{priority=130;parse(t,i){return i==="R"?si(4,t):si(i.length,t)}set(t,i,n){let s=Ne(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Bt(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var nn=class extends ge{priority=130;parse(t,i){return i==="u"?si(4,t):si(i.length,t)}set(t,i,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var sn=class extends ge{priority=120;parse(t,i,n){switch(i){case"Q":case"QQ":return ke(i.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=1&&i<=4}set(t,i,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var on=class extends ge{priority=120;parse(t,i,n){switch(i){case"q":case"qq":return ke(i.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=1&&i<=4}set(t,i,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var ln=class extends ge{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,i,n){let s=a=>a-1;switch(i){case"M":return We(Be(Fe.month,t),s);case"MM":return We(ke(2,t),s);case"Mo":return We(n.ordinalNumber(t,{unit:"month"}),s);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=11}set(t,i,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}};var rn=class extends ge{priority=110;parse(t,i,n){let s=a=>a-1;switch(i){case"L":return We(Be(Fe.month,t),s);case"LL":return We(ke(2,t),s);case"Lo":return We(n.ordinalNumber(t,{unit:"month"}),s);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=11}set(t,i,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function so(e,t,i){let n=Me(e),s=Wi(n,i)-t;return n.setDate(n.getDate()-s*7),n}var an=class extends ge{priority=100;parse(t,i,n){switch(i){case"w":return Be(Fe.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return ke(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,n,s){return gt(so(t,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function oo(e,t){let i=Me(e),n=Vi(i)-t;return i.setDate(i.getDate()-n*7),i}var cn=class extends ge{priority=100;parse(t,i,n){switch(i){case"I":return Be(Fe.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return ke(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,n){return Bt(oo(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var Dr=[31,28,31,30,31,30,31,31,30,31,30,31],Ir=[31,29,31,30,31,30,31,31,30,31,30,31],un=class extends ge{priority=90;subPriority=1;parse(t,i,n){switch(i){case"d":return Be(Fe.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return ke(i.length,t)}}validate(t,i){let n=t.getFullYear(),s=Ki(n),a=t.getMonth();return s?i>=1&&i<=Ir[a]:i>=1&&i<=Dr[a]}set(t,i,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var dn=class extends ge{priority=90;subpriority=1;parse(t,i,n){switch(i){case"D":case"DD":return Be(Fe.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return ke(i.length,t)}}validate(t,i){let n=t.getFullYear();return Ki(n)?i>=1&&i<=366:i>=1&&i<=365}set(t,i,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function li(e,t,i){let n=Dt(),s=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Me(e),u=a.getDay(),o=(t%7+7)%7,_=7-s,c=t<0||t>6?t-(u+_)%7:(o+_)%7-(u+_)%7;return Ai(a,c)}var hn=class extends ge{priority=90;parse(t,i,n){switch(i){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,n,s){return t=li(t,n,s),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]};var pn=class extends ge{priority=90;parse(t,i,n,s){let a=u=>{let h=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return We(ke(i.length,t),a);case"eo":return We(n.ordinalNumber(t,{unit:"day"}),a);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,n,s){return t=li(t,n,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var mn=class extends ge{priority=90;parse(t,i,n,s){let a=u=>{let h=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return We(ke(i.length,t),a);case"co":return We(n.ordinalNumber(t,{unit:"day"}),a);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=6}set(t,i,n,s){return t=li(t,n,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function lo(e,t){let i=Me(e),n=io(i),s=t-n;return Ai(i,s)}var fn=class extends ge{priority=90;parse(t,i,n){let s=a=>a===0?7:a;switch(i){case"i":case"ii":return ke(i.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return We(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return We(n.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return We(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return We(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,i){return i>=1&&i<=7}set(t,i,n){return t=lo(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var gn=class extends ge{priority=80;parse(t,i,n){switch(i){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,n){return t.setHours(oi(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]};var bn=class extends ge{priority=80;parse(t,i,n){switch(i){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,n){return t.setHours(oi(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]};var _n=class extends ge{priority=80;parse(t,i,n){switch(i){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,n){return t.setHours(oi(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]};var yn=class extends ge{priority=70;parse(t,i,n){switch(i){case"h":return Be(Fe.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return ke(i.length,t)}}validate(t,i){return i>=1&&i<=12}set(t,i,n){let s=t.getHours()>=12;return s&&n<12?t.setHours(n+12,0,0,0):!s&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]};var vn=class extends ge{priority=70;parse(t,i,n){switch(i){case"H":return Be(Fe.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return ke(i.length,t)}}validate(t,i){return i>=0&&i<=23}set(t,i,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]};var Cn=class extends ge{priority=70;parse(t,i,n){switch(i){case"K":return Be(Fe.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return ke(i.length,t)}}validate(t,i){return i>=0&&i<=11}set(t,i,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]};var wn=class extends ge{priority=70;parse(t,i,n){switch(i){case"k":return Be(Fe.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return ke(i.length,t)}}validate(t,i){return i>=1&&i<=24}set(t,i,n){let s=n<=24?n%24:n;return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]};var xn=class extends ge{priority=60;parse(t,i,n){switch(i){case"m":return Be(Fe.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return ke(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]};var Tn=class extends ge{priority=50;parse(t,i,n){switch(i){case"s":return Be(Fe.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return ke(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]};var Sn=class extends ge{priority=30;parse(t,i){let n=s=>Math.trunc(s*Math.pow(10,-i.length+3));return We(ke(i.length,t),n)}set(t,i,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]};var kn=class extends ge{priority=10;parse(t,i){switch(i){case"X":return Nt(It.basicOptionalMinutes,t);case"XX":return Nt(It.basic,t);case"XXXX":return Nt(It.basicOptionalSeconds,t);case"XXXXX":return Nt(It.extendedOptionalSeconds,t);case"XXX":default:return Nt(It.extended,t)}}set(t,i,n){return i.timestampIsSet?t:Ne(t,t.getTime()-Ut(t)-n)}incompatibleTokens=["t","T","x"]};var En=class extends ge{priority=10;parse(t,i){switch(i){case"x":return Nt(It.basicOptionalMinutes,t);case"xx":return Nt(It.basic,t);case"xxxx":return Nt(It.basicOptionalSeconds,t);case"xxxxx":return Nt(It.extendedOptionalSeconds,t);case"xxx":default:return Nt(It.extended,t)}}set(t,i,n){return i.timestampIsSet?t:Ne(t,t.getTime()-Ut(t)-n)}incompatibleTokens=["t","T","X"]};var Ln=class extends ge{priority=40;parse(t){return Gi(t)}set(t,i,n){return[Ne(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var Mn=class extends ge{priority=20;parse(t){return Gi(t)}set(t,i,n){return[Ne(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"};var ro={G:new ji,y:new Ji,Y:new en,R:new tn,u:new nn,Q:new sn,q:new on,M:new ln,L:new rn,w:new an,I:new cn,d:new un,D:new dn,E:new hn,e:new pn,c:new mn,i:new fn,a:new gn,b:new bn,B:new _n,h:new yn,H:new vn,K:new Cn,k:new wn,m:new xn,s:new Tn,S:new Sn,X:new kn,x:new En,t:new Ln,T:new Mn};var Nr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Br=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Or=/^'([^]*?)'?$/,Fr=/''/g,Ar=/\S/,Rr=/[a-zA-Z]/;function Dn(e,t,i,n){let s=to(),a=n?.locale??s.locale??ui,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(t==="")return e===""?Me(i):Ne(i,NaN);let o={firstWeekContainsDate:u,weekStartsOn:h,locale:a},_=[new Qi],c=t.match(Br).map(P=>{let l=P[0];if(l in di){let r=di[l];return r(P,a.formatLong)}return P}).join("").match(Nr),g=[];for(let P of c){!n?.useAdditionalWeekYearTokens&&Ui(P)&&hi(P,t,e),!n?.useAdditionalDayOfYearTokens&&qi(P)&&hi(P,t,e);let l=P[0],r=ro[l];if(r){let{incompatibleTokens:d}=r;if(Array.isArray(d)){let m=g.find(b=>d.includes(b.token)||b.token===l);if(m)throw new RangeError(`The format string mustn't contain \`${m.fullToken}\` and \`${P}\` at the same time`)}else if(r.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);g.push({token:l,fullToken:P});let p=r.run(e,P,a.match,o);if(!p)return Ne(i,NaN);_.push(p.setter),e=p.rest}else{if(l.match(Rr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");if(P==="''"?P="'":l==="'"&&(P=Hr(P)),e.indexOf(P)===0)e=e.slice(P.length);else return Ne(i,NaN)}}if(e.length>0&&Ar.test(e))return Ne(i,NaN);let k=_.map(P=>P.priority).sort((P,l)=>l-P).filter((P,l,r)=>r.indexOf(P)===l).map(P=>_.filter(l=>l.priority===P).sort((l,r)=>r.subPriority-l.subPriority)).map(P=>P[0]),M=Me(i);if(isNaN(M.getTime()))return Ne(i,NaN);let N={};for(let P of k){if(!P.validate(M,o))return Ne(i,NaN);let l=P.set(M,N,o);Array.isArray(l)?(M=l[0],Object.assign(N,l[1])):M=l}return Ne(i,M)}function Hr(e){return e.match(Or)[1].replace(Fr,"'")}function pi(e,t,i){return Pi(Dn(e,t,new Date,i))}var Pr=["inputForDate"],zr=["calendarButton"],Vr=["*"];function Wr(e,t){if(e&1&&(H(0,"label",10),J(1),ee(2,"transloco"),H(3,"span",11),J(4,"*"),U()()),e&2){let i=ae();ie("htmlFor",i.componentId()),I(),se(" ",ce(2,3,i.componentLabel())," "),I(2),ie("hidden",!i._isRequired())}}function qr(e,t){if(e&1&&(H(0,"small",12),J(1),ee(2,"transloco"),U()),e&2){let i=ae();ie("hidden",i._showSuccess()||i._showErrors()),I(),se(" ",ce(2,2,i.helpMessage())," ")}}var Qn=(()=>{class e extends Mt{constructor(){super(),this.dateFormat=ne("dd/MM/yyyy"),this.timeFormat=ne("HH:mm"),this.activeLanguageOverride=ne(void 0),this.timepicker=ne(!1),this.invalidDateMessage=ne(""),this.showOnlyTimepicker=ne(!1),this.minHour=ne(0),this.maxHour=ne(24),this.minMinute=ne(0),this.maxMinute=ne(59),this.minDate=ne(void 0),this.maxDate=ne(void 0),this.showInline=ne(!1),this.calendarClasses=ne(""),this.buttonClass=ne(""),this.datepickerOptions=ne(void 0),this._inputForDate=Ee("inputForDate"),this.contentTemplate=Ee.required("calendarButton"),this.hasNoContent=Ce(()=>this.contentTemplate()?.nativeElement.children.length===0),this._quangTranslationService=he(Te(Ge)),this._quangTranslationActiveLang=Ce(()=>this._quangTranslationService()?.activeLang()??null),this.multipleDatesSeparator=ne(" - "),this.rangeSelection=ne(!1),this._activeLanguage=Ce(()=>this.activeLanguageOverride()?this.activeLanguageOverride():this._quangTranslationService()?this._quangTranslationActiveLang():navigator.language),this._airDatepickerInstance=he(void 0),this.searchTextDebounce=ne(500),this.targetPosition=he("bottom left"),this._generateAirDatepickerEffect=yt(()=>{this.setupCalendar()},{allowSignalWrites:!0}),this.valueFormat=Ce(()=>this.showOnlyTimepicker()?this.timeFormat():this.dateFormat()+(this.showTimepicker()?` ${this.timeFormat()}`:"")),this.inputValueString=Ce(()=>this.formatDate(this._value())),this.showTimepicker=Ce(()=>!this.rangeSelection()&&(this.timepicker()||this.showOnlyTimepicker())),this.isMouseInsideCalendar=he(!1),this.isMouseOutsideCalendar=Ce(()=>!this.isMouseInsideCalendar()),Ci(document,"scroll",{capture:!0}).pipe(He(),wi(250)).subscribe(()=>{this._airDatepickerInstance()?.visible&&this.setupCalendar()})}setupCalendar(){if(this._inputForDate()?.nativeElement){let i=this._value(),n;i&&typeof i=="string"?n=[i]:i&&typeof i=="object"&&(n=[],i.dateFrom&&n.push(i.dateFrom),i.dateTo&&n.push(i.dateTo)),this.setCalendarPosition();let s=qt(ct({autoClose:!0,classes:this.calendarClasses(),dateFormat:this.dateFormat(),inline:this.showInline(),isMobile:!1,multipleDatesSeparator:this.multipleDatesSeparator(),range:this.rangeSelection(),timepicker:this.showTimepicker(),onlyTimepicker:this.showOnlyTimepicker(),timeFormat:this.timeFormat(),minHours:this.minHour(),maxHours:this.maxHour(),minMinutes:this.minMinute(),maxMinutes:this.maxMinute(),minDate:this.minDate(),maxDate:this.maxDate(),toggleSelected:!1,multipleDates:!1,selectedDates:n,position:this.targetPosition(),locale:this.getLocale(),onSelect:({date:a})=>{if(!Array.isArray(a)){let u=a;this.showTimepicker()||(u=this.dateToUtc(a)),this.onChangedHandler(u.toISOString())}this.showInline()&&this.onHideCalendar()},onHide:a=>{a&&this.onHideCalendar()}},this.datepickerOptions()??{}),{onShow:a=>{let u=this._airDatepickerInstance()?.$datepicker;u&&(u.onmouseenter=()=>{this.isMouseInsideCalendar.set(!0)},u.onmouseleave=()=>{this.isMouseInsideCalendar.set(!1)}),!(a||!this.showTimepicker())&&this.setupTimepicker()}});this._airDatepickerInstance()?(this._airDatepickerInstance()?.visible?this._airDatepickerInstance()?.update(s):this._airDatepickerInstance()?.update(s,{silent:!0}),n?this._airDatepickerInstance()?.selectDate(n,{updateTime:!0}):(this._airDatepickerInstance()?.setFocusDate(!1),this._airDatepickerInstance()?.clear({silent:!0}))):this._airDatepickerInstance.set(new Ds(this._inputForDate()?.nativeElement,s)),this.showInline()&&this.setupTimepicker()}}onChangeText(i){let n=i.target?.value;n?n.length===this.valueFormat().length&&pi(n,this.valueFormat())&&this.onChangedHandler(this.setupInputStringToDate(n).toISOString()):this.onChangedHandler(n)}onBlurHandler(){super.onBlurHandler(),this.isMouseOutsideCalendar()&&this._airDatepickerInstance()?.visible&&this._airDatepickerInstance()?.hide()}setupInputStringToDate(i){let n=Dn(i,this.valueFormat(),new Date);return this.showTimepicker()||(n=this.dateToUtc(n)),n}onChangedHandler(i){let n=i,s=this._value();typeof n=="string"&&(!s||typeof s=="string")?!this.showTimepicker()&&n?n=`${n.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&s&&n&&(n=`${s.split("T")[0]}T${n.split("T")[1]}`):this.rangeSelection()&&typeof n=="object"&&(s===null||typeof s=="object")&&(!this.showTimepicker()&&n?.dateFrom?n.dateFrom=`${n.dateFrom.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&s?.dateFrom&&n?.dateFrom&&(n.dateFrom=`${s?.dateFrom.split("T")[0]}T${n.dateFrom.split("T")[1]}`),!this.showTimepicker()&&n?.dateTo?n.dateTo=`${n.dateTo.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&s?.dateTo&&n?.dateTo&&(n.dateTo=`${s?.dateTo.split("T")[0]}T${n.dateTo.split("T")[1]}`)),JSON.stringify(s)!==JSON.stringify(n)&&this._value.set(n)}onHideCalendar(){let i=this._inputForDate()?.nativeElement.value,n=i;if(this.rangeSelection()){n={dateFrom:"",dateTo:""};let[s,a]=i.split(this.multipleDatesSeparator());n.dateFrom=s??"",n.dateTo=a??"",!n.dateFrom||!pi(n.dateFrom,this.valueFormat())?n.dateFrom=null:n.dateFrom=this.setupInputStringToDate(n.dateFrom).toISOString(),!n.dateTo||!pi(n.dateTo,this.valueFormat())?n.dateTo=null:n.dateTo=this.setupInputStringToDate(n.dateTo).toISOString(),this.onChangedHandler(n)}else pi(n,this.valueFormat())?this.onChangedHandler(this.setupInputStringToDate(n).toISOString()):this.onChangedHandler(null);this.formControl()?.getRawValue()!==this._value()?super.onChangedHandler(this._value()):this.onTouched&&this.onTouched(),this.onBlurHandler()}formatDate(i){if(i&&typeof i=="string")return $i(i,this.valueFormat());if(i&&typeof i=="object"){let n="",s="";return i.dateFrom&&(n=$i(i.dateFrom,this.valueFormat())),i.dateTo&&(s=$i(i.dateTo,this.valueFormat())),`${n}${this.multipleDatesSeparator()}${s}`}return""}openDatePicker(){this._inputForDate()?.nativeElement&&this._inputForDate()?.nativeElement.focus()}interceptInputInteraction(i){this.isReadonly()&&(i.stopPropagation(),i.stopImmediatePropagation(),i.preventDefault())}getLocale(){switch(this._activeLanguage()?.toLowerCase()){case"en":return mi.default.default||mi.default;case"it":return Yn.default.default||Yn.default;case"fr":return Zn.default.default||Zn.default;default:return mi.default.default||mi.default}}onCancel(){this._inputForDate()?.nativeElement.blur()}dateToUtc(i){return new Date(i.getTime()-i.getTimezoneOffset()*6e4)}setCalendarPosition(){let i=window.innerHeight,n=this._inputForDate()?.nativeElement.getBoundingClientRect();i-n.height-n.top-239>=0?this.targetPosition.set("bottom left"):this.targetPosition.set("top left")}setupTimepicker(){let i=document.getElementsByClassName("air-datepicker-time")?.[0];if(i){let n=i.getElementsByTagName("input");for(let s of Array.from(n))s.setAttribute("type","number"),s.setAttribute("maxLength","2"),s.className="form-control",s.onmouseup=a=>{a.stopImmediatePropagation()},s.onblur=()=>{this.isMouseOutsideCalendar()&&this._airDatepickerInstance()?.hide()}}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["quang-date"]],viewQuery:function(n,s){n&1&&(Le(s._inputForDate,Pr,5),Le(s.contentTemplate,zr,5)),n&2&&Ve(2)},inputs:{dateFormat:[1,"dateFormat"],timeFormat:[1,"timeFormat"],activeLanguageOverride:[1,"activeLanguageOverride"],timepicker:[1,"timepicker"],invalidDateMessage:[1,"invalidDateMessage"],showOnlyTimepicker:[1,"showOnlyTimepicker"],minHour:[1,"minHour"],maxHour:[1,"maxHour"],minMinute:[1,"minMinute"],maxMinute:[1,"maxMinute"],minDate:[1,"minDate"],maxDate:[1,"maxDate"],showInline:[1,"showInline"],calendarClasses:[1,"calendarClasses"],buttonClass:[1,"buttonClass"],datepickerOptions:[1,"datepickerOptions"],multipleDatesSeparator:[1,"multipleDatesSeparator"],rangeSelection:[1,"rangeSelection"],searchTextDebounce:[1,"searchTextDebounce"]},features:[wt([{provide:Tt,useExisting:vt(()=>e),multi:!0}]),Ct],ngContentSelectors:Vr,decls:16,vars:38,consts:[["inputForDate",""],["calendarButton",""],[1,"mb-3"],["class","form-label",3,"htmlFor",4,"ngIf"],[1,"input-date-container"],["type","search",1,"form-control",3,"blur","focus","input","mouseenter","mouseleave","search","autocomplete","disabled","hidden","id","ngClass","placeholder","readOnly","tabIndex","value"],["aria-label","calendar-button","type","button",1,"btn","btn-outline-secondary","btn-outline-calendar",3,"click","hidden","ngClass"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){if(n&1){let a=Re();ms(),H(0,"div",2),ye(1,Wr,5,5,"label",3),H(2,"div",4)(3,"input",5,0),ee(5,"transloco"),re("blur",function(){return be(a),_e(s.onBlurHandler())})("focus",function(h){return be(a),_e(s.interceptInputInteraction(h))})("input",function(h){return be(a),_e(s.onChangeText(h))})("mouseenter",function(){return be(a),_e(s.isMouseInsideCalendar.set(!0))})("mouseleave",function(){return be(a),_e(s.isMouseInsideCalendar.set(!1))})("search",function(){return be(a),_e(s.onCancel())}),U(),H(6,"button",6,1),re("click",function(){let h;return be(a),_e((h=s._ngControl())!=null&&h.disabled?null:s.openDatePicker())}),fs(8),U()(),H(9,"div",7),J(10),ee(11,"transloco"),U(),H(12,"div",8),J(13),ee(14,"transloco"),U(),ye(15,qr,3,4,"small",9),U()}n&2&&(I(),ie("ngIf",s.componentLabel()),I(),Ue("is-invalid",s._showErrors())("is-valid",s._showSuccess()),I(),Ue("is-invalid",s._showErrors())("is-valid",s._showSuccess())("with-button-calendar",!s.hasNoContent()),ie("autocomplete","off")("disabled",s._isDisabled())("hidden",s.showInline())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ce(5,31,s.componentPlaceholder()))("readOnly",s.isReadonly())("tabIndex",s.componentTabIndex())("value",s.inputValueString()),dt("required",s.getIsRequiredControl()),I(3),Ue("border-danger",s._showErrors())("border-success",s._showSuccess()),ie("hidden",s.showInline()||s.hasNoContent()||s._isDisabled())("ngClass",s.buttonClass()),dt("required",s.getIsRequiredControl()),I(4),se(" ",ce(11,33,s.successMessage())," "),I(3),se(" ",we(14,35,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),I(2),ie("ngIf",s.helpMessage()))},dependencies:[Ie,ht,tt],styles:[`input[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none;height:.75rem;width:.75rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 3 1024 1024' width='12' height='12' fill='currentColor'%3E%3Cpath d='M9 1018q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5l459-459 459 459q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5 9-9 9-22 0-13-9-22l-459-459 459-459q9-9 9-22 0-13-9-22-9-9-22-9-13 0-22 9l-459 459-459-459q-9-9-22-9-13 0-22 9-9 9-9 22 0 13 9 22l459 459-459 459q-9 9-9 22 0 13 9 22l0 0z'/%3E%3C/svg%3E%0A");cursor:pointer}  .air-datepicker{z-index:99999}  .air-datepicker .air-datepicker--pointer{display:none}  .air-datepicker .air-datepicker-time{display:block}  .air-datepicker .air-datepicker-time .air-datepicker-time--current{display:none}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders{display:flex;justify-content:center;padding-top:.25rem;gap:1rem}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row{width:100%;position:relative}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row:first-child:after{content:":";display:inline;font-size:1rem;position:absolute;right:-.65rem}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row input{width:100%;text-align:center;padding:0;padding-left:1rem;border-color:var(--bs-border-color)}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row .form-control:focus{box-shadow:unset!important}  .air-datepicker.-inline-.-only-timepicker-{border:0}  .air-datepicker.-inline-.-only-timepicker- .air-datepicker--time{border:0}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .input-date-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   input.with-button-calendar[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:disabled{border-radius:var(--bs-border-radius)}[_nghost-%COMP%]   .btn-outline-calendar[_ngcontent-%COMP%]{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;min-width:unset;display:flex;border-color:var(--bs-border-color)}[_nghost-%COMP%]   .border-danger[_ngcontent-%COMP%]{border-color:var(--bs-form-invalid-border-color)}[_nghost-%COMP%]   .border-success[_ngcontent-%COMP%]{border-color:var(--bs-form-valid-border-color)}`],changeDetection:0})}}return e})();var Ur=["testComponent"],$r=e=>({enabled:e}),Zr=e=>({required:e}),Yr=e=>({readonly:e}),Qr=e=>({value:e}),jr=e=>({valid:e});function Gr(e,t){if(e&1){let i=Re();H(0,"div",2),ve(1,"div",6),H(2,"div",7)(3,"div",8)(4,"quang-date",9,0),ve(6,"svg-icon",10),U(),H(7,"quang-date",11),ve(8,"svg-icon",10),U()(),H(9,"div",12)(10,"button",13),re("click",function(){be(i);let s=ae();return _e(s.changeFormEnabled())}),J(11),ee(12,"transloco"),U(),H(13,"button",13),re("click",function(){be(i);let s=ae();return _e(s.changeFormInputRequired())}),J(14),ee(15,"transloco"),U(),H(16,"button",13),re("click",function(){be(i);let s=ae();return _e(s.changeVisibility())}),J(17),ee(18,"transloco"),U(),H(19,"button",14),re("click",function(){be(i);let s=ae();return _e(s.resetForm())}),J(20),ee(21,"transloco"),U(),H(22,"button",13),re("click",function(){be(i);let s=ae();return _e(s.recreateForm())}),J(23),ee(24,"transloco"),U(),H(25,"button",13),re("click",function(){be(i);let s=ae();return _e(s.setFormValues())}),J(26),ee(27,"transloco"),U(),H(28,"button",13),re("click",function(){be(i);let s=ae();return _e(s.checkCurrentFormValueAndValidity())}),J(29),ee(30,"transloco"),U(),H(31,"button",13),re("click",function(){be(i);let s=ae();return _e(s.changeDateFormat())}),J(32),ee(33,"transloco"),U(),H(34,"button",13),re("click",function(){be(i);let s=ae();return _e(s.setReadonly())}),J(35),ee(36,"transloco"),U()()()()}if(e&2){let i=ae();I(4),ie("dateFormat",i.dateFormat())("errorMap",i.errors())("formControl",i.testForm.controls.testInput)("isReadonly",i.isReadonly())("timepicker",!0),I(3),ie("dateFormat",i.dateFormat())("errorMap",i.errors())("isReadonly",i.isReadonly()),I(4),se(" ",we(12,17,"form.buttons.enabled",xe(38,$r,i.testForm.enabled))," "),I(3),se(" ",we(15,20,"form.buttons.required",xe(40,Zr,i.getIsRequiredInput()))," "),I(3),se(" ",ce(18,23,"form.buttons.changeVisibility")," "),I(3),se(" ",ce(21,25,"form.buttons.resetForm")," "),I(3),se(" ",ce(24,27,"form.buttons.recreateForm")," "),I(3),se(" ",ce(27,29,"form.buttons.setForm")," "),I(3),se(" ",ce(30,31,"form.buttons.checkForm")," "),I(3),se(" ",ce(33,33,"form.buttons.changeDateFormat")," "),I(3),se(" ",we(36,35,"form.buttons.readonly",xe(42,Yr,i.isReadonly()))," ")}}function Xr(e,t){if(e&1&&(H(0,"div",3)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let i=ae();I(2),se(" ",we(4,4,"form.label.formValue",xe(10,Qr,ce(3,2,i.testForm.value)))," "),I(4),se(" ",we(7,7,"form.label.formValidity",xe(12,jr,i.testForm.valid))," ")}}var ao=(()=>{class e{changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}constructor(){this.quangTranslationService=Te(Ge),this.QuangDateComponent=Qn,this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/date.md":"./assets/docs/date.it.md"),this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.formBuilder=Te(st),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.dateFormat=he("dd/MM/yyyy"),this.errors=he([{error:me.required.name,message:"form.errors.required"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[me.required]),testInputNoTime:this.formBuilder.control("",[me.required])}),this.changeDetection=Te(ki),this.onChangeValue$=this.testForm.controls.testInput.valueChanges.subscribe(i=>{console.log(i),this.changeDetection.markForCheck()}),this.showInput=he(!0),setTimeout(()=>{this.testForm.controls.testInput.setValue(new Date().toISOString())},2e3)}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}resetForm(){this.testForm.reset()}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control(new Date().toISOString(),[me.required]),testInputNoTime:this.formBuilder.control(new Date().toISOString(),[me.required])})}setFormValues(){let i=new Date;i.setMonth(0),this.testForm.patchValue({testInput:i.toISOString(),testInputNoTime:i.toISOString()})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0)}changeDateFormat(){this.isReadonly.set(!this.isReadonly()),this.dateFormat.set("yyyy/MM/dd")}setReadonly(){this.isReadonly.set(!this.isReadonly())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-date-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,Ur,5),n&2&&Ve()},decls:8,vars:9,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],[1,"card-header"],[1,"card-body"],[1,"row"],["componentLabel","form.label.date","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",1,"col-6",3,"dateFormat","errorMap","formControl","isReadonly","timepicker"],["src","./assets/icons/svg/calendar.svg"],["componentLabel","form.label.date","formControlName","testInputNoTime","successMessage","form.label.success",1,"col-6",3,"dateFormat","errorMap","isReadonly"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(n,s){n&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1),ye(4,Gr,37,44,"div",2),U(),ye(5,Xr,8,14,"div",3),H(6,"div",4),ve(7,"playground-component-documentation",5),U()),n&2&&(I(),Qe(ce(2,7,"title.components.date")),I(2),ie("formGroup",s.testForm),I(),Ae(s.showInput()?4:-1),I(),Ae(s.showValueAndValidity()?5:-1),I(2),ie("componentType",s.QuangDateComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[ft,kt,mt,St,pt,ot,Ii,Et,Lt,Ie,Qn,Xt,it,lt],encapsulation:2,changeDetection:0})}}return e})();function Kr(e,t){if(e&1&&(H(0,"label",7),J(1),ee(2,"transloco"),H(3,"span",8),J(4,"*"),U()()),e&2){let i=ae(2);ie("htmlFor",i.componentId()),I(),se(" ",ce(2,3,i.componentLabel())," "),I(2),ie("hidden",!i._isRequired())}}function Jr(e,t){if(e&1){let i=Re();Qt(0),H(1,"input",9),ee(2,"transloco"),re("blur",function(){be(i);let s=ae(2);return _e(s.onBlurHandler())})("input",function(s){be(i);let a=ae(2);return _e(a.onChangedEventHandler(s))}),U(),jt()}if(e&2){let i=ae(2);I(),Ue("is-invalid",i._showErrors())("is-valid",i._showSuccess()),ie("disabled",i._isDisabled())("id",i.componentId())("max",i.maxNumber())("min",i.minNumber())("ngClass",i.componentClass())("placeholder",ce(2,18,i.componentPlaceholder()))("readOnly",i.isReadonly())("step",i.componentStep())("tabIndex",i.componentTabIndex())("type",i.componentType())("value",i._value()),dt("maxLength",i.maxLengthText())("minLength",i.minLengthText())("required",i.getIsRequiredControl())}}function ea(e,t){if(e&1){let i=Re();Qt(0),H(1,"textarea",10),ee(2,"transloco"),re("blur",function(){be(i);let s=ae(2);return _e(s.onBlurHandler())})("input",function(s){be(i);let a=ae(2);return _e(a.onChangedEventHandler(s))}),U(),jt()}if(e&2){let i=ae(2);I(),Ue("is-invalid",i._showErrors())("is-valid",i._showSuccess())("no-resize",!i.resizable()),ie("disabled",i._isDisabled())("id",i.componentId())("ngClass",i.componentClass())("placeholder",ce(2,15,i.componentPlaceholder()))("readOnly",i.isReadonly())("tabIndex",i.componentTabIndex())("value",i._value()),dt("maxLength",i.maxLengthText())("minLength",i.minLengthText())}}function ta(e,t){if(e&1&&(H(0,"small",11),J(1),ee(2,"transloco"),U()),e&2){let i=ae(2);ie("hidden",i._showSuccess()||i._showErrors()),I(),se(" ",ce(2,2,i.helpMessage())," ")}}function ia(e,t){if(e&1&&(H(0,"div",1),ye(1,Kr,5,5,"label",2)(2,Jr,3,20,"ng-container",3)(3,ea,3,17,"ng-container",3),H(4,"div",4),J(5),ee(6,"transloco"),U(),H(7,"div",5),J(8),ee(9,"transloco"),U(),ye(10,ta,3,4,"small",6),U()),e&2){let i=ae();I(),ie("ngIf",i.componentLabel()),I(),ie("ngIf",i.componentType()!=="textarea"),I(),ie("ngIf",i.componentType()==="textarea"),I(2),se(" ",ce(6,6,i.successMessage())," "),I(3),se(" ",we(9,8,i._currentErrorMessage(),i._currentErrorMessageExtraData())," "),I(2),ie("ngIf",i.helpMessage())}}var jn=(()=>{class e extends Mt{constructor(){super(),this.componentType=ne.required(),this.maxLengthText=ne(null),this.minLengthText=ne(null),this.minNumber=ne(void 0),this.maxNumber=ne(void 0),this.componentStep=ne(1),this.resizable=ne(!0),Ke(this.componentType).pipe(He(this.destroyRef)).subscribe(()=>{this.setupFormControl()})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["quang-input"]],inputs:{componentType:[1,"componentType"],maxLengthText:[1,"maxLengthText"],minLengthText:[1,"minLengthText"],minNumber:[1,"minNumber"],maxNumber:[1,"maxNumber"],componentStep:[1,"componentStep"],resizable:[1,"resizable"]},features:[wt([{provide:Tt,useExisting:vt(()=>e),multi:!0}]),Ct],decls:1,vars:1,consts:[["class","mb-3",4,"ngIf"],[1,"mb-3"],["class","form-label",3,"htmlFor",4,"ngIf"],[4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["autocomplete","off",1,"form-control",3,"blur","input","disabled","id","max","min","ngClass","placeholder","readOnly","step","tabIndex","type","value"],[1,"form-control",3,"blur","input","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){n&1&&ye(0,ia,11,11,"div",0),n&2&&ie("ngIf",s.componentType())},dependencies:[Ie,ht,tt],styles:[`input[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none;height:.75rem;width:.75rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 3 1024 1024' width='12' height='12' fill='currentColor'%3E%3Cpath d='M9 1018q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5l459-459 459 459q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5 9-9 9-22 0-13-9-22l-459-459 459-459q9-9 9-22 0-13-9-22-9-9-22-9-13 0-22 9l-459 459-459-459q-9-9-22-9-13 0-22 9-9 9-9 22 0 13 9 22l459 459-459 459q-9 9-9 22 0 13 9 22l0 0z'/%3E%3C/svg%3E%0A");cursor:pointer}[_nghost-%COMP%]{display:block}.no-resize[_ngcontent-%COMP%]{resize:none}`],changeDetection:0})}}return e})();var na=["selectButton"];function sa(e,t){if(e&1&&(H(0,"label",11),J(1),ee(2,"transloco"),H(3,"span",12),J(4,"*"),U()()),e&2){let i=ae();ie("htmlFor",i.componentId()),I(),se(" ",ce(2,3,i.componentLabel())," "),I(2),ie("hidden",!i._isRequired())}}function oa(e,t){if(e&1&&(Qt(0),J(1),ee(2,"transloco"),jt()),e&2){let i=t.$implicit,n=t.last,s=ae(2);I(),Ti(" ",s.translateValue()?ce(2,2,i.label):i.label,"",n?"":", "," ")}}function la(e,t){if(e&1&&ye(0,oa,3,4,"ng-container",13),e&2){let i=ae();ie("ngForOf",i._selectedItems())}}function ra(e,t){if(e&1&&(Qt(0),J(1),ee(2,"transloco"),jt()),e&2){let i=ae();I(),Qe(ce(2,1,i.componentPlaceholder()))}}function aa(e,t){if(e&1){let i=Re();H(0,"quang-option-list",14,1),re("blurHandler",function(){be(i);let s=ae();return _e(s.onBlurHandler())})("changedHandler",function(s){be(i);let a=ae();return _e(a.onChangedHandler(s))}),U()}if(e&2){let i=ae(),n=_t(4);ie("_isDisabled",i._isDisabled())("_value",i._value())("componentClass",i.componentClass())("componentLabel",i.componentLabel())("componentTabIndex",i.componentTabIndex())("nullOption",i.nullOption())("optionListMaxHeight",i.optionListMaxHeight())("parentType",i.ParentType)("scrollBehaviorOnOpen",i.scrollBehaviorOnOpen())("selectButtonRef",n)("selectionMode",i.selectionMode())("selectOptions",i.selectOptions())("translateValue",i.translateValue())}}function ca(e,t){if(e&1&&(H(0,"small",15),J(1),ee(2,"transloco"),U()),e&2){let i=ae();ie("hidden",i._showSuccess()||i._showErrors()),I(),se(" ",ce(2,2,i.helpMessage())," ")}}var fi=(()=>{class e extends Mt{constructor(){super(...arguments),this.selectionMode=ne("single"),this.optionListMaxHeight=ne("18rem"),this.selectOptions=ne.required(),this.scrollBehaviorOnOpen=ne("smooth"),this.selectButton=Ee("selectButton"),this._showOptions=he(!1),this._optionHideTimeout=he(void 0),this._selectedItems=Ce(()=>{if(this._value()!==null){let i=this._value();return this.selectOptions().filter(n=>Array.isArray(i)?i.some(s=>s===n.value):i===n.value)}return null}),this.translateValue=ne(!0),this.nullOption=ne(!0),this.ParentType=Rt.SELECT}changeOptionsVisibility(i=!1){this.isReadonly()||(this._showOptions()?this._showOptions.set(i):this.showOptionVisibility())}showOptionVisibility(){this._optionHideTimeout()&&(clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(null)),this._showOptions.set(!0)}hideOptionVisibility(i=!1){this._optionHideTimeout()&&clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(setTimeout(()=>{this._showOptions.set(!1)},i?0:50))}onBlurHandler(){this.selectionMode()==="single"&&setTimeout(()=>{this.hideOptionVisibility(),super.onBlurHandler()},100)}onChangedHandler(i){super.onChangedHandler(i),this.selectionMode()==="single"&&this.hideOptionVisibility()}onMouseLeaveCallback(){this.selectionMode()==="multiple"&&this.hideOptionVisibility()}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=Yt(e)))(s||e)}})()}static{this.\u0275cmp=De({type:e,selectors:[["quang-select"]],viewQuery:function(n,s){n&1&&Le(s.selectButton,na,5),n&2&&Ve()},inputs:{selectionMode:[1,"selectionMode"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],translateValue:[1,"translateValue"],nullOption:[1,"nullOption"]},features:[wt([{provide:Tt,useExisting:vt(()=>e),multi:!0},{provide:Kt,multi:!1}]),Ct],decls:16,vars:24,consts:[["selectButton",""],["optionList",""],[1,"mb-3",3,"mouseleave"],["class","form-label w-100",3,"htmlFor",4,"ngIf"],[1,"option-list-container"],["type","button",1,"form-select",3,"click","disabled","id","ngClass","tabIndex"],[1,"content"],[3,"_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentType","scrollBehaviorOnOpen","selectButtonRef","selectionMode","selectOptions","translateValue","blurHandler","changedHandler",4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label","w-100",3,"htmlFor"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"blurHandler","changedHandler","_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentType","scrollBehaviorOnOpen","selectButtonRef","selectionMode","selectOptions","translateValue"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){if(n&1){let a=Re();H(0,"div",2),re("mouseleave",function(){return be(a),_e(s.onMouseLeaveCallback())}),ye(1,sa,5,5,"label",3),H(2,"div",4)(3,"button",5,0),re("click",function(){return be(a),_e(s.changeOptionsVisibility())}),H(5,"div",6),ye(6,la,1,1,"ng-container")(7,ra,3,3,"ng-container"),U()(),ye(8,aa,2,13,"quang-option-list",7),U(),H(9,"div",8),J(10),ee(11,"transloco"),U(),H(12,"div",9),J(13),ee(14,"transloco"),U(),ye(15,ca,3,4,"small",10),U()}if(n&2){let a,u,h,o,_;I(),ie("ngIf",s.componentLabel()),I(),Ue("is-invalid",((a=s._ngControl())==null?null:a.invalid)&&(((a=s._ngControl())==null?null:a.dirty)||((a=s._ngControl())==null?null:a.touched))&&s.errorMap().length)("is-valid",((u=s._ngControl())==null?null:u.valid)&&(((u=s._ngControl())==null?null:u.dirty)||((u=s._ngControl())==null?null:u.touched))&&s.successMessage()),I(),Ue("is-invalid",((h=s._ngControl())==null?null:h.invalid)&&(((h=s._ngControl())==null?null:h.dirty)||((h=s._ngControl())==null?null:h.touched))&&s.errorMap().length)("is-valid",((o=s._ngControl())==null?null:o.valid)&&(((o=s._ngControl())==null?null:o.dirty)||((o=s._ngControl())==null?null:o.touched))&&s.successMessage()),ie("disabled",s._isDisabled())("id",s.componentId())("ngClass",s.componentClass())("tabIndex",s.componentTabIndex()),dt("required",s.getIsRequiredControl()),I(3),Ae((_=s._selectedItems())!=null&&_.length?6:7),I(2),ie("ngIf",s._showOptions()),I(2),se(" ",ce(11,19,s.successMessage())," "),I(3),se(" ",we(14,21,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),I(2),ie("ngIf",s.helpMessage())}},dependencies:[Ie,ht,Ei,tt,Kt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .option-list-container[_ngcontent-%COMP%]{position:relative}.form-select[_ngcontent-%COMP%]{height:2.375rem}.form-select[_ngcontent-%COMP%]:disabled{background-image:unset}.content[_ngcontent-%COMP%]{text-align:left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"],changeDetection:0})}}return e})();var ua=["testComponent"],da=e=>({enabled:e}),ha=e=>({required:e}),pa=e=>({readonly:e}),ma=e=>({value:e}),fa=e=>({valid:e});function ga(e,t){if(e&1&&(H(0,"div",9),ve(1,"quang-input",15,0),U()),e&2){let i=ae();I(),ie("componentType",i.inputType())("errorMap",i.errors())("isReadonly",i.isReadonly())("maxNumber",10)("minNumber",0)}}function ba(e,t){if(e&1&&(H(0,"div",12)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let i=ae();I(2),se(" ",we(4,4,"form.label.formValue",xe(10,ma,ce(3,2,i.testForm.value)))," "),I(4),se(" ",we(7,7,"form.label.formValidity",xe(12,fa,i.testForm.valid))," ")}}var co=(()=>{class e{constructor(){this.quangTranslationService=Te(Ge),this.QuangInputComponent=jn,this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/input.md":"./assets/docs/input.it.md"),this.inputTypesList=["number","url","tel","color","email","password","search","text","textarea"],this.inputTypes=Ce(()=>this.inputTypesList.map(i=>({label:i,value:i}))),this.inputType=he("text"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Te(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"},{error:"noMatch",message:"form.errors.noMatch"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[me.required,me.minLength(1),me.maxLength(30)])}),this.testFormChange=this.testForm.controls.testInput.valueChanges.pipe(He()).subscribe(i=>{i&&i==="ciao"||i&&(console.log("ciaoni"),console.log("this.testForm.controls.testInput",this.testForm.controls.testInput.errors))}),this.showInput=he(!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("New form created",[me.required,me.minLength(10),me.maxLength(30)])})}setFormValues(){this.testForm.patchValue({testInput:"ciao!"})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-input-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,ua,5),n&2&&Ve()},decls:36,vars:41,consts:[["testComponent",""],[1,"d-flex","gap-4"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","w-50"],["componentLabel","form.buttons.selectInputType","selectionMode","single",3,"ngModelChange","selectOptions","ngModel"],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.input","formControlName","testInput","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",3,"componentType","errorMap","isReadonly","maxNumber","minNumber"]],template:function(n,s){n&1&&(H(0,"div",1)(1,"h3",2),J(2),ee(3,"transloco"),U(),H(4,"div",3)(5,"quang-select",4),_s("ngModelChange",function(u){return bs(s.inputType,u)||(s.inputType=u),u}),U()()(),H(6,"form",5)(7,"div",6),ve(8,"div",7),H(9,"div",8),ye(10,ga,3,5,"div",9),H(11,"div",10)(12,"button",11),re("click",function(){return s.changeFormEnabled()}),J(13),ee(14,"transloco"),U(),H(15,"button",11),re("click",function(){return s.changeFormInputRequired()}),J(16),ee(17,"transloco"),U(),H(18,"button",11),re("click",function(){return s.changeVisibility()}),J(19),ee(20,"transloco"),U(),H(21,"button",11),re("click",function(){return s.recreateForm()}),J(22),ee(23,"transloco"),U(),H(24,"button",11),re("click",function(){return s.setFormValues()}),J(25),ee(26,"transloco"),U(),H(27,"button",11),re("click",function(){return s.checkCurrentFormValueAndValidity()}),J(28),ee(29,"transloco"),U(),H(30,"button",11),re("click",function(){return s.setReadonly()}),J(31),ee(32,"transloco"),U()()()()(),ye(33,ba,8,14,"div",12),H(34,"div",13),ve(35,"playground-component-documentation",14),U()),n&2&&(I(2),Qe(ce(3,16,"title.components.input")),I(3),ie("selectOptions",s.inputTypes()),gs("ngModel",s.inputType),I(),ie("formGroup",s.testForm),I(4),Ae(s.showInput()?10:-1),I(3),se(" ",we(14,18,"form.buttons.enabled",xe(35,da,s.testForm.enabled))," "),I(3),se(" ",we(17,21,"form.buttons.required",xe(37,ha,s.getIsRequiredInput()))," "),I(3),se(" ",ce(20,24,"form.buttons.changeVisibility")," "),I(3),se(" ",ce(23,26,"form.buttons.recreateForm")," "),I(3),se(" ",ce(26,28,"form.buttons.setForm")," "),I(3),se(" ",ce(29,30,"form.buttons.checkForm")," "),I(3),se(" ",we(32,32,"form.buttons.readonly",xe(39,pa,s.isReadonly()))," "),I(2),Ae(s.showValueAndValidity()?33:-1),I(2),ie("componentType",s.QuangInputComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[ft,kt,mt,St,xs,pt,ot,Et,Lt,jn,Ie,fi,it,lt],encapsulation:2,changeDetection:0})}}return e})();var uo=(()=>{class e{constructor(){this.http=Te(Mi)}testHttpGet(){this.http.get("https://httpbin.org/get").subscribe()}testHttpUnauthorized(){this.http.get("https://httpbin.org/status/401").subscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=cs({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ya=["testComponent"],ho=(()=>{class e{constructor(){this.LoaderTestPageComponent=e,this.http=Te(Mi),this.appService=Te(uo),this.testComponent=Ee("testComponent"),this.quangTranslationService=Te(Ge),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/loader.md":"./assets/docs/loader.it.md")}showLoader(){return is(this,null,function*(){for(let i=0;i<20;i++){let n=yield ss(this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe(rs(300)));console.log("call",n)}})}testApiCall(){this.appService.testHttpGet()}testUnauthorized(){this.appService.testHttpUnauthorized()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-loader-test-page"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,ya,5),n&2&&Ve()},decls:15,vars:13,consts:[[1,"d-flex","gap-4","flex-wrap"],[1,"btn","btn-secondary","d-flex","gap-2",3,"click"],["src","assets/icons/svg/reload.svg",2,"width","20px",3,"applyClass"],[1,"btn","btn-outline-secondary",3,"click"],[3,"componentType","customReadmePath","readmeOnly"]],template:function(n,s){n&1&&(H(0,"p"),J(1,"loader-test-page works!"),U(),H(2,"div",0)(3,"button",1),re("click",function(){return s.showLoader()}),ve(4,"svg-icon",2),H(5,"span"),J(6),ee(7,"transloco"),U()(),H(8,"button",3),re("click",function(){return s.testApiCall()}),J(9),ee(10,"transloco"),U(),H(11,"button",3),re("click",function(){return s.testUnauthorized()}),J(12),ee(13,"transloco"),U()(),ve(14,"playground-component-documentation",4)),n&2&&(I(4),ie("applyClass",!0),I(2),Qe(ce(7,7,"buttons.loader")),I(3),se(" ",ce(10,9,"buttons.apiCall")," "),I(3),se(" ",ce(13,11,"buttons.unauthorized")," "),I(2),ie("componentType",s.LoaderTestPageComponent)("customReadmePath",s.componentsReadmePath())("readmeOnly",!0))},dependencies:[Di,Xt,Ie,it],encapsulation:2})}}return e})();var va=(e,t)=>({page:e,amountPages:t});function Ca(e,t){if(e&1&&(H(0,"div",16),J(1),ee(2,"transloco"),U()),e&2){let i=ae();I(),Ti(" ",ce(2,2,i.totalItemsText())," ",i.totalItems()," ")}}function wa(e,t){if(e&1&&(H(0,"option",21),J(1),U()),e&2){let i=t.$implicit,n=ae(2);ie("selected",i===n._pageSize()),I(),se(" ",i," ")}}function xa(e,t){if(e&1){let i=Re();H(0,"div",17)(1,"label",18),J(2),ee(3,"transloco"),U(),H(4,"select",19,4),re("change",function(s){be(i);let a=ae();return _e(a.onChangeSize(s))}),ye(6,wa,2,2,"option",20),U()()}if(e&2){let i=ae();I(2),se(" ",ce(3,4,i.sizeText())," "),I(2),ie("id",i.componentId()+"-quang-page-size")("tabIndex",i.componentTabIndex()),I(2),ie("ngForOf",i.sizeList())}}function Ta(e,t){e&1&&(bt(),H(0,"svg",22),ve(1,"path",23),U())}function Sa(e,t){e&1&&(bt(),H(0,"svg",22),ve(1,"path",24),U())}function ka(e,t){e&1&&(bt(),H(0,"svg",22),ve(1,"path",25),U())}function Ea(e,t){e&1&&(bt(),H(0,"svg",22),ve(1,"path",26),U())}var Gn=(()=>{class e{constructor(){this.componentId=ne(Ni(10)),this.componentTabIndex=ne(0),this.componentClass=ne(""),this.page=ne.required(),this.pageSize=ne.required(),this.sizeList=ne([]),this.totalItems=ne.required(),this.showTotalElementsCount=ne(!0),this.totalItemsText=ne("quangPaginator.totalItems"),this.sizeText=ne("quangPaginator.size"),this.pageRangeText=ne("quangPaginator.pageRange"),this._currentPage=he(1),this.page$=Ke(this.page).pipe(He()).subscribe(i=>{this._currentPage.set(i)}),this._pageSize=he(0),this.pageSize$=Ke(this.pageSize).pipe(He()).subscribe(i=>{this._pageSize.set(i)}),this._totalPages=Ce(()=>Math.ceil(this.totalItems()/this._pageSize())),this.changePage=ut(),this.changeSize=ut()}ngOnInit(){this._currentPage.set(this.page()),this._pageSize.set(this.pageSize())}onChangeSize(i){this._pageSize.set(parseInt(i.target.value)),this.changeSize.emit(this._pageSize()),this.goToFirstPage()}goToNextPage(){this._currentPage.update(i=>i+1),this.changePage.emit(this._currentPage())}goToPreviousPage(){this._currentPage.update(i=>i-1),this.changePage.emit(this._currentPage())}goToFirstPage(){this._currentPage.set(1),this.changePage.emit(this._currentPage())}goToLastPage(){this._currentPage.set(this._totalPages()),this.changePage.emit(this._currentPage())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["quang-paginator"]],inputs:{componentId:[1,"componentId"],componentTabIndex:[1,"componentTabIndex"],componentClass:[1,"componentClass"],page:[1,"page"],pageSize:[1,"pageSize"],sizeList:[1,"sizeList"],totalItems:[1,"totalItems"],showTotalElementsCount:[1,"showTotalElementsCount"],totalItemsText:[1,"totalItemsText"],sizeText:[1,"sizeText"],pageRangeText:[1,"pageRangeText"]},outputs:{changePage:"changePage",changeSize:"changeSize"},decls:32,vars:15,consts:[["nextTemplate",""],["prevTemplate",""],["lastTemplate",""],["firstTemplate",""],["input",""],[1,"paginatorContainer",3,"id","ngClass"],["class","me-3 pagination-label",4,"ngIf"],["class","me-3",4,"ngIf"],[1,"pagination-label","text-center"],[1,"pagination"],["type","button",1,"page-link",3,"click","disabled"],["fill","currentColor","height","24","stroke","currentColor","viewBox","0 -960 960 960","width","24","xmlns","http://www.w3.org/2000/svg"],["d","M240-240v-480h80v480h-80Zm440 0L440-480l240-240 56 56-184 184 184 184-56 56Z","fill","currentColor","stroke","currentColor"],["d","M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z","fill","currentColor","stroke","currentColor"],["d","M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z","fill","currentColor","stroke","currentColor"],["d","m280-240-56-56 184-184-184-184 56-56 240 240-240 240Zm360 0v-480h80v480h-80Z","fill","currentColor","stroke","currentColor"],[1,"me-3","pagination-label"],[1,"me-3"],["for","pageSize",1,"form-label","pagination-label","mb-0","text-center"],["autocomplete","off","id","pageSize","name","pageSize",1,"form-select","page-size",3,"change","id","tabIndex"],[3,"selected",4,"ngFor","ngForOf"],[3,"selected"],["fill","currentColor","fill","currentColor","height","48","stroke","currentColor","viewBox","0 -960 960 960","width","48","xmlns","http://www.w3.org/2000/svg"],["d","M530-481 332-679l43-43 241 241-241 241-43-43 198-198Z","fill","currentColor","stroke","currentColor"],["d","M561-240 320-481l241-241 43 43-198 198 198 198-43 43Z","fill","currentColor","stroke","currentColor"],["d","m272-245-43-43 192-192-192-192 43-43 235 235-235 235Zm388 5v-480h60v480h-60Z","fill","currentColor","stroke","currentColor"],["d","M240-240v-480h60v480h-60Zm447-3L453-477l234-234 43 43-191 191 191 191-43 43Z","fill","currentColor","stroke","currentColor"]],template:function(n,s){if(n&1){let a=Re();H(0,"div",5),ye(1,Ca,3,4,"div",6)(2,xa,7,6,"div",7),H(3,"div",8),J(4),ee(5,"transloco"),U(),H(6,"div",9)(7,"ul")(8,"li")(9,"button",10),re("click",function(){return be(a),_e(s.goToFirstPage())}),bt(),H(10,"svg",11),ve(11,"path",12),U()()(),xi(),H(12,"li")(13,"button",10),re("click",function(){return be(a),_e(s.goToPreviousPage())}),bt(),H(14,"svg",11),ve(15,"path",13),U()()(),xi(),H(16,"li")(17,"button",10),re("click",function(){return be(a),_e(s.goToNextPage())}),bt(),H(18,"svg",11),ve(19,"path",14),U()()(),xi(),H(20,"li")(21,"button",10),re("click",function(){return be(a),_e(s.goToLastPage())}),bt(),H(22,"svg",11),ve(23,"path",15),U()()()()()(),ye(24,Ta,2,0,"ng-template",null,0,xt)(26,Sa,2,0,"ng-template",null,1,xt)(28,ka,2,0,"ng-template",null,2,xt)(30,Ea,2,0,"ng-template",null,3,xt)}n&2&&(ie("id",s.componentId())("ngClass",s.componentClass()),I(),ie("ngIf",s.showTotalElementsCount()),I(),ie("ngIf",s.sizeList().length>0),I(2),se(" ",we(5,9,s.pageRangeText(),Si(12,va,s.page(),s._totalPages()))," "),I(5),ie("disabled",s._currentPage()<=1),I(4),ie("disabled",s._currentPage()<=1),I(4),ie("disabled",s._currentPage()>=s._totalPages()),I(4),ie("disabled",s._currentPage()>=s._totalPages()))},dependencies:[Ie,ht,Ei,tt],styles:["[_nghost-%COMP%]{display:block}.paginatorContainer[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-wrap:wrap}@media (min-width: 576px){.paginatorContainer[_ngcontent-%COMP%]{flex-wrap:nowrap;order:2}}.paginatorContainer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem;order:2;min-width:80px}@media (min-width: 576px){.paginatorContainer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{order:1}}.pagination[_ngcontent-%COMP%]{margin-bottom:.5rem}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;display:flex}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pagination-page[_ngcontent-%COMP%]{display:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border-radius:50%;padding:.375rem;border:none;gap:1.5rem;padding:.25rem;background-color:transparent;color:var(--bs-body-color)}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{opacity:40%}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:unset}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;width:30px;height:30px}.pagination-label[_ngcontent-%COMP%]{margin:0;margin-bottom:1rem;font-size:.75rem}"],changeDetection:0})}}return e})();var La=["testComponent"],po=(()=>{class e{constructor(){this.PaginatorTestComponent=Gn,this.quangTranslationService=Te(Ge),this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/paginator.md":"./assets/docs/paginator.it.md"),this.formBuilder=Te(st),this.sizeList=[10,20,30,40,50],this.testForm=this.formBuilder.group({page:1,pageSize:10})}onChangePage(i){this.testForm.controls.page.patchValue(i),console.log(i)}onChangePageSize(i){this.testForm.controls.pageSize.patchValue(i),console.log(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-paginator-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,La,5),n&2&&Ve()},decls:13,vars:13,consts:[["testComponent",""],[1,"card"],[1,"card-header"],[1,"card-body"],["id","testComponent","playgroundSourceCode","",3,"changePage","changeSize","page","pageSize","sizeList","totalItems"],[1,"mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"]],template:function(n,s){if(n&1){let a=Re();H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"div",1),ve(4,"div",2),H(5,"div",3)(6,"quang-paginator",4,0),re("changePage",function(h){return be(a),_e(s.onChangePage(h))})("changeSize",function(h){return be(a),_e(s.onChangePageSize(h))}),U()()(),H(8,"div",5),J(9),ee(10,"json"),U(),H(11,"div",6),ve(12,"playground-component-documentation",7),U()}n&2&&(I(),Qe(ce(2,9,"title.components.paginator")),I(5),ie("page",s.testForm.controls.page.value)("pageSize",s.testForm.controls.pageSize.value)("sizeList",s.sizeList)("totalItems",30),I(3),se(" ",ce(10,11,s.testForm.value),`
`),I(3),ie("componentType",s.PaginatorTestComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[Gn,ft,ot,pt,Ie,it,lt],encapsulation:2,changeDetection:0})}}return e})();var Ma=["testComponent"],Da=e=>({enabled:e}),Ia=e=>({required:e}),Na=e=>({readonly:e}),Ba=e=>({value:e}),Oa=e=>({valid:e});function Fa(e,t){if(e&1&&(H(0,"div",5),ve(1,"quang-select",11,0)(3,"quang-select",12)(4,"quang-select",13),U()),e&2){let i=ae();I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("selectOptions",i.stringList),I(2),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("selectOptions",i.stringList),I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("selectOptions",i.numberList)}}function Aa(e,t){if(e&1&&(H(0,"div",8)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let i=ae();I(2),se(" ",we(4,4,"form.label.formValue",xe(10,Ba,ce(3,2,i.testForm.value)))," "),I(4),se(" ",we(7,7,"form.label.formValidity",xe(12,Oa,i.testForm.valid))," ")}}var mo=(()=>{class e{changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control(this.stringList[2].value,[me.required]),testInputMultiple:this.formBuilder.control([1,2],[me.required])})}setFormValues(){this.testForm.patchValue({testInput:"min",testInputMultiple:[3,4]})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}constructor(){this.QuangSelectComponent=fi,this.quangTranslationService=Te(Ge),this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/select.md":"./assets/docs/select.it.md"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.stringList=[{code:"required",description:"This field is required."},{code:"minLength",description:"This field must be at least 10 characters long."},{code:"maxLength",description:"This field must be at most 30 characters long."},{code:"pattern",description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:"email",description:"This field must be a valid email address."},{code:"min",description:"This field must be greater than or equal to 10."},{code:"max",description:"This field must be less than or equal to 30."},{code:"unique",description:"This field must be unique."},{code:"custom",description:"This field does not meet the custom validation rule."},{code:"async",description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.numberList=[{code:1,description:"This field is required."},{code:2,description:"This field must be at least 10 characters long."},{code:3,description:"This field must be at most 30 characters long."},{code:4,description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:5,description:"This field must be a valid email address."},{code:6,description:"This field must be greater than or equal to 10."},{code:7,description:"This field must be less than or equal to 30."},{code:8,description:"This field must be unique."},{code:9,description:"This field does not meet the custom validation rule."},{code:10,description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.formBuilder=Te(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[me.required]),testInputMultiple:this.formBuilder.control([],[me.required])}),this.showInput=he(!0),this.onChangeTestInput=this.testForm.controls.testInput.valueChanges.pipe(He()).subscribe(i=>{console.log(i)}),this.onChangeTestInputMultiple=this.testForm.controls.testInputMultiple.valueChanges.pipe(He()).subscribe(i=>{console.log(i)}),setTimeout(()=>{console.log("\xE8 il momento dei pocci"),this.testForm.controls.testInputMultiple.patchValue(1)},5e3)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-select-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,Ma,5),n&2&&Ve()},decls:33,vars:39,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.select","componentPlaceholder","Placeholder select singola scelta","formControlName","testInput","id","testComponent","playgroundSourceCode","","selectionMode","single","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"],["componentLabel","form.label.select","componentPlaceholder","Placeholder select singola scelta","formControlName","testInput","selectionMode","single","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"],["componentLabel","form.label.multipleSelect","componentPlaceholder","Placeholder select scelta multipla","formControlName","testInputMultiple","selectionMode","multiple","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"]],template:function(n,s){n&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1)(4,"div",2),ve(5,"div",3),H(6,"div",4),ye(7,Fa,5,9,"div",5),H(8,"div",6)(9,"button",7),re("click",function(){return s.changeFormEnabled()}),J(10),ee(11,"transloco"),U(),H(12,"button",7),re("click",function(){return s.changeFormInputRequired()}),J(13),ee(14,"transloco"),U(),H(15,"button",7),re("click",function(){return s.changeVisibility()}),J(16),ee(17,"transloco"),U(),H(18,"button",7),re("click",function(){return s.recreateForm()}),J(19),ee(20,"transloco"),U(),H(21,"button",7),re("click",function(){return s.setFormValues()}),J(22),ee(23,"transloco"),U(),H(24,"button",7),re("click",function(){return s.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),U(),H(27,"button",7),re("click",function(){return s.setReadonly()}),J(28),ee(29,"transloco"),U()()()()(),ye(30,Aa,8,14,"div",8),H(31,"div",9),ve(32,"playground-component-documentation",10),U()),n&2&&(I(),Qe(ce(2,14,"title.components.select")),I(2),ie("formGroup",s.testForm),I(4),Ae(s.showInput()?7:-1),I(3),se(" ",we(11,16,"form.buttons.enabled",xe(33,Da,s.testForm.enabled))," "),I(3),se(" ",we(14,19,"form.buttons.required",xe(35,Ia,s.getIsRequiredInput()))," "),I(3),se(" ",ce(17,22,"form.buttons.changeVisibility")," "),I(3),se(" ",ce(20,24,"form.buttons.recreateForm")," "),I(3),se(" ",ce(23,26,"form.buttons.setForm")," "),I(3),se(" ",ce(26,28,"form.buttons.checkForm")," "),I(3),se(" ",we(29,30,"form.buttons.readonly",xe(37,Na,s.isReadonly()))," "),I(2),Ae(s.showValueAndValidity()?30:-1),I(2),ie("componentType",s.QuangSelectComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[ft,kt,mt,St,pt,ot,Et,Lt,Ie,fi,it,lt],encapsulation:2,changeDetection:0})}}return e})();var Ra=(e,t)=>({"mb-3":e,"form-check":t}),Ha=e=>({"cursor-pointer":e});function Pa(e,t){if(e&1&&(H(0,"label",6),J(1),ee(2,"transloco"),H(3,"span",7),J(4,"*"),U()()),e&2){let i=ae();ie("htmlFor",i.componentId())("ngClass",xe(6,Ha,!i._isDisabled())),I(),se(" ",ce(2,4,i.componentLabel())," "),I(2),ie("hidden",!i._isRequired())}}function za(e,t){if(e&1&&(H(0,"small",8),J(1),ee(2,"transloco"),U()),e&2){let i=ae();ie("hidden",i._showSuccess()||i._showErrors()),I(),se(" ",ce(2,2,i.helpMessage())," ")}}var gi=(()=>{class e extends Mt{constructor(){super(...arguments),this.labelPosition=ne("top"),this.checkType=ne.required(),this.removeMargin=ne(!1)}onChangedEventHandler(i){let n=i.target;this.onChangedHandler(n.checked)}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=Yt(e)))(s||e)}})()}static{this.\u0275cmp=De({type:e,selectors:[["quang-checkbox"]],inputs:{labelPosition:[1,"labelPosition"],checkType:[1,"checkType"],removeMargin:[1,"removeMargin"]},features:[wt([{provide:Tt,useExisting:vt(()=>e),multi:!0}]),Ct],decls:11,vars:46,consts:[[3,"ngClass"],["class","form-label",3,"htmlFor","ngClass",4,"ngIf"],["type","checkbox",3,"blur","input","checked","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor","ngClass"],[3,"hidden"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){n&1&&(H(0,"div",0),ye(1,Pa,5,8,"label",1),H(2,"input",2),ee(3,"transloco"),re("blur",function(){return s.onBlurHandler()})("input",function(u){return s.onChangedEventHandler(u)}),U(),H(4,"div",3),J(5),ee(6,"transloco"),U(),H(7,"div",4),J(8),ee(9,"transloco"),U(),ye(10,za,3,4,"small",5),U()),n&2&&(Ue("form-check-reverse",s.labelPosition()==="left"&&s.checkType()==="checkbox")("form-switch",s.checkType()==="toggle")("label-bottom",s.labelPosition()==="bottom")("label-left",s.labelPosition()==="left"&&s.checkType()==="toggle")("label-right",s.labelPosition()==="right"&&s.checkType()==="toggle")("label-top",s.labelPosition()==="top")("toggle-wrapper",s.checkType()==="toggle"),ie("ngClass",Si(43,Ra,!s.removeMargin(),!s.removeMargin())),I(),ie("ngIf",s.componentLabel()),I(),ps("form-check-input ",s._isDisabled()?"":"cursor-pointer",""),Ue("is-invalid",s._showErrors())("is-valid",s._showSuccess()),ie("checked",s._value())("disabled",s._isDisabled())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ce(3,36,s.componentPlaceholder()))("readOnly",s.isReadonly())("tabIndex",s.componentTabIndex())("value",s._value()),dt("required",s.getIsRequiredControl())("role",s.checkType()==="checkbox"?"checkbox":"switch"),I(3),se(" ",ce(6,38,s.successMessage())," "),I(3),se(" ",we(9,40,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),I(2),ie("ngIf",s.helpMessage()))},dependencies:[Ie,ht,tt],styles:["[_nghost-%COMP%]{display:block}.label-top[_ngcontent-%COMP%]{display:flex;flex-direction:column}.label-top[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset;float:unset}.label-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.label-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset;float:unset}.label-right[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:start}.label-right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.5rem;margin-bottom:0;align-self:center}.label-left[_ngcontent-%COMP%]{flex-direction:row}.label-left[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;align-self:center}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;padding-left:unset}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.toggle-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:unset;width:3em;height:1.5em}.direction-row[_ngcontent-%COMP%]{flex-direction:row}.direction-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-right:.5rem}.direction-reverse-row[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:start}.direction-reverse-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.direction-column[_ngcontent-%COMP%]{flex-direction:column}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}}return e})();var fo=["tableHeader"],Va=["fakeTableHeader"],bi=e=>({$implicit:e});function Wa(e,t){if(e&1&&(H(0,"div",17),Gt(1,16),U()),e&2){let i=ae().$implicit;ae(2);let n=_t(4);I(),ie("ngTemplateOutlet",n)("ngTemplateOutletContext",xe(2,bi,i.sort))}}function qa(e,t){if(e&1){let i=Re();H(0,"th",14),re("click",function(){let s=be(i).$implicit,a=ae(2);return _e(s!=null&&s.sort?a.onSortColumn(s.sort):null)}),H(1,"div",15),J(2),ee(3,"transloco"),Gt(4,16),ye(5,Wa,2,4,"div",17),U()()}if(e&2){let i,n=t.$implicit;Ue("sort-btn",n==null?null:n.sort),I(),ie("ngClass",n==null?null:n.css),I(),se(" ",n.renderer?null:ce(3,7,n.text)," "),I(2),ie("ngTemplateOutlet",(i=n==null?null:n.renderer)!==null&&i!==void 0?i:null)("ngTemplateOutletContext",xe(9,bi,n.payload)),I(),Ae(n.sort!=null&&n.sort.key?5:-1)}}function Ua(e,t){if(e&1&&(H(0,"div",17),Gt(1,16),U()),e&2){let i=ae().$implicit;ae(2);let n=_t(4);I(),ie("ngTemplateOutlet",n)("ngTemplateOutletContext",xe(2,bi,i.sort))}}function $a(e,t){if(e&1){let i=Re();H(0,"th",14),re("click",function(){let s=be(i).$implicit,a=ae(2);return _e(s!=null&&s.sort?a.onSortColumn(s.sort):null)}),H(1,"div",15),J(2),ee(3,"transloco"),Gt(4,16),ye(5,Ua,2,4,"div",17),U()()}if(e&2){let i,n=t.$implicit;Ue("sort-btn",n==null?null:n.sort),I(),ie("ngClass",n==null?null:n.css),I(),se(" ",n.renderer?null:ce(3,7,n.text)," "),I(2),ie("ngTemplateOutlet",(i=n==null?null:n.renderer)!==null&&i!==void 0?i:null)("ngTemplateOutletContext",xe(9,bi,n.payload)),I(),Ae(n.sort!=null&&n.sort.key?5:-1)}}function Za(e,t){if(e&1&&(H(0,"td",19),J(1),Gt(2,16),U()),e&2){let i,n=t.$implicit,s=ae(3);ie("ngClass",n.css),dt("colspan",n!=null&&n.fullWidth?s._tableConfigurations().headers.length:void 0),I(),se(" ",n.renderer?null:n.text," "),I(),ie("ngTemplateOutlet",(i=n==null?null:n.renderer)!==null&&i!==void 0?i:null)("ngTemplateOutletContext",xe(5,bi,n.payload))}}function Ya(e,t){if(e&1){let i=Re();H(0,"tr",18),re("click",function(){let s=be(i).$implicit,a=ae(2);return _e(a.clickableRow()?a.onClickRow(s):null)}),Pt(1,Za,3,7,"td",19,Ht),U()}if(e&2){let i=t.$implicit,n=ae(2);Ue("hover-table",n.clickableRow())("selectedRow",i!=null&&i.rowId?n.isSelected(i.rowId):null),ie("ngClass",i.css),I(),zt(i.cellData)}}function Qa(e,t){if(e&1){let i=Re();H(0,"div",7,1),re("scroll",function(){be(i);let s=_t(1),a=_t(9);return _e(a.scrollLeft=s.scrollLeft)}),H(2,"table",8,2)(4,"thead")(5,"tr"),Pt(6,qa,6,11,"th",9,Ht),U()()()(),H(8,"div",10,3),re("scroll",function(){be(i);let s=_t(1),a=_t(9);return _e(s.scrollLeft=a.scrollLeft)}),H(10,"table",11)(11,"thead",12,4)(13,"tr"),Pt(14,$a,6,11,"th",9,Ht),U()(),H(16,"tbody"),Pt(17,Ya,3,5,"tr",13,Ht),U()()()}if(e&2){let i=ae();I(6),zt(i._tableConfigurations().headers),I(8),zt(i._tableConfigurations().headers),I(3),zt(i._tableConfigurations().rows)}}function ja(e,t){if(e&1&&(H(0,"h6",6),J(1),ee(2,"transloco"),U()),e&2){let i=ae();I(),se(" ",ce(2,1,i.noResultsText())," ")}}function Ga(e,t){if(e&1&&(H(0,"div",20),bt(),H(1,"svg",21),ve(2,"path",22),U(),H(3,"svg",23),ve(4,"path",24),U()()),e&2){let i=t.$implicit,n=ae();Ue("sort-asc",i.sort===n.SortTable.ASC)("sort-default",i.sort===n.SortTable.DEFAULT)("sort-desc",i.sort===n.SortTable.DESC)}}var rt=function(e){return e.DEFAULT="DEFAULT",e.ASC="ASC",e.DESC="DESC",e}(rt||{}),Xn=(()=>{class e{constructor(){this.clickableRow=ne(!1),this.selectedRows=ne(),this.stickyTable=ne(!0),this.selectedRow=ut(),this.sortChanged=ut(),this.SortTable=rt,this.destroyRef=Te(At),this._resizeObservableService=Te(ks),this._tableHeader=Ee("tableHeader"),this._tableHeaderElement=Ee("tableHeader"),this.noResultsText=ne("quangTable.noResults"),this._tableHeaderEffect=yt(()=>{this._tableHeader()&&this.fixTableHeaderWidth()}),this._tableHeaderElementEffect=yt(()=>{this._tableHeaderElement()&&this.fixTableHeaderWidth()}),this._fakeTableHeader=Ee("fakeTableHeader"),this._fakeTableHeaderEffect=yt(()=>{this._fakeTableHeader()&&this.fixTableHeaderWidth()}),this.tableConfigurations=ne.required(),this._tableConfigurations=he({headers:[],rows:[]}),this.tableConfigurations$=Ke(this.tableConfigurations).pipe(He()).subscribe(i=>{let n=[],s=[];for(let a of i.headers)n.push(ct({},a));for(let a of i.rows)s.push(ct({},a));this._tableConfigurations.set({headers:n,rows:s})}),this.effectTableConfigurations=yt(()=>{this._tableConfigurations()&&this.fixTableHeaderWidth()}),this.hiddenColumnsObservable=void 0,this.lastWidth=-1}onClickRow(i){this.clickableRow()&&this.selectedRow.emit(i)}isSelected(i){return!!this.selectedRows()?.some(n=>n===i)}fixTableHeaderWidth(){setTimeout(()=>{let i=this._tableHeader()?.nativeElement?.querySelectorAll("th"),n=this._fakeTableHeader()?.nativeElement?.querySelectorAll("th");if(i?.length>0&&n?.length>0){this.hiddenColumnsObservable&&this.hiddenColumnsObservable.unsubscribe(),this.hiddenColumnsObservable=this._resizeObservableService.widthResizeObservable(n[0]).pipe(He(this.destroyRef)).subscribe(s=>{s!==this.lastWidth&&(this.lastWidth=s,this.fixTableHeaderWidth())});for(let s=0;s<n?.length;s++){let a=n[s];i[s].style.minWidth=`${a.offsetWidth}px`,i[s].style.maxWidth=`${a.offsetWidth}px`}}})}onSortColumn(i){let n=[];for(let s of this._tableConfigurations().headers)n.push(ct({},s));n.forEach(s=>{if(s.sort?.key)if(s.sort?.key===i.key)switch(i.sort){case rt.ASC:s.sort.sort=rt.DESC;break;case rt.DESC:s.sort.sort=rt.DEFAULT;break;case rt.DEFAULT:default:s.sort.sort=rt.ASC;break}else s.sort=qt(ct({},s.sort),{sort:rt.DEFAULT})}),this._tableConfigurations.set(qt(ct({},this._tableConfigurations()),{headers:n})),this.sortChanged.emit([i])}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["quang-table"]],viewQuery:function(n,s){n&1&&(Le(s._tableHeader,fo,5),Le(s._tableHeaderElement,fo,5),Le(s._fakeTableHeader,Va,5)),n&2&&Ve(3)},inputs:{clickableRow:[1,"clickableRow"],selectedRows:[1,"selectedRows"],stickyTable:[1,"stickyTable"],noResultsText:[1,"noResultsText"],tableConfigurations:[1,"tableConfigurations"]},outputs:{selectedRow:"selectedRow",sortChanged:"sortChanged"},decls:5,vars:4,consts:[["orderBtns",""],["tableHeaderContainer",""],["tableHeader",""],["tableContainer",""],["fakeTableHeader",""],[1,"table-responsive"],[1,"text-center","mt-3"],["id","tableHeaderContainer",1,"table-header-container",3,"scroll"],["id","tableHeader"],[1,"align-bottom",3,"sort-btn"],[1,"table-container",3,"scroll"],["id","table-content",1,"table"],["id","fakeTableHeader",1,"fake-table-header"],[3,"hover-table","selectedRow","ngClass"],[1,"align-bottom",3,"click"],[1,"align-self-end","d-flex","gap-1",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-between"],[3,"click","ngClass"],[3,"ngClass"],[1,"sort-arrows"],["fill","currentColor","height","10","stroke","currentColor","viewBox","279.5 -600.5 401 201","width","10","xmlns","http://www.w3.org/2000/svg",1,"arrow-up"],["d","m280-400 200-200 200 200H280Z","fill","currentColor","stroke","currentColor"],["fill","currentColor","height","10","stroke","currentColor","viewBox","279.5 -560.5 401 201","width","10","xmlns","http://www.w3.org/2000/svg",1,"arrow-down"],["d","M480-360 280-560h400L480-360Z","fill","currentColor","stroke","currentColor"]],template:function(n,s){n&1&&(H(0,"div",5),ye(1,Qa,19,0)(2,ja,3,3,"h6",6),U(),ye(3,Ga,5,6,"ng-template",null,0,xt)),n&2&&(Ue("sticky-table",s.stickyTable()),I(),Ae(s._tableConfigurations().rows.length?1:-1),I(),Ae(s._tableConfigurations().rows.length?-1:2))},dependencies:[Ie,tt,vs],styles:["[_nghost-%COMP%]{display:block;--table-header-container-top: 0;--table-header-bg: var(--bs-body-bg);--table-header-border-color: var(--bs-border-color);--table-header-border-width: 4px;--table-row-hover-brightness: 90%;--table-row-selected-brightness: 95%}.table-responsive[_ngcontent-%COMP%]{overflow:initial}.table-responsive[_ngcontent-%COMP%]   .fake-table-header[_ngcontent-%COMP%]{height:0;overflow:hidden;line-height:0;visibility:collapse}.table-responsive[_ngcontent-%COMP%]   .fake-table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important;margin-top:0!important;margin-bottom:0!important;background-color:var(--table-header-bg);border:unset}.table-responsive[_ngcontent-%COMP%]   .table-header-container[_ngcontent-%COMP%]{overflow-x:hidden;z-index:1}.table-responsive[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;font-size:16px;overflow-y:auto;margin-bottom:unset}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{text-transform:uppercase}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem .5rem;z-index:999;background-color:var(--table-header-bg);box-shadow:inset 0 calc(var(--table-header-border-width) * -1) 0 0 var(--table-header-border-color)}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.hover-table[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(var(--table-row-hover-brightness))}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selectedRow[_ngcontent-%COMP%]{filter:brightness(var(--table-row-selected-brightness))}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;font-weight:300;vertical-align:middle}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:transparent}.table-responsive.sticky-table[_ngcontent-%COMP%]{position:relative}.table-responsive.sticky-table[_ngcontent-%COMP%]   .table-header-container[_ngcontent-%COMP%]{position:sticky;top:var(--table-header-container-top, 0)}.sort-arrows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.sort-default[_ngcontent-%COMP%]{opacity:30%}.sort-asc[_ngcontent-%COMP%]   .arrow-up[_ngcontent-%COMP%]{opacity:100%}.sort-asc[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%], .sort-desc[_ngcontent-%COMP%]   .arrow-up[_ngcontent-%COMP%]{display:none}.sort-desc[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{opacity:100%}.sort-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"],changeDetection:0})}}return e})();var Xa=["checkboxRenderer"],Ka=["name3"],Ja=["actions"],ec=["testComponent"];function tc(e,t){if(e&1){let i=Re();H(0,"div",9)(1,"button",10),re("click",function(){let s=be(i).$implicit,a=ae();return _e(a.onEditPerson(s.id))}),ve(2,"svg-icon",11),U(),H(3,"button",12),re("click",function(){let s=be(i).$implicit,a=ae();return _e(a.onDeletePerson(s.id))}),ve(4,"svg-icon",13),U()()}e&2&&(I(2),ie("applyClass",!0),I(2),ie("applyClass",!0))}function ic(e,t){if(e&1&&(H(0,"div",14),J(1),U()),e&2){let i=t.$implicit;ae();let n=_t(12);ie("quangOverlayPayload",i)("quangPopover",n),I(),se(" ",i," ")}}function nc(e,t){if(e&1&&(H(0,"div",15),J(1),U()),e&2){let i=t.$implicit;I(),se(" ",i," ")}}function sc(e,t){if(e&1&&(H(0,"div",17),ve(1,"quang-checkbox",18),U()),e&2){let i=t.ngIf;I(),ie("formControl",i)("removeMargin",!0)}}function oc(e,t){if(e&1&&ye(0,sc,2,2,"div",16),e&2){let i,n=t.$implicit,s=ae();ie("ngIf",(i=s.selectFormMap())==null?null:i.get(n.toString()))}}var go=(()=>{class e{constructor(){this.TableTestComponent=Xn,this.quangTranslationService=Te(Ge),this.checkboxRenderer=Ee("checkboxRenderer"),this.name3=Ee("name3"),this.actions=Ee("actions"),this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?(console.log("testComponent",document.getElementById("testComponent")),document.getElementById("testComponent")?.getAttribute("data-source")??""):""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/table.md":"./assets/docs/table.it.md"),this.people=[{name:"John Doewe",age:30,gender:"Male",id:1},{name:"Jane Doe",age:25,gender:"Female",id:2},{name:"Peter Parker",age:20,gender:"Male",id:3},{name:"Mary Jane",age:22,gender:"Female",id:4},{name:"Bruce Wayne",age:35,gender:"Male",id:5},{name:"Clark Kent",age:30,gender:"Male",id:6},{name:"Diana Prince",age:28,gender:"Female",id:7},{name:"Barry Allen",age:25,gender:"Male",id:8},{name:"Kara Zor-El",age:23,gender:"Female",id:9},{name:"Hal Jordan",age:32,gender:"Male",id:10},{name:"Tony Stark",age:40,gender:"Male",id:11},{name:"Steve Rogers",age:35,gender:"Male",id:12},{name:"Natasha Romanoff",age:30,gender:"Female",id:13},{name:"Bruce Banner",age:35,gender:"Male",id:14},{name:"Thor Odinson",age:1e3,gender:"Male",id:15},{name:"Loki Laufeyson",age:1e3,gender:"Male",id:16},{name:"Heimdall",age:500,gender:"Male",id:17},{name:"Sif",age:500,gender:"Female",id:18},{name:"Volstagg",age:500,gender:"Male",id:19},{name:"Fandral",age:500,gender:"Male",id:20},{name:"Hogun",age:500,gender:"Male",id:21}],this.peopleList=he(this.people),this.tableHeaders=he([{renderer:this.checkboxRenderer(),payload:"header"},{text:"Name",sort:{key:"name",sort:rt.DEFAULT}},{text:"Name2",sort:{key:"name2",sort:rt.DEFAULT}},{text:"Name3",css:["justify-content-end"],sort:{key:"name3",sort:rt.DEFAULT}},{text:"Age",sort:{key:"age",sort:rt.DESC}},{text:"Gender",sort:{key:"gender",sort:rt.DEFAULT}},{text:""}]),this.tableRows=he(this.peopleList()?.map(i=>({css:void 0,rowId:`person-${i.id}`,payload:i,cellData:[{renderer:this.checkboxRenderer(),payload:i.id},{text:i.name},{text:i.name},{renderer:this.name3(),payload:i.name},{text:i.age.toString()},{text:i.gender,css:["bg-light"]},{renderer:this.actions(),payload:i}]}))??[]),this.tableConfig=Ce(()=>({headers:this.tableHeaders(),rows:this.tableRows()})),this.selectedRows=[],this.destroyRef=Te(At),this.selectFormMap=he(void 0),this.formBuilder=Te(st),this.checkboxForm=this.formBuilder.control(!1),this.peopleList$=Ke(this.peopleList).pipe(He()).subscribe(i=>{let n=new Map,s=this.formBuilder.control(!1);if(s.valueChanges.pipe(He(this.destroyRef)).subscribe(a=>{console.log("header",a);for(let[u,h]of n)u!=="header"&&h.setValue(a)}),n.set("header",s),i)for(let a of i)n.set(a.id.toString(),this.formBuilder.control(!1));this.selectFormMap.set(n)})}onEditPerson(i){let n=this.tableConfig().rows.find(s=>s.payload?.id===i);n&&(n.css=n?.css?.length?void 0:["hover-table"])}addPerson(){this.peopleList.set([...this.peopleList(),{name:"New Person",age:0,gender:"Male",id:1e3}])}onDeletePerson(i){this.tableConfig().rows=this.tableConfig().rows.filter(n=>n.payload?.id!==i)}onClickRow(i){i?.rowId&&(this.selectedRows.some(n=>n===i.rowId)?this.selectedRows=this.selectedRows.filter(n=>n!==i.rowId):this.selectedRows.push(i.rowId.toString()),this.selectedRows=[...this.selectedRows])}onChangeSort(i){this.tableHeaders.update(n=>n.map(s=>qt(ct({},s),{sort:s.sort?qt(ct({},s.sort),{sort:i[0].key===s.sort.key?i[0].sort:rt.DEFAULT}):void 0})))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-table-test"]],viewQuery:function(n,s){n&1&&(Le(s.checkboxRenderer,Xa,5),Le(s.name3,Ka,5),Le(s.actions,Ja,5),Le(s.testComponent,ec,5)),n&2&&Ve(4)},decls:17,vars:8,consts:[["testComponent",""],["actions",""],["name3",""],["namePop",""],["checkboxRenderer",""],["type","button",1,"btn","me-3","btn-primary",3,"click"],["id","testComponent","playgroundSourceCode","",3,"sortChanged","stickyTable","tableConfigurations"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","me-3",3,"click"],["src","assets/icons/svg/edit.svg",3,"applyClass"],["type","button",1,"btn",3,"click"],["src","assets/icons/svg/trash.svg",3,"applyClass"],["overlayPosition","bottom",3,"quangOverlayPayload","quangPopover"],[1,"p-2"],["style","padding-bottom: 0.25rem",4,"ngIf"],[2,"padding-bottom","0.25rem"],["checkType","checkbox",3,"formControl","removeMargin"]],template:function(n,s){if(n&1){let a=Re();H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"button",5),re("click",function(){return be(a),_e(s.addPerson())}),J(4,` Add person
`),U(),H(5,"quang-table",6,0),re("sortChanged",function(h){return be(a),_e(s.onChangeSort(h))}),U(),ye(7,tc,5,2,"ng-template",null,1,xt)(9,ic,2,3,"ng-template",null,2,xt)(11,nc,2,1,"ng-template",null,3,xt)(13,oc,1,1,"ng-template",null,4,xt),H(15,"div",7),ve(16,"playground-component-documentation",8),U()}n&2&&(I(),Qe(ce(2,6,"title.components.table")),I(4),ie("stickyTable",!0)("tableConfigurations",s.tableConfig()),I(11),ie("componentType",s.TableTestComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[Xn,Ss,Ie,Di,Xt,gi,ot,mt,Ii,ht,it,lt],styles:[".edited-row[_ngcontent-%COMP%]{color:green}quang-table[_ngcontent-%COMP%]{--table-header-border-width: 2px}"],changeDetection:0})}}return e})();var lc=["testComponent"],rc=e=>({enabled:e}),ac=e=>({required:e}),cc=e=>({readonly:e}),uc=e=>({value:e}),dc=e=>({valid:e});function hc(e,t){if(e&1&&(H(0,"div",3)(1,"div",4),ve(2,"quang-checkbox",12,0),U(),H(4,"div",13),ve(5,"quang-checkbox",14)(6,"quang-checkbox",15),U()()),e&2){let i=ae();I(2),ie("errorMap",i.errors())("isReadonly",i.isReadonly()),I(3),ie("errorMap",i.errors())("isReadonly",i.isReadonly()),I(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())}}function pc(e,t){if(e&1&&(H(0,"div",10)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let i=ae();I(2),se(" ",we(4,4,"form.label.formValue",xe(10,uc,ce(3,2,i.testForm.value)))," "),I(4),se(" ",we(7,7,"form.label.formValidity",xe(12,dc,i.testForm.valid))," ")}}var bo=(()=>{class e{constructor(){this.ToggleTestComponent=gi,this.quangTranslationService=Te(Ge),this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/checkbox.md":"./assets/docs/checkbox.it.md"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Te(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({toggle:this.formBuilder.control(!1,[me.required]),checkbox:this.formBuilder.control(!0,[me.required])}),this.showInput=he(!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.toggle.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?(this.testForm.controls.toggle.removeValidators(me.required),this.testForm.controls.checkbox.removeValidators(me.required)):(this.testForm.controls.toggle.addValidators(me.required),this.testForm.controls.checkbox.addValidators(me.required)),this.testForm.controls.toggle.updateValueAndValidity(),this.testForm.controls.checkbox.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({toggle:this.formBuilder.control(!1,[me.required]),checkbox:this.formBuilder.control(!1,[me.required])})}setFormValues(){this.testForm.patchValue({toggle:!0,checkbox:!0})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-toggle-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,lc,5),n&2&&Ve()},decls:39,vars:42,consts:[["testComponent",""],[3,"formGroup"],[1,"d-flex","flex-column","w-100"],[1,"row"],[1,"col-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[3,"componentType","customReadmePath","exampleHtml"],["checkType","toggle","componentLabel","form.label.toggle","formControlName","toggle","id","testComponent","labelPosition","top","playgroundSourceCode","","successMessage","form.label.success",1,"col-3",3,"errorMap","isReadonly"],[1,"col-6","row"],["checkType","checkbox","componentLabel","form.label.checkbox","formControlName","checkbox","labelPosition","left","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly"],["checkType","checkbox","componentLabel","form.label.checkbox","formControlName","checkbox","labelPosition","right","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly"]],template:function(n,s){n&1&&(H(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),J(5),ee(6,"transloco"),U()(),H(7,"div",4)(8,"h3"),J(9),ee(10,"transloco"),U()()(),H(11,"div",5),ve(12,"div",6),H(13,"div",7),ye(14,hc,7,6,"div",3),H(15,"div",8)(16,"button",9),re("click",function(){return s.changeFormEnabled()}),J(17),ee(18,"transloco"),U(),H(19,"button",9),re("click",function(){return s.changeFormInputRequired()}),J(20),ee(21,"transloco"),U(),H(22,"button",9),re("click",function(){return s.changeVisibility()}),J(23),ee(24,"transloco"),U(),H(25,"button",9),re("click",function(){return s.recreateForm()}),J(26),ee(27,"transloco"),U(),H(28,"button",9),re("click",function(){return s.setFormValues()}),J(29),ee(30,"transloco"),U(),H(31,"button",9),re("click",function(){return s.checkCurrentFormValueAndValidity()}),J(32),ee(33,"transloco"),U(),H(34,"button",9),re("click",function(){return s.setReadonly()}),J(35),ee(36,"transloco"),U()()()()()(),ye(37,pc,8,14,"div",10),ve(38,"playground-component-documentation",11)),n&2&&(ie("formGroup",s.testForm),I(5),Qe(ce(6,15,"title.components.toggle")),I(4),Qe(ce(10,17,"title.components.checkbox")),I(5),Ae(s.showInput()?14:-1),I(3),se(" ",we(18,19,"form.buttons.enabled",xe(36,rc,s.testForm.enabled))," "),I(3),se(" ",we(21,22,"form.buttons.required",xe(38,ac,s.getIsRequiredInput()))," "),I(3),se(" ",ce(24,25,"form.buttons.changeVisibility")," "),I(3),se(" ",ce(27,27,"form.buttons.recreateForm")," "),I(3),se(" ",ce(30,29,"form.buttons.setForm")," "),I(3),se(" ",ce(33,31,"form.buttons.checkForm")," "),I(3),se(" ",we(36,33,"form.buttons.readonly",xe(40,cc,s.isReadonly()))," "),I(2),Ae(s.showValueAndValidity()?37:-1),I(),ie("componentType",s.ToggleTestComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[ft,kt,mt,St,pt,ot,Et,Lt,gi,Ie,it,lt],styles:["form[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}}return e})();var Kn={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var vo=Xe(yo());var ri={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(e){let t={"&":"&amp;","\xA0":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,function(i){return typeof t[i]=="string"?t[i]:i})},zeroWidthSpace:"\u200B",zeroWidthRegExp:new RegExp("\u200B","g"),onlyZeroWidthRegExp:new RegExp("^\u200B+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(e){return e==null?!1:(typeof e!="string"&&(e=e.textContent),e===""||this.onlyZeroWidthRegExp.test(e))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(e){return e?this._w.Object.keys(e).map(function(t){return e[t]}):[]},camelToKebabCase:function(e){return typeof e=="string"?e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}):e.map(function(t){return ri.camelToKebabCase(t)})},kebabToCamelCase:function(e){return typeof e=="string"?e.replace(/-[a-zA-Z]/g,function(t){return t.replace("-","").toUpperCase()}):e.map(function(t){return ri.camelToKebabCase(t)})},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){let t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,function(i){return typeof t[i]=="string"?t[i]:i})},HTMLDecoder:function(e){let t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,function(i){return typeof t[i]=="string"?t[i]:i})},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let i="",n=[],s=t==="js"?"script":"link",a=t==="js"?"src":"href",u="(?:";for(let _=0,c=e.length;_<c;_++)u+=e[_]+(_<c-1?"|":")");let h=new this._w.RegExp("(^|.*[\\/])"+u+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),o=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let _=this._d.getElementsByTagName(s),c=0;c<_.length;c++)o.test(_[c][a])&&n.push(_[c]);for(let _=0;_<n.length;_++){let c=n[_][a].match(h);if(c){i=c[0];break}}if(i===""&&(i=n.length>0?n[0][a]:""),i.indexOf(":/")===-1&&i.slice(0,2)!=="//"&&(i=i.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return i},getPageStyle:function(e){let t="",i=(e||this._d).styleSheets;for(let n=0,s=i.length,a;n<s;n++){try{a=i[n].cssRules}catch{continue}if(a)for(let u=0,h=a.length;u<h;u++)t+=a[u].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";let i=e.attributes,n="";for(let s=0,a=i.length;s<a;s++)t&&t.indexOf(i[s].name)>-1||(n+=i[s].name+'="'+i[s].value+'" ');return n},getByteLength:function(e){if(!e||!e.toString)return 0;e=e.toString();let t=this._w.encodeURIComponent,i,n;return this.isIE_Edge?(n=this._w.unescape(t(e)).length,i=0,t(e).match(/(%0A|%0D)/gi)!==null&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(e).length,i=0,t(e).match(/(%0A|%0D)/gi)!==null&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(e){return e&&e.nodeType===1&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&e.nodeType===1&&e.getAttribute("contenteditable")==="false"},isTextStyleElement:function(e){return e&&e.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(e.nodeName)},isInputElement:function(e){return e&&e.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&e.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&e.nodeType===1&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&e.nodeType===1&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isUneditableComponent:function(e){return e&&this.hasClass(e,"__se__uneditable")},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t,i){if(t.style.cssText){let s=t.style;for(let a=0,u=s.length;a<u;a++)e.style[s[a]]=s[s[a]]}let n=t.attributes;for(let s=0,a=n.length,u;s<a;s++)u=n[s].name.toLowerCase(),i&&i.indexOf(u)>-1||!n[s].value?e.removeAttribute(u):u!=="style"&&e.setAttribute(n[s].name,n[s].value)},copyFormatAttributes:function(e,t){t=t.cloneNode(!1),t.className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,i){if(!e||e.length===0)return null;t=t||function(){return!0};let n=[];for(let s=0,a=e.length,u;s<a;s++)if(u=e[s],t(u))if(i)n.push(u);else return u;return i?n:null},arrayIncludes:function(e,t){for(let i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},getArrayIndex:function(e,t){let i=-1;for(let n=0,s=e.length;n<s;n++)if(e[n]===t){i=n;break}return i},nextIdx:function(e,t){let i=this.getArrayIndex(e,t);return i===-1?-1:i+1},prevIdx:function(e,t){let i=this.getArrayIndex(e,t);return i===-1?-1:i-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,i){let n=[],s=!0;return this.getParentElement(e,function(a){if(a===t&&(s=!1),s&&!this.isWysiwygDiv(a)){if(i&&a.nodeType===3){let u=null,h=null;i.s=i.e=0;let o=a.previousSibling;for(;o&&o.nodeType===3;)h=o.textContent.replace(this.zeroWidthRegExp,""),i.s+=h.length,a.textContent=h+a.textContent,u=o,o=o.previousSibling,this.removeItem(u);let _=a.nextSibling;for(;_&&_.nodeType===3;)h=_.textContent.replace(this.zeroWidthRegExp,""),i.e+=h.length,a.textContent+=h,u=_,_=_.nextSibling,this.removeItem(u)}n.push(a)}return!1}.bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let i=t,n;for(let s=0,a=e.length;s<a&&(n=i.childNodes,n.length!==0);s++)n.length<=e[s]?i=n[n.length-1]:i=n[e[s]];return i},isSameAttributes:function(e,t){if(e.nodeType===3&&t.nodeType===3)return!0;if(e.nodeType===3||t.nodeType===3)return!1;let i=e.style,n=t.style,s=0;for(let _=0,c=i.length;_<c;_++)i[i[_]]===n[i[_]]&&s++;let a=e.classList,u=t.classList,h=this._w.RegExp,o=0;for(let _=0,c=a.length;_<c;_++)h("(s|^)"+a[_]+"(s|$)").test(u.value)&&o++;return s===n.length&&s===i.length&&o===u.length&&o===a.length},isEmptyLine:function(e){return!e||!e.parentNode||!e.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&e.children.length===0&&this.onlyZeroWidthSpace(e.textContent)},isSpanWithoutAttr:function(e){return!!e&&e.nodeType===1&&/^SPAN$/i.test(e.nodeName)&&!e.className&&!e.style.cssText},isList:function(e){return e&&/^(OL|UL)$/i.test(typeof e=="string"?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test(typeof e=="string"?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof e=="string"?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test(typeof e=="string"?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test(typeof e=="string"?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test(typeof e=="string"?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof e=="string"?e:e.nodeName)},isFigures:function(e){return e&&(this.isMedia(e)||/^(FIGURE)$/i.test(typeof e=="string"?e:e.nodeName))},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let i=(e+"").match(/-?\d+(\.\d+)?/);return!i||!i[0]?0:(i=i[0],t<0?i*1:t===0?this._w.Math.round(i*1):(i*1).toFixed(t)*1)},getListChildren:function(e,t){let i=[];return!e||!e.children||e.children.length===0||(t=t||function(){return!0},function n(s){if(e!==s&&t(s)&&i.push(s),s.children)for(let a=0,u=s.children.length;a<u;a++)n(s.children[a])}(e)),i},getListChildNodes:function(e,t){let i=[];return!e||e.childNodes.length===0||(t=t||function(){return!0},function n(s){e!==s&&t(s)&&i.push(s);for(let a=0,u=s.childNodes.length;a<u;a++)n(s.childNodes[a])}(e)),i},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let i=e,n=t;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:e,b:t,result:0};let s=i.parentNode.childNodes,a=this.getArrayIndex(s,i),u=this.getArrayIndex(s,n);return{ancestor:i.parentNode,a:i,b:n,result:a>u?1:a<u?-1:0}},getParentElement:function(e,t){let i;if(typeof t=="function")i=t;else{let n;/^\./.test(t)?(n="className",t=t.split(".")[1]):/^#/.test(t)?(n="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(n="name",t="^"+t.split(":")[1]+"$"):(n="nodeName",t="^"+t+"$");let s=new this._w.RegExp(t,"i");i=function(a){return s.test(a[n])}}for(;e&&!i(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getPreviousDeepestNode:function(e,t){let i=e.previousSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(e,t){let i=e.nextSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(e,t,i){let n;if(typeof t=="function")n=t;else{let a;/^\./.test(t)?(a="className",t=t.split(".")[1]):/^#/.test(t)?(a="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(a="name",t="^"+t.split(":")[1]+"$"):(a="nodeName",t="^"+(t==="text"?"#"+t:t)+"$");let u=new this._w.RegExp(t,"i");n=function(h){return u.test(h[a])}}let s=this.getListChildNodes(e,function(a){return n(a)});return s[i?s.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let i=0,n=0,s=e.nodeType===3?e.parentElement:e,a=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==a;)i+=s.offsetLeft,n+=s.offsetTop,s=s.offsetParent;let u=t&&/iframe/i.test(t.nodeName);return{left:i+(u?t.parentElement.offsetLeft:0),top:n-(a?a.scrollTop:0)+(u?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,i,n){if(e<=n?t<i:t>i)return 0;let s=(e>i?e:i)-(t<n?t:n);return(s<0?s*-1:s)+1},changeTxt:function(e,t){!e||!t||(e.textContent=t)},changeElement:function(e,t){if(typeof t=="string")if(e.outerHTML)e.outerHTML=t;else{let i=this.createElement("DIV");i.innerHTML=t,t=i.firstChild,e.parentNode.replaceChild(t,e)}else t.nodeType===1&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,i){e.style[t]=i,!i&&!e.style.cssText&&e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){!e||new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t)},removeClass:function(e,t){if(!e)return;let i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;let i=!1,n=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");return n.test(e.className)?e.className=e.className.replace(n," ").trim():(e.className+=" "+t,i=!0),e.className.trim()||e.removeAttribute("class"),i},isImportantDisabled:function(e){return e.hasAttribute("data-important-disabled")},setDisabledButtons:function(e,t,i){for(let n=0,s=t.length;n<s;n++){let a=t[n];(i||!this.isImportantDisabled(a))&&(a.disabled=e),i&&(e?a.setAttribute("data-important-disabled",""):a.removeAttribute("data-important-disabled"))}},removeItem:function(e){e&&(typeof e.remove=="function"?e.remove():e.parentNode&&e.parentNode.removeChild(e))},removeItemAllParents:function(e,t,i){if(!e)return null;let n=null;return t||(t=function(s){if(s===i||this.isComponent(s))return!1;let a=s.textContent.trim();return a.length===0||/^(\n|\u200B)+$/.test(a)}.bind(this)),function s(a){if(!ri.isWysiwygDiv(a)){let u=a.parentNode;u&&t(a)&&(n={sc:a.previousElementSibling,ec:a.nextElementSibling},ri.removeItem(a),s(u))}}(e),n},detachNestedList:function(e,t){let i=this._deleteNestedList(e),n,s;if(i){n=i.cloneNode(!1),s=i.childNodes;let u=this.getPositionIndex(e);for(;s[u];)n.appendChild(s[u])}else n=e;let a;if(t)a=this.getListChildren(n,function(u){return this.isListCell(u)&&!u.previousElementSibling}.bind(this));else{let u=this.getElementDepth(e)+2;a=this.getListChildren(e,function(h){return this.isListCell(h)&&!h.previousElementSibling&&this.getElementDepth(h)===u}.bind(this))}for(let u=0,h=a.length;u<h;u++)this._deleteNestedList(a[u]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),s&&s.length===0&&this.removeItem(i)),n===e?n.parentNode:n},_deleteNestedList:function(e){let t=e.parentNode,i=t,n=i.parentNode,s,a,u,h,o;for(;this.isListCell(n);){for(h=this.getPositionIndex(e),s=n.nextElementSibling,a=n.parentNode,u=i;u;){if(i=i.nextSibling,this.isList(u)){for(o=u.childNodes;o[h];)a.insertBefore(o[h],s);o.length===0&&this.removeItem(u)}else a.appendChild(u);u=i}i=a,n=a.parentNode}return t.children.length===0&&this.removeItem(t),a},splitElement:function(e,t,i){if(this.isWysiwygDiv(e))return e;if(t&&!this.isNumber(t)){let k=e.childNodes,M=this.getPositionIndex(t),N=e.cloneNode(!1),P=e.cloneNode(!1);for(let l=0,r=k.length;l<r;l++){if(l<M)N.appendChild(k[l]);else if(l>M)P.appendChild(k[l]);else continue;l--,r--,M--}return N.childNodes.length>0&&e.parentNode.insertBefore(N,e),P.childNodes.length>0&&e.parentNode.insertBefore(P,e.nextElementSibling),e}let n=e.parentNode,s=0,a=1,u=!0,h,o,_;if((!i||i<0)&&(i=0),e.nodeType===3){if(s=this.getPositionIndex(e),t>=0&&e.length!==t){e.splitText(t);let k=this.getNodeFromPath([s+1],n);this.onlyZeroWidthSpace(k)&&(k.data=this.zeroWidthSpace)}}else if(e.nodeType===1){if(t===0){for(;e.firstChild;)e=e.firstChild;if(e.nodeType===3){let k=this.createTextNode(this.zeroWidthSpace);e.parentNode.insertBefore(k,e),e=k}}e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===i&&(u=!1)}e.nodeType===1&&(a=0);let c=e;for(;this.getElementDepth(c)>i;)for(s=this.getPositionIndex(c)+a,c=c.parentNode,_=h,h=c.cloneNode(!1),o=c.childNodes,_&&(this.isListCell(h)&&this.isList(_)&&_.firstElementChild?(h.innerHTML=_.firstElementChild.innerHTML,ri.removeItem(_.firstElementChild),_.children.length>0&&h.appendChild(_)):h.appendChild(_));o[s];)h.appendChild(o[s]);c.childNodes.length<=1&&(!c.firstChild||c.firstChild.textContent.length===0)&&(c.innerHTML="<br>");let g=c.parentNode;return u&&(c=c.nextSibling),h?(this.mergeSameTags(h,null,!1),this.mergeNestedTags(h,function(k){return this.isList(k)}.bind(this)),h.childNodes.length>0?g.insertBefore(h,c):h=c,this.isListCell(h)&&h.children&&this.isList(h.children[0])&&h.insertBefore(this.createElement("BR"),h.children[0]),n.childNodes.length===0&&this.removeItem(n),h):c},mergeSameTags:function(e,t,i){let n=this,s=t?t.length:0,a=null;return s&&(a=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),function u(h,o,_){let c=h.childNodes;for(let g=0,k=c.length,M,N;g<k&&(M=c[g],N=c[g+1],!!M);g++)if(!(n.isBreak(M)||n.isMedia(M)||n.isInputElement(M))){if(i&&n._isIgnoreNodeChange(M)||!i&&(n.isTable(M)||n.isListCell(M)||n.isFormatElement(M)&&!n.isFreeFormatElement(M))){(n.isTable(M)||n.isListCell(M))&&u(M,o+1,g);continue}if(k===1&&h.nodeName===M.nodeName&&h.parentNode){if(s){let P,l,r,d,p;for(let m=0;m<s;m++)if(P=t[m],P&&P[o]===g){for(l=M,r=h,d=o,p=!0;d>=0;){if(n.getArrayIndex(r.childNodes,l)!==P[d]){p=!1;break}l=M.parentNode,r=l.parentNode,d--}p&&(P.splice(o,1),P[o]=g)}}n.copyTagAttributes(M,h),h.parentNode.insertBefore(M,h),n.removeItem(h)}if(!N){M.nodeType===1&&u(M,o+1,g);break}if(M.nodeName===N.nodeName&&n.isSameAttributes(M,N)&&M.href===N.href){let P=M.childNodes,l=0;for(let m=0,b=P.length;m<b;m++)P[m].textContent.length>0&&l++;let r=M.lastChild,d=N.firstChild,p=0;if(r&&d){let m=r.nodeType===3&&d.nodeType===3;p=r.textContent.length;let b=r.previousSibling;for(;b&&b.nodeType===3;)p+=b.textContent.length,b=b.previousSibling;if(l>0&&r.nodeType===3&&d.nodeType===3&&(r.textContent.length>0||d.textContent.length>0)&&l--,s){let f=null;for(let v=0;v<s;v++)if(f=t[v],f&&f[o]>g){if(o>0&&f[o-1]!==_)continue;f[o]-=1,f[o+1]>=0&&f[o]===g&&(f[o+1]+=l,m&&r&&r.nodeType===3&&d&&d.nodeType===3&&(a[v]+=p))}}}if(M.nodeType===3){if(p=M.textContent.length,M.textContent+=N.textContent,s){let m=null;for(let b=0;b<s;b++)if(m=t[b],m&&m[o]>g){if(o>0&&m[o-1]!==_)continue;m[o]-=1,m[o+1]>=0&&m[o]===g&&(m[o+1]+=l,a[b]+=p)}}}else M.innerHTML+=N.innerHTML;n.removeItem(N),g--}else M.nodeType===1&&u(M,o+1,g)}}(e,0,0),a},mergeNestedTags:function(e,t){typeof t=="string"?t=function(i){return this.test(i.tagName)}.bind(new this._w.RegExp("^("+(t||".+")+")$","i")):typeof t!="function"&&(t=function(){return!0}),function i(n){let s=n.children;if(s.length===1&&s[0].nodeName===n.nodeName&&t(n)){let a=s[0];for(s=a.children;s[0];)n.appendChild(s[0]);n.removeChild(a)}for(let a=0,u=n.children.length;a<u;a++)i(n.children[a])}(e)},removeEmptyNode:function(e,t,i){let n=this;t&&(t=n.getParentElement(t,function(s){return e===s.parentElement})),function s(a){if(n._notTextNode(a)||a===t||n.isNonEditable(a))return 0;if(a!==e&&n.onlyZeroWidthSpace(a.textContent)&&(!a.firstChild||!n.isBreak(a.firstChild))&&!a.querySelector(n._allowedEmptyNodeList)){if(a.parentNode)return a.parentNode.removeChild(a),-1}else{let u=a.children;for(let h=0,o=u.length,_=0;h<o;h++)!u[h+_]||n.isComponent(u[h+_])||(_+=s(u[h+_]))}return 0}(e),e.childNodes.length===0&&(i?this.removeItem(e):e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(t){return t.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(e){return e.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(e,t){let i=t?1:-1,n=i*-1;e.sort(function(s,a){return!this.isListCell(s)||!this.isListCell(a)?0:(s=this.getElementDepth(s),a=this.getElementDepth(a),s>a?i:s<a?n:0)}.bind(this))},escapeStringRegexp:function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(e){return!/FIGCAPTION/i.test(e.nodeName)&&(this.isComponent(e)||/FIGURE/i.test(e.nodeName))},_isIgnoreNodeChange:function(e){return e&&e.nodeType!==3&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&e.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof e=="string"?e:e.nodeName)},_isSizeNode:function(e){return e&&e.nodeType!==3&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&e.nodeType!==3&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof e=="string"?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){return new RegExp("<\\/?\\b(?!\\b"+(e||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(e){return new RegExp("<\\/?\\b(?:\\b"+(e||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(e,t,i,n,s){let a=[],u=[],h=[],o=[],_=this.getListChildNodes(e,function(g){if(g.nodeType!==1)return this.isList(g.parentElement)&&a.push(g),!1;if(i.test(g.nodeName)||!t.test(g.nodeName)&&g.childNodes.length===0&&this.isNotCheckingNode(g))return a.push(g),!1;let k=!this.getParentElement(g,this.isNotCheckingNode);if(!this.isTable(g)&&!this.isListCell(g)&&!this.isAnchor(g)&&(this.isFormatElement(g)||this.isRangeFormatElement(g)||this.isTextStyleElement(g))&&g.childNodes.length===0&&k)return u.push(g),!1;if(this.isList(g.parentNode)&&!this.isList(g)&&!this.isListCell(g))return h.push(g),!1;if(this.isCell(g)){let N=g.firstElementChild;if(!this.isFormatElement(N)&&!this.isRangeFormatElement(N)&&!this.isComponent(N))return o.push(g),!1}if(k&&g.className){let N=new this._w.Array(g.classList).map(n).join(" ").trim();N?g.className=N:g.removeAttribute("class")}return s&&g.parentNode!==e&&k&&(this.isListCell(g)&&!this.isList(g.parentNode)||(this.isFormatElement(g)||this.isComponent(g))&&!this.isRangeFormatElement(g.parentNode)&&!this.getParentElement(g,this.isComponent))}.bind(this));for(let g=0,k=a.length;g<k;g++)this.removeItem(a[g]);let c=[];for(let g=0,k=_.length,M,N;g<k;g++)if(M=_[g],N=M.parentNode,!(!N||!N.parentNode))if(this.getParentElement(M,this.isListCell)){let P=M.childNodes;for(let l=P.length-1;k>=0;l--)N.insertBefore(M,P[l]);c.push(M)}else N.parentNode.insertBefore(M,N),c.push(N);for(let g=0,k=c.length,M;g<k;g++)M=c[g],this.onlyZeroWidthSpace(M.textContent.trim())&&this.removeItem(M);for(let g=0,k=u.length;g<k;g++)this.removeItem(u[g]);for(let g=0,k=h.length,M,N,P,l;g<k;g++)if(M=h[g],l=M.parentNode,!!l)if(N=this.createElement("LI"),this.isFormatElement(M)){for(P=M.childNodes;P[0];)N.appendChild(P[0]);l.insertBefore(N,M),this.removeItem(M)}else M=M.nextSibling,N.appendChild(h[g]),l.insertBefore(N,M);for(let g=0,k=o.length,M,N;g<k;g++)M=o[g],N=this.createElement("DIV"),N.innerHTML=M.textContent.trim().length===0&&M.children.length===0?"<br>":M.innerHTML,M.innerHTML=N.outerHTML},_setDefaultOptionStyle:function(e,t){let i="";e.height&&(i+="height:"+e.height+";"),e.minHeight&&(i+="min-height:"+e.minHeight+";"),e.maxHeight&&(i+="max-height:"+e.maxHeight+";"),e.position&&(i+="position:"+e.position+";"),e.width&&(i+="width:"+e.width+";"),e.minWidth&&(i+="min-width:"+e.minWidth+";"),e.maxWidth&&(i+="max-width:"+e.maxWidth+";");let n="",s="",a="";t=i+t;let u=t.split(";");for(let h=0,o=u.length,_;h<o;h++)if(_=u[h].trim(),!!_){if(/^(min-|max-)?width\s*:/.test(_)||/^(z-index|position)\s*:/.test(_)){n+=_+";";continue}if(/^(min-|max-)?height\s*:/.test(_)){/^height/.test(_)&&_.split(":")[1].trim()==="auto"&&(e.height="auto"),s+=_+";";continue}a+=_+";"}return{top:n,frame:s,editor:a}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(t),e.contentDocument.body.className=t._editableClass,e.contentDocument.body.setAttribute("contenteditable",!0),e.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(e){let t=e.iframeCSSFileName,i=this._w.RegExp,n="";for(let s=0,a=t.length,u;s<a;s++){if(u=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[s]))u.push(t[s]);else{let h=new i("(^|.*[\\/])"+t[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let o=document.getElementsByTagName("link"),_=0,c=o.length,g;_<c;_++)g=o[_].href.match(h),g&&u.push(g[0])}if(!u||u.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let h=0,o=u.length;h<o;h++)n+='<link href="'+u[h]+'" rel="stylesheet">'}return n+(e.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},Se=ri;var _i={init:function(e,t){typeof t!="object"&&(t={});let i=document;this._initOptions(e,t);let n=i.createElement("DIV");n.className="sun-editor"+(t.rtl?" se-rtl":""),e.id&&(n.id="suneditor_"+e.id);let s=i.createElement("DIV");s.className="se-container";let a=this._createToolBar(i,t.buttonList,t.plugins,t),u=a.element.cloneNode(!1);u.className+=" se-toolbar-shadow",a.element.style.visibility="hidden",a.pluginCallButtons.math&&this._checkKatexMath(t.katex);let h=i.createElement("DIV");h.className="se-arrow";let o=i.createElement("DIV");o.className="se-toolbar-sticky-dummy";let _=i.createElement("DIV");_.className="se-wrapper";let c=this._initElements(t,n,a.element,h),g=c.bottomBar,k=c.wysiwygFrame,M=c.placeholder,N=c.codeView,P=g.resizingBar,l=g.navigation,r=g.charWrapper,d=g.charCounter,p=i.createElement("DIV");p.className="se-loading-box sun-editor-common",p.innerHTML='<div class="se-loading-effect"></div>';let m=i.createElement("DIV");m.className="se-line-breaker",m.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";let b=i.createElement("DIV");b.className+="se-line-breaker-component";let f=b.cloneNode(!0);b.innerHTML=f.innerHTML=t.icons.line_break;let v=i.createElement("DIV");v.className="se-resizing-back";let x=i.createElement("INPUT");x.tabIndex=-1,x.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";let C=t.toolbarContainer;C&&(C.appendChild(a.element),C.appendChild(u));let S=t.resizingBarContainer;return P&&S&&S.appendChild(P),_.appendChild(N),M&&_.appendChild(M),C||(s.appendChild(a.element),s.appendChild(u)),s.appendChild(o),s.appendChild(_),s.appendChild(v),s.appendChild(p),s.appendChild(m),s.appendChild(b),s.appendChild(f),s.appendChild(x),P&&!S&&s.appendChild(P),n.appendChild(s),N=this._checkCodeMirror(t,N),{constructed:{_top:n,_relative:s,_toolBar:a.element,_toolbarShadow:u,_menuTray:a._menuTray,_editorArea:_,_wysiwygArea:k,_codeArea:N,_placeholder:M,_resizingBar:P,_navigation:l,_charWrapper:r,_charCounter:d,_loading:p,_lineBreaker:m,_lineBreaker_t:b,_lineBreaker_b:f,_resizeBack:v,_stickyDummy:o,_arrow:h,_focusTemp:x},options:t,plugins:a.plugins,pluginCallButtons:a.pluginCallButtons,_responsiveButtons:a.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){let i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce(function(s,a){for(let u in a)Se.hasOwn(a,u)&&(s[u]=a[u]);return s},{});e.height==="auto"&&(i.viewportMargin=1/0,i.height="auto");let n=e.codeMirror.src.fromTextArea(t,i);n.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=n,t=n.display.wrapper,t.className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');let t=[{throwOnError:!1},e.options||{}].reduce(function(i,n){for(let s in n)Se.hasOwn(n,s)&&(i[s]=n[s]);return i},{});e.options=t},_setOptions:function(e,t,i){this._initOptions(t.element.originElement,e);let n=t.element,s=n.relative,a=n.editorArea,u=e.toolbarContainer&&e.toolbarContainer!==i.toolbarContainer,h=e.lang!==i.lang||e.buttonList!==i.buttonList||e.mode!==i.mode||u,o=this._createToolBar(document,h?e.buttonList:i.buttonList,e.plugins,e);o.pluginCallButtons.math&&this._checkKatexMath(e.katex);let _=document.createElement("DIV");_.className="se-arrow",h&&(o.element.style.visibility="hidden",u?(e.toolbarContainer.appendChild(o.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(o.element,n.toolbar),n.toolbar=o.element,n._menuTray=o._menuTray,n._arrow=_);let c=this._initElements(e,n.topArea,h?o.element:n.toolbar,_),g=c.bottomBar,k=c.wysiwygFrame,M=c.placeholder,N=c.codeView;return n.resizingBar&&Se.removeItem(n.resizingBar),g.resizingBar&&(e.resizingBarContainer&&e.resizingBarContainer!==i.resizingBarContainer?e.resizingBarContainer.appendChild(g.resizingBar):s.appendChild(g.resizingBar)),a.innerHTML="",a.appendChild(N),M&&a.appendChild(M),N=this._checkCodeMirror(e,N),n.resizingBar=g.resizingBar,n.navigation=g.navigation,n.charWrapper=g.charWrapper,n.charCounter=g.charCounter,n.wysiwygFrame=k,n.code=N,n.placeholder=M,e.rtl?Se.addClass(n.topArea,"se-rtl"):Se.removeClass(n.topArea,"se-rtl"),{callButtons:o.pluginCallButtons,plugins:o.plugins,toolbar:o}},_initElements:function(e,t,i,n){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(i.className+=" se-toolbar-inline",i.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=e.toolbarWidth,i.appendChild(n));let s=document.createElement(e.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=e._editorStyles.frame,s.className+=e.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("autocorrect","off"),s.setAttribute("scrolling","auto");for(let g in e.iframeAttributes)s.setAttribute(g,e.iframeAttributes[g]);s.className+=" "+e._editableClass,s.style.cssText=e._editorStyles.frame+e._editorStyles.editor,s.className+=e.className}let a=document.createElement("TEXTAREA");a.className="se-wrapper-inner se-wrapper-code"+e.className,a.style.cssText=e._editorStyles.frame,a.style.display="none",e.height==="auto"&&(a.style.overflow="hidden");let u=null,h=null,o=null,_=null;if(e.resizingBar&&(u=document.createElement("DIV"),u.className="se-resizing-bar sun-editor-common",h=document.createElement("DIV"),h.className="se-navigation sun-editor-common",u.appendChild(h),e.charCounter)){if(o=document.createElement("DIV"),o.className="se-char-counter-wrapper",e.charCounterLabel){let g=document.createElement("SPAN");g.className="se-char-label",g.textContent=e.charCounterLabel,o.appendChild(g)}if(_=document.createElement("SPAN"),_.className="se-char-counter",_.textContent="0",o.appendChild(_),e.maxCharCount>0){let g=document.createElement("SPAN");g.textContent=" / "+e.maxCharCount,o.appendChild(g)}u.appendChild(o)}let c=null;return e.placeholder&&(c=document.createElement("SPAN"),c.className="se-placeholder",c.innerText=e.placeholder),{bottomBar:{resizingBar:u,navigation:h,charWrapper:o,charCounter:_},wysiwygFrame:s,codeView:a,placeholder:c}},_initOptions:function(e,t){let i={};if(t.plugins){let a=t.plugins,u=a.length?a:Object.keys(a).map(function(h){return a[h]});for(let h=0,o=u.length,_;h<o;h++)_=u[h].default||u[h],i[_.name]=_}t.plugins=i,t.strictMode=t.strictMode!==!1,t.strictHTMLValidation=t.strictHTMLValidation!==!1,t.lang=t.lang||vo.default,t.value=typeof t.value=="string"?t.value:null,t.allowedClassNames=new Se._w.RegExp((t.allowedClassNames&&typeof t.allowedClassNames=="string"?t.allowedClassNames+"|":"")+"^__se__|se-|katex"),t.historyStackDelayTime=typeof t.historyStackDelayTime=="number"?t.historyStackDelayTime:400,t.frameAttrbutes=t.frameAttrbutes||{},t.defaultTag=typeof t.defaultTag=="string"&&t.defaultTag.length>0?t.defaultTag:"p";let n=t.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},t.textTags||{}].reduce(function(a,u){for(let h in u)a[h]=u[h];return a},{});t._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},t._defaultCommand={bold:t.textTags.bold,underline:t.textTags.underline,italic:t.textTags.italic,strike:t.textTags.strike,subscript:t.textTags.sub,superscript:t.textTags.sup},t.__allowedScriptTag=t.__allowedScriptTag===!0;let s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";t.tagsBlacklist=t.tagsBlacklist||"",t._defaultTagsWhitelist=(typeof t._defaultTagsWhitelist=="string"?t._defaultTagsWhitelist:s)+(t.__allowedScriptTag?"|script":""),t._editorTagsWhitelist=t.addTagsWhitelist==="*"?"*":this._setWhitelist(t._defaultTagsWhitelist+(typeof t.addTagsWhitelist=="string"&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.tagsBlacklist),t.pasteTagsBlacklist=t.tagsBlacklist+(t.tagsBlacklist&&t.pasteTagsBlacklist?"|"+t.pasteTagsBlacklist:t.pasteTagsBlacklist||""),t.pasteTagsWhitelist=t.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof t.pasteTagsWhitelist=="string"?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.pasteTagsBlacklist),t.attributesWhitelist=!t.attributesWhitelist||typeof t.attributesWhitelist!="object"?null:t.attributesWhitelist,t.attributesBlacklist=!t.attributesBlacklist||typeof t.attributesBlacklist!="object"?null:t.attributesBlacklist,t.mode=t.mode||"classic",t.rtl=!!t.rtl,t.lineAttrReset=["id"].concat(t.lineAttrReset&&typeof t.lineAttrReset=="string"?t.lineAttrReset.toLowerCase().split("|"):[]),t._editableClass="sun-editor-editable"+(t.rtl?" se-rtl":""),t._printClass=typeof t._printClass=="string"?t._printClass:null,t.toolbarWidth=t.toolbarWidth?Se.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer=typeof t.toolbarContainer=="string"?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:t.stickyToolbar===void 0?0:/^\d+/.test(t.stickyToolbar)?Se.getNumber(t.stickyToolbar,0):-1,t.hideToolbar=!!t.hideToolbar,t.fullScreenOffset=t.fullScreenOffset===void 0?0:/^\d+/.test(t.fullScreenOffset)?Se.getNumber(t.fullScreenOffset,0):0,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||!!t.iframe,t.iframeAttributes=t.iframeAttributes||{},t.iframeCSSFileName=t.iframe?typeof t.iframeCSSFileName=="string"?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.previewTemplate=typeof t.previewTemplate=="string"?t.previewTemplate:null,t.printTemplate=typeof t.printTemplate=="string"?t.printTemplate:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.mathFontSize=t.mathFontSize?t.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],t.position=typeof t.position=="string"?t.position:null,t.display=t.display||(e.style.display==="none"||!e.style.display?"block":e.style.display),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=t.resizingBar===void 0?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=t.resizingBar?typeof t.showPathLabel=="boolean"?t.showPathLabel:!0:!1,t.resizeEnable=t.resizeEnable===void 0?!0:!!t.resizeEnable,t.resizingBarContainer=typeof t.resizingBarContainer=="string"?document.querySelector(t.resizingBarContainer):t.resizingBarContainer,t.charCounter=t.maxCharCount>0?!0:typeof t.charCounter=="boolean"?t.charCounter:!1,t.charCounterType=typeof t.charCounterType=="string"?t.charCounterType:"char",t.charCounterLabel=typeof t.charCounterLabel=="string"?t.charCounterLabel.trim():null,t.maxCharCount=Se.isNumber(t.maxCharCount)&&t.maxCharCount>-1?t.maxCharCount*1:null,t.width=t.width?Se.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(Se.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(Se.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?Se.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(Se.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(Se.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.className=typeof t.className=="string"&&t.className.length>0?" "+t.className:"",t.defaultStyle=typeof t.defaultStyle=="string"?t.defaultStyle:"",t.font=t.font?t.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit=typeof t.fontSizeUnit=="string"&&t.fontSizeUnit.trim().toLowerCase()||"px",t.alignItems=typeof t.alignItems=="object"?t.alignItems:t.rtl?["right","center","left","justify"]:["left","center","right","justify"],t.imageResizing=t.imageResizing===void 0?!0:t.imageResizing,t.imageHeightShow=t.imageHeightShow===void 0?!0:!!t.imageHeightShow,t.imageAlignShow=t.imageAlignShow===void 0?!0:!!t.imageAlignShow,t.imageWidth=t.imageWidth?Se.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?Se.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=t.imageRotation!==void 0?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=t.imageFileInput===void 0?!0:t.imageFileInput,t.imageUrlInput=t.imageUrlInput===void 0||!t.imageFileInput?!0:t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl=typeof t.imageUploadUrl=="string"?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?Se.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept=typeof t.imageAccept!="string"||t.imageAccept.trim()==="*"?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryData=t.imageGalleryData||null,t.imageGalleryUrl=typeof t.imageGalleryUrl=="string"?t.imageGalleryUrl:null,t.imageGalleryHeader=t.imageGalleryHeader||null,t.videoResizing=t.videoResizing===void 0?!0:t.videoResizing,t.videoHeightShow=t.videoHeightShow===void 0?!0:!!t.videoHeightShow,t.videoAlignShow=t.videoAlignShow===void 0?!0:!!t.videoAlignShow,t.videoRatioShow=t.videoRatioShow===void 0?!0:!!t.videoRatioShow,t.videoWidth=!t.videoWidth||!Se.getNumber(t.videoWidth,0)?"":Se.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth,t.videoHeight=!t.videoHeight||!Se.getNumber(t.videoHeight,0)?"":Se.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight,t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=t.videoRotation!==void 0?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=Se.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.vimeoQuery=(t.vimeoQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=t.videoUrlInput===void 0||!t.videoFileInput?!0:t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl=typeof t.videoUploadUrl=="string"?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?Se.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept=typeof t.videoAccept!="string"||t.videoAccept.trim()==="*"?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?Se.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?Se.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=t.audioUrlInput===void 0||!t.audioFileInput?!0:t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl=typeof t.audioUploadUrl=="string"?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?Se.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept=typeof t.audioAccept!="string"||t.audioAccept.trim()==="*"?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition=typeof t.tableCellControllerPosition=="string"?t.tableCellControllerPosition.toLowerCase():"cell",t.linkTargetNewWindow=!!t.linkTargetNewWindow,t.linkProtocol=typeof t.linkProtocol=="string"?t.linkProtocol:null,t.linkRel=Array.isArray(t.linkRel)?t.linkRel:[],t.linkRelDefault=t.linkRelDefault||{},t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)?t.shortcutsDisable:[],t.shortcutsHint=t.shortcutsHint===void 0?!0:!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder=typeof t.placeholder=="string"?t.placeholder:null,t.mediaAutoSelect=t.mediaAutoSelect===void 0?!0:!!t.mediaAutoSelect,t.buttonList=t.buttonList?t.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.rtl&&(t.buttonList=t.buttonList.reverse()),t.icons=!t.icons||typeof t.icons!="object"?Kn:[Kn,t.icons].reduce(function(a,u){for(let h in u)Se.hasOwn(u,h)&&(a[h]=u[h]);return a},{}),t.icons=t.rtl?[t.icons,t.icons.rtl].reduce(function(a,u){for(let h in u)Se.hasOwn(u,h)&&(a[h]=u[h]);return a},{}):t.icons,t.__listCommonStyle=t.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],t._editorStyles=Se._setDefaultOptionStyle(t,t.defaultStyle)},_setWhitelist:function(e,t){if(typeof t!="string")return e;t=t.split("|"),e=e.split("|");for(let i=0,n=t.length,s;i<n;i++)s=e.indexOf(t[i]),s>-1&&e.splice(s,1);return e.join("|")},_defaultButtons:function(e){let t=e.icons,i=e.lang,n=Se.isOSX_IOS?"\u2318":"CTRL",s=Se.isOSX_IOS?"\u21E7":"+SHIFT",a=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],u=e.rtl?["[","]"]:["]","["],h=e.rtl?[t.outdent,t.indent]:[t.indent,t.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(a.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",t.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(a.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",t.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(a.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",t.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(a.indexOf("strike")>-1?"":n+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",t.strike],subscript:["",i.toolbar.subscript,"SUB","",t.subscript],superscript:["",i.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",t.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(a.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+u[0]+"</span>")+"</span>","indent","",h[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(a.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+u[1]+"</span>")+"</span>","outdent","",h[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",t.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(a.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",t.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(a.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",t.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",t.print],dir:["",i.toolbar[e.rtl?"dir_ltr":"dir_rtl"],"dir","",t[e.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",t.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",t.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(a.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",t.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",e.rtl?t.align_right:t.align_left],list:["",i.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",i.toolbar.table,"table","submenu",t.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",i.toolbar.template,"template","submenu",t.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",i.toolbar.link,"link","dialog",t.link],image:["",i.toolbar.image,"image","dialog",t.image],video:["",i.toolbar.video,"video","dialog",t.video],audio:["",i.toolbar.audio,"audio","dialog",t.audio],math:["",i.toolbar.math,"math","dialog",t.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){let e=Se.createElement("DIV");e.className="se-btn-module se-btn-module-border";let t=Se.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,i,n,s,a,u){let h=Se.createElement("LI"),o=Se.createElement("BUTTON"),_=t||i;return o.setAttribute("type","button"),o.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),o.setAttribute("data-command",i),o.setAttribute("data-display",n),o.setAttribute("aria-label",_.replace(/<span .+<\/span>/,"")),o.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=u[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),o.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+_+"</span></span>",a&&o.setAttribute("disabled",!0),o.innerHTML=s,h.appendChild(o),{li:h,button:o}},_createToolBar:function(e,t,i,n){let s=e.createElement("DIV");s.className="se-toolbar-separator-vertical";let a=e.createElement("DIV");a.className="se-toolbar sun-editor-common";let u=e.createElement("DIV");u.className="se-btn-tray",a.appendChild(u),t=JSON.parse(JSON.stringify(t));let h=n.icons,o=this._defaultButtons(n),_={},c=[],g=null,k=null,M=null,N=null,P="",l=!1,r=Se.createElement("DIV");r.className="se-toolbar-more-layer";e:for(let m=0,b,f,v,x,C;m<t.length;m++)if(b=!1,C="",x=t[m],M=this._createModuleGroup(),typeof x=="object"){for(let S=0,R;S<x.length;S++){if(k=x[S],R=!1,/^\%\d+/.test(k)&&S===0){x[0]=k.replace(/[^\d]/g,""),c.push(x),t.splice(m--,1);continue e}if(typeof k=="object")typeof k.add=="function"?(P=k.name,g=o[P],i[P]=k):(P=k.name,g=[k.buttonClass,k.title,k.name,k.dataDisplay,k.innerHTML,k._disabled]);else{if(/^\-/.test(k)){C=k.substr(1),M.div.className+=" module-float-"+C;continue}if(/^\#/.test(k)){k.substr(1)==="fix"&&(M.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(k)){R=!0;let L=k.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);v="__se__"+L[1].trim();let F=L[2].trim(),V=L[3].trim();g=["se-btn-more",F,v,"MORE",V]}else g=o[k];if(P=k,!g){let L=i[P];if(!L)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+P+"]");g=[L.buttonClass,L.title,L.name,L.display,L.innerHTML,L._disabled]}}N=this._createButton(g[0],g[1],g[2],g[3],g[4],g[5],h),(b?f:M.ul).appendChild(N.li),i[P]&&(_[P]=N.button),R&&(b=!0,f=Se.createElement("DIV"),f.className="se-more-layer "+v,f.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(C?' style="float: '+C+';"':"")+"></ul></div>",r.appendChild(f),f=f.firstElementChild.firstElementChild)}if(l){let S=s.cloneNode(!1);u.appendChild(S)}u.appendChild(M.div),l=!0}else if(/^\/$/.test(x)){let S=e.createElement("DIV");S.className="se-btn-module-enter",u.appendChild(S),l=!1}switch(u.children.length){case 0:u.style.display="none";break;case 1:Se.removeClass(u.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){let m=s.cloneNode(!1);m.style.float=u.lastElementChild.style.float,u.appendChild(m)}}c.length>0&&c.unshift(t),r.children.length>0&&u.appendChild(r);let d=e.createElement("DIV");d.className="se-menu-tray",a.appendChild(d);let p=e.createElement("DIV");return p.className="se-toolbar-cover",a.appendChild(p),n.hideToolbar&&(a.style.display="none"),{element:a,plugins:i,pluginCallButtons:_,responsiveButtons:c,_menuTray:d,_buttonTray:u}}};var mc=function(e,t,i){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_toolbarShadow:t._toolbarShadow,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow,_focusTemp:t._focusTemp},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector('[data-command="bold"]'),underline:t._toolBar.querySelector('[data-command="underline"]'),italic:t._toolBar.querySelector('[data-command="italic"]'),strike:t._toolBar.querySelector('[data-command="strike"]'),sub:t._toolBar.querySelector('[data-command="SUB"]'),sup:t._toolBar.querySelector('[data-command="SUP"]'),undo:t._toolBar.querySelector('[data-command="undo"]'),redo:t._toolBar.querySelector('[data-command="redo"]'),save:t._toolBar.querySelector('[data-command="save"]'),outdent:t._toolBar.querySelector('[data-command="outdent"]'),indent:t._toolBar.querySelector('[data-command="indent"]'),fullScreen:t._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:t._toolBar.querySelector('[data-command="showBlocks"]'),codeView:t._toolBar.querySelector('[data-command="codeView"]'),dir:t._toolBar.querySelector('[data-command="dir"]'),dir_ltr:t._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:t._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}},yi=mc;function Co(e,t){let i=e._w,n=e.util,s=e.options.historyStackDelayTime,a=e.context.element,u=e.context.tool.undo,h=e.context.tool.redo,o=null,_=0,c=[];function g(){let M=c[_];a.wysiwyg.innerHTML=M.contents,e.setRange(n.getNodeFromPath(M.s.path,a.wysiwyg),M.s.offset,n.getNodeFromPath(M.e.path,a.wysiwyg),M.e.offset),e.focus(),c.length<=1?(u&&u.setAttribute("disabled",!0),h&&h.setAttribute("disabled",!0)):_===0?(u&&u.setAttribute("disabled",!0),h&&h.removeAttribute("disabled")):_===c.length-1?(u&&u.removeAttribute("disabled"),h&&h.setAttribute("disabled",!0)):(u&&u.removeAttribute("disabled"),h&&h.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function k(){e._checkComponents();let M=a.wysiwyg.innerHTML;if(!M||c[_]&&M===c[_].contents)return;_++;let N=e._variable._range;c.length>_&&(c=c.slice(0,_),h&&h.setAttribute("disabled",!0)),N?c[_]={contents:M,s:{path:n.getNodePath(N.startContainer,null,null),offset:N.startOffset},e:{path:n.getNodePath(N.endContainer,null,null),offset:N.endOffset}}:c[_]={contents:M,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},_===1&&u&&u.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:c,push:function(M){i.setTimeout(e._resourcesStateChange.bind(e));let N=typeof M=="number"?M>0?M:0:M?s:0;if((!N||o)&&(i.clearTimeout(o),!N)){k();return}o=i.setTimeout(function(){i.clearTimeout(o),o=null,k()},N)},undo:function(){_>0&&(_--,g())},redo:function(){c.length-1>_&&(_++,g())},go:function(M){_=M<0?c.length-1:M,g()},getCurrentIndex:function(){return _},reset:function(M){u&&u.setAttribute("disabled",!0),h&&h.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),c.splice(0),_=0,c[_]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},M||t()},_resetCachingButton:function(){a=e.context.element,u=e.context.tool.undo,h=e.context.tool.redo,_===0?(u&&u.setAttribute("disabled",!0),h&&_===c.length-1&&h.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):_===c.length-1&&h&&h.setAttribute("disabled",!0)},_destroy:function(){o&&i.clearTimeout(o),c=null}}}var Jn={name:"notice",add:function(e){let t=e.context;t.notice={};let i=e.util.createElement("DIV"),n=e.util.createElement("SPAN"),s=e.util.createElement("BUTTON");i.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",e.lang.dialogBox.close),s.innerHTML=e.icons.cancel,i.appendChild(n),i.appendChild(s),t.notice.modal=i,t.notice.message=n,s.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(i),i=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function wo(e,t,i,n,s,a){let u=e.element.originElement.ownerDocument||document,h=u.defaultView||window,o=Se,_=s.icons,c={_d:u,_w:h,_parser:new h.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:o.camelToKebabCase(s.__listCommonStyle),__focusTemp:e.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:o,functions:null,options:null,wwComputedStyle:null,notice:Jn,icons:_,history:null,context:e,pluginCallButtons:t,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new h.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new h.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new h.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new h.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:o.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});let l=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let r=0,d,p;r<l.length;r++)d=l[r],p=d.getAttribute("data-command"),this.allCommandButtons[p]=d},_recoverButtonStates:function(){if(this.allCommandButtons){let l=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let r=0,d,p,m;r<l.length;r++)d=l[r],p=d.getAttribute("data-command"),m=this.allCommandButtons[p],m&&(d.parentElement.replaceChild(m,d),this.context.tool[p]&&(this.context.tool[p]=m))}},callPlugin:function(l,r,d){if(d=d||t[l],this.plugins[l])this.initPlugins[l]?typeof this._targetPlugins[l]=="object"&&d&&this.initMenuTarget(l,d,this._targetPlugins[l]):(this.plugins[l].add(this,d),this.initPlugins[l]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+l+'")');this.plugins[l].active&&!this.commandMap[l]&&d&&(this.commandMap[l]=d,this.activePlugins.push(l)),typeof r=="function"&&r()},addModule:function(l){for(let r=0,d=l.length,p;r<d;r++)p=l[r].name,this.plugins[p]||(this.plugins[p]=l[r]),this.initPlugins[p]||(this.initPlugins[p]=!0,typeof this.plugins[p].add=="function"&&this.plugins[p].add(this))},getGlobalScrollOffset:function(){let l=0,r=0,d=e.element.topArea;for(;d;)l+=d.scrollTop,r+=d.scrollLeft,d=d.parentElement;for(d=this._shadowRoot?this._shadowRoot.host:null;d;)l+=d.scrollTop,r+=d.scrollLeft,d=d.parentElement;return{top:l,left:r}},initMenuTarget:function(l,r,d){r?(e.element._menuTray.appendChild(d),this._targetPlugins[l]=!0,this._menuTray[r.getAttribute("data-command")]=d):this._targetPlugins[l]=d},submenuOn:function(l){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();let r=this._submenuName=l.getAttribute("data-command"),d=this.submenu=this._menuTray[r];this.submenuActiveButton=l,this._setMenuPosition(l,d),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[r].on&&this.plugins[r].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,o.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){let l=e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));l.style.display="none",o.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(l){this._bindedContainerOff&&this._bindedContainerOff();let r=this._containerName=l.getAttribute("data-command"),d=this.container=this._menuTray[r];this.containerActiveButton=l,this._setMenuPosition(l,d),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[r].on&&this.plugins[r].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,o.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(l,r){r.style.visibility="hidden",r.style.display="block",r.style.height="",o.addClass(l,"on");let d=this.context.element.toolbar,p=d.offsetWidth,m=g._getEditorOffsets(e.element.toolbar),b=r.offsetWidth,f=l.parentElement.offsetLeft+3;if(s.rtl){let V=l.offsetWidth,K=b>V?b-V:0,te=K>0?0:V-b;r.style.left=f-K+te+"px",m.left>g._getEditorOffsets(r).left&&(r.style.left="0px")}else{let V=p<=b?0:p-(f+b);V<0?r.style.left=f+V+"px":r.style.left=f+"px"}let v=0,x=l;for(;x&&x!==d;)v+=x.offsetTop,x=x.offsetParent;let C=v;this._isBalloon?v+=d.offsetTop+l.offsetHeight:v-=l.offsetHeight;let S=m.top,R=r.offsetHeight,L=this.getGlobalScrollOffset().top,F=h.innerHeight-(S-L+C+l.parentElement.offsetHeight);if(F<R){let V=-1*(R-C+3),K=S-L+V,te=R+(K<0?K:0);te>F?(r.style.height=te+"px",V=-1*(te-C+3)):(r.style.height=F+"px",V=C+l.parentElement.offsetHeight),r.style.top=V+"px"}else r.style.top=C+l.parentElement.offsetHeight+"px";r.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let l=0,r;l<arguments.length;l++)if(r=arguments[l],!!r){if(typeof r=="string"){this.currentControllerName=r;continue}if(typeof r=="function"){this.controllerArray.push(r);continue}if(!o.hasClass(r,"se-controller")){this.currentControllerTarget=r,this.currentFileComponentInfo=this.getFileComponent(r);continue}r.style&&(r.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(r)===-1&&(r.addEventListener("mousedown",function(d){d.preventDefault(),d.stopPropagation()}),this._shadowRootControllerEventTarget.push(r))),this.controllerArray.push(r)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof k.showController=="function"&&k.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(l){this._lineBreaker.style.display="none";let r=this.controllerArray.length;if(l&&l.target&&r>0){for(let d=0;d<r;d++)if(typeof this.controllerArray[d].contains=="function"&&this.controllerArray[d].contains(l.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&l&&l.type==="keydown"&&l.keyCode!==27)&&(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,r>0){for(let d=0;d<r;d++)typeof this.controllerArray[d]=="function"?this.controllerArray[d]():this.controllerArray[d].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(l,r,d,p){s.rtl&&(p.left*=-1);let m=o.getOffset(r,e.element.wysiwygFrame);l.style.visibility="hidden",l.style.display="block";let b=d==="top"?-(l.offsetHeight+2):r.offsetHeight+12;l.style.top=m.top+b+p.top+"px";let f=m.left-e.element.wysiwygFrame.scrollLeft+p.left,v=l.offsetWidth,x=r.offsetWidth,C=o.hasClass(l.firstElementChild,"se-arrow")?l.firstElementChild:null;if(s.rtl){let S=v>x?v-x:0,R=S>0?0:x-v;l.style.left=f-S+R+"px",S>0&&C&&(C.style.left=(v-14<10+S?v-14:10+S)+"px");let L=e.element.wysiwygFrame.offsetLeft-l.offsetLeft;L>0&&(l.style.left="0px",C&&(C.style.left=L+"px"))}else{l.style.left=f+"px";let S=e.element.wysiwygFrame.offsetWidth-(l.offsetLeft+v);S<0?(l.style.left=l.offsetLeft+S+"px",C&&(C.style.left=20-S+"px")):C&&(C.style.left="20px")}l.style.visibility=""},execCommand:function(l,r,d){this._wd.execCommand(l,r,l==="formatBlock"?"<"+d+">":d),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){let l=o.getParentElement(this.getSelectionNode(),"figcaption");l?l.focus():e.element.wysiwyg.focus()},focus:function(){if(e.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{let l=this.getRange();if(l.startContainer===l.endContainer&&o.isWysiwygDiv(l.startContainer)){let r=l.commonAncestorContainer.children[l.startOffset];if(!o.isFormatElement(r)&&!o.isComponent(r)){let d=o.createElement(s.defaultTag),p=o.createElement("BR");d.appendChild(p),e.element.wysiwyg.insertBefore(d,r),this.setRange(p,0,p,0);return}}this.setRange(l.startContainer,l.startOffset,l.endContainer,l.endOffset)}catch{this.nativeFocus()}g._applyTagEffects(),this._isBalloon&&g._toggleToolbarBalloon()}},focusEdge:function(l){l||(l=e.element.wysiwyg.lastElementChild);let r=this.getFileComponent(l);r?this.selectComponent(r.target,r.pluginName):l?(l=o.getChildElement(l,function(d){return d.childNodes.length===0||d.nodeType===3},!0),l?this.setRange(l,l.textContent.length,l,l.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?e.element.wysiwygFrame.blur():e.element.wysiwyg.blur()},setRange:function(l,r,d,p){if(!l||!d)return;r>l.textContent.length&&(r=l.textContent.length),p>d.textContent.length&&(p=d.textContent.length),o.isFormatElement(l)&&(l=l.childNodes[r]||l.childNodes[r-1]||l,r=r>0?l.nodeType===1?1:l.textContent?l.textContent.length:0:0),o.isFormatElement(d)&&(d=d.childNodes[p]||d.childNodes[p-1]||d,p=p>0?d.nodeType===1?1:d.textContent?d.textContent.length:0:0);let m=this._wd.createRange();try{m.setStart(l,r),m.setEnd(d,p)}catch(f){console.warn("[SUNEDITOR.core.focus.error] "+f),this.nativeFocus();return}let b=this.getSelection();return b.removeAllRanges&&b.removeAllRanges(),b.addRange(m),this._rangeInfo(m,this.getSelection()),s.iframe&&this.__focus(),m},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){let l=this._variable._range||this._createDefaultRange(),r=this.getSelection();if(l.collapsed===r.isCollapsed||!e.element.wysiwyg.contains(r.focusNode))return l;if(r.rangeCount>0)return this._variable._range=r.getRangeAt(0),this._variable._range;{let d=r.anchorNode,p=r.focusNode,m=r.anchorOffset,b=r.focusOffset,f=o.compareElements(d,p),v=f.ancestor&&(f.result===0?m<=b:f.result>1);return this.setRange(v?d:p,v?m:b,v?p:d,v?b:m)}},getRange_addLine:function(l,r){if(this._selectionVoid(l)){let d=e.element.wysiwyg,p=o.createElement(s.defaultTag);p.innerHTML="<br>",d.insertBefore(p,r&&r!==d?r.nextElementSibling:d.firstElementChild),this.setRange(p.firstElementChild,0,p.firstElementChild,1),l=this._variable._range}return l},getSelection:function(){let l=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!e.element.wysiwyg.contains(l.focusNode)&&(l.removeAllRanges(),l.addRange(this._createDefaultRange())),l},getSelectionNode:function(){if(e.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){let l=o.getChildElement(e.element.wysiwyg.firstChild,function(r){return r.childNodes.length===0||r.nodeType===3},!1);if(!l)this._editorRange();else return this._variable._selectionNode=l,l}return this._variable._selectionNode},_editorRange:function(){let l=this._wd.activeElement;if(o.isInputElement(l))return this._variable._selectionNode=l,l;let r=this.getSelection();if(!r)return null;let d=null;r.rangeCount>0?d=r.getRangeAt(0):d=this._createDefaultRange(),this._rangeInfo(d,r)},_rangeInfo:function(l,r){let d=null;this._variable._range=l,l.collapsed?o.isWysiwygDiv(l.commonAncestorContainer)?d=l.commonAncestorContainer.children[l.startOffset]||l.commonAncestorContainer:d=l.commonAncestorContainer:d=r.extentNode||r.anchorNode,this._variable._selectionNode=d},_createDefaultRange:function(){let l=e.element.wysiwyg,r=this._wd.createRange(),d=l.firstElementChild,p=null;return d?(p=d.firstChild,p||(p=o.createElement("BR"),d.appendChild(p))):(d=o.createElement(s.defaultTag),p=o.createElement("BR"),d.appendChild(p),l.appendChild(d)),r.setStart(p,0),r.setEnd(p,0),r},_selectionVoid:function(l){let r=l.commonAncestorContainer;return o.isWysiwygDiv(l.startContainer)&&o.isWysiwygDiv(l.endContainer)||/FIGURE/i.test(r.nodeName)||this._fileManager.regExp.test(r.nodeName)||o.isMediaComponent(r)},_resetRangeToTextNode:function(){let l=this.getRange();if(this._selectionVoid(l))return!1;let r=l.collapsed,d=l.startContainer,p=l.startOffset,m=l.endContainer,b=l.endOffset,f,v,x;if(o.isFormatElement(d))for(d.childNodes[p]?(d=d.childNodes[p]||d,p=0):(d=d.lastChild||d,p=d.textContent.length);d&&d.nodeType===1&&d.firstChild;)d=d.firstChild||d,p=0;if(o.isFormatElement(m)){for(m=m.childNodes[b]||m.lastChild||m;m&&m.nodeType===1&&m.lastChild;)m=m.lastChild;b=r?0:m.textContent.length}if(f=o.isWysiwygDiv(d)?e.element.wysiwyg.firstChild:d,v=p,o.isBreak(f)||f.nodeType===1&&f.childNodes.length>0){let C=o.isBreak(f);if(!C){for(;f&&!o.isBreak(f)&&f.nodeType===1;)f=f.childNodes[v]||f.nextElementSibling||f.nextSibling,v=0;let S=o.getFormatElement(f,null);S===o.getRangeFormatElement(S,null)&&(S=o.createElement(o.getParentElement(f,o.isCell)?"DIV":s.defaultTag),f.parentNode.insertBefore(S,f),S.appendChild(f))}if(o.isBreak(f)){let S=o.createTextNode(o.zeroWidthSpace);f.parentNode.insertBefore(S,f),f=S,C&&d===m&&(m=f,b=1)}}if(d=f,p=v,f=o.isWysiwygDiv(m)?e.element.wysiwyg.lastChild:m,v=b,o.isBreak(f)||f.nodeType===1&&f.childNodes.length>0){let C=o.isBreak(f);if(!C){for(;f&&!o.isBreak(f)&&f.nodeType===1&&(x=f.childNodes,x.length!==0);)f=x[v>0?v-1:v]||!/FIGURE/i.test(x[0].nodeName)?x[0]:f.previousElementSibling||f.previousSibling||d,v=v>0?f.textContent.length:v;let S=o.getFormatElement(f,null);S===o.getRangeFormatElement(S,null)&&(S=o.createElement(o.isCell(S)?"DIV":s.defaultTag),f.parentNode.insertBefore(S,f),S.appendChild(f))}if(o.isBreak(f)){let S=o.createTextNode(o.zeroWidthSpace);f.parentNode.insertBefore(S,f),f=S,v=1,C&&!f.previousSibling&&o.removeItem(m)}}return m=f,b=v,this.setRange(d,p,m,b),!0},getSelectedElements:function(l){if(!this._resetRangeToTextNode())return[];let r=this.getRange();if(o.isWysiwygDiv(r.startContainer)){let V=e.element.wysiwyg.children;if(V.length===0)return[];this.setRange(V[0],0,V[V.length-1],V[V.length-1].textContent.trim().length),r=this.getRange()}let d=r.startContainer,p=r.endContainer,m=r.commonAncestorContainer,b=o.getListChildren(m,function(V){return l?l(V):o.isFormatElement(V)});if(!o.isWysiwygDiv(m)&&!o.isRangeFormatElement(m)&&b.unshift(o.getFormatElement(m,null)),d===p||b.length===1)return b;let f=o.getFormatElement(d,null),v=o.getFormatElement(p,null),x=null,C=null,S=function(V){return o.isTable(V)?/^TABLE$/i.test(V.nodeName):!0},R=o.getRangeFormatElement(f,S),L=o.getRangeFormatElement(v,S);o.isTable(R)&&o.isListCell(R.parentNode)&&(R=R.parentNode),o.isTable(L)&&o.isListCell(L.parentNode)&&(L=L.parentNode);let F=R===L;for(let V=0,K=b.length,te;V<K;V++){if(te=b[V],f===te||!F&&te===R){x=V;continue}if(v===te||!F&&te===L){C=V;break}}return x===null&&(x=0),C===null&&(C=b.length-1),b.slice(x,C+1)},getSelectedElementsAndComponents:function(l){let r=this.getRange().commonAncestorContainer,d=o.getParentElement(r,o.isComponent),p=o.isTable(r)?this.getSelectedElements(null):this.getSelectedElements(function(m){let b=this.getParentElement(m,this.isComponent);return this.isFormatElement(m)&&(!b||b===d)||this.isComponent(m)&&!this.getFormatElement(m)}.bind(o));if(l){for(let m=0,b=p.length;m<b;m++)for(let f=m-1;f>=0;f--)if(p[f].contains(p[m])){p.splice(m,1),m--,b--;break}}return p},isEdgePoint:function(l,r,d){return l.nodeType===1&&!l.textContent.length?!0:d!=="end"&&r===0||(!d||d!=="start")&&!l.nodeValue&&r===1||(!d||d==="end")&&!!l.nodeValue&&r===l.nodeValue.length},_isEdgeFormat:function(l,r,d){if(!this.isEdgePoint(l,r,d))return!1;let p=[];for(d=d==="start"?"previousSibling":"nextSibling";l&&!o.isFormatElement(l)&&!o.isWysiwygDiv(l);)if(!l[d]||o.isBreak(l[d])&&!l[d][d])l.nodeType===1&&p.push(l.cloneNode(!1)),l=l.parentNode;else return null;return p},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(l,r){if(!l||!l.parentNode)return null;let d=o.getFormatElement(this.getSelectionNode(),null),p=null;if(!o.isFormatElement(l)&&o.isFreeFormatElement(d||l.parentNode))p=o.createElement("BR");else{let m=r?typeof r=="string"?r:r.nodeName:o.isFormatElement(d)&&!o.isRangeFormatElement(d)&&!o.isFreeFormatElement(d)?d.nodeName:s.defaultTag;p=o.createElement(m),p.innerHTML="<br>",(r&&typeof r!="string"||!r&&o.isFormatElement(d))&&o.copyTagAttributes(p,r||d,["id"])}return o.isCell(l)?l.insertBefore(p,l.nextElementSibling):l.parentNode.insertBefore(p,l.nextElementSibling),p},insertComponent:function(l,r,d,p){if(this.isReadOnly||d&&!this.checkCharCount(l,null))return null;let m=this.removeNode();this.getRange_addLine(this.getRange(),m.container);let b=null,f=this.getSelectionNode(),v=o.getFormatElement(f,null);if(o.isListCell(v))this.insertNode(l,f===v?null:m.container.nextSibling,!1),l.nextSibling||l.parentNode.appendChild(o.createElement("BR"));else{if(this.getRange().collapsed&&(m.container.nodeType===3||o.isBreak(m.container))){let x=o.getParentElement(m.container,function(C){return this.isRangeFormatElement(C)}.bind(o));b=o.splitElement(m.container,m.offset,x?o.getElementDepth(x)+1:0),b&&(v=b.previousSibling)}this.insertNode(l,o.isRangeFormatElement(v)?null:v,!1),v&&o.onlyZeroWidthSpace(v)&&o.removeItem(v)}if(!p){this.setRange(l,0,l,0);let x=this.getFileComponent(l);x?this.selectComponent(x.target,x.pluginName):b&&(b=o.getEdgeChildNodes(b,null).sc||b,this.setRange(b,0,b,0))}return r||this.history.push(1),b||l},getFileComponent:function(l){if(!this._fileManager.queryString||!l)return null;let r,d;return(/^FIGURE$/i.test(l.nodeName)||/se-component/.test(l.className))&&(r=l.querySelector(this._fileManager.queryString)),!r&&l.nodeName&&this._fileManager.regExp.test(l.nodeName)&&(r=l),r&&(d=this._fileManager.pluginMap[r.nodeName.toLowerCase()],d)?{target:r,component:o.getParentElement(r,o.isComponent),pluginName:d}:null},selectComponent:function(l,r){if(o.isUneditableComponent(o.getParentElement(l,o.isComponent))||o.isUneditableComponent(l))return!1;this.hasFocus||this.focus();let d=this.plugins[r];d&&h.setTimeout(function(){typeof d.select=="function"&&this.callPlugin(r,d.select.bind(this,l),null),this._setComponentLineBreaker(l)}.bind(this))},_setComponentLineBreaker:function(l){this._lineBreaker.style.display="none";let r=o.getParentElement(l,o.isComponent),d=e.element.lineBreaker_t.style,p=e.element.lineBreaker_b.style,m=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:l,b=o.isListCell(r.parentNode),f,v,x;(b?!r.previousSibling:!o.isFormatElement(r.previousElementSibling))?(this._variable._lineBreakComp=r,v=e.element.wysiwyg.scrollTop,f=o.getOffset(l,e.element.wysiwygFrame).top+v,x=m.offsetWidth/2/2,d.top=f-v-12+"px",d.left=o.getOffset(m).left+x+"px",d.display="block"):d.display="none",(b?!r.nextSibling:!o.isFormatElement(r.nextElementSibling))?(f||(this._variable._lineBreakComp=r,v=e.element.wysiwyg.scrollTop,f=o.getOffset(l,e.element.wysiwygFrame).top+v,x=m.offsetWidth/2/2),p.top=f+m.offsetHeight-v-12+"px",p.left=o.getOffset(m).left+m.offsetWidth-x-24+"px",p.display="block"):p.display="none"},_checkDuplicateNode:function(l,r){(function d(p){c._dupleCheck(p,r);let m=p.childNodes;for(let b=0,f=m.length;b<f;b++)d(m[b])})(l)},_dupleCheck:function(l,r){if(!o.isTextStyleElement(l))return;let d=(l.style.cssText.match(/[^;]+;/g)||[]).map(function(b){return b.trim()}),p=l.nodeName;if(/^span$/i.test(p)&&d.length===0)return l;let m=!1;return function b(f){if(!(o.isWysiwygDiv(f)||!o.isTextStyleElement(f))){if(f.nodeName===p){m=!0;let v=f.style.cssText.match(/[^;]+;/g)||[];for(let x=0,C=v.length,S;x<C;x++)(S=d.indexOf(v[x].trim()))>-1&&d.splice(S,1);for(let x=0,C=f.classList.length;x<C;x++)l.classList.remove(f.classList[x])}b(f.parentElement)}}(r),m&&((l.style.cssText=d.join(" "))||(l.setAttribute("style",""),l.removeAttribute("style")),l.attributes.length||l.setAttribute("data-se-duple","true")),l},insertNode:function(l,r,d){if(this.isReadOnly||d&&!this.checkCharCount(l,null))return null;let p=null,m=this.getRange(),b=o.isListCell(m.commonAncestorContainer)?m.commonAncestorContainer:o.getFormatElement(this.getSelectionNode(),null),f=o.isListCell(b)&&(o.isListCell(l)||o.isList(l)),v,x,C,S=null,R=o.isFreeFormatElement(b),L=!R&&(o.isFormatElement(l)||o.isRangeFormatElement(l))||o.isComponent(l);if(f&&(C=r||o.isList(l)?b.lastChild:b.nextElementSibling,S=o.isList(l)?b:(C||b).parentNode),!r&&(L||o.isComponent(l)||o.isMedia(l))){let j=this.isEdgePoint(m.endContainer,m.endOffset,"end"),W=this.removeNode(),Y=W.container,D=Y===W.prevContainer&&m.collapsed?null:W.prevContainer;if(f&&D)if(S=D.nodeType===3?D.parentNode:D,S.contains(Y)){let Q=!0;for(C=Y;C.parentNode&&C.parentNode!==S;)C=C.parentNode,Q=!1;Q&&Y===D&&(C=C.nextSibling)}else C=null;else if(f&&o.isListCell(Y)&&!b.parentElement)b=o.createElement("LI"),S.appendChild(b),Y.appendChild(S),C=null;else if(Y.nodeType===3||o.isBreak(Y)||f){let Q=o.getParentElement(Y,function(A){return this.isRangeFormatElement(A)||this.isListCell(A)}.bind(o));if(r=o.splitElement(Y,W.offset,Q?o.getElementDepth(Q)+1:0),!r)C=r=b;else if(f){if(b.contains(Y)){let A=o.isList(b.lastElementChild),$=null;j||($=b.cloneNode(!1),$.appendChild(r.textContent.trim()?r:o.createTextNode(o.zeroWidthSpace))),A&&($||($=b.cloneNode(!1),$.appendChild(o.createTextNode(o.zeroWidthSpace))),$.appendChild(b.lastElementChild)),$&&(b.parentNode.insertBefore($,b.nextElementSibling),C=r=$)}}else r=r.previousSibling}}m=!r&&!L?this.getRange_addLine(this.getRange(),null):this.getRange();let F=m.commonAncestorContainer,V=m.startOffset,K=m.endOffset,te=m.startContainer===F&&o.isFormatElement(F),X=te&&(F.childNodes[V]||F.childNodes[0])||m.startContainer,Z=te&&(F.childNodes[K]||F.childNodes[F.childNodes.length-1])||m.endContainer;if(!f)if(r)v=r.parentNode,r=r.nextSibling,x=!0;else if(v=X,X.nodeType===3&&(v=X.parentNode),m.collapsed)if(F.nodeType===3)F.textContent.length>K?r=F.splitText(K):r=F.nextSibling;else if(o.isBreak(v))r=v,v=v.parentNode;else{let j=v.childNodes[V],W=j&&j.nodeType===3&&o.onlyZeroWidthSpace(j)&&o.isBreak(j.nextSibling)?j.nextSibling:j;W?!W.nextSibling&&o.isBreak(W)?(v.removeChild(W),r=null):r=o.isBreak(W)&&!o.isBreak(l)?W:W.nextSibling:r=null}else if(X===Z){this.isEdgePoint(Z,K)?r=Z.nextSibling:r=Z.splitText(K);let W=X;this.isEdgePoint(X,V)||(W=X.splitText(V)),v.removeChild(W),v.childNodes.length===0&&L&&(v.innerHTML="<br>")}else{let W=this.removeNode(),Y=W.container,D=W.prevContainer;if(Y&&Y.childNodes.length===0&&L&&(o.isFormatElement(Y)?Y.innerHTML="<br>":o.isRangeFormatElement(Y)&&(Y.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),o.isListCell(Y)&&l.nodeType===3)v=Y,r=null;else if(!L&&D)if(v=D.nodeType===3?D.parentNode:D,v.contains(Y)){let Q=!0;for(r=Y;r.parentNode&&r.parentNode!==v;)r=r.parentNode,Q=!1;Q&&Y===D&&(r=r.nextSibling)}else r=null;else o.isWysiwygDiv(Y)&&!o.isFormatElement(l)?(v=Y.appendChild(o.createElement(s.defaultTag)),r=null):(r=L?Z:Y===D?Y.nextSibling:Y,v=!r||!r.parentNode?F:r.parentNode);for(;r&&!o.isFormatElement(r)&&r.parentNode!==F;)r=r.parentNode}try{if(!f){if((o.isWysiwygDiv(r)||v===e.element.wysiwyg.parentNode)&&(v=e.element.wysiwyg,r=null),o.isFormatElement(l)||o.isRangeFormatElement(l)||!o.isListCell(v)&&o.isComponent(l)){let j=v;if(o.isList(r))v=r,r=null;else if(o.isListCell(r))v=r.previousElementSibling||r;else if(!x&&!r){let W=this.removeNode(),Y=W.container.nodeType===3?o.isListCell(o.getFormatElement(W.container,null))?W.container:o.getFormatElement(W.container,null)||W.container.parentNode:W.container,D=o.isWysiwygDiv(Y)||o.isRangeFormatElement(Y);v=D?Y:Y.parentNode,r=D?null:Y.nextSibling}j.childNodes.length===0&&v!==j&&o.removeItem(j)}if(L&&!R&&!o.isRangeFormatElement(v)&&!o.isListCell(v)&&!o.isWysiwygDiv(v)&&(r=v.nextElementSibling,v=v.parentNode),o.isWysiwygDiv(v)&&(l.nodeType===3||o.isBreak(l))){let j=o.createElement(s.defaultTag);j.appendChild(l),p=l,l=j}}if(f?S.parentNode?(v=S,r=C):(v=e.element.wysiwyg,r=null):r=v===r?v.lastChild:r,o.isListCell(l)&&!o.isList(v)){if(o.isListCell(v))r=v.nextElementSibling,v=v.parentNode;else{let j=o.createElement("ol");v.insertBefore(j,r),v=j,r=null}f=!0}if(this._checkDuplicateNode(l,v),v.insertBefore(l,r),f)if(o.onlyZeroWidthSpace(b.textContent.trim()))o.removeItem(b),l=l.lastChild;else{let j=o.getArrayItem(b.children,o.isList);j&&(l!==j?(l.appendChild(j),l=j.previousSibling):(v.appendChild(l),l=v),o.onlyZeroWidthSpace(b.textContent.trim())&&o.removeItem(b))}}catch(j){v.appendChild(l),console.warn("[SUNEDITOR.insertNode.warn] "+j)}finally{p&&(l=p);let j=v.querySelectorAll("[data-se-duple]");if(j.length>0)for(let W=0,Y=j.length,D,Q,A,$;W<Y;W++){for(D=j[W],A=D.childNodes,$=D.parentNode;A[0];)Q=A[0],$.insertBefore(Q,D);D===l&&(l=Q),o.removeItem(D)}if((o.isFormatElement(l)||o.isComponent(l))&&X===Z){let W=o.getFormatElement(F,null);W&&W.nodeType===1&&o.isEmptyLine(W)&&o.removeItem(W)}if(R&&(o.isFormatElement(l)||o.isRangeFormatElement(l))&&(l=this._setIntoFreeFormat(l)),!o.isComponent(l)){let W=1;if(l.nodeType===3)W=l.textContent.length,this.setRange(l,W,l,W);else if(!o.isBreak(l)&&!o.isListCell(l)&&o.isFormatElement(v)){let Y=null;(!l.previousSibling||o.isBreak(l.previousSibling))&&(Y=o.createTextNode(o.zeroWidthSpace),l.parentNode.insertBefore(Y,l)),(!l.nextSibling||o.isBreak(l.nextSibling))&&(Y=o.createTextNode(o.zeroWidthSpace),l.parentNode.insertBefore(Y,l.nextSibling)),o._isIgnoreNodeChange(l)&&(l=l.nextSibling,W=0)}this.setRange(l,W,l,W)}return l}},_setIntoFreeFormat:function(l){let r=l.parentNode,d,p;for(;o.isFormatElement(l)||o.isRangeFormatElement(l);){for(d=l.childNodes,p=null;d[0];){if(p=d[0],o.isFormatElement(p)||o.isRangeFormatElement(p)){if(this._setIntoFreeFormat(p),!l.parentNode)break;d=l.childNodes;continue}r.insertBefore(p,l)}l.childNodes.length===0&&o.removeItem(l),l=o.createElement("BR"),r.insertBefore(l,p.nextSibling)}return l},removeNode:function(){this._resetRangeToTextNode();let l=this.getRange();if(l.startContainer===l.endContainer){let W=o.getParentElement(l.startContainer,o.isMediaComponent);if(W){let Y=o.createElement("BR"),D=o.createElement(s.defaultTag);return D.appendChild(Y),o.changeElement(W,D),c.setRange(D,0,D,0),this.history.push(!0),{container:D,offset:0,prevContainer:null}}}let r=l.startOffset===0,d=c.isEdgePoint(l.endContainer,l.endOffset,"end"),p=null,m=null,b=null;r&&(m=o.getFormatElement(l.startContainer),m&&(p=m.previousElementSibling,m=p)),d&&(b=o.getFormatElement(l.endContainer),b=b&&b.nextElementSibling);let f,v=0,x=l.startContainer,C=l.endContainer,S=l.startOffset,R=l.endOffset,L=l.commonAncestorContainer.nodeType===3&&l.commonAncestorContainer.parentNode===x.parentNode?x.parentNode:l.commonAncestorContainer;if(L===x&&L===C&&(x=L.children[S],C=L.children[R],S=R=0),!x||!C)return{container:L,offset:0};if(x===C&&l.collapsed&&x.textContent&&o.onlyZeroWidthSpace(x.textContent.substr(S)))return{container:x,offset:S,prevContainer:x&&x.parentNode?x:null};let F=null,V=null,K=o.getListChildNodes(L,null),te=o.getArrayIndex(K,x),X=o.getArrayIndex(K,C);if(K.length>0&&te>-1&&X>-1){for(let W=te+1,Y=x;W>=0;W--)K[W]===Y.parentNode&&K[W].firstChild===Y&&S===0&&(te=W,Y=Y.parentNode);for(let W=X-1,Y=C;W>te;W--)K[W]===Y.parentNode&&K[W].nodeType===1&&(K.splice(W,1),Y=Y.parentNode,--X)}else{if(K.length===0){if(o.isFormatElement(L)||o.isRangeFormatElement(L)||o.isWysiwygDiv(L)||o.isBreak(L)||o.isMedia(L))return{container:L,offset:0};if(L.nodeType===3)return{container:L,offset:R};K.push(L),x=C=L}else if(x=C=K[0],o.isBreak(x)||o.onlyZeroWidthSpace(x))return{container:o.isMedia(L)?L:x,offset:0};te=X=0}for(let W=te;W<=X;W++){let Y=K[W];if(Y.length===0||Y.nodeType===3&&Y.data===void 0){this._nodeRemoveListItem(Y);continue}if(Y===x){if(x.nodeType===1){if(o.isComponent(x))continue;F=o.createTextNode(x.textContent)}else Y===C?(F=o.createTextNode(x.substringData(0,S)+C.substringData(R,C.length-R)),v=S):F=o.createTextNode(x.substringData(0,S));if(F.length>0?x.data=F.data:this._nodeRemoveListItem(x),Y===C)break;continue}if(Y===C){if(C.nodeType===1){if(o.isComponent(C))continue;V=o.createTextNode(C.textContent)}else V=o.createTextNode(C.substringData(R,C.length-R));V.length>0?C.data=V.data:this._nodeRemoveListItem(C);continue}this._nodeRemoveListItem(Y)}let Z=o.getParentElement(C,"ul"),j=o.getParentElement(x,"li");if(Z&&j&&j.contains(Z)?(f=Z.previousSibling,v=f.textContent.length):(f=C&&C.parentNode?C:x&&x.parentNode?x:l.endContainer||l.startContainer,v=!r&&!d?v:d?f.textContent.length:0),!o.isWysiwygDiv(f)&&f.childNodes.length===0){let W=o.removeItemAllParents(f,null,null);W&&(f=W.sc||W.ec||e.element.wysiwyg)}return!o.getFormatElement(f)&&!(x&&x.parentNode)&&(b?(f=b,v=0):m&&(f=m,v=1)),this.setRange(f,v,f,v),this.history.push(!0),{container:f,offset:v,prevContainer:p}},_nodeRemoveListItem:function(l){let r=o.getFormatElement(l,null);o.removeItem(l),o.isListCell(r)&&(o.removeItemAllParents(r,null,null),r&&o.isList(r.firstChild)&&r.insertBefore(o.createTextNode(o.zeroWidthSpace),r.firstChild))},applyRangeFormatElement:function(l){this.getRange_addLine(this.getRange(),null);let r=this.getSelectedElementsAndComponents(!1);if(!r||r.length===0)return;e:for(let R=0,L=r.length,F,V,K,te,X,Z;R<L;R++)if(F=r[R],!!o.isListCell(F)&&(V=F.lastElementChild,V&&o.isListCell(F.nextElementSibling)&&r.indexOf(F.nextElementSibling)>-1&&(te=V.lastElementChild,r.indexOf(te)>-1))){let j=null;for(;j=te.lastElementChild;)if(o.isList(j))if(r.indexOf(j.lastElementChild)>-1)te=j.lastElementChild;else continue e;K=V.firstElementChild,X=r.indexOf(K),Z=r.indexOf(te),r.splice(X,Z-X+1),L=r.length;continue}let d=r[r.length-1],p,m,b;o.isRangeFormatElement(d)||o.isFormatElement(d)?p=d:p=o.getRangeFormatElement(d,null)||o.getFormatElement(d,null),o.isCell(p)?(m=null,b=p):(m=p.nextSibling,b=p.parentNode);let f=o.getElementDepth(p),v=null,x=[],C=function(R,L,F){let V=null;if(R!==L&&!o.isTable(L)){if(L&&o.getElementDepth(R)===o.getElementDepth(L))return F;V=o.removeItemAllParents(L,null,R)}return V?V.ec:F};for(let R=0,L=r.length,F,V,K,te,X,Z,j;R<L;R++)if(F=r[R],V=F.parentNode,!(!V||l.contains(V)))if(K=o.getElementDepth(F),o.isList(V)){if(v===null&&(Z?(v=Z,j=!0,Z=null):v=V.cloneNode(!1)),x.push(F),X=r[R+1],R===L-1||X&&X.parentNode!==V){X&&F.contains(X.parentNode)&&(Z=X.parentNode.cloneNode(!1));let W=V.parentNode,Y;for(;o.isList(W);)Y=o.createElement(W.nodeName),Y.appendChild(v),v=Y,W=W.parentNode;let D=this.detachRangeFormatElement(V,x,null,!0,!0);f>=K?(f=K,b=D.cc,m=C(b,V,D.ec),m&&(b=m.parentNode)):b===D.cc&&(m=D.ec),b!==D.cc&&(te=C(b,D.cc,te),te!==void 0?m=te:m=D.cc);for(let Q=0,A=D.removeArray.length;Q<A;Q++)v.appendChild(D.removeArray[Q]);j||l.appendChild(v),Z&&D.removeArray[D.removeArray.length-1].appendChild(Z),v=null,j=!1}}else f>=K&&(f=K,b=V,m=F.nextSibling),l.appendChild(F),b!==V&&(te=C(b,V),te!==void 0&&(m=te));if(this.effectNode=null,o.mergeSameTags(l,null,!1),o.mergeNestedTags(l,function(R){return this.isList(R)}.bind(o)),m&&o.getElementDepth(m)>0&&(o.isList(m.parentNode)||o.isList(m.parentNode.parentNode))){let R=o.getParentElement(m,function(F){return this.isRangeFormatElement(F)&&!this.isList(F)}.bind(o)),L=o.splitElement(m,null,R?o.getElementDepth(R)+1:0);L.parentNode.insertBefore(l,L)}else b.insertBefore(l,m),C(l,m);let S=o.getEdgeChildNodes(l.firstElementChild,l.lastElementChild);r.length>1?this.setRange(S.sc,0,S.ec,S.ec.textContent.length):this.setRange(S.ec,S.ec.textContent.length,S.ec,S.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(l,r,d,p,m){let b=this.getRange(),f=b.startOffset,v=b.endOffset,x=o.getListChildNodes(l,function(D){return D.parentNode===l}),C=l.parentNode,S=null,R=null,L=l.cloneNode(!1),F=[],V=o.isList(d),K=!1,te=!1,X=!1;function Z(D,Q,A,$){if(o.onlyZeroWidthSpace(Q)&&(Q.innerHTML=o.zeroWidthSpace,f=v=1),Q.nodeType===3)return D.insertBefore(Q,A),Q;let le=(X?Q:$).childNodes,oe=Q.cloneNode(!1),z=null,y=null;for(;le[0];)y=le[0],o._notTextNode(y)&&!o.isBreak(y)&&!o.isListCell(oe)?(oe.childNodes.length>0&&(z||(z=oe),D.insertBefore(oe,A),oe=Q.cloneNode(!1)),D.insertBefore(y,A),z||(z=y)):oe.appendChild(y);if(oe.childNodes.length>0){if(o.isListCell(D)&&o.isListCell(oe)&&o.isList(A))if(V){for(z=A;A;)oe.appendChild(A),A=A.nextSibling;D.parentNode.insertBefore(oe,D.nextElementSibling)}else{let T=$.nextElementSibling,w=o.detachNestedList($,!1);if(l!==w||T!==$.nextElementSibling){let O=oe.childNodes;for(;O[0];)$.appendChild(O[0]);l=w,te=!0}}else D.insertBefore(oe,A);z||(z=oe)}return z}for(let D=0,Q=x.length,A,$,le;D<Q;D++)if(A=x[D],!(A.nodeType===3&&o.isList(L)))if(X=!1,p&&D===0&&(!r||r.length===Q||r[0]===A?S=l.previousSibling:S=L),r&&($=r.indexOf(A)),r&&$===-1)L||(L=l.cloneNode(!1)),L.appendChild(A);else{if(r&&(le=r[$+1]),L&&L.children.length>0&&(C.insertBefore(L,l),L=null),!V&&o.isListCell(A))if(le&&o.getElementDepth(A)!==o.getElementDepth(le)&&(o.isListCell(C)||o.getArrayItem(A.children,o.isList,!1))){let oe=A.nextElementSibling,z=o.detachNestedList(A,!1);(l!==z||oe!==A.nextElementSibling)&&(l=z,te=!0)}else{let oe=A;A=o.createElement(p?oe.nodeName:o.isList(l.parentNode)||o.isListCell(l.parentNode)?"LI":o.isCell(l.parentNode)?"DIV":s.defaultTag);let z=o.isListCell(A),y=oe.childNodes;for(;y[0]&&!(o.isList(y[0])&&!z);)A.appendChild(y[0]);o.copyFormatAttributes(A,oe),X=!0}else A=A.cloneNode(!1);if(!te&&(p?(F.push(A),o.removeItem(x[D])):(d?(K||(C.insertBefore(d,l),K=!0),A=Z(d,A,null,x[D])):A=Z(C,A,l,x[D]),te||(r?(R=A,S||(S=A)):S||(S=R=A))),te)){te=X=!1,x=o.getListChildNodes(l,function(oe){return oe.parentNode===l}),L=l.cloneNode(!1),C=l.parentNode,D=-1,Q=x.length;continue}}let j=l.parentNode,W=l.nextSibling;L&&L.children.length>0&&j.insertBefore(L,W),d?S=d.previousSibling:S||(S=l.previousSibling),W=l.nextSibling!==L?l.nextSibling:L?L.nextSibling:null,l.children.length===0||l.textContent.length===0?o.removeItem(l):o.removeEmptyNode(l,null,!1);let Y=null;if(p)Y={cc:j,sc:S,so:f,ec:W,eo:v,removeArray:F};else{S||(S=R),R||(R=S);let D=o.getEdgeChildNodes(S,R.parentNode?S:R);Y={cc:(D.sc||D.ec).parentNode,sc:D.sc,so:f,ec:D.ec,eo:v,removeArray:null}}if(this.effectNode=null,m)return Y;!p&&Y&&(r?this.setRange(Y.sc,f,Y.ec,v):this.setRange(Y.sc,0,Y.sc,0)),this.history.push(!1)},detachList:function(l,r){let d={},p=!1,m=!1,b=null,f=null,v=function(x){return!this.isComponent(x)}.bind(o);for(let x=0,C=l.length,S,R,L,F;x<C;x++){if(L=x===C-1,R=o.getRangeFormatElement(l[x],v),F=o.isList(R),!S&&F)S=R,d={r:S,f:[o.getParentElement(l[x],"LI")]},x===0&&(p=!0);else if(S&&F)if(S!==R){let V=this.detachRangeFormatElement(d.f[0].parentNode,d.f,null,r,!0);R=l[x].parentNode,p&&(b=V.sc,p=!1),L&&(f=V.ec),F?(S=R,d={r:S,f:[o.getParentElement(l[x],"LI")]},L&&(m=!0)):S=null}else d.f.push(o.getParentElement(l[x],"LI")),L&&(m=!0);if(L&&o.isList(S)){let V=this.detachRangeFormatElement(d.f[0].parentNode,d.f,null,r,!0);(m||C===1)&&(f=V.ec),p&&(b=V.sc||f)}}return{sc:b,ec:f}},nodeChange:function(l,r,d,p){this._resetRangeToTextNode();let m=this.getRange_addLine(this.getRange(),null);r=r&&r.length>0?r:!1,d=d&&d.length>0?d:!1;let b=!l,f=b&&!d&&!r,v=m.startContainer,x=m.startOffset,C=m.endContainer,S=m.endOffset;if(f&&m.collapsed&&o.isFormatElement(v.parentNode)||v===C&&v.nodeType===1&&o.isNonEditable(v)){let y=v.parentNode;if(!o.isListCell(y)||!o.getValues(y.style).some(function(T){return this._listKebab.indexOf(T)>-1}.bind(this)))return}if(m.collapsed&&!f&&v.nodeType===1&&!o.isBreak(v)&&!o.isComponent(v)){let y=null,T=v.childNodes[x];T&&(T.nextSibling?y=o.isBreak(T)?T:T.nextSibling:y=null);let w=o.createTextNode(o.zeroWidthSpace);v.insertBefore(w,y),this.setRange(w,1,w,1),m=this.getRange(),v=m.startContainer,x=m.startOffset,C=m.endContainer,S=m.endOffset}o.isFormatElement(v)&&(v=v.childNodes[x]||v.firstChild,x=0),o.isFormatElement(C)&&(C=C.childNodes[S]||C.lastChild,S=C.textContent.length),b&&(l=o.createElement("DIV"));let R=h.RegExp,L=l.nodeName;if(!f&&v===C&&!d&&l){let y=v,T=0,w=[],O=l.style;for(let E=0,q=O.length;E<q;E++)w.push(O[E]);let B=l.classList;for(let E=0,q=B.length;E<q;E++)w.push("."+B[E]);if(w.length>0){for(;!o.isFormatElement(y)&&!o.isWysiwygDiv(y);){for(let E=0;E<w.length;E++)if(y.nodeType===1){let q=w[E],G=/^\./.test(q)?new R("\\s*"+q.replace(/^\./,"")+"(\\s+|$)","ig"):!1,ue=b?!!y.style[q]:!!y.style[q]&&!!l.style[q]&&y.style[q]===l.style[q],de=G===!1?!1:b?!!y.className.match(G):!!y.className.match(G)&&!!l.className.match(G);(ue||de)&&T++}y=y.parentNode}if(T>=w.length)return}}let F={},V={},K,te="",X="",Z="";if(r){for(let y=0,T=r.length,w;y<T;y++)w=r[y],/^\./.test(w)?X+=(X?"|":"\\s*(?:")+w.replace(/^\./,""):te+=(te?"|":"(?:;|^|\\s)(?:")+w;te&&(te+=")\\s*:[^;]*\\s*(?:;|$)",te=new R(te,"ig")),X&&(X+=")(?=\\s+|$)",X=new R(X,"ig"))}if(d){Z="^(?:"+d[0];for(let y=1;y<d.length;y++)Z+="|"+d[y];Z+=")$",Z=new R(Z,"i")}let j=h.Boolean,W={v:!1},Y=function(y){let T=y.cloneNode(!1);if(T.nodeType===3||o.isBreak(T))return T;if(f)return null;let w=!Z&&b||Z&&Z.test(T.nodeName);if(w&&!p)return W.v=!0,null;let O=T.style.cssText,B="";te&&O.length>0&&(B=O.replace(te,"").trim(),B!==O&&(W.v=!0));let E=T.className,q="";return X&&E.length>0&&(q=E.replace(X,"").trim(),q!==E&&(W.v=!0)),b&&(X||!E)&&(te||!O)&&!B&&!q&&w?(W.v=!0,null):B||q||T.nodeName!==L||j(te)!==j(O)||j(X)!==j(E)?(te&&O.length>0&&(T.style.cssText=B),T.style.cssText||T.removeAttribute("style"),X&&E.length>0&&(T.className=q.trim()),T.className.trim()||T.removeAttribute("class"),!T.style.cssText&&!T.className&&(T.nodeName===L||w)?(W.v=!0,null):T):(W.v=!0,null)},D=this.getSelectedElements(null);m=this.getRange(),v=m.startContainer,x=m.startOffset,C=m.endContainer,S=m.endOffset,o.getFormatElement(v,null)||(v=o.getChildElement(D[0],function(y){return y.nodeType===3},!1),x=0),o.getFormatElement(C,null)||(C=o.getChildElement(D[D.length-1],function(y){return y.nodeType===3},!1),S=C.textContent.length);let Q=o.getFormatElement(v,null)===o.getFormatElement(C,null),A=D.length-(Q?0:1);K=l.cloneNode(!1);let $=f||b&&function(y){for(let T=0,w=y.length;T<w;T++)if(o._isMaintainedNode(y[T])||o._isSizeNode(y[T]))return!0;return!1}(d),le=b||o._isSizeNode(K),oe=this._util_getMaintainedNode.bind(o,$,le),z=this._util_isMaintainedNode.bind(o,$,le);if(Q){this._resetCommonListCell(D[0],r)&&(m=this.setRange(v,x,C,S));let y=this._nodeChange_oneLine(D[0],K,Y,v,x,C,S,f,b,m.collapsed,W,oe,z);F.container=y.startContainer,F.offset=y.startOffset,V.container=y.endContainer,V.offset=y.endOffset,F.container===V.container&&o.onlyZeroWidthSpace(F.container)&&(F.offset=V.offset=1),this._setCommonListStyle(y.ancestor,null)}else{let y=!1;A>0&&this._resetCommonListCell(D[A],r)&&(y=!0),this._resetCommonListCell(D[0],r)&&(y=!0),y&&this.setRange(v,x,C,S),A>0&&(K=l.cloneNode(!1),V=this._nodeChange_endLine(D[A],K,Y,C,S,f,b,W,oe,z));for(let T=A-1,w;T>0;T--)this._resetCommonListCell(D[T],r),K=l.cloneNode(!1),w=this._nodeChange_middleLine(D[T],K,Y,f,b,W,V.container),w.endContainer&&w.ancestor.contains(w.endContainer)&&(V.ancestor=null,V.container=w.endContainer),this._setCommonListStyle(w.ancestor,null);K=l.cloneNode(!1),F=this._nodeChange_startLine(D[0],K,Y,v,x,f,b,W,oe,z,V.container),F.endContainer&&(V.ancestor=null,V.container=F.endContainer),A<=0?V=F:V.container||(V.ancestor=null,V.container=F.container,V.offset=F.container.textContent.length),this._setCommonListStyle(F.ancestor,null),this._setCommonListStyle(V.ancestor||o.getFormatElement(V.container),null)}this.controllersOff(),this.setRange(F.container,F.offset,V.container,V.offset),this.history.push(!1)},_resetCommonListCell:function(l,r){if(!o.isListCell(l))return;r||(r=this._listKebab);let d=o.getArrayItem(l.childNodes,function(R){return!o.isBreak(R)},!0),p=l.style,m=[],b=[],f=o.getValues(p);for(let R=0,L=this._listKebab.length;R<L;R++)f.indexOf(this._listKebab[R])>-1&&r.indexOf(this._listKebab[R])>-1&&(m.push(this._listCamel[R]),b.push(this._listKebab[R]));if(!m.length)return;let v=o.createElement("SPAN");for(let R=0,L=m.length;R<L;R++)v.style[m[R]]=p[b[R]],p.removeProperty(b[R]);let x=v.cloneNode(!1),C=null,S=!1;for(let R=0,L=d.length,F,V;R<L;R++)F=d[R],!s._textTagsMap[F.nodeName.toLowerCase()]&&(V=o.getValues(F.style),V.length===0||m.some(function(K){return V.indexOf(K)===-1})&&V.some(function(K){m.indexOf(K)>-1})?(C=F.nextSibling,x.appendChild(F)):x.childNodes.length>0&&(l.insertBefore(x,C),x=v.cloneNode(!1),C=null,S=!0));return x.childNodes.length>0&&(l.insertBefore(x,C),S=!0),p.length||l.removeAttribute("style"),S},_setCommonListStyle:function(l,r){if(!o.isListCell(l))return;let d=o.getArrayItem((r||l).childNodes,function(x){return!o.isBreak(x)},!0);if(r=d[0],!r||d.length>1||r.nodeType!==1)return;let p=r.style,m=l.style,b=r.nodeName.toLowerCase(),f=!1;s._textTagsMap[b]===s._defaultCommand.bold.toLowerCase()&&(m.fontWeight="bold"),s._textTagsMap[b]===s._defaultCommand.italic.toLowerCase()&&(m.fontStyle="italic");let v=o.getValues(p);if(v.length>0)for(let x=0,C=this._listCamel.length;x<C;x++)v.indexOf(this._listKebab[x])>-1&&(m[this._listCamel[x]]=p[this._listCamel[x]],p.removeProperty(this._listKebab[x]),f=!0);if(this._setCommonListStyle(l,r),!!f&&!p.length){let x=r.childNodes,C=r.parentNode,S=r.nextSibling;for(;x.length>0;)C.insertBefore(x[0],S);o.removeItem(r)}},_stripRemoveNode:function(l){let r=l.parentNode;if(!l||l.nodeType===3||!r)return;let d=l.childNodes;for(;d[0];)r.insertBefore(d[0],l);r.removeChild(l)},_util_getMaintainedNode:function(l,r,d){return!d||l?null:this.getParentElement(d,this._isMaintainedNode.bind(this))||(r?null:this.getParentElement(d,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(l,r,d){if(!d||l||d.nodeType!==1)return!1;let p=this._isMaintainedNode(d);return this.getParentElement(d,this._isMaintainedNode.bind(this))?p:p||(r?!1:this._isSizeNode(d))},_nodeChange_oneLine:function(l,r,d,p,m,b,f,v,x,C,S,R,L){let F=p.parentNode;for(;!F.nextSibling&&!F.previousSibling&&!o.isFormatElement(F.parentNode)&&!o.isWysiwygDiv(F.parentNode)&&F.nodeName!==r.nodeName;)F=F.parentNode;if(!x&&F===b.parentNode&&F.nodeName===r.nodeName&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))&&o.onlyZeroWidthSpace(b.textContent.slice(f))){let de=F.childNodes,fe=!0;for(let pe=0,ze=de.length,qe,$e,Ze,Oe;pe<ze;pe++){if(qe=de[pe],Oe=!o.onlyZeroWidthSpace(qe),qe===p){$e=!0;continue}if(qe===b){Ze=!0;continue}if(!$e&&Oe||$e&&Ze&&Oe){fe=!1;break}}if(fe)return o.copyTagAttributes(F,r),{ancestor:l,startContainer:p,startOffset:m,endContainer:b,endOffset:f}}S.v=!1;let V=l,K=[r],te=l.cloneNode(!1),X=p===b,Z=p,j=m,W=b,Y=f,D=!1,Q=!1,A,$,le,oe,z,y=h.RegExp;function T(de){let fe=new y("(?:;|^|\\s)(?:"+oe+"null)\\s*:[^;]*\\s*(?:;|$)","ig"),pe="";return fe&&de.style.cssText.length>0&&(pe=fe.test(de.style.cssText)),!pe}if(function de(fe,pe){let ze=fe.childNodes;for(let qe=0,$e=ze.length,Ze;qe<$e;qe++){let Oe=ze[qe];if(!Oe)continue;let Ot=pe,at;if(!D&&Oe===Z){let je=te;z=R(Oe);let Ye=o.createTextNode(Z.nodeType===1?"":Z.substringData(0,j)),et=o.createTextNode(Z.nodeType===1?"":Z.substringData(j,X&&Y>=j?Y-j:Z.data.length-j));if(z){let vi=R(pe);if(vi&&vi.parentNode!==je){let Wt=vi,Vn=null;for(;Wt.parentNode!==je;){for(pe=Vn=Wt.parentNode.cloneNode(!1);Wt.childNodes[0];)Vn.appendChild(Wt.childNodes[0]);Wt.appendChild(Vn),Wt=Wt.parentNode}Wt.parentNode.appendChild(vi)}z=z.cloneNode(!1)}o.onlyZeroWidthSpace(Ye)||pe.appendChild(Ye);let nt=R(pe);for(nt&&(z=nt),z&&(je=z),$=Oe,A=[],oe="";$!==je&&$!==V&&$!==null;)Ze=L($)?null:d($),Ze&&$.nodeType===1&&T($)&&(A.push(Ze),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;let Zt=A.pop()||et;for(le=$=Zt;A.length>0;)$=A.pop(),le.appendChild($),le=$;if(r.appendChild(Zt),je.appendChild(r),z&&!R(W)&&(r=r.cloneNode(!1),te.appendChild(r),K.push(r)),Z=et,j=0,D=!0,$!==et&&$.appendChild(Z),!X)continue}if(!Q&&Oe===W){z=R(Oe);let je=o.createTextNode(W.nodeType===1?"":W.substringData(Y,W.length-Y)),Ye=o.createTextNode(X||W.nodeType===1?"":W.substringData(0,Y));if(z?z=z.cloneNode(!1):L(r.parentNode)&&!z&&(r=r.cloneNode(!1),te.appendChild(r),K.push(r)),!o.onlyZeroWidthSpace(je)){$=Oe,oe="",A=[];let nt=[];for(;$!==te&&$!==V&&$!==null;)$.nodeType===1&&T($)&&(L($)?nt.push($.cloneNode(!1)):A.push($.cloneNode(!1)),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;for(A=A.concat(nt),at=le=$=A.pop()||je;A.length>0;)$=A.pop(),le.appendChild($),le=$;te.appendChild(at),$.textContent=je.data}if(z&&at){let nt=R(at);nt&&(z=nt)}for($=Oe,A=[],oe="";$!==te&&$!==V&&$!==null;)Ze=L($)?null:d($),Ze&&$.nodeType===1&&T($)&&(A.push(Ze),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;let et=A.pop()||Ye;for(le=$=et;A.length>0;)$=A.pop(),le.appendChild($),le=$;z?(r=r.cloneNode(!1),r.appendChild(et),z.insertBefore(r,z.firstChild),te.appendChild(z),K.push(r),z=null):r.appendChild(et),W=Ye,Y=Ye.data.length,Q=!0,!v&&C&&(r=Ye,Ye.textContent=o.zeroWidthSpace),$!==Ye&&$.appendChild(W);continue}if(D){if(Oe.nodeType===1&&!o.isBreak(Oe)){o._isIgnoreNodeChange(Oe)?(te.appendChild(Oe.cloneNode(!0)),C||(r=r.cloneNode(!1),te.appendChild(r),K.push(r))):de(Oe,Oe);continue}$=Oe,A=[],oe="";let je=[];for(;$.parentNode!==null&&$!==V&&$!==r;)Ze=Q?$.cloneNode(!1):d($),$.nodeType===1&&!o.isBreak(Oe)&&Ze&&T($)&&(L($)?z||je.push(Ze):A.push(Ze),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;A=A.concat(je);let Ye=A.pop()||Oe;for(le=$=Ye;A.length>0;)$=A.pop(),le.appendChild($),le=$;if(L(r.parentNode)&&!L(Ye)&&!o.onlyZeroWidthSpace(r)&&(r=r.cloneNode(!1),te.appendChild(r),K.push(r)),!Q&&!z&&L(Ye)){r=r.cloneNode(!1);let et=Ye.childNodes;for(let nt=0,Zt=et.length;nt<Zt;nt++)r.appendChild(et[nt]);Ye.appendChild(r),te.appendChild(Ye),K.push(r),r.children.length>0?pe=$:pe=r}else Ye===Oe?Q?pe=te:pe=r:Q?(te.appendChild(Ye),pe=$):(r.appendChild(Ye),pe=$);if(z&&Oe.nodeType===3)if(R(Oe)){let et=o.getParentElement(pe,function(nt){return this._isMaintainedNode(nt.parentNode)||nt.parentNode===te}.bind(o));z.appendChild(et),r=et.cloneNode(!1),K.push(r),te.appendChild(r)}else z=null}at=Oe.cloneNode(!1),pe.appendChild(at),Oe.nodeType===1&&!o.isBreak(Oe)&&(Ot=at),de(Oe,Ot)}}(l,te),x&&!v&&!S.v)return{ancestor:l,startContainer:p,startOffset:m,endContainer:b,endOffset:f};if(v=v&&x,v)for(let de=0;de<K.length;de++){let fe=K[de],pe,ze,qe;if(C)pe=o.createTextNode(o.zeroWidthSpace),te.replaceChild(pe,fe);else{let $e=fe.childNodes;for(ze=$e[0];$e[0];)qe=$e[0],te.insertBefore(qe,fe);o.removeItem(fe)}de===0&&(C?Z=W=pe:(Z=ze,W=qe))}else{if(x)for(let de=0;de<K.length;de++)this._stripRemoveNode(K[de]);C&&(Z=W=r)}o.removeEmptyNode(te,r,!1),C&&(j=Z.textContent.length,Y=W.textContent.length);let w=v||W.textContent.length===0;!o.isBreak(W)&&W.textContent.length===0&&(o.removeItem(W),W=Z),Y=w?W.textContent.length:Y;let O={s:0,e:0},B=o.getNodePath(Z,te,O),E=!W.parentNode;E&&(W=Z);let q={s:0,e:0},G=o.getNodePath(W,te,!E&&!w?q:null);j+=O.s,Y=C?j:E?Z.textContent.length:w?Y+O.s:Y+q.s;let ue=o.mergeSameTags(te,[B,G],!0);return l.parentNode.replaceChild(te,l),Z=o.getNodeFromPath(B,te),W=o.getNodeFromPath(G,te),{ancestor:te,startContainer:Z,startOffset:j+ue[0],endContainer:W,endOffset:Y+ue[1]}},_nodeChange_startLine:function(l,r,d,p,m,b,f,v,x,C,S){let R=p.parentNode;for(;!R.nextSibling&&!R.previousSibling&&!o.isFormatElement(R.parentNode)&&!o.isWysiwygDiv(R.parentNode)&&R.nodeName!==r.nodeName;)R=R.parentNode;if(!f&&R.nodeName===r.nodeName&&!o.isFormatElement(R)&&!R.nextSibling&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))){let D=!0,Q=p.previousSibling;for(;Q;){if(!o.onlyZeroWidthSpace(Q)){D=!1;break}Q=Q.previousSibling}if(D)return o.copyTagAttributes(R,r),{ancestor:l,container:p,offset:m}}v.v=!1;let L=l,F=[r],V=l.cloneNode(!1),K=p,te=m,X=!1,Z,j,W,Y;if(function D(Q,A){let $=Q.childNodes;for(let le=0,oe=$.length,z,y;le<oe;le++){let T=$[le];if(!T)continue;let w=A;if(X&&!o.isBreak(T)){if(T.nodeType===1){if(o._isIgnoreNodeChange(T)){if(r=r.cloneNode(!1),y=T.cloneNode(!0),V.appendChild(y),V.appendChild(r),F.push(r),S&&T.contains(S)){let q=o.getNodePath(S,T);S=o.getNodeFromPath(q,y)}}else D(T,T);continue}j=T,Z=[];let O=[];for(;j.parentNode!==null&&j!==L&&j!==r;)z=d(j),j.nodeType===1&&z&&(C(j)?Y||O.push(z):Z.push(z)),j=j.parentNode;Z=Z.concat(O);let B=Z.length>0,E=Z.pop()||T;for(W=j=E;Z.length>0;)j=Z.pop(),W.appendChild(j),W=j;if(C(r.parentNode)&&!C(E)&&(r=r.cloneNode(!1),V.appendChild(r),F.push(r)),!Y&&C(E)){r=r.cloneNode(!1);let q=E.childNodes;for(let G=0,ue=q.length;G<ue;G++)r.appendChild(q[G]);E.appendChild(r),V.appendChild(E),A=C(j)?r:j,F.push(r)}else B?(r.appendChild(E),A=j):A=r;if(Y&&T.nodeType===3)if(x(T)){let q=o.getParentElement(A,function(G){return this._isMaintainedNode(G.parentNode)||G.parentNode===V}.bind(o));Y.appendChild(q),r=q.cloneNode(!1),F.push(r),V.appendChild(r)}else Y=null}if(!X&&T===K){let O=V;Y=x(T);let B=o.createTextNode(K.nodeType===1?"":K.substringData(0,te)),E=o.createTextNode(K.nodeType===1?"":K.substringData(te,K.length-te));if(Y){let ue=x(A);if(ue&&ue.parentNode!==O){let de=ue,fe=null;for(;de.parentNode!==O;){for(A=fe=de.parentNode.cloneNode(!1);de.childNodes[0];)fe.appendChild(de.childNodes[0]);de.appendChild(fe),de=de.parentNode}de.parentNode.appendChild(ue)}Y=Y.cloneNode(!1)}o.onlyZeroWidthSpace(B)||A.appendChild(B);let q=x(A);for(q&&(Y=q),Y&&(O=Y),j=A,Z=[];j!==O&&j!==null;)z=d(j),j.nodeType===1&&z&&Z.push(z),j=j.parentNode;let G=Z.pop()||A;for(W=j=G;Z.length>0;)j=Z.pop(),W.appendChild(j),W=j;G!==A?(r.appendChild(G),A=j):A=r,o.isBreak(T)&&r.appendChild(T.cloneNode(!1)),O.appendChild(r),K=E,te=0,X=!0,A.appendChild(K);continue}z=X?d(T):T.cloneNode(!1),z&&(A.appendChild(z),T.nodeType===1&&!o.isBreak(T)&&(w=z)),D(T,w)}}(l,V),f&&!b&&!v.v)return{ancestor:l,container:p,offset:m,endContainer:S};if(b=b&&f,b)for(let D=0;D<F.length;D++){let Q=F[D],A=Q.childNodes,$=A[0];for(;A[0];)V.insertBefore(A[0],Q);o.removeItem(Q),D===0&&(K=$)}else if(f){r=r.firstChild;for(let D=0;D<F.length;D++)this._stripRemoveNode(F[D])}if(!b&&V.childNodes.length===0)l.childNodes?K=l.childNodes[0]:(K=o.createTextNode(o.zeroWidthSpace),l.appendChild(K));else{o.removeEmptyNode(V,r,!1),o.onlyZeroWidthSpace(V.textContent)&&(K=V.firstChild,te=0);let D={s:0,e:0},Q=o.getNodePath(K,V,D);te+=D.s;let A=o.mergeSameTags(V,[Q],!0);l.parentNode.replaceChild(V,l),K=o.getNodeFromPath(Q,V),te+=A[0]}return{ancestor:V,container:K,offset:te,endContainer:S}},_nodeChange_middleLine:function(l,r,d,p,m,b,f){if(!m){let S=null;f&&l.contains(f)&&(S=o.getNodePath(f,l));let R=l.cloneNode(!0),L=r.nodeName,F=r.style.cssText,V=r.className,K=R.childNodes,te=0,X=K.length;for(let Z;te<X&&(Z=K[te],Z.nodeType!==3);te++)if(Z.nodeName===L)Z.style.cssText+=F,o.addClass(Z,V);else{if(!o.isBreak(Z)&&o._isIgnoreNodeChange(Z))continue;if(X===1){K=Z.childNodes,X=K.length,te=-1;continue}else break}if(X>0&&te===X)return l.innerHTML=R.innerHTML,{ancestor:l,endContainer:S?o.getNodeFromPath(S,l):null}}b.v=!1;let v=l.cloneNode(!1),x=[r],C=!0;if(function S(R,L){let F=R.childNodes;for(let V=0,K=F.length,te,X;V<K;V++){let Z=F[V];if(!Z)continue;let j=L;if(!o.isBreak(Z)&&o._isIgnoreNodeChange(Z)){if(r.childNodes.length>0&&(v.appendChild(r),r=r.cloneNode(!1)),X=Z.cloneNode(!0),v.appendChild(X),v.appendChild(r),x.push(r),L=r,f&&Z.contains(f)){let W=o.getNodePath(f,Z);f=o.getNodeFromPath(W,X)}continue}else te=d(Z),te&&(C=!1,L.appendChild(te),Z.nodeType===1&&(j=te));o.isBreak(Z)||S(Z,j)}}(l,r),C||m&&!p&&!b.v)return{ancestor:l,endContainer:f};if(v.appendChild(r),p&&m)for(let S=0;S<x.length;S++){let R=x[S],L=R.childNodes;for(;L[0];)v.insertBefore(L[0],R);o.removeItem(R)}else if(m){r=r.firstChild;for(let S=0;S<x.length;S++)this._stripRemoveNode(x[S])}return o.removeEmptyNode(v,r,!1),o.mergeSameTags(v,null,!0),l.parentNode.replaceChild(v,l),{ancestor:v,endContainer:f}},_nodeChange_endLine:function(l,r,d,p,m,b,f,v,x,C){let S=p.parentNode;for(;!S.nextSibling&&!S.previousSibling&&!o.isFormatElement(S.parentNode)&&!o.isWysiwygDiv(S.parentNode)&&S.nodeName!==r.nodeName;)S=S.parentNode;if(!f&&S.nodeName===r.nodeName&&!o.isFormatElement(S)&&!S.previousSibling&&o.onlyZeroWidthSpace(p.textContent.slice(m))){let Y=!0,D=p.nextSibling;for(;D;){if(!o.onlyZeroWidthSpace(D)){Y=!1;break}D=D.nextSibling}if(Y)return o.copyTagAttributes(S,r),{ancestor:l,container:p,offset:m}}v.v=!1;let R=l,L=[r],F=l.cloneNode(!1),V=p,K=m,te=!1,X,Z,j,W;if(function Y(D,Q){let A=D.childNodes;for(let $=A.length-1,le;0<=$;$--){let oe=A[$];if(!oe)continue;let z=Q;if(te&&!o.isBreak(oe)){if(oe.nodeType===1){if(o._isIgnoreNodeChange(oe)){r=r.cloneNode(!1);let O=oe.cloneNode(!0);F.insertBefore(O,Q),F.insertBefore(r,O),L.push(r)}else Y(oe,oe);continue}Z=oe,X=[];let y=[];for(;Z.parentNode!==null&&Z!==R&&Z!==r;)le=d(Z),le&&Z.nodeType===1&&(C(Z)?W||y.push(le):X.push(le)),Z=Z.parentNode;X=X.concat(y);let T=X.length>0,w=X.pop()||oe;for(j=Z=w;X.length>0;)Z=X.pop(),j.appendChild(Z),j=Z;if(C(r.parentNode)&&!C(w)&&(r=r.cloneNode(!1),F.insertBefore(r,F.firstChild),L.push(r)),!W&&C(w)){r=r.cloneNode(!1);let O=w.childNodes;for(let B=0,E=O.length;B<E;B++)r.appendChild(O[B]);w.appendChild(r),F.insertBefore(w,F.firstChild),L.push(r),r.children.length>0?Q=Z:Q=r}else T?(r.insertBefore(w,r.firstChild),Q=Z):Q=r;if(W&&oe.nodeType===3)if(x(oe)){let O=o.getParentElement(Q,function(B){return this._isMaintainedNode(B.parentNode)||B.parentNode===F}.bind(o));W.appendChild(O),r=O.cloneNode(!1),L.push(r),F.insertBefore(r,F.firstChild)}else W=null}if(!te&&oe===V){W=x(oe);let y=o.createTextNode(V.nodeType===1?"":V.substringData(K,V.length-K)),T=o.createTextNode(V.nodeType===1?"":V.substringData(0,K));if(W){W=W.cloneNode(!1);let O=x(Q);if(O&&O.parentNode!==F){let B=O,E=null;for(;B.parentNode!==F;){for(Q=E=B.parentNode.cloneNode(!1);B.childNodes[0];)E.appendChild(B.childNodes[0]);B.appendChild(E),B=B.parentNode}B.parentNode.insertBefore(O,B.parentNode.firstChild)}W=W.cloneNode(!1)}else C(r.parentNode)&&!W&&(r=r.cloneNode(!1),F.appendChild(r),L.push(r));for(o.onlyZeroWidthSpace(y)||Q.insertBefore(y,Q.firstChild),Z=Q,X=[];Z!==F&&Z!==null;)le=C(Z)?null:d(Z),le&&Z.nodeType===1&&X.push(le),Z=Z.parentNode;let w=X.pop()||Q;for(j=Z=w;X.length>0;)Z=X.pop(),j.appendChild(Z),j=Z;w!==Q?(r.insertBefore(w,r.firstChild),Q=Z):Q=r,o.isBreak(oe)&&r.appendChild(oe.cloneNode(!1)),W?(W.insertBefore(r,W.firstChild),F.insertBefore(W,F.firstChild),W=null):F.insertBefore(r,F.firstChild),V=T,K=T.data.length,te=!0,Q.insertBefore(V,Q.firstChild);continue}le=te?d(oe):oe.cloneNode(!1),le&&(Q.insertBefore(le,Q.firstChild),oe.nodeType===1&&!o.isBreak(oe)&&(z=le)),Y(oe,z)}}(l,F),f&&!b&&!v.v)return{ancestor:l,container:p,offset:m};if(b=b&&f,b)for(let Y=0;Y<L.length;Y++){let D=L[Y],Q=D.childNodes,A=null;for(;Q[0];)A=Q[0],F.insertBefore(A,D);o.removeItem(D),Y===L.length-1&&(V=A,K=A.textContent.length)}else if(f){r=r.firstChild;for(let Y=0;Y<L.length;Y++)this._stripRemoveNode(L[Y])}if(!b&&F.childNodes.length===0)l.childNodes?V=l.childNodes[0]:(V=o.createTextNode(o.zeroWidthSpace),l.appendChild(V));else{if(!f&&r.textContent.length===0)return o.removeEmptyNode(F,null,!1),{ancestor:null,container:null,offset:0};o.removeEmptyNode(F,r,!1),o.onlyZeroWidthSpace(F.textContent)?(V=F.firstChild,K=V.textContent.length):o.onlyZeroWidthSpace(V)&&(V=r,K=1);let Y={s:0,e:0},D=o.getNodePath(V,F,Y);K+=Y.s;let Q=o.mergeSameTags(F,[D],!0);l.parentNode.replaceChild(F,l),V=o.getNodeFromPath(D,F),K+=Q[0]}return{ancestor:F,container:V,offset:V.nodeType===1&&K===1?V.childNodes.length:K}},actionCall:function(l,r,d){if(r){if(/more/i.test(r)){if(d!==this._moreLayerActiveButton){let p=e.element.toolbar.querySelector("."+l);p&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=d,p.style.display="block",g._showToolbarBalloon(),g._showToolbarInline()),o.addClass(d,"on")}else e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),g._showToolbarBalloon(),g._showToolbarInline());return}if(/container/.test(r)&&(this._menuTray[l]===null||d!==this.containerActiveButton)){this.callPlugin(l,this.containerOn.bind(this,d),d);return}if(this.isReadOnly&&o.arrayIncludes(this.resizingDisabledButtons,d))return;if(/submenu/.test(r)&&(this._menuTray[l]===null||d!==this.submenuActiveButton)){this.callPlugin(l,this.submenuOn.bind(this,d),d);return}else if(/dialog/.test(r)){this.callPlugin(l,this.plugins[l].open.bind(this),d);return}else/command/.test(r)?this.callPlugin(l,this.plugins[l].action.bind(this),d):/fileBrowser/.test(r)&&this.callPlugin(l,this.plugins[l].open.bind(this,null),d)}else l&&this.commandHandler(d,l);/submenu/.test(r)?this.submenuOff():/command/.test(r)||(this.submenuOff(),this.containerOff())},commandHandler:function(l,r){if(!(c.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(r)))switch(r){case"copy":case"cut":this.execCommand(r);break;case"paste":break;case"selectAll":this.containerOff();let d=e.element.wysiwyg,p=o.getChildElement(d.firstChild,function(x){return x.childNodes.length===0||x.nodeType===3},!1)||d.firstChild,m=o.getChildElement(d.lastChild,function(x){return x.childNodes.length===0||x.nodeType===3},!0)||d.lastChild;if(!p||!m)return;if(o.isMedia(p)){let x=this.getFileComponent(p),C=o.createElement("BR"),S=o.createElement(s.defaultTag);S.appendChild(C),p=x?x.component:p,p.parentNode.insertBefore(S,p),p=C}if(o.isMedia(m)){let x=o.createElement("BR"),C=o.createElement(s.defaultTag);C.appendChild(x),d.appendChild(C),m=x}g._showToolbarBalloon(this.setRange(p,0,m,m.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(l);break;case"indent":case"outdent":this.indent(r);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof k.save=="function")k.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:r=s._defaultCommand[r.toLowerCase()]||r,this.commandMap[r]||(this.commandMap[r]=l);let b=this._variable.currentNodesMap,f=b.indexOf(r)>-1?null:o.createElement(r),v=r;/^SUB$/i.test(r)&&b.indexOf("SUP")>-1?v="SUP":/^SUP$/i.test(r)&&b.indexOf("SUB")>-1&&(v="SUB"),this.nodeChange(f,this._commandMapStyles[r]||null,[v],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(l){let r=this.getRange(),d=this.getSelectedElements(null),p=[],m=l!=="indent",b=s.rtl?"marginRight":"marginLeft",f=r.startContainer,v=r.endContainer,x=r.startOffset,C=r.endOffset;for(let S=0,R=d.length,L,F;S<R;S++)L=d[S],!o.isListCell(L)||!this.plugins.list?(F=/\d+/.test(L.style[b])?o.getNumber(L.style[b],0):0,m?F-=25:F+=25,o.setStyle(L,b,F<=0?"":F+"px")):(m||L.previousElementSibling)&&p.push(L);p.length>0&&this.plugins.list.editInsideList.call(this,m,p),this.effectNode=null,this.setRange(f,x,v,C),this.history.push(!1)},toggleDisplayBlocks:function(){let l=e.element.wysiwyg;o.toggleClass(l,"se-show-block"),o.hasClass(l,"se-show-block")?o.addClass(this._styleCommandMap.showBlocks,"active"):o.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){let l=this._variable.isCodeView;this.controllersOff(),o.setDisabledButtons(!l,this.codeViewDisabledButtons),l?(o.isNonEditable(e.element.wysiwygFrame)||this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,g._hideToolbar())),this.nativeFocus(),o.removeClass(this._styleCommandMap.codeView,"active"),o.isNonEditable(e.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?e.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,g._showToolbarInline())),this._variable._range=null,e.element.code.focus(),o.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&o.setDisabledButtons(!0,this.resizingDisabledButtons),typeof k.toggleCodeView=="function"&&k.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){let l=this._getCodeView();if(s.fullPage){let r=this._parser.parseFromString(l,"text/html");if(!this.options.__allowedScriptTag){let m=r.head.children;for(let b=0,f=m.length;b<f;b++)/^script$/i.test(m[b].tagName)&&(r.head.removeChild(m[b]),b--,f--)}let d=r.head.innerHTML;(!r.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!r.head.querySelector("style"))&&(d+=o._setIframeCssTags(this.options)),this._wd.head.innerHTML=d,this._wd.body.innerHTML=this.convertContentsForEditor(r.body.innerHTML);let p=r.body.attributes;for(let m=0,b=p.length;m<b;m++)p[m].name!=="contenteditable"&&this._wd.body.setAttribute(p[m].name,p[m].value);if(!o.hasClass(this._wd.body,"sun-editor-editable")){let m=s._editableClass.split(" ");for(let b=0;b<m.length;b++)o.addClass(this._wd.body,s._editableClass[b])}}else e.element.wysiwyg.innerHTML=l.length>0?this.convertContentsForEditor(l):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){let l=this.convertHTMLForCodeView(e.element.wysiwyg,!1),r="";if(s.fullPage){let d=o.getAttributesToString(this._wd.body,null);r=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+d+`>
`+l+`</body>
</html>`}else r=l;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(r)},toggleFullScreen:function(l){let r=e.element.topArea,d=e.element.toolbar,p=e.element.editorArea,m=e.element.wysiwygFrame,b=e.element.code,f=this._variable;this.controllersOff();let v=d.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;f.isFullScreen?(f.isFullScreen=!1,m.style.cssText=f._wysiwygOriginCssText,b.style.cssText=f._codeOriginCssText,d.style.cssText="",p.style.cssText=f._editorAreaOriginCssText,r.style.cssText=f._originCssText,u.body.style.overflow=f._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&g._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(d),s.stickyToolbar>-1&&o.removeClass(d,"se-toolbar-sticky"),f._fullScreenAttrs.sticky&&!s.toolbarContainer&&(f._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",o.addClass(d,"se-toolbar-sticky")),this._isInline=f._fullScreenAttrs.inline,this._isBalloon=f._fullScreenAttrs.balloon,this._isInline&&g._showToolbarInline(),s.toolbarContainer&&o.removeClass(d,"se-toolbar-balloon"),g.onScroll_window(),l&&o.changeElement(l.firstElementChild,_.expansion),e.element.topArea.style.marginTop="",o.removeClass(this._styleCommandMap.fullScreen,"active")):(f.isFullScreen=!0,f._fullScreenAttrs.inline=this._isInline,f._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&e.element.relative.insertBefore(d,p),r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.maxWidth="100%",r.style.height="100%",r.style.zIndex="2147483647",e.element._stickyDummy.style.display!==""&&(f._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",o.removeClass(d,"se-toolbar-sticky")),f._bodyOverflow=u.body.style.overflow,u.body.style.overflow="hidden",f._editorAreaOriginCssText=p.style.cssText,f._wysiwygOriginCssText=m.style.cssText,f._codeOriginCssText=b.style.cssText,p.style.cssText=d.style.cssText="",m.style.cssText=(m.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,b.style.cssText=(b.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],d.style.width=m.style.height=b.style.height="100%",d.style.position="relative",d.style.display="block",f.innerHeight_fullScreen=h.innerHeight-d.offsetHeight,p.style.height=f.innerHeight_fullScreen-s.fullScreenOffset+"px",l&&o.changeElement(l.firstElementChild,_.reduction),s.iframe&&s.height==="auto"&&(p.style.overflow="auto",this._iframeAutoHeight()),e.element.topArea.style.marginTop=s.fullScreenOffset+"px",o.addClass(this._styleCommandMap.fullScreen,"active")),v&&k.toolbar.hide(),typeof k.toggleFullScreen=="function"&&k.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){let l=o.createElement("IFRAME");l.style.display="none",u.body.appendChild(l);let r=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),d=o.getIframeDocument(l),p=this._wd;if(s.iframe){let m=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(p.body,["contenteditable"]):'class="'+s._editableClass+'"';d.write("<!DOCTYPE html><html><head>"+p.head.innerHTML+"</head><body "+m+">"+r+"</body></html>")}else{let m=u.head.getElementsByTagName("link"),b=u.head.getElementsByTagName("style"),f="";for(let v=0,x=m.length;v<x;v++)f+=m[v].outerHTML;for(let v=0,x=b.length;v<x;v++)f+=b[v].outerHTML;d.write("<!DOCTYPE html><html><head>"+f+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+r+"</body></html>")}this.showLoading(),h.setTimeout(function(){try{if(l.focus(),o.isIE_Edge||o.isChromium||u.documentMode||h.StyleMedia)try{l.contentWindow.document.execCommand("print",!1,null)}catch{l.contentWindow.print()}else l.contentWindow.print()}catch(m){throw Error("[SUNEDITOR.core.print.fail] error: "+m)}finally{c.closeLoading(),o.removeItem(l)}},1e3)},preview:function(){c.submenuOff(),c.containerOff(),c.controllersOff();let l=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),r=h.open("","_blank");r.mimeType="text/html";let d=this._wd;if(s.iframe){let p=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(d.body,["contenteditable"]):'class="'+s._editableClass+'"';r.document.write("<!DOCTYPE html><html><head>"+d.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+p+">"+l+"</body></html>")}else{let p=u.head.getElementsByTagName("link"),m=u.head.getElementsByTagName("style"),b="";for(let f=0,v=p.length;f<v;f++)b+=p[f].outerHTML;for(let f=0,v=m.length;f<v;f++)b+=m[f].outerHTML;r.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+b+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+l+"</body></html>")}},setDir:function(l){let r=l==="rtl",d=this._prevRtl!==r;this._prevRtl=s.rtl=r,d&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),e.tool.indent&&o.changeElement(e.tool.indent.firstElementChild,_.indent),e.tool.outdent&&o.changeElement(e.tool.outdent.firstElementChild,_.outdent));let p=e.element;r?(o.addClass(p.topArea,"se-rtl"),o.addClass(p.wysiwygFrame,"se-rtl")):(o.removeClass(p.topArea,"se-rtl"),o.removeClass(p.wysiwygFrame,"se-rtl"));let m=o.getListChildren(p.wysiwyg,function(f){return o.isFormatElement(f)&&(f.style.marginRight||f.style.marginLeft||f.style.textAlign)});for(let f=0,v=m.length,x,C,S;f<v;f++)x=m[f],S=x.style.marginRight,C=x.style.marginLeft,(S||C)&&(x.style.marginRight=C,x.style.marginLeft=S),S=x.style.textAlign,S==="left"?x.style.textAlign="right":S==="right"&&(x.style.textAlign="left");let b=e.tool;b.dir&&(o.changeTxt(b.dir.querySelector(".se-tooltip-text"),n.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),o.changeElement(b.dir.firstElementChild,_[s.rtl?"dir_ltr":"dir_rtl"])),b.dir_ltr&&(r?o.removeClass(b.dir_ltr,"active"):o.addClass(b.dir_ltr,"active")),b.dir_rtl&&(r?o.addClass(b.dir_rtl,"active"):o.removeClass(b.dir_rtl,"active"))},setContents:function(l){this.removeRange();let r=l==null?"":this.convertContentsForEditor(l,null,null);if(!this._variable.isCodeView)e.element.wysiwyg.innerHTML=r,this._resetComponents(),this.history.push(!1);else{let d=this.convertHTMLForCodeView(r,!1);this._setCodeView(d)}},setIframeContents:function(l){if(!s.iframe)return!1;l.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?l.head:l.head.replace(this.__scriptTagRegExp,"")),l.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(l.body)),this._resetComponents()},getContents:function(l){let r=this.cleanHTML(e.element.wysiwyg.innerHTML,null,null),d=o.createElement("DIV");d.innerHTML=r;let p=o.getListChildren(d,function(m){return m.hasAttribute("contenteditable")});for(let m=0,b=p.length;m<b;m++)p[m].removeAttribute("contenteditable");if(s.fullPage&&!l){let m=o.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+m+">"+d.innerHTML+"</body></html>"}else return d.innerHTML},getFullContents:function(l){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(l)+"</div>"},_makeLine:function(l,r){let d=s.defaultTag;if(l.nodeType===1){if(this.__disallowedTagNameRegExp.test(l.nodeName))return"";if(/__se__tag/.test(l.className))return l.outerHTML;let p=o.getListChildNodes(l,function(m){return o.isSpanWithoutAttr(m)&&!o.getParentElement(m,o.isNotCheckingNode)})||[];for(let m=p.length-1;m>=0;m--)p[m].outerHTML=p[m].innerHTML;return!r||o.isFormatElement(l)||o.isRangeFormatElement(l)||o.isComponent(l)||o.isFigures(l)||o.isAnchor(l)&&o.isMedia(l.firstElementChild)?o.isSpanWithoutAttr(l)?l.innerHTML:l.outerHTML:"<"+d+">"+(o.isSpanWithoutAttr(l)?l.innerHTML:l.outerHTML)+"</"+d+">"}if(l.nodeType===3){if(!r)return o._HTMLConvertor(l.textContent);let p=l.textContent.split(/\n/g),m="";for(let b=0,f=p.length,v;b<f;b++)v=p[b].trim(),v.length>0&&(m+="<"+d+">"+o._HTMLConvertor(v)+"</"+d+">");return m}return l.nodeType===8&&this._allowHTMLComments?"<!--"+l.textContent.trim()+"-->":""},_tagConvertor:function(l){if(!this._disallowedTextTagsRegExp)return l;let r=s._textTagsMap;return l.replace(this._disallowedTextTagsRegExp,function(d,p,m,b){return p+(typeof r[m]=="string"?r[m]:m)+(b?" "+b:"")})},_deleteDisallowedTags:function(l){return l=l.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(l=l.replace(/(<\/?)font(\s?)/gi,"$1span$2")),l.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(l,r){let d=this._w.Math,p=r.match(/(\d+(?:\.\d+)?)(.+)/),m=p?p[1]*1:o.fontValueMap[r],b=p?p[2]:"rem",f=m;switch(/em/.test(b)?f=d.round(m/.0625):b==="pt"?f=d.round(m*1.333):b==="%"&&(f=m/100),l){case"em":case"rem":case"%":return(f*.0625).toFixed(2)+l;case"pt":return d.floor(f/1.333)+l;default:return f+l}},_cleanStyle:function(l,r,d){let p=(l.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(d)&&!p&&(l.match(/<[^\s]+\s(.+)/)||[])[1]){let m=(l.match(/\ssize="([^"]+)"/i)||[])[1],b=(l.match(/\sface="([^"]+)"/i)||[])[1],f=(l.match(/\scolor="([^"]+)"/i)||[])[1];(m||b||f)&&(p='style="'+(m?"font-size:"+this.util.getNumber(m/3.333,1)+"rem;":"")+(b?"font-family:"+b+";":"")+(f?"color:"+f+";":"")+'"')}if(p){r||(r=[]);let m=p.replace(/&quot;/g,"").match(this._cleanStyleRegExp[d]);if(m){let b=[];for(let f=0,v=m.length,x;f<v;f++)if(x=m[f].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),x&&!/inherit|initial|revert|unset/i.test(x[3])){let C=o.kebabToCamelCase(x[1].trim()),S=this.wwComputedStyle[C]?this.wwComputedStyle[C].replace(/"/g,""):"",R=x[3].trim();switch(C){case"fontFamily":if(!s.plugins.font||s.font.indexOf(R)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(x[0])||(x[0]=x[0].replace((x[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(R))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(R))continue;break}S!==R&&b.push(x[0])}b.length>0&&r.push('style="'+b.join(";")+'"')}}return r},_cleanTags:function(l,r,d){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(r))return r;let p=null,m=d.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),b=this._attributesTagsBlacklist[m];r=r.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),b?r=r.replace(b,""):r=r.replace(this._attributesBlacklistRegExp,"");let f=this._attributesTagsWhitelist[m];if(f?p=r.match(f):p=r.match(l?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),l||m==="span"||m==="li"||this._cleanStyleRegExp[m])if(m==="a"){let v=r.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);v&&(p||(p=[]),p.push(v[0]))}else(!p||!/style=/i.test(p.toString()))&&((m==="span"||m==="li")&&(p=this._cleanStyle(r,p,"span")),this._cleanStyleRegExp[m]?p=this._cleanStyle(r,p,m):/^(P|DIV|H[1-6]|PRE)$/i.test(m)&&(p=this._cleanStyle(r,p,"format")));else{let v=r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);v&&!p?p=[v[0]]:v&&!p.some(function(x){return/^style/.test(x.trim())})&&p.push(v[0])}if(o.isFigures(m)){let v=r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);p||(p=[]),v&&p.push(v[0])}if(p)for(let v=0,x=p.length,C;v<x;v++)C=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(p[v].trim())?"":p[v],d+=(/^\s/.test(C)?"":" ")+C;return d},_editFormat:function(l){let r="",d,p=l.childNodes;for(let m=0,b=p.length,f;m<b;m++)f=p[m],f.nodeType===8?r+="<!-- "+f.textContent+" -->":!o.isFormatElement(f)&&!o.isRangeFormatElement(f)&&!o.isComponent(f)&&!/meta/i.test(f.nodeName)?(d||(d=o.createElement(s.defaultTag)),d.appendChild(f),m--,b--):(d&&(r+=d.outerHTML,d=null),r+=f.outerHTML);return d&&(r+=d.outerHTML),u.createRange().createContextualFragment(r)},_convertListCell:function(l){let r="";for(let d=0,p=l.length,m;d<p;d++)m=l[d],m.nodeType===1?o.isList(m)?r+=m.innerHTML:o.isListCell(m)?r+=m.outerHTML:o.isFormatElement(m)?r+="<li>"+(m.innerHTML.trim()||"<br>")+"</li>":o.isRangeFormatElement(m)&&!o.isTable(m)?r+=this._convertListCell(m):r+="<li>"+m.outerHTML+"</li>":r+="<li>"+(m.textContent||"<br>")+"</li>";return r},_isFormatData:function(l){let r=!1;for(let d=0,p=l.length,m;d<p;d++)if(m=l[d],m.nodeType===1&&!o.isTextStyleElement(m)&&!o.isBreak(m)&&!this.__disallowedTagNameRegExp.test(m.nodeName)){r=!0;break}return r},cleanHTML:function(l,r,d){if(!s.strictMode)return o.htmlCompress(l);l=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(l),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");let p=u.createRange().createContextualFragment(l);try{o._consistencyCheckOfHTML(p,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(v){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+v)}if(this.managedTagsInfo&&this.managedTagsInfo.query){let v=p.querySelectorAll(this.managedTagsInfo.query);for(let x=0,C=v.length,S,R;x<C;x++){R=[].slice.call(v[x].classList);for(let L=0,F=R.length;L<F;L++)if(S=this.managedTagsInfo.map[R[L]],S){S(v[x]);break}}}let m=p.childNodes,b="",f=this._isFormatData(m);f&&(m=this._editFormat(p).childNodes);for(let v=0,x=m.length,C;v<x;v++){if(C=m[v],this.__allowedScriptRegExp.test(C.nodeName)){b+=C.outerHTML;continue}b+=this._makeLine(C,f)}return b=o.htmlRemoveWhiteSpace(b),b?(r&&(b=b.replace(typeof r=="string"?o.createTagsWhitelist(r):r,"")),d&&(b=b.replace(typeof d=="string"?o.createTagsBlacklist(d):d,""))):b=l,this._tagConvertor(b)},convertContentsForEditor:function(l){if(!s.strictMode)return o.htmlCompress(l);l=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(l),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));let r=u.createRange().createContextualFragment(l);try{o._consistencyCheckOfHTML(r,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(b){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+b)}if(this.managedTagsInfo&&this.managedTagsInfo.query){let b=r.querySelectorAll(this.managedTagsInfo.query);for(let f=0,v=b.length,x,C;f<v;f++){C=[].slice.call(b[f].classList);for(let S=0,R=C.length;S<R;S++)if(x=this.managedTagsInfo.map[C[S]],x){x(b[f]);break}}}let d=r.childNodes,p="",m=null;for(let b=0,f;b<d.length;b++){if(f=d[b],this.__allowedScriptRegExp.test(f.nodeName)){p+=f.outerHTML;continue}if(!o.isFormatElement(f)&&!o.isRangeFormatElement(f)&&!o.isComponent(f)&&!o.isFigures(f)&&f.nodeType!==8&&!/__se__tag/.test(f.className)){if(m||(m=o.createElement(s.defaultTag)),m.appendChild(f),b--,d[b+1]&&!o.isFormatElement(d[b+1]))continue;f=m,m=null}m&&(p+=this._makeLine(m,!0),m=null),p+=this._makeLine(f,!0)}return m&&(p+=this._makeLine(m,!0)),p.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(p=o.htmlRemoveWhiteSpace(p),this._tagConvertor(p))},convertHTMLForCodeView:function(l,r){let d="",p=h.RegExp,m=new p("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),b=typeof l=="string"?u.createRange().createContextualFragment(l):l,f=function(C){return this.isFormatElement(C)||this.isComponent(C)}.bind(o),v=r?"":`
`,x=r?0:this._variable.codeIndent*1;return x=x>0?new h.Array(x+1).join(" "):"",function C(S,R){let L=S.childNodes,F=m.test(S.nodeName),V=F?R:"";for(let K=0,te=L.length,X,Z,j,W,Y,D;K<te;K++){if(X=L[K],W=m.test(X.nodeName),Z=W?v:"",j=f(X)&&!F&&!/^(TH|TD)$/i.test(S.nodeName)?v:"",X.nodeType===8){d+=`
<!-- `+X.textContent.trim()+" -->"+Z;continue}if(X.nodeType===3){o.isList(X.parentElement)||(d+=o._HTMLConvertor(/^\n+$/.test(X.data)?"":X.data));continue}if(X.childNodes.length===0){d+=(/^HR$/i.test(X.nodeName)?v:"")+(/^PRE$/i.test(X.parentElement.nodeName)&&/^BR$/i.test(X.nodeName)?"":V)+X.outerHTML+Z;continue}X.outerHTML?(Y=X.nodeName.toLowerCase(),D=V||W?R:"",d+=(j||(F?"":Z))+D+X.outerHTML.match(p("<"+Y+"[^>]*>","i"))[0]+Z,C(X,R+x,""),d+=(/\n$/.test(d)?D:"")+"</"+Y+">"+(j||Z||F||/^(TH|TD)$/i.test(X.nodeName)?v:"")):d+=new h.XMLSerializer().serializeToString(X)}}(b,""),d.trim()+v},addDocEvent:function(l,r,d){u.addEventListener(l,r,d),s.iframe&&this._wd.addEventListener(l,r)},removeDocEvent:function(l,r){u.removeEventListener(l,r),s.iframe&&this._wd.removeEventListener(l,r)},_charCount:function(l){let r=s.maxCharCount,d=s.charCounterType,p=0;if(l&&(p=this.getCharLength(l,d)),this._setCharCount(),r>0){let m=!1,b=k.getCharCount(d);if(b>r){if(m=!0,p>0){this._editorRange();let f=this.getRange(),v=f.endOffset-1,x=this.getSelectionNode().textContent,C=f.endOffset-(b-r);this.getSelectionNode().textContent=x.slice(0,C<0?0:C)+x.slice(f.endOffset,x.length),this.setRange(f.endContainer,v,f.endContainer,v)}}else b+p>r&&(m=!0);if(m&&(this._callCounterBlink(),p>0))return!1}return!0},checkCharCount:function(l,r){if(s.maxCharCount){let d=r||s.charCounterType,p=this.getCharLength(typeof l=="string"?l:this._charTypeHTML&&l.nodeType===1?l.outerHTML:l.textContent,d);if(p>0&&p+k.getCharCount(d)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(l,r){return/byte/.test(r)?o.getByteLength(l):l.length},resetResponsiveToolbar:function(){c.controllersOff();let l=g._responsiveButtonSize;if(l){let r=0;(c._isBalloon||c._isInline)&&s.toolbarWidth==="auto"?r=e.element.topArea.offsetWidth:r=e.element.toolbar.offsetWidth;let d="default";for(let p=1,m=l.length;p<m;p++)if(r<l[p]){d=l[p]+"";break}g._responsiveCurrentSize!==d&&(g._responsiveCurrentSize=d,k.setToolbarButtons(g._responsiveButtons[d]))}},_setCharCount:function(){e.element.charCounter&&h.setTimeout(function(l,r){this.textContent&&l&&(this.textContent=l.getCharCount(r.charCounterType))}.bind(e.element.charCounter,k,s),0)},_callCounterBlink:function(){let l=e.element.charWrapper;l&&!o.hasClass(l,"se-blink")&&(o.addClass(l,"se-blink"),h.setTimeout(function(){o.removeClass(l,"se-blink")},600))},_checkComponents:function(){for(let l=0,r=this._fileInfoPluginsCheck.length;l<r;l++)this._fileInfoPluginsCheck[l]()},_resetComponents:function(){for(let l=0,r=this._fileInfoPluginsReset.length;l<r;l++)this._fileInfoPluginsReset[l]()},_setCodeView:function(l){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(l):e.element.code.value=l},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():e.element.code.value},_setKeyEffect:function(l){let r=this.commandMap,d=this.activePlugins;for(let p in r)l.indexOf(p)>-1||!o.hasOwn(r,p)||(d.indexOf(p)>-1?i[p].active.call(this,null):r.OUTDENT&&/^OUTDENT$/i.test(p)?o.isImportantDisabled(r.OUTDENT)||r.OUTDENT.setAttribute("disabled",!0):r.INDENT&&/^INDENT$/i.test(p)?o.isImportantDisabled(r.INDENT)||r.INDENT.removeAttribute("disabled"):o.removeClass(r[p],"active"))},_init:function(l,r){let d=h.RegExp;this._ww=s.iframe?e.element.wysiwygFrame.contentWindow:h,this._wd=u,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=h.getComputedStyle(e.element.wysiwyg),this._editorHeight=e.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=o.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+o.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=function(W){return this.test(W)?W:""}.bind(s.allowedClassNames);let p=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new d("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new d("<("+p+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+p+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new d("^("+p+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new d("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof h.ShadowRoot=="function"){let W=e.element.wysiwygFrame;for(;W;){if(W.shadowRoot){this._shadowRoot=W.shadowRoot;break}else if(W instanceof h.ShadowRoot){this._shadowRoot=W;break}W=W.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}let m=h.Object.keys(s._textTagsMap),b=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(W){return/b|i|ins|s|strike/i.test(W)}):[];for(let W=0;W<b.length;W++)m.splice(m.indexOf(b[W].toLowerCase()),1);this._disallowedTextTagsRegExp=m.length===0?null:new d("(<\\/?)("+m.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");let f=function(W,Y){return W?W==="*"?"[a-z-]+":Y?W+"|"+Y:W:"^"},C="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",S="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new d("^("+f(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new d("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=o.createTagsWhitelist(f(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=o.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=o.createTagsWhitelist(f(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=o.createTagsBlacklist(s.pasteTagsBlacklist);let R='\\s*=\\s*(")[^"]*\\1',L=s.attributesWhitelist,F={},V="";if(L)for(let W in L)!o.hasOwn(L,W)||/^on[a-z]+$/i.test(L[W])||(W==="all"?V=f(L[W],C):F[W]=new d("\\s(?:"+f(L[W],"")+")"+R,"ig"));this._attributesWhitelistRegExp=new d("\\s(?:"+(V||C+"|"+S)+")"+R,"ig"),this._attributesWhitelistRegExp_all_data=new d("\\s(?:"+((V||C)+"|data-[a-z0-9\\-]+")+")"+R,"ig"),this._attributesTagsWhitelist=F;let K=s.attributesBlacklist;if(F={},V="",K)for(let W in K)o.hasOwn(K,W)&&(W==="all"?V=f(K[W],""):F[W]=new d("\\s(?:"+f(K[W],"")+")"+R,"ig"));this._attributesBlacklistRegExp=new d("\\s(?:"+(V||"^")+")"+R,"ig"),this._attributesTagsBlacklist=F,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};let te=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let X=[],Z,j;for(let W in i)if(o.hasOwn(i,W)){if(Z=i[W],j=t[W],(Z.active||Z.action)&&j&&this.callPlugin(W,null,j),typeof Z.checkFileInfo=="function"&&typeof Z.resetFileInfo=="function"&&(this.callPlugin(W,null,j),this._fileInfoPluginsCheck.push(Z.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(Z.resetFileInfo.bind(this))),h.Array.isArray(Z.fileTags)){let Y=Z.fileTags;this.callPlugin(W,null,j),this._fileManager.tags=this._fileManager.tags.concat(Y),X.push(W);for(let D=0,Q=Y.length;D<Q;D++)this._fileManager.pluginMap[Y[D].toLowerCase()]=W}if(Z.managedTags){let Y=Z.managedTags();te.push("."+Y.className),this.managedTagsInfo.map[Y.className]=Y.method.bind(this)}}this.managedTagsInfo.query=te.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new d("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new d("^("+(X.length===0?"^":X.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=Co(this,this._onChange_historyStack.bind(this)),this.addModule([Jn]),s.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(e.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(l,r)},_cachingButtons:function(){this.codeViewDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');let l=e.tool,r=this.commandMap;r.INDENT=l.indent,r.OUTDENT=l.outdent,r[s.textTags.bold.toUpperCase()]=l.bold,r[s.textTags.underline.toUpperCase()]=l.underline,r[s.textTags.italic.toUpperCase()]=l.italic,r[s.textTags.strike.toUpperCase()]=l.strike,r[s.textTags.sub.toUpperCase()]=l.subscript,r[s.textTags.sup.toUpperCase()]=l.superscript,this._styleCommandMap={fullScreen:l.fullScreen,showBlocks:l.showBlocks,codeView:l.codeView},this._saveButtonStates()},_initWysiwygArea:function(l,r){e.element.wysiwyg.innerHTML=l?r:this.convertContentsForEditor((typeof r=="string"?r:/^TEXTAREA$/i.test(e.element.originElement.nodeName)?e.element.originElement.value:e.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&g._applyTagEffects(),this._variable.isChanged=!0,e.tool.save&&e.tool.save.removeAttribute("disabled"),k.onChange&&k.onChange(this.getContents(!0),this),e.element.toolbar.style.display==="block"&&g._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?h.setTimeout(function(){let l=c._iframeAuto.offsetHeight;e.element.wysiwygFrame.style.height=l+"px",o.isResizeObserverSupported||c.__callResizeFunction(l,null)}):o.isResizeObserverSupported||c.__callResizeFunction(e.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(l,r){l=l===-1?r.borderBoxSize&&r.borderBoxSize[0]?r.borderBoxSize[0].blockSize:r.contentRect.height+this._editorHeightPadding:l,this._editorHeight!==l&&(typeof k.onResizeEditor=="function"&&k.onResizeEditor(l,this._editorHeight,c,r),this._editorHeight=l)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}let l=e.element.wysiwyg;!o.onlyZeroWidthSpace(l.textContent)||l.querySelector(o._allowedEmptyNodeList)||(l.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(l){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;let r=this.getRange(),d=r.commonAncestorContainer,p=r.startContainer,m=o.getRangeFormatElement(d,null),b,f,v,x=o.getParentElement(d,o.isComponent);if(!(x&&!o.isTable(x))){if(d.nodeType===1&&d.getAttribute("data-se-embed")==="true"){let C=d.nextElementSibling;o.isFormatElement(C)||(C=this.appendFormatTag(d,s.defaultTag)),this.setRange(C.firstChild,0,C.firstChild,0);return}if(!((o.isRangeFormatElement(p)||o.isWysiwygDiv(p))&&(o.isComponent(p.children[r.startOffset])||o.isComponent(p.children[r.startOffset-1])))){if(o.getParentElement(d,o.isNotCheckingNode))return null;if(m){v=o.createElement(l||s.defaultTag),v.innerHTML=m.innerHTML,v.childNodes.length===0&&(v.innerHTML=o.zeroWidthSpace),m.innerHTML=v.outerHTML,v=m.firstChild,b=o.getEdgeChildNodes(v,null).sc,b||(b=o.createTextNode(o.zeroWidthSpace),v.insertBefore(b,v.firstChild)),f=b.textContent.length,this.setRange(b,f,b,f);return}if(o.isRangeFormatElement(d)&&d.childNodes.length<=1){let C=null;d.childNodes.length===1&&o.isBreak(d.firstChild)?C=d.firstChild:(C=o.createTextNode(o.zeroWidthSpace),d.appendChild(C)),this.setRange(C,1,C,1);return}try{if(d.nodeType===3&&(v=o.createElement(l||s.defaultTag),d.parentNode.insertBefore(v,d),v.appendChild(d)),o.isBreak(v.nextSibling)&&o.removeItem(v.nextSibling),o.isBreak(v.previousSibling)&&o.removeItem(v.previousSibling),o.isBreak(b)){let C=o.createTextNode(o.zeroWidthSpace);b.parentNode.insertBefore(C,b),b=C}}catch{this.execCommand("formatBlock",!1,l||s.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(v&&(o.isBreak(v.nextSibling)&&o.removeItem(v.nextSibling),o.isBreak(v.previousSibling)&&o.removeItem(v.previousSibling),o.isBreak(b))){let C=o.createTextNode(o.zeroWidthSpace);b.parentNode.insertBefore(C,b),b=C}this.effectNode=null,p?this.setRange(p,1,p,1):this.nativeFocus()}}},_setOptionsInit:function(l,r){this.context=e=yi(l.originElement,this._getConstructed(l),s),this._componentsInfoReset=!0,this._editorInit(!0,r)},_editorInit:function(l,r){this._init(l,r),g._addEvent(),this._setCharCount(),g._offStickyToolbar(),g.onResize_window(),e.element.toolbar.style.visibility="";let d=s.frameAttrbutes;for(let p in d)e.element.wysiwyg.setAttribute(p,d[p]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),h.setTimeout(function(){typeof c._resourcesStateChange=="function"&&(g._resizeObserver&&g._resizeObserver.observe(e.element.wysiwygFrame),g._toolbarObserver&&g._toolbarObserver.observe(e.element._toolbarShadow),c._resourcesStateChange(),typeof k.onload=="function"&&k.onload(c,l))})},_getConstructed:function(l){return{_top:l.topArea,_relative:l.relative,_toolBar:l.toolbar,_toolbarShadow:l._toolbarShadow,_menuTray:l._menuTray,_editorArea:l.editorArea,_wysiwygArea:l.wysiwygFrame,_codeArea:l.code,_placeholder:l.placeholder,_resizingBar:l.resizingBar,_navigation:l.navigation,_charCounter:l.charCounter,_charWrapper:l.charWrapper,_loading:l.loading,_lineBreaker:l.lineBreaker,_lineBreaker_t:l.lineBreaker_t,_lineBreaker_b:l.lineBreaker_b,_resizeBack:l.resizeBackground,_stickyDummy:l._stickyDummy,_arrow:l._arrow}}},g={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new h.RegExp("^(8|46)$"),_cursorMoveKeyCode:new h.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new h.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new h.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new h.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new h.RegExp("^("+h.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new h.RegExp(o.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(l,r){let d=null,p=g._keyCodeShortcut[l];switch(p){case"A":d="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(d="bold");break;case"S":r&&s.shortcutsDisable.indexOf("strike")===-1?d="strike":!r&&s.shortcutsDisable.indexOf("save")===-1&&(d="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(d="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(d="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(r?d="redo":d="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(d="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(d=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(d=s.rtl?"outdent":"indent");break}return d?(c.commandHandler(c.commandMap[d],d),!0):!!p},_applyTagEffects:function(){if(o.hasClass(e.element.wysiwyg,"se-read-only"))return!1;let l=c.getSelectionNode();if(l===c.effectNode)return;c.effectNode=l;let r=s.rtl?"marginRight":"marginLeft",d=c.commandMap,p=g._onButtonsCheck,m=[],b=[],f=c.activePlugins,v=f.length,x="";for(;l.firstChild;)l=l.firstChild;for(let C=l;!o.isWysiwygDiv(C)&&C;C=C.parentNode)if(!(C.nodeType!==1||o.isBreak(C))){if(x=C.nodeName.toUpperCase(),b.push(x),!c.isReadOnly)for(let S=0,R;S<v;S++)R=f[S],m.indexOf(R)===-1&&i[R].active.call(c,C)&&m.push(R);if(o.isFormatElement(C)){m.indexOf("OUTDENT")===-1&&d.OUTDENT&&!o.isImportantDisabled(d.OUTDENT)&&(o.isListCell(C)||C.style[r]&&o.getNumber(C.style[r],0)>0)&&(m.push("OUTDENT"),d.OUTDENT.removeAttribute("disabled")),m.indexOf("INDENT")===-1&&d.INDENT&&!o.isImportantDisabled(d.INDENT)&&(m.push("INDENT"),o.isListCell(C)&&!C.previousElementSibling?d.INDENT.setAttribute("disabled",!0):d.INDENT.removeAttribute("disabled"));continue}p&&p.test(x)&&(m.push(x),o.addClass(d[x],"active"))}c._setKeyEffect(m),c._variable.currentNodes=b.reverse(),c._variable.currentNodesMap=m,s.showPathLabel&&(e.element.navigation.textContent=c._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(l){let r=l.target;if(c._bindControllersOff&&l.stopPropagation(),/^(input|textarea|select|option)$/i.test(r.nodeName)?c._antiBlur=!1:l.preventDefault(),o.getParentElement(r,".se-submenu"))l.stopPropagation(),c._notHideToolbar=!0;else{let d=r.getAttribute("data-command"),p=r.className;for(;!d&&!/se-menu-list/.test(p)&&!/sun-editor-common/.test(p);)r=r.parentNode,d=r.getAttribute("data-command"),p=r.className;(d===c._submenuName||d===c._containerName)&&l.stopPropagation()}},addGlobalEvent:function(l,r,d){return s.iframe&&c._ww.addEventListener(l,r,d),c._w.addEventListener(l,r,d),{type:l,listener:r,useCapture:d}},removeGlobalEvent:function(l,r,d){l&&(typeof l=="object"&&(r=l.listener,d=l.useCapture,l=l.type),s.iframe&&c._ww.removeEventListener(l,r,d),c._w.removeEventListener(l,r,d))},onClick_toolbar:function(l){let r=l.target,d=r.getAttribute("data-display"),p=r.getAttribute("data-command"),m=r.className;for(c.controllersOff();r.parentNode&&!p&&!/se-menu-list/.test(m)&&!/se-toolbar/.test(m);)r=r.parentNode,p=r.getAttribute("data-command"),d=r.getAttribute("data-display"),m=r.className;!p&&!d||r.disabled||c.actionCall(p,d,r)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(l){if(c.isReadOnly||o.isNonEditable(e.element.wysiwyg))return;if(o._isExcludeSelectionElement(l.target)){l.preventDefault();return}if(g.removeGlobalEvent(g.__selectionSyncEvent),g.__selectionSyncEvent=g.addGlobalEvent("mouseup",function(){c&&c._editorRange(),g.removeGlobalEvent(g.__selectionSyncEvent)}),typeof k.onMouseDown=="function"&&k.onMouseDown(l,c)===!1)return;let r=o.getParentElement(l.target,o.isCell);if(r){let d=c.plugins.table;d&&r!==d._fixedCell&&!d._shift&&c.callPlugin("table",function(){d.onTableCellMultiSelect.call(c,r,!1)},null)}c._isBalloon&&g._hideToolbar()},onClick_wysiwyg:function(l){let r=l.target;if(c.isReadOnly)return l.preventDefault(),o.isAnchor(r)&&h.open(r.href,r.target),!1;if(o.isNonEditable(e.element.wysiwyg)||typeof k.onClick=="function"&&k.onClick(l,c)===!1)return;let d=c.getFileComponent(r);if(d){l.preventDefault(),c.selectComponent(d.target,d.pluginName);return}let p=o.getParentElement(r,"FIGCAPTION");if(p&&o.isNonEditable(p)&&(l.preventDefault(),p.focus(),c._isInline&&!c._inlineToolbarAttr.isShow)){g._showToolbarInline();let C=function(){g._hideToolbar(),p.removeEventListener("blur",C)};p.addEventListener("blur",C)}if(c._editorRange(),l.detail===3){let C=c.getRange();o.isFormatElement(C.endContainer)&&C.endOffset===0&&(C=c.setRange(C.startContainer,C.startOffset,C.startContainer,C.startContainer.length),c._rangeInfo(C,c.getSelection()))}let m=c.getSelectionNode(),b=o.getFormatElement(m,null),f=o.getRangeFormatElement(m,null),v=m;for(;v&&v.firstChild;)v=v.firstChild;let x=c.getFileComponent(v);if(x){let C=c.getRange();!f&&C.startContainer===C.endContainer&&c.selectComponent(x.target,x.pluginName)}else c.currentFileComponentInfo&&c.controllersOff();if(!b&&!o.isNonEditable(r)&&!o.isList(f)){let C=c.getRange();if(o.getFormatElement(C.startContainer)===o.getFormatElement(C.endContainer))if(o.isList(f)){l.preventDefault();let S=o.createElement("LI"),R=m.nextElementSibling;S.appendChild(m),f.insertBefore(S,R),c.focus()}else!o.isWysiwygDiv(m)&&!o.isComponent(m)&&(!o.isTable(m)||o.isCell(m))&&c._setDefaultFormat(o.isRangeFormatElement(f)?"DIV":s.defaultTag)!==null?(l.preventDefault(),c.focus()):g._applyTagEffects()}else g._applyTagEffects();c._isBalloon&&h.setTimeout(g._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){g._balloonDelay&&h.clearTimeout(g._balloonDelay),g._balloonDelay=h.setTimeout(function(){h.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}.bind(g),350)},_toggleToolbarBalloon:function(){if(c){c._editorRange();let l=c.getRange();c._bindControllersOff||!c._isBalloonAlways&&l.collapsed?g._hideToolbar():g._showToolbarBalloon(l)}},_showToolbarBalloon:function(l){if(!c._isBalloon)return;let r=l||c.getRange(),d=e.element.toolbar,p=e.element.topArea,m=c.getSelection(),b;if(c._isBalloonAlways&&r.collapsed)b=!0;else if(m.focusNode===m.anchorNode)b=m.focusOffset<m.anchorOffset;else{let Z=o.getListChildNodes(r.commonAncestorContainer,null);b=o.getArrayIndex(Z,m.focusNode)<o.getArrayIndex(Z,m.anchorNode)}let f=r.getClientRects();f=f[b?0:f.length-1];let v=c.getGlobalScrollOffset(),x=v.left,C=v.top,S=p.offsetWidth,R=g._getEditorOffsets(null),L=R.top,F=R.left;if(d.style.top="-10000px",d.style.visibility="hidden",d.style.display="block",!f){let Z=c.getSelectionNode();if(o.isFormatElement(Z)){let j=o.createTextNode(o.zeroWidthSpace);c.insertNode(j,null,!1),c.setRange(j,1,j,1),c._editorRange(),f=c.getRange().getClientRects(),f=f[b?0:f.length-1]}if(!f){let j=o.getOffset(Z,e.element.wysiwygFrame);f={left:j.left,top:j.top,right:j.left,bottom:j.top+Z.offsetHeight,noText:!0},x=0,C=0}b=!0}let V=h.Math.round(e.element._arrow.offsetWidth/2),K=d.offsetWidth,te=d.offsetHeight,X=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;if(X&&(f={left:f.left+X.left,top:f.top+X.top,right:f.right+X.right-X.width,bottom:f.bottom+X.bottom-X.height}),g._setToolbarOffset(b,f,d,F,S,x,C,L,V),(K!==d.offsetWidth||te!==d.offsetHeight)&&g._setToolbarOffset(b,f,d,F,S,x,C,L,V),s.toolbarContainer){let Z=p.parentElement,j=s.toolbarContainer,W=j.offsetLeft,Y=j.offsetTop;for(;!j.parentElement.contains(Z)||!/^(BODY|HTML)$/i.test(j.parentElement.nodeName);)j=j.offsetParent,W+=j.offsetLeft,Y+=j.offsetTop;d.style.left=d.offsetLeft-W+p.offsetLeft+"px",d.style.top=d.offsetTop-Y+p.offsetTop+"px"}d.style.visibility=""},_setToolbarOffset:function(l,r,d,p,m,b,f,v,x){let S=d.offsetWidth,R=r.noText&&!l?0:d.offsetHeight,L=(l?r.left:r.right)-p-S/2+b,F=L+S-m,V=(l?r.top-R-x:r.bottom+x)-(r.noText?0:v)+f,K=L<0?1:F<0?L:L-F-1-1,te=!1,X=V+(l?g._getEditorOffsets(null).top:d.offsetHeight-e.element.wysiwyg.offsetHeight);!l&&X>0&&g._getPageBottomSpace()<X?(l=!0,te=!0):l&&u.documentElement.offsetTop>X&&(l=!1,te=!0),te&&(V=(l?r.top-R-x:r.bottom+x)-(r.noText?0:v)+f),d.style.left=h.Math.floor(K)+"px",d.style.top=h.Math.floor(V)+"px",l?(o.removeClass(e.element._arrow,"se-arrow-up"),o.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=R+"px"):(o.removeClass(e.element._arrow,"se-arrow-down"),o.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-x+"px");let Z=h.Math.floor(S/2+(L-K));e.element._arrow.style.left=(Z+x>d.offsetWidth?d.offsetWidth-x:Z<x?x:Z)+"px"},_showToolbarInline:function(){if(!c._isInline)return;let l=e.element.toolbar;s.toolbarContainer?l.style.position="relative":l.style.position="absolute",l.style.visibility="hidden",l.style.display="block",c._inlineToolbarAttr.width=l.style.width=s.toolbarWidth,c._inlineToolbarAttr.top=l.style.top=(s.toolbarContainer?0:-1-l.offsetHeight)+"px",typeof k.showInline=="function"&&k.showInline(l,e,c),g.onScroll_window(),c._inlineToolbarAttr.isShow=!0,l.style.visibility=""},_hideToolbar:function(){!c._notHideToolbar&&!c._variable.isFullScreen&&(e.element.toolbar.style.display="none",c._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(l){if(/AUDIO/.test(l.target.nodeName))return!1;if(c.isReadOnly||c.isDisabled)return l.preventDefault(),l.stopPropagation(),c.history.go(c.history.getCurrentIndex()),!1;let r=c.getRange(),d=c.getSelectionNode(),p=o.getFormatElement(d,null);if(!p&&r.collapsed&&!o.isComponent(d)&&!o.isList(d)){let b=o.getRangeFormatElement(p,null);c._setDefaultFormat(o.isRangeFormatElement(b)?"DIV":s.defaultTag)}c._editorRange();let m=(l.data===null?"":l.data===void 0?" ":l.data)||"";if(!c._charCount(m))return l.preventDefault(),l.stopPropagation(),!1;typeof k.onInput=="function"&&k.onInput(l,c)===!1||c.history.push(!0)},_isUneditableNode:function(l,r){let d=r?l.startContainer:l.endContainer,p=r?l.startOffset:l.endOffset,m=r?"previousSibling":"nextSibling",b=d.nodeType===1,f;return b?(f=g._isUneditableNode_getSibling(d.childNodes[p],m,d),f&&f.nodeType===1&&f.getAttribute("contenteditable")==="false"):(f=g._isUneditableNode_getSibling(d,m,d),c.isEdgePoint(d,p,r?"start":"end")&&f&&f.nodeType===1&&f.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(l,r,d){if(!l)return null;let p=l[r];if(!p)if(p=o.getFormatElement(d),p=p?p[r]:null,p&&!o.isComponent(p))p=r==="previousSibling"?p.firstChild:p.lastChild;else return null;return p},_onShortcutKey:!1,onKeyDown_wysiwyg:function(l){let r=c.getSelectionNode();if(o.isInputElement(r))return;let d=l.keyCode,p=l.shiftKey,m=l.ctrlKey||l.metaKey||d===91||d===92||d===224,b=l.altKey;if(g._IEisComposing=d===229,!m&&c.isReadOnly&&!g._cursorMoveKeyCode.test(d))return l.preventDefault(),!1;if(c.submenuOff(),c._isBalloon&&g._hideToolbar(),typeof k.onKeyDown=="function"&&k.onKeyDown(l,c)===!1)return;if(m&&g._shortcutCommand(d,p))return g._onShortcutKey=!0,l.preventDefault(),l.stopPropagation(),!1;g._onShortcutKey&&(g._onShortcutKey=!1),d===13&&o.isFormatElement(c.getRange().startContainer)&&(c._resetRangeToTextNode(),r=c.getSelectionNode());let f=c.getRange(),v=!f.collapsed||f.startContainer!==f.endContainer,x=c._fileManager.pluginRegExp.test(c.currentControllerName)?c.currentControllerName:"",C=o.getFormatElement(r,null)||r,S=o.getRangeFormatElement(C,null);if(!(/37|38|39|40/.test(l.keyCode)&&g._onKeyDown_wysiwyg_arrowKey(l)===!1)){switch(d){case 8:if(!v&&x){l.preventDefault(),l.stopPropagation(),c.plugins[x].destroy.call(c);break}if(v&&g._hardDelete()){l.preventDefault(),l.stopPropagation();break}if(!o.isFormatElement(C)&&!e.element.wysiwyg.firstElementChild&&!o.isComponent(r)&&c._setDefaultFormat(s.defaultTag)!==null)return l.preventDefault(),l.stopPropagation(),!1;if(!v&&!C.previousElementSibling&&f.startOffset===0&&!r.previousSibling&&!o.isListCell(C)&&o.isFormatElement(C)&&(!o.isFreeFormatElement(C)||o.isClosureFreeFormatElement(C))){if(o.isClosureRangeFormatElement(C.parentNode))return l.preventDefault(),l.stopPropagation(),!1;if(o.isWysiwygDiv(C.parentNode)&&C.childNodes.length<=1&&(!C.firstChild||o.onlyZeroWidthSpace(C.textContent))){if(l.preventDefault(),l.stopPropagation(),C.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){C.innerHTML="<br>";let D=C.attributes;for(;D[0];)C.removeAttribute(D[0].name)}else{let D=o.createElement(s.defaultTag);D.innerHTML="<br>",C.parentElement.replaceChild(D,C)}return c.nativeFocus(),!1}}let L=f.startContainer;if(C&&!C.previousElementSibling&&f.startOffset===0&&L.nodeType===3&&!o.isFormatElement(L.parentNode)){let D=L.parentNode.previousSibling,Q=L.parentNode.nextSibling;D||(Q?D=Q:(D=o.createElement("BR"),C.appendChild(D)));let A=L;for(;C.contains(A)&&!A.previousSibling;)A=A.parentNode;if(!C.contains(A)){L.textContent="",o.removeItemAllParents(L,null,C);break}}if(g._isUneditableNode(f,!0)){l.preventDefault(),l.stopPropagation();break}!v&&c._isEdgeFormat(f.startContainer,f.startOffset,"start")&&o.isFormatElement(C.previousElementSibling)&&(c._formatAttrsTemp=C.previousElementSibling.attributes);let F=f.commonAncestorContainer;if(C=o.getFormatElement(f.startContainer,null),S=o.getRangeFormatElement(C,null),S&&C&&!o.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){if(o.isListCell(C)&&o.isList(S)&&(o.isListCell(S.parentNode)||C.previousElementSibling)&&(r===C||r.nodeType===3&&(!r.previousSibling||o.isList(r.previousSibling)))&&(o.getFormatElement(f.startContainer,null)!==o.getFormatElement(f.endContainer,null)?S.contains(f.startContainer):f.startOffset===0&&f.collapsed)){if(f.startContainer!==f.endContainer)l.preventDefault(),c.removeNode(),f.startContainer.nodeType===3&&c.setRange(f.startContainer,f.startContainer.textContent.length,f.startContainer,f.startContainer.textContent.length),c.history.push(!0);else{let D=C.previousElementSibling||S.parentNode;if(o.isListCell(D)){l.preventDefault();let Q=D;if(!D.contains(C)&&o.isListCell(Q)&&o.isList(Q.lastElementChild)){for(Q=Q.lastElementChild.lastElementChild;o.isListCell(Q)&&o.isList(Q.lastElementChild);)Q=Q.lastElementChild&&Q.lastElementChild.lastElementChild;D=Q}let A=D===S.parentNode?S.previousSibling:D.lastChild;A||(A=o.createTextNode(o.zeroWidthSpace),S.parentNode.insertBefore(A,S.parentNode.firstChild));let $=A.nodeType===3?A.textContent.length:1,le=C.childNodes,oe=A,z=le[0];for(;z=le[0];)D.insertBefore(z,oe.nextSibling),oe=z;o.removeItem(C),S.children.length===0&&o.removeItem(S),c.setRange(A,$,A,$),c.history.push(!0)}}break}if(!v&&f.startOffset===0){let D=!0,Q=F;for(;Q&&Q!==S&&!o.isWysiwygDiv(Q);){if(Q.previousSibling&&(Q.previousSibling.nodeType===1||!o.onlyZeroWidthSpace(Q.previousSibling.textContent.trim()))){D=!1;break}Q=Q.parentNode}if(D&&S.parentNode){l.preventDefault(),c.detachRangeFormatElement(S,o.isListCell(C)?[C]:null,null,!1,!1),c.history.push(!0);break}}}if(!v&&C&&(f.startOffset===0||r===C&&C.childNodes[f.startOffset])){let D=r===C?C.childNodes[f.startOffset]:r,Q=C.previousSibling,A=(F.nodeType===3||o.isBreak(F))&&!F.previousSibling&&f.startOffset===0;if(D&&!D.previousSibling&&(F&&o.isComponent(F.previousSibling)||A&&o.isComponent(Q))){let $=c.getFileComponent(Q);$?(l.preventDefault(),l.stopPropagation(),C.textContent.length===0&&o.removeItem(C),c.selectComponent($.target,$.pluginName)===!1&&c.blur()):o.isComponent(Q)&&(l.preventDefault(),l.stopPropagation(),o.removeItem(Q));break}if(D&&o.isNonEditable(D.previousSibling)){l.preventDefault(),l.stopPropagation(),o.removeItem(D.previousSibling);break}}break;case 46:if(x){l.preventDefault(),l.stopPropagation(),c.plugins[x].destroy.call(c);break}if(v&&g._hardDelete()){l.preventDefault(),l.stopPropagation();break}if(!v&&c._isEdgeFormat(f.endContainer,f.endOffset,"end")&&!C.nextSibling){l.preventDefault(),l.stopPropagation();return}if(g._isUneditableNode(f,!1)){l.preventDefault(),l.stopPropagation();break}if((o.isFormatElement(r)||r.nextSibling===null||o.onlyZeroWidthSpace(r.nextSibling)&&r.nextSibling.nextSibling===null)&&f.startOffset===r.textContent.length){let D=C.nextElementSibling;if(!D)break;if(o.isComponent(D)){if(l.preventDefault(),o.onlyZeroWidthSpace(C)&&(o.removeItem(C),o.isTable(D))){let A=o.getChildElement(D,o.isCell,!1);A=A.firstElementChild||A,c.setRange(A,0,A,0);break}let Q=c.getFileComponent(D);Q?(l.stopPropagation(),c.selectComponent(Q.target,Q.pluginName)===!1&&c.blur()):o.isComponent(D)&&(l.stopPropagation(),o.removeItem(D));break}}if(!v&&(c.isEdgePoint(f.endContainer,f.endOffset)||r===C&&C.childNodes[f.startOffset])){let D=r===C&&C.childNodes[f.startOffset]||r;if(D&&o.isNonEditable(D.nextSibling)){l.preventDefault(),l.stopPropagation(),o.removeItem(D.nextSibling);break}else if(o.isComponent(D)){l.preventDefault(),l.stopPropagation(),o.removeItem(D);break}}if(!v&&c._isEdgeFormat(f.endContainer,f.endOffset,"end")&&o.isFormatElement(C.nextElementSibling)&&(c._formatAttrsTemp=C.attributes),C=o.getFormatElement(f.startContainer,null),S=o.getRangeFormatElement(C,null),o.isListCell(C)&&o.isList(S)&&(r===C||r.nodeType===3&&(!r.nextSibling||o.isList(r.nextSibling))&&(o.getFormatElement(f.startContainer,null)!==o.getFormatElement(f.endContainer,null)?S.contains(f.endContainer):f.endOffset===r.textContent.length&&f.collapsed))){f.startContainer!==f.endContainer&&c.removeNode();let D=o.getArrayItem(C.children,o.isList,!1);if(D=D||C.nextElementSibling||S.parentNode.nextElementSibling,D&&(o.isList(D)||o.getArrayItem(D.children,o.isList,!1))){l.preventDefault();let Q,A;if(o.isList(D)){let $=D.firstElementChild;for(A=$.childNodes,Q=A[0];A[0];)C.insertBefore(A[0],D);o.removeItem($)}else{for(Q=D.firstChild,A=D.childNodes;A[0];)C.appendChild(A[0]);o.removeItem(D)}c.setRange(Q,0,Q,0),c.history.push(!0)}break}break;case 9:if(x||s.tabDisable||(l.preventDefault(),m||b||o.isWysiwygDiv(r)))break;let V=!f.collapsed||c.isEdgePoint(f.startContainer,f.startOffset),K=c.getSelectedElements(null);r=c.getSelectionNode();let te=[],X=[],Z=o.isListCell(K[0]),j=o.isListCell(K[K.length-1]),W={sc:f.startContainer,so:f.startOffset,ec:f.endContainer,eo:f.endOffset};for(let D=0,Q=K.length,A;D<Q;D++)if(A=K[D],o.isListCell(A)){if(!A.previousElementSibling&&!p)continue;te.push(A)}else X.push(A);if(te.length>0&&V&&c.plugins.list)W=c.plugins.list.editInsideList.call(c,p,te);else{let D=o.getParentElement(r,o.isCell);if(D&&V){let Q=o.getParentElement(D,"table"),A=o.getListChildren(Q,o.isCell),$=p?o.prevIdx(A,D):o.nextIdx(A,D);$===A.length&&!p&&($=0),$===-1&&p&&($=A.length-1);let le=A[$];if(!le)break;le=le.firstElementChild||le,c.setRange(le,0,le,0);break}X=X.concat(te),Z=j=null}if(X.length>0)if(p){let D=X.length-1;for(let $=0,le;$<=D;$++){le=X[$].childNodes;for(let oe=0,z=le.length,y;oe<z&&(y=le[oe],!!y);oe++)if(!o.onlyZeroWidthSpace(y)){/^\s{1,4}$/.test(y.textContent)?o.removeItem(y):/^\s{1,4}/.test(y.textContent)&&(y.textContent=y.textContent.replace(/^\s{1,4}/,""));break}}let Q=o.getChildElement(X[0],"text",!1),A=o.getChildElement(X[D],"text",!0);!Z&&Q&&(W.sc=Q,W.so=0),!j&&A&&(W.ec=A,W.eo=A.textContent.length)}else{let D=o.createTextNode(new h.Array(c._variable.tabSize+1).join("\xA0"));if(X.length===1){if(!c.insertNode(D,null,!0))return!1;Z||(W.sc=D,W.so=D.length),j||(W.ec=D,W.eo=D.length)}else{let Q=X.length-1;for(let le=0,oe;le<=Q;le++)oe=X[le].firstChild,oe&&(o.isBreak(oe)?X[le].insertBefore(D.cloneNode(!1),oe):oe.textContent=D.textContent+oe.textContent);let A=o.getChildElement(X[0],"text",!1),$=o.getChildElement(X[Q],"text",!0);!Z&&A&&(W.sc=A,W.so=0),!j&&$&&(W.ec=$,W.eo=$.textContent.length)}}c.setRange(W.sc,W.so,W.ec,W.eo),c.history.push(!1);break;case 13:let Y=o.getFreeFormatElement(r,null);if(c._charTypeHTML){let D="";if(!p&&Y||p?D="<br>":D="<"+C.nodeName+"><br></"+C.nodeName+">",!c.checkCharCount(D,"byte-html"))return l.preventDefault(),!1}if(!p&&!x){let D=c._isEdgeFormat(f.endContainer,f.endOffset,"end"),Q=c._isEdgeFormat(f.startContainer,f.startOffset,"start");if(D&&(/^H[1-6]$/i.test(C.nodeName)||/^HR$/i.test(C.nodeName))){g._enterPrevent(l);let A=null,$=c.appendFormatTag(C,s.defaultTag);if(D&&D.length>0){A=D.pop();let le=A;for(;D.length>0;)A=A.appendChild(D.pop());$.appendChild(le)}if(A=A?A.appendChild($.firstChild):$.firstChild,o.isBreak(A)){let le=o.createTextNode(o.zeroWidthSpace);A.parentNode.insertBefore(le,A),c.setRange(le,1,le,1)}else c.setRange(A,0,A,0);break}else if(S&&C&&!o.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){let A=c.getRange();if(c.isEdgePoint(A.endContainer,A.endOffset)&&o.isList(r.nextSibling)){g._enterPrevent(l);let $=o.createElement("LI"),le=o.createElement("BR");$.appendChild(le),C.parentNode.insertBefore($,C.nextElementSibling),$.appendChild(r.nextSibling),c.setRange(le,1,le,1);break}if((A.commonAncestorContainer.nodeType!==3||!A.commonAncestorContainer.nextElementSibling)&&o.onlyZeroWidthSpace(C.innerText.trim())&&!o.isListCell(C.nextElementSibling)){g._enterPrevent(l);let $=null;if(o.isListCell(S.parentNode)){let le=C.parentNode.parentNode;S=le.parentNode;let oe=o.createElement("LI");oe.innerHTML="<br>",o.copyTagAttributes(oe,C,s.lineAttrReset),$=oe,S.insertBefore($,le.nextElementSibling)}else{let le=o.isCell(S.parentNode)?"DIV":o.isList(S.parentNode)?"LI":o.isFormatElement(S.nextElementSibling)&&!o.isRangeFormatElement(S.nextElementSibling)?S.nextElementSibling.nodeName:o.isFormatElement(S.previousElementSibling)&&!o.isRangeFormatElement(S.previousElementSibling)?S.previousElementSibling.nodeName:s.defaultTag;$=o.createElement(le),o.copyTagAttributes($,C,s.lineAttrReset);let oe=c.detachRangeFormatElement(S,[C],null,!0,!0);oe.cc.insertBefore($,oe.ec)}$.innerHTML="<br>",o.removeItemAllParents(C,null,null),c.setRange($,1,$,1);break}}if(Y){g._enterPrevent(l);let A=r===Y,$=c.getSelection(),le=r.childNodes,oe=$.focusOffset,z=r.previousElementSibling,y=r.nextSibling;if(!o.isClosureFreeFormatElement(Y)&&le&&(A&&f.collapsed&&le.length-1<=oe+1&&o.isBreak(le[oe])&&(!le[oe+1]||(!le[oe+2]||o.onlyZeroWidthSpace(le[oe+2].textContent))&&le[oe+1].nodeType===3&&o.onlyZeroWidthSpace(le[oe+1].textContent))&&oe>0&&o.isBreak(le[oe-1])||!A&&o.onlyZeroWidthSpace(r.textContent)&&o.isBreak(z)&&(o.isBreak(z.previousSibling)||!o.onlyZeroWidthSpace(z.previousSibling.textContent))&&(!y||!o.isBreak(y)&&o.onlyZeroWidthSpace(y.textContent)))){A?o.removeItem(le[oe-1]):o.removeItem(r);let T=c.appendFormatTag(Y,o.isFormatElement(Y.nextElementSibling)&&!o.isRangeFormatElement(Y.nextElementSibling)?Y.nextElementSibling:null);o.copyFormatAttributes(T,Y),c.setRange(T,1,T,1);break}if(A){k.insertHTML(f.collapsed&&o.isBreak(f.startContainer.childNodes[f.startOffset-1])?"<br>":"<br><br>",!0,!1);let T=$.focusNode,w=$.focusOffset;Y===T&&(T=T.childNodes[w-oe>1?w-1:w]),c.setRange(T,1,T,1)}else{let T=$.focusNode.nextSibling,w=o.createElement("BR");c.insertNode(w,null,!1);let O=w.previousSibling,B=w.nextSibling;!o.isBreak(T)&&!o.isBreak(O)&&(!B||o.onlyZeroWidthSpace(B))?(w.parentNode.insertBefore(w.cloneNode(!1),w),c.setRange(w,1,w,1)):c.setRange(B,0,B,0)}g._onShortcutKey=!0;break}if(f.collapsed&&(Q||D)){g._enterPrevent(l);let A=o.createElement("BR"),$=o.createElement(C.nodeName);o.copyTagAttributes($,C,s.lineAttrReset);let le=A;do{if(!o.isBreak(r)&&r.nodeType===1){let oe=r.cloneNode(!1);oe.appendChild(le),le=oe}r=r.parentNode}while(C!==r&&C.contains(r));$.appendChild(le),C.parentNode.insertBefore($,Q&&!D?C:C.nextElementSibling),D&&c.setRange(A,1,A,1);break}if(C){l.stopPropagation();let A,$=0;if(f.collapsed)o.onlyZeroWidthSpace(C)?A=c.appendFormatTag(C,C.cloneNode(!1)):A=o.splitElement(f.endContainer,f.endOffset,o.getElementDepth(C));else{let le=o.getFormatElement(f.startContainer,null)!==o.getFormatElement(f.endContainer,null),oe=C.cloneNode(!1);oe.innerHTML="<br>";let z=f.commonAncestorContainer,y=z===f.startContainer&&z===f.endContainer&&o.onlyZeroWidthSpace(z)?f:c.removeNode();if(A=o.getFormatElement(y.container,null),!A){o.isWysiwygDiv(y.container)&&(g._enterPrevent(l),e.element.wysiwyg.appendChild(oe),A=oe,o.copyTagAttributes(A,C,s.lineAttrReset),c.setRange(A,$,A,$));break}let T=o.getRangeFormatElement(y.container);if(A=A.contains(T)?o.getChildElement(T,o.getFormatElement.bind(o)):A,le){if(D&&!Q)A.parentNode.insertBefore(oe,!y.prevContainer||y.container===y.prevContainer?A.nextElementSibling:A),A=oe,$=0;else if($=y.offset,Q){let w=A.parentNode.insertBefore(oe,A);D&&(A=w,$=0)}}else D&&Q?(A.parentNode.insertBefore(oe,y.prevContainer&&y.container===y.prevContainer?A.nextElementSibling:A),A=oe,$=0):A=o.splitElement(y.container,y.offset,o.getElementDepth(C))}g._enterPrevent(l),o.copyTagAttributes(A,C,s.lineAttrReset),c.setRange(A,$,A,$);break}}if(v)break;if(S&&o.getParentElement(S,"FIGCAPTION")&&o.getParentElement(S,o.isList)&&(g._enterPrevent(l),C=c.appendFormatTag(C,null),c.setRange(C,0,C,0)),x){l.preventDefault(),l.stopPropagation(),c.containerOff(),c.controllersOff();let D=e[x],Q=D._container,A=Q.previousElementSibling||Q.nextElementSibling,$=null;o.isListCell(Q.parentNode)?$=o.createElement("BR"):($=o.createElement(o.isFormatElement(A)&&!o.isRangeFormatElement(A)?A.nodeName:s.defaultTag),$.innerHTML="<br>"),p?Q.parentNode.insertBefore($,Q):Q.parentNode.insertBefore($,Q.nextElementSibling),c.callPlugin(x,function(){c.selectComponent(D._element,x)===!1&&c.blur()},null)}break;case 27:if(x)return l.preventDefault(),l.stopPropagation(),c.controllersOff(),!1;break}if(p&&d===16){l.preventDefault(),l.stopPropagation();let L=c.plugins.table;if(L&&!L._shift&&!L._ref){let F=o.getParentElement(C,o.isCell);if(F){L.onTableCellMultiSelect.call(c,F,!0);return}}}else if(p&&(o.isOSX_IOS?b:m)&&d===32){l.preventDefault(),l.stopPropagation();let L=c.insertNode(o.createTextNode("\xA0"));if(L){c.setRange(L,L.length,L,L.length);return}}if(o.isIE&&!m&&!b&&!v&&!g._nonTextKeyCode.test(d)&&o.isBreak(f.commonAncestorContainer)){let L=o.createTextNode(o.zeroWidthSpace);c.insertNode(L,null,!1),c.setRange(L,1,L,1)}g._directionKeyCode.test(d)&&(h.setTimeout(c._editorRange.bind(c),0),g._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(l){if(l.shiftKey)return;let r=c.getSelectionNode(),d=function(b,f){if(f||(f=0),l.preventDefault(),l.stopPropagation(),!b)return;let v=c.getFileComponent(b);v?c.selectComponent(v.target,v.pluginName):(c.setRange(b,f,b,f),c.controllersOff())},p=o.getParentElement(r,"table");if(p){let b=o.getParentElement(r,"tr"),f=o.getParentElement(r,"td"),v=f,x=f;if(f){for(;v&&v.firstChild;)v=v.firstChild;for(;x&&x.lastChild;)x=x.lastChild}let C=r;for(;C&&C.firstChild;)C=C.firstChild;let S=C===v,R=C===x,L=null,F=0;if(l.keyCode===38&&S){let V=b&&b.previousElementSibling;for(V?L=V.children[f.cellIndex]:L=o.getPreviousDeepestNode(p,c.context.element.wysiwyg);L&&L.lastChild;)L=L.lastChild;L&&(F=L.textContent.length)}else if(l.keyCode===40&&R){let V=b&&b.nextElementSibling;for(V?L=V.children[f.cellIndex]:L=o.getNextDeepestNode(p,c.context.element.wysiwyg);L&&L.firstChild;)L=L.firstChild}if(L)return d(L,F),!1}let m=c.getFileComponent(r);if(m){let b=/37|38/.test(l.keyCode),f=/39|40/.test(l.keyCode);if(b){let v=o.getPreviousDeepestNode(m.target,c.context.element.wysiwyg);d(v,v&&v.textContent.length)}else if(f){let v=o.getNextDeepestNode(m.target,c.context.element.wysiwyg);d(v)}}},onKeyUp_wysiwyg:function(l){if(g._onShortcutKey)return;c._editorRange();let r=l.keyCode,d=l.ctrlKey||l.metaKey||r===91||r===92||r===224,p=l.altKey;if(c.isReadOnly){!d&&g._cursorMoveKeyCode.test(r)&&g._applyTagEffects();return}let m=c.getRange(),b=c.getSelectionNode();if(c._isBalloon&&(c._isBalloonAlways&&r!==27||!m.collapsed))if(c._isBalloonAlways)r!==27&&g._showToolbarBalloonDelay();else{g._showToolbarBalloon();return}let f=b;for(;f&&f.firstChild;)f=f.firstChild;let v=c.getFileComponent(f);if(!(l.keyCode===16||l.shiftKey)&&v?c.selectComponent(v.target,v.pluginName):c.currentFileComponentInfo&&c.controllersOff(),r===8&&o.isWysiwygDiv(b)&&b.textContent===""&&b.children.length===0){l.preventDefault(),l.stopPropagation(),b.innerHTML="";let L=o.createElement(o.isFormatElement(c._variable.currentNodes[0])?c._variable.currentNodes[0]:s.defaultTag);L.innerHTML="<br>",b.appendChild(L),c.setRange(L,0,L,0),g._applyTagEffects(),c.history.push(!1);return}let x=o.getFormatElement(b,null),C=o.getRangeFormatElement(b,null),S=c._formatAttrsTemp;if(S){for(let L=0,F=S.length;L<F;L++){if(r===13&&/^id$/i.test(S[L].name)){x.removeAttribute("id");continue}x.setAttribute(S[L].name,S[L].value)}c._formatAttrsTemp=null}if(!x&&m.collapsed&&!o.isComponent(b)&&!o.isList(b)&&c._setDefaultFormat(o.isRangeFormatElement(C)?"DIV":s.defaultTag)!==null&&(b=c.getSelectionNode()),!d&&!p&&!g._nonTextKeyCode.test(r)&&b.nodeType===3&&o.zeroWidthRegExp.test(b.textContent)&&!(l.isComposing!==void 0?l.isComposing:g._IEisComposing)){let L=m.startOffset,F=m.endOffset,V=(b.textContent.substring(0,F).match(g._frontZeroWidthReg)||"").length;L=m.startOffset-V,F=m.endOffset-V,b.textContent=b.textContent.replace(o.zeroWidthRegExp,""),c.setRange(b,L<0?0:L,b,F<0?0:F)}g._deleteKeyCode.test(r)&&x&&o.onlyZeroWidthSpace(x.textContent)&&!x.previousElementSibling&&(x.innerHTML="<br>",c.setRange(x,0,x,0)),c._charCount(""),!(typeof k.onKeyUp=="function"&&k.onKeyUp(l,c)===!1)&&!d&&!p&&!g._historyIgnoreKeyCode.test(r)&&c.history.push(!0)},onScroll_wysiwyg:function(l){c.controllersOff(),c._isBalloon&&g._hideToolbar(),typeof k.onScroll=="function"&&k.onScroll(l,c)},onFocus_wysiwyg:function(l){c._antiBlur||(c.hasFocus=!0,h.setTimeout(g._applyTagEffects),c._isInline&&g._showToolbarInline(),typeof k.onFocus=="function"&&k.onFocus(l,c))},onBlur_wysiwyg:function(l){c._antiBlur||c._variable.isCodeView||(c.hasFocus=!1,c.effectNode=null,c.controllersOff(),(c._isInline||c._isBalloon)&&g._hideToolbar(),c._setKeyEffect([]),c._variable.currentNodes=[],c._variable.currentNodesMap=[],s.showPathLabel&&(e.element.navigation.textContent=""),typeof k.onBlur=="function"&&k.onBlur(l,c,this))},onMouseDown_resizingBar:function(l){l.stopPropagation(),c.submenuOff(),c.controllersOff(),c._variable.resizeClientY=l.clientY,e.element.resizeBackground.style.display="block";function r(){e.element.resizeBackground.style.display="none",u.removeEventListener("mousemove",g._resize_editor),u.removeEventListener("mouseup",r)}u.addEventListener("mousemove",g._resize_editor),u.addEventListener("mouseup",r)},_resize_editor:function(l){let r=e.element.editorArea.offsetHeight+(l.clientY-c._variable.resizeClientY),d=r<c._variable.minResizingSize?c._variable.minResizingSize:r;e.element.wysiwygFrame.style.height=e.element.code.style.height=d+"px",c._variable.resizeClientY=l.clientY,o.isResizeObserverSupported||c.__callResizeFunction(d,null)},onResize_window:function(){o.isResizeObserverSupported||c.resetResponsiveToolbar();let l=e.element.toolbar,r=l.style.display==="none"||c._isInline&&!c._inlineToolbarAttr.isShow;if(!(l.offsetWidth===0&&!r)){if(e.fileBrowser&&e.fileBrowser.area.style.display==="block"&&(e.fileBrowser.body.style.maxHeight=h.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),c.submenuActiveButton&&c.submenu&&c._setMenuPosition(c.submenuActiveButton,c.submenu),c._variable.isFullScreen){c._variable.innerHeight_fullScreen+=h.innerHeight-l.offsetHeight-c._variable.innerHeight_fullScreen,e.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px";return}if(c._variable.isCodeView&&c._isInline){g._showToolbarInline();return}c._iframeAutoHeight(),c._sticky&&(l.style.width=e.element.topArea.offsetWidth-2+"px",g.onScroll_window())}},onScroll_window:function(){if(c._variable.isFullScreen||e.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;let l=e.element,r=l.editorArea.offsetHeight,d=(this.scrollY||u.documentElement.scrollTop)+s.stickyToolbar,p=g._getEditorOffsets(s.toolbarContainer).top-(c._isInline?l.toolbar.offsetHeight:0),m=c._isInline&&d-p>0?d-p-e.element.toolbar.offsetHeight:0;d<p?g._offStickyToolbar():d+c._variable.minResizingSize>=r+p?(c._sticky||g._onStickyToolbar(m),l.toolbar.style.top=m+r+p+s.stickyToolbar-d-c._variable.minResizingSize+"px"):d>=p&&g._onStickyToolbar(m)},_getEditorOffsets:function(l){let r=l||e.element.topArea,d=0,p=0,m=0;for(;r;)d+=r.offsetTop,p+=r.offsetLeft,m+=r.scrollTop,r=r.offsetParent;return{top:d,left:p,scroll:m}},_getPageBottomSpace:function(){return u.documentElement.scrollHeight-(g._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(l){let r=e.element;!c._isInline&&!s.toolbarContainer&&(r._stickyDummy.style.height=r.toolbar.offsetHeight+"px",r._stickyDummy.style.display="block"),r.toolbar.style.top=s.stickyToolbar+l+"px",r.toolbar.style.width=c._isInline?c._inlineToolbarAttr.width:r.toolbar.offsetWidth+"px",o.addClass(r.toolbar,"se-toolbar-sticky"),c._sticky=!0},_offStickyToolbar:function(){let l=e.element;l._stickyDummy.style.display="none",l.toolbar.style.top=c._isInline?c._inlineToolbarAttr.top:"",l.toolbar.style.width=c._isInline?c._inlineToolbarAttr.width:"",l.editorArea.style.marginTop="",o.removeClass(l.toolbar,"se-toolbar-sticky"),c._sticky=!1},_codeViewAutoHeight:function(){c._variable.isFullScreen||(e.element.code.style.height=e.element.code.scrollHeight+"px")},_hardDelete:function(){let l=c.getRange(),r=l.startContainer,d=l.endContainer,p=o.getRangeFormatElement(r),m=o.getRangeFormatElement(d),b=o.isCell(p),f=o.isCell(m),v=l.commonAncestorContainer;if((b&&!p.previousElementSibling&&!p.parentElement.previousElementSibling||f&&!m.nextElementSibling&&!m.parentElement.nextElementSibling)&&p!==m)if(!b)o.removeItem(o.getParentElement(m,function(S){return v===S.parentNode}));else if(!f)o.removeItem(o.getParentElement(p,function(S){return v===S.parentNode}));else return o.removeItem(o.getParentElement(p,function(S){return v===S.parentNode})),c.nativeFocus(),!0;let x=r.nodeType===1?o.getParentElement(r,".se-component"):null,C=d.nodeType===1?o.getParentElement(d,".se-component"):null;return x&&o.removeItem(x),C&&o.removeItem(C),!1},onPaste_wysiwyg:function(l){let r=o.isIE?h.clipboardData:l.clipboardData;return r?g._dataTransferAction("paste",l,r):!0},_setClipboardComponent:function(l,r,d){l.preventDefault(),l.stopPropagation(),d.setData("text/html",r.component.outerHTML)},onCopy_wysiwyg:function(l){let r=o.isIE?h.clipboardData:l.clipboardData;if(typeof k.onCopy=="function"&&k.onCopy(l,r,c)===!1)return l.preventDefault(),l.stopPropagation(),!1;let d=c.currentFileComponentInfo;d&&!o.isIE&&(g._setClipboardComponent(l,d,r),o.addClass(d.component,"se-component-copy"),h.setTimeout(function(){o.removeClass(d.component,"se-component-copy")},150))},onSave_wysiwyg:function(l){if(typeof k.onSave=="function"){k.onSave(l,c);return}},onCut_wysiwyg:function(l){let r=o.isIE?h.clipboardData:l.clipboardData;if(typeof k.onCut=="function"&&k.onCut(l,r,c)===!1)return l.preventDefault(),l.stopPropagation(),!1;let d=c.currentFileComponentInfo;d&&!o.isIE&&(g._setClipboardComponent(l,d,r),o.removeItem(d.component),c.controllersOff()),h.setTimeout(function(){c.history.push(!1)})},onDrop_wysiwyg:function(l){if(c.isReadOnly||o.isIE)return l.preventDefault(),l.stopPropagation(),!1;let r=l.dataTransfer;return r?(g._setDropLocationSelection(l),c.removeNode(),document.body.contains(c.currentControllerTarget)||c.controllersOff(),g._dataTransferAction("drop",l,r)):!0},_setDropLocationSelection:function(l){let r={startContainer:null,startOffset:null,endContainer:null,endOffset:null},d=null;if(l.rangeParent?(r.startContainer=l.rangeParent,r.startOffset=l.rangeOffset,r.endContainer=l.rangeParent,r.endOffset=l.rangeOffset):c._wd.caretRangeFromPoint?d=c._wd.caretRangeFromPoint(l.clientX,l.clientY):d=c.getRange(),d&&(r.startContainer=d.startContainer,r.startOffset=d.startOffset,r.endContainer=d.endContainer,r.endOffset=d.endOffset),r.startContainer===r.endContainer){let p=o.getParentElement(r.startContainer,o.isComponent);p&&(r.startContainer=p,r.startOffset=0,r.endContainer=p,r.endOffset=0)}c.setRange(r.startContainer,r.startOffset,r.endContainer,r.endOffset)},_dataTransferAction:function(l,r,d){let p,m;if(o.isIE){p=d.getData("Text");let b=c.getRange(),f=o.createElement("DIV"),v={sc:b.startContainer,so:b.startOffset,ec:b.endContainer,eo:b.endOffset};return f.setAttribute("contenteditable",!0),f.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(f),f.focus(),h.setTimeout(function(){m=f.innerHTML,o.removeItem(f),c.setRange(v.sc,v.so,v.ec,v.eo),g._setClipboardData(l,r,p,m,d)}),!0}else if(p=d.getData("text/plain"),m=d.getData("text/html"),g._setClipboardData(l,r,p,m,d)===!1)return r.preventDefault(),r.stopPropagation(),!1},_setClipboardData:function(l,r,d,p,m){let b=/class=["']*Mso(Normal|List)/i.test(p)||/content=["']*Word.Document/i.test(p)||/content=["']*OneNote.File/i.test(p)||/content=["']*Excel.Sheet/i.test(p);!p?p=o._HTMLConvertor(d).replace(/\n/g,"<br>"):(p=p.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),b&&(p=p.replace(/\n/g," "),d=d.replace(/\n/g," ")),p=c.cleanHTML(p,c.pasteTagsWhitelistRegExp,c.pasteTagsBlacklistRegExp));let v=c._charCount(c._charTypeHTML?p:d);if(l==="paste"&&typeof k.onPaste=="function"){let C=k.onPaste(r,p,v,c);if(C===!1)return!1;if(typeof C=="string"){if(!C)return!1;p=C}}if(l==="drop"&&typeof k.onDrop=="function"){let C=k.onDrop(r,p,v,c);if(C===!1)return!1;if(typeof C=="string"){if(!C)return!1;p=C}}let x=m.files;if(x.length>0&&!b)return/^image/.test(x[0].type)&&c.plugins.image&&k.insertImage(x),!1;if(!v)return!1;if(p)return k.insertHTML(p,!0,!1),!1},onMouseMove_wysiwyg:function(l){if(c.isDisabled||c.isReadOnly)return!1;let r=o.getParentElement(l.target,o.isComponent),d=c._lineBreaker.style;if(r&&!c.currentControllerName){let p=e.element,m=0,b=p.wysiwyg;do m+=b.scrollTop,b=b.parentElement;while(b&&!/^(BODY|HTML)$/i.test(b.nodeName));let f=p.wysiwyg.scrollTop,v=g._getEditorOffsets(null),x=o.getOffset(r,p.wysiwygFrame).top+f,C=l.pageY+m+(s.iframe&&!s.toolbarContainer?p.toolbar.offsetHeight:0),S=x+(s.iframe?m:v.top),R=o.isListCell(r.parentNode),L="",F="";if((R?!r.previousSibling:!o.isFormatElement(r.previousElementSibling))&&C<S+20)F=x,L="t";else if((R?!r.nextSibling:!o.isFormatElement(r.nextElementSibling))&&C>S+r.offsetHeight-20)F=x+r.offsetHeight,L="b";else{d.display="none";return}c._variable._lineBreakComp=r,c._variable._lineBreakDir=L,d.top=F-f+"px",c._lineBreakerButton.style.left=o.getOffset(r).left+r.offsetWidth/2-15+"px",d.display="block"}else d.display!=="none"&&(d.display="none")},_enterPrevent:function(l){l.preventDefault(),o.isMobile&&c.__focusTemp.focus()},_onMouseDown_lineBreak:function(l){l.preventDefault()},_onLineBreak:function(l){l.preventDefault();let r=c._variable._lineBreakComp,d=this?this:c._variable._lineBreakDir,p=o.isListCell(r.parentNode),m=o.createElement(p?"BR":o.isCell(r.parentNode)?"DIV":s.defaultTag);if(p||(m.innerHTML="<br>"),c._charTypeHTML&&!c.checkCharCount(m.outerHTML,"byte-html"))return;r.parentNode.insertBefore(m,d==="t"?r:r.nextSibling),c._lineBreaker.style.display="none",c._variable._lineBreakComp=null;let b=p?m:m.firstChild;c.setRange(b,1,b,1),c.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){let l=s.iframe?c._ww:e.element.wysiwyg;o.isResizeObserverSupported&&(this._resizeObserver=new h.ResizeObserver(function(r){c.__callResizeFunction(-1,r[0])})),e.element.toolbar.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",g.onClick_toolbar,!1),l.addEventListener("mousedown",g.onMouseDown_wysiwyg,!1),l.addEventListener("click",g.onClick_wysiwyg,!1),l.addEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg,!1),l.addEventListener("keydown",g.onKeyDown_wysiwyg,!1),l.addEventListener("keyup",g.onKeyUp_wysiwyg,!1),l.addEventListener("paste",g.onPaste_wysiwyg,!1),l.addEventListener("copy",g.onCopy_wysiwyg,!1),l.addEventListener("cut",g.onCut_wysiwyg,!1),l.addEventListener("drop",g.onDrop_wysiwyg,!1),l.addEventListener("scroll",g.onScroll_wysiwyg,!1),l.addEventListener("focus",g.onFocus_wysiwyg,!1),l.addEventListener("blur",g.onBlur_wysiwyg,!1),g._lineBreakerBind={a:g._onLineBreak.bind(""),t:g._onLineBreak.bind("t"),b:g._onLineBreak.bind("b")},l.addEventListener("mousemove",g.onMouseMove_wysiwyg,!1),c._lineBreakerButton.addEventListener("mousedown",g._onMouseDown_lineBreak,!1),c._lineBreakerButton.addEventListener("click",g._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",g._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",g._lineBreakerBind.b,!1),l.addEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),l.addEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.addEventListener("keydown",g._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",g._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",g._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?e.element.resizingBar.addEventListener("mousedown",g.onMouseDown_resizingBar,!1):o.addClass(e.element.resizingBar,"se-resizing-none")),g._setResponsiveToolbar(),o.isResizeObserverSupported&&(this._toolbarObserver=new h.ResizeObserver(c.resetResponsiveToolbar)),h.addEventListener("resize",g.onResize_window,!1),s.stickyToolbar>-1&&h.addEventListener("scroll",g.onScroll_window,!1)},_removeEvent:function(){let l=s.iframe?c._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",g._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",g._buttonsEventHandler),e.element.toolbar.removeEventListener("click",g.onClick_toolbar),l.removeEventListener("mousedown",g.onMouseDown_wysiwyg),l.removeEventListener("click",g.onClick_wysiwyg),l.removeEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg),l.removeEventListener("keydown",g.onKeyDown_wysiwyg),l.removeEventListener("keyup",g.onKeyUp_wysiwyg),l.removeEventListener("paste",g.onPaste_wysiwyg),l.removeEventListener("copy",g.onCopy_wysiwyg),l.removeEventListener("cut",g.onCut_wysiwyg),l.removeEventListener("drop",g.onDrop_wysiwyg),l.removeEventListener("scroll",g.onScroll_wysiwyg),l.removeEventListener("mousemove",g.onMouseMove_wysiwyg),c._lineBreakerButton.removeEventListener("mousedown",g._onMouseDown_lineBreak),c._lineBreakerButton.removeEventListener("click",g._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",g._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",g._lineBreakerBind.b),g._lineBreakerBind=null,l.removeEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),l.removeEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),l.removeEventListener("focus",g.onFocus_wysiwyg),l.removeEventListener("blur",g.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",g._codeViewAutoHeight),e.element.code.removeEventListener("keyup",g._codeViewAutoHeight),e.element.code.removeEventListener("paste",g._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",g.onMouseDown_resizingBar),g._resizeObserver&&(g._resizeObserver.unobserve(e.element.wysiwygFrame),g._resizeObserver=null),g._toolbarObserver&&(g._toolbarObserver.unobserve(e.element._toolbarShadow),g._toolbarObserver=null),h.removeEventListener("resize",g.onResize_window),h.removeEventListener("scroll",g.onScroll_window)},_setResponsiveToolbar:function(){if(a.length===0){a=null;return}g._responsiveCurrentSize="default";let l=g._responsiveButtonSize=[],r=g._responsiveButtons={default:a[0]};for(let d=1,p=a.length,m,b;d<p;d++)b=a[d],m=b[0]*1,l.push(m),r[m]=b[1];l.sort(function(d,p){return d-p}).unshift("default")}},k={core:c,util:o,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(l){c.submenuOff(),c.containerOff(),c.moreLayerOff();let r=_i._createToolBar(u,l,c.plugins,s);a=r.responsiveButtons,g._setResponsiveToolbar(),e.element.toolbar.replaceChild(r._buttonTray,e.element._buttonTray);let d=yi(e.element.originElement,c._getConstructed(e.element),s);e.element=d.element,e.tool=d.tool,s.iframe&&(e.element.wysiwyg=c._wd.body),c._recoverButtonStates(),c._cachingButtons(),c.history._resetCachingButton(),c.effectNode=null,c.hasFocus&&g._applyTagEffects(),c.isReadOnly&&o.setDisabledButtons(!0,c.resizingDisabledButtons),typeof k.onSetToolbarButtons=="function"&&k.onSetToolbarButtons(r._buttonTray.querySelectorAll("button"),c)},setOptions:function(l){g._removeEvent(),c._resetComponents(),o.removeClass(c._styleCommandMap.showBlocks,"active"),o.removeClass(c._styleCommandMap.codeView,"active"),c._variable.isCodeView=!1,c._iframeAuto=null,c.plugins=l.plugins||c.plugins;let r=[s,l].reduce(function(b,f){for(let v in f)if(o.hasOwn(f,v))if(v==="plugins"&&f[v]&&b[v]){let x=b[v],C=f[v];x=x.length?x:h.Object.keys(x).map(function(S){return x[S]}),C=C.length?C:h.Object.keys(C).map(function(S){return C[S]}),b[v]=C.filter(function(S){return x.indexOf(S)===-1}).concat(x)}else b[v]=f[v];return b},{}),d=e.element,p=d.wysiwyg.innerHTML,m=_i._setOptions(r,e,s);m.callButtons&&(t=m.callButtons,c.initPlugins={}),m.plugins&&(c.plugins=i=m.plugins),d._menuTray.children.length===0&&(this._menuTray={}),a=m.toolbar.responsiveButtons,c.options=s=r,c.lang=n=s.lang,s.iframe&&d.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),c._setOptionsInit(d,p)}),d.editorArea.appendChild(d.wysiwygFrame),s.iframe||c._setOptionsInit(d,p)},setDefaultStyle:function(l){let r=s._editorStyles=o._setDefaultOptionStyle(s,l),d=e.element;d.topArea.style.cssText=r.top,d.code.style.cssText=s._editorStyles.frame,d.code.style.display="none",s.height==="auto"?d.code.style.overflow="hidden":d.code.style.overflow="",s.iframe?(d.wysiwygFrame.style.cssText=r.frame,d.wysiwyg.style.cssText=r.editor):d.wysiwygFrame.style.cssText=r.frame+r.editor},noticeOpen:function(l){c.notice.open.call(c,l)},noticeClose:function(){c.notice.close.call(c)},save:function(){let l=c.getContents(!1);e.element.originElement.value=l,g.onSave_wysiwyg(l,c)},getContext:function(){return e},getContents:function(l){return c.getContents(l)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(l){return l=typeof l=="string"?l:s.charCounterType,c.getCharLength(c._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,l)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(l){return e[l]?e[l]._infoList:[]},insertImage:function(l){!c.plugins.image||!l||(c.initPlugins.image?c.plugins.image.submitAction.call(c,l):c.callPlugin("image",c.plugins.image.submitAction.bind(c,l),null),c.focus())},insertHTML:function(l,r,d,p){if(e.element.wysiwygFrame.contains(c.getSelection().focusNode)||c.focus(),typeof l=="string"){r||(l=c.cleanHTML(l,null,null));try{if(o.isListCell(o.getFormatElement(c.getSelectionNode(),null))){let F=u.createRange().createContextualFragment(l).childNodes;c._isFormatData(F)&&(l=c._convertListCell(F))}let b=u.createRange().createContextualFragment(l).childNodes;if(d){let L=c._charTypeHTML?"outerHTML":"textContent",F="";for(let V=0,K=b.length;V<K;V++)F+=b[V][L];if(!c.checkCharCount(F,null))return}let f,v,x,C,S;for(;f=b[0];){if(C&&C.nodeType===3&&v&&v.nodeType===1&&o.isBreak(f)){C=f,o.removeItem(f);continue}x=c.insertNode(f,v,!1),v=x.container||x,S||(S=x),C=f}C.nodeType===3&&v.nodeType===1&&(v=C);let R=v.nodeType===3?x.endOffset||v.textContent.length:v.childNodes.length;p?c.setRange(S.container||S,S.startOffset||0,v,R):c.setRange(v,R,v,R)}catch(m){if(c.isDisabled||c.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+m),c.execCommand("insertHTML",!1,l)}}else if(o.isComponent(l))c.insertComponent(l,!1,d,!1);else{let m=null;(o.isFormatElement(l)||o.isMedia(l))&&(m=o.getFormatElement(c.getSelectionNode(),null)),c.insertNode(l,m,d)}c.effectNode=null,c.focus(),c.history.push(!1)},setContents:function(l){c.setContents(l)},appendContents:function(l){let r=c.convertContentsForEditor(l);if(c._variable.isCodeView)c._setCodeView(c._getCodeView()+`
`+c.convertHTMLForCodeView(r,!1));else{let d=o.createElement("DIV");d.innerHTML=r;let p=e.element.wysiwyg,m=d.children;for(let b=0,f=m.length;b<f;b++)m[b]&&p.appendChild(m[b])}c.history.push(!1)},readOnly:function(l){c.isReadOnly=l,o.setDisabledButtons(!!l,c.resizingDisabledButtons),l?(c.controllersOff(),c.submenuActiveButton&&c.submenuActiveButton.disabled&&c.submenuOff(),c._moreLayerActiveButton&&c._moreLayerActiveButton.disabled&&c.moreLayerOff(),c.containerActiveButton&&c.containerActiveButton.disabled&&c.containerOff(),c.modalForm&&c.plugins.dialog.close.call(c),e.element.code.setAttribute("readOnly","true"),o.addClass(e.element.wysiwygFrame,"se-read-only")):(e.element.code.removeAttribute("readOnly"),o.removeClass(e.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!l)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){let l=e.element.topArea.style;l.display==="none"&&(l.display=s.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){c.submenuOff(),c.containerOff(),c.controllersOff(),c.notice&&c.notice.close.call(c),c.modalForm&&c.plugins.dialog.close.call(c),c.history._destroy(),g._removeEvent(),o.removeItem(e.element.toolbar),o.removeItem(e.element.topArea);for(let l in c.functions)o.hasOwn(c,l)&&delete c.functions[l];for(let l in c)o.hasOwn(c,l)&&delete c[l];for(let l in g)o.hasOwn(g,l)&&delete g[l];for(let l in e)o.hasOwn(e,l)&&delete e[l];for(let l in t)o.hasOwn(t,l)&&delete t[l];for(let l in this)o.hasOwn(this,l)&&delete this[l]},toolbar:{disable:function(){c.submenuOff(),c.moreLayerOff(),c.containerOff(),e.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){e.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){c._isInline?g._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display=""),g.onResize_window()},hide:function(){c._isInline?g._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none"),g.onResize_window()}},wysiwyg:{disable:function(){c.controllersOff(),c.modalForm&&c.plugins.dialog.close.call(c),e.element.wysiwyg.setAttribute("contenteditable",!1),c.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enable:function(){e.element.wysiwyg.setAttribute("contenteditable",!0),c.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")}}};c.functions=k,c.options=s;let M=e.element,N=M.originElement,P=M.topArea;return N.style.display="none",P.style.display="block",s.iframe&&M.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),c._editorInit(!1,s.value),s.value=null}),typeof N.nextElementSibling=="object"?N.parentNode.insertBefore(P,N.nextElementSibling):N.parentNode.appendChild(P),M.editorArea.appendChild(M.wysiwygFrame),M=N=P=null,s.iframe||(c._editorInit(!1,s.value),s.value=null),k}var xo={init:function(e){return{create:function(t,i){return this.create(t,i,e)}.bind(this)}},create:function(e,t,i){Se._propertiesInit(),typeof t!="object"&&(t={}),i&&(t=[i,t].reduce(function(a,u){for(let h in u)if(Se.hasOwn(u,h))if(h==="plugins"&&u[h]&&a[h]){let o=a[h],_=u[h];o=o.length?o:Object.keys(o).map(function(c){return o[c]}),_=_.length?_:Object.keys(_).map(function(c){return _[c]}),a[h]=_.filter(function(c){return o.indexOf(c)===-1}).concat(o)}else a[h]=u[h];return a},{}));let n=typeof e=="string"?document.getElementById(e):e;if(!n)throw Error(typeof e=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");let s=_i.init(n,t);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return wo(yi(n,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,t,s._responsiveButtons)}};var To={name:"blockquote",display:"command",add:function(e,t){let i=e.context;i.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(!e)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){let e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}};var So={name:"align",display:"submenu",add:function(e,t){let i=e.icons,n=e.context;n.align={targetButton:t,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:e.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let s=this.setSubmenu(e),a=n.align._itemMenu=s.querySelector("ul");a.addEventListener("click",this.pickup.bind(e)),n.align._alignList=a.querySelectorAll("li button"),e.initMenuTarget(this.name,t,s),s=null,a=null},setSubmenu:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV"),s=e.options.alignItems,a="";for(let u=0,h,o;u<s.length;u++)h=s[u],o=t.toolbar["align"+h.charAt(0).toUpperCase()+h.slice(1)],a+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+h+'" title="'+o+'" aria-label="'+o+'"><span class="se-list-icon">'+i["align_"+h]+"</span>"+o+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+a+"</ul></div>",n},active:function(e){let t=this.context.align,i=t.targetButton,n=i.firstElementChild;if(!e)this.util.changeElement(n,t.icons[t.defaultDir]),i.removeAttribute("data-focus");else if(this.util.isFormatElement(e)){let s=e.style.textAlign;if(s)return this.util.changeElement(n,t.icons[s]||t.icons[t.defaultDir]),i.setAttribute("data-focus",s),!0}return!1},on:function(){let e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||e.defaultDir;if(i!==e.currentAlign){for(let n=0,s=t.length;n<s;n++)i===t[n].getAttribute("data-value")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentAlign=i}},exchangeDir:function(){let e=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===e)return;this.context.align.defaultDir=e;let t=this.context.align._itemMenu,i=t.querySelector('[data-value="left"]'),n=t.querySelector('[data-value="right"]');if(i&&n){let s=i.parentElement,a=n.parentElement;s.appendChild(n),a.appendChild(i)}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;let n=this.context.align.defaultDir,s=this.getSelectedElements();for(let a=0,u=s.length;a<u;a++)this.util.setStyle(s[a],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}};var ko={name:"font",display:"submenu",add:function(e,t){let i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.lang,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-family";let n,s,a,u,h=e.options.font,o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(a=0,u=h.length;a<u;a++)n=h[a],s=n.split(",")[0],o+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+n+';">'+s+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},active:function(e){let t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){let n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{let n=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(t,n),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(n?" ("+n+")":""):n)}return!1},on:function(){let e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let n=0,s=t.length;n<s;n++)i===(t[n].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){let i=this.util.createElement("SPAN");/[\s\d\W]/.test(t)&&!/^['"].*['"]$/.test(t)&&(t='"'+t+'"'),i.style.fontFamily=t,this.nodeChange(i,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}};var Eo={name:"fontSize",display:"submenu",add:function(e,t){let i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";let s=t.fontSize?t.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72],a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let u=0,h=t.fontSizeUnit,o=s.length,_;u<o;u++)_=s[u],a+='<li><button type="button" class="se-btn-list" data-value="'+_+h+'" title="'+_+h+'" aria-label="'+_+h+'" style="font-size:'+_+h+';">'+_+"</button></li>";return a+="</ul></div>",n.innerHTML=a,n},active:function(e){if(!e)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,e.style.fontSize)),!0;return!1},on:function(){let e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let n=0,s=t.length;n<s;n++)i===t[n].getAttribute("data-value")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){let i=this.util.createElement("SPAN");i.style.fontSize=t,this.nodeChange(i,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}};var Nn={name:"colorPicker",add:function(e){let t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},t.colorPicker.colorListHTML=this.createColorList(e,this._makeColorList)},createColorList:function(e,t){let i=e.options,n=e.lang,s=!i.colorList||i.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:i.colorList,a=[],u='<div class="se-list-inner">';for(let h=0,o=s.length,_;h<o;h++)_=s[h],_&&(typeof _=="string"&&(a.push(_),h<o-1)||(a.length>0&&(u+='<div class="se-selector-color">'+t(a)+"</div>",a=[]),typeof _=="object"&&(u+='<div class="se-selector-color">'+t(_)+"</div>")));return u+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",u},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i=0,n=e.length,s;i<n;i++)s=e[i],typeof s=="string"&&(t+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return t+="</ul>",t},init:function(e,t){let i=this.plugins.colorPicker,n=t||i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;let s=this.context.colorPicker._colorList;if(s)for(let a=0,u=s.length;a<u;a++)n.toLowerCase()===s[a].getAttribute("data-value").toLowerCase()?this.util.addClass(s[a],"active"):this.util.removeClass(s[a],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="",i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&t.length===0;)e.nodeType===1&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){let t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map(function(n){return parseInt(n,10)});return this.util.removeItem(t),i.length>=3?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1):!1}};var Lo={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([Nn]);let i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){let e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput;let i=this.wwComputedStyle.color;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;let t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}};var Mo={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([Nn]);let i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){let e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput;let i=this.wwComputedStyle.backgroundColor;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;let t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}};var Do={name:"horizontalRule",display:"submenu",add:function(e,t){e.context.horizontalRule={currentHR:null};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.lang,i=e.util.createElement("DIV"),n=e.options.hrItems||[{name:t.toolbar.hr_solid,class:"__se__solid"},{name:t.toolbar.hr_dashed,class:"__se__dashed"},{name:t.toolbar.hr_dotted,class:"__se__dotted"}],s="";for(let a=0,u=n.length;a<u;a++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[a].class+'" title="'+n[a].name+'" aria-label="'+n[a].name+'"><hr'+(n[a].class?' class="'+n[a].class+'"':"")+(n[a].style?' style="'+n[a].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",i},active:function(e){if(!e)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(e.nodeName))return this.context.horizontalRule.currentHR=e,this.util.hasClass(e,"on")||(this.util.addClass(e,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,e,"on"))),!0;return!1},appendHr:function(e){return this.focus(),this.insertComponent(e.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=t.getAttribute("data-command");for(;!i&&!/UL/i.test(t.tagName);)t=t.parentNode,i=t.getAttribute("data-command");if(!i)return;let n=this.plugins.horizontalRule.appendHr.call(this,t.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}};var Io={name:"list",display:"submenu",add:function(e,t){let i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.list._list=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.lang,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+t.toolbar.orderList+'" aria-label="'+t.toolbar.orderList+'">'+e.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+t.toolbar.unorderList+'" aria-label="'+t.toolbar.unorderList+'">'+e.icons.list_bullets+"</button></li></ul></div>",i},active:function(e){let t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(n.isList(e)){let s=e.nodeName;return t.setAttribute("data-focus",s),n.addClass(t,"active"),/UL/i.test(s)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}else t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active");return!1},on:function(){let e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let n=0,s=t.length;n<s;n++)i===t[n].getAttribute("data-command")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),s=t||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(t||(n=this.getRange_addLine(n,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;let a=this.util;a.sortByDepth(s,!0);let u=s[0],h=s[s.length-1],o=(a.isListCell(u)||a.isComponent(u))&&!u.previousElementSibling?u.parentNode.previousElementSibling:u.previousElementSibling,_=(a.isListCell(h)||a.isComponent(h))&&!h.nextElementSibling?h.parentNode.nextElementSibling:h.nextElementSibling,c=n.collapsed,g={sc:n.startContainer,so:n.startContainer===n.endContainer&&a.onlyZeroWidthSpace(n.startContainer)&&n.startOffset===0&&n.endOffset===1?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset},k=null,M=!0;for(let N=0,P=s.length;N<P;N++)if(!a.isList(a.getRangeFormatElement(s[N],function(l){return this.getRangeFormatElement(l)&&l!==s[N]}.bind(a)))){M=!1;break}if(M&&(!o||u.tagName!==o.tagName||e!==o.tagName.toUpperCase())&&(!_||h.tagName!==_.tagName||e!==_.tagName.toUpperCase())){if(i){for(let p=0,m=s.length;p<m;p++)for(let b=p-1;b>=0;b--)if(s[b].contains(s[p])){s.splice(p,1),p--,m--;break}}let N=a.getRangeFormatElement(u),P=N&&N.tagName===e,l,r,d=function(p){return!this.isComponent(p)}.bind(a);P||(r=a.createElement(e));for(let p=0,m=s.length,b,f;p<m;p++)f=a.getRangeFormatElement(s[p],d),!(!f||!a.isList(f))&&(b?b!==f?(i&&a.isListCell(f.parentNode)?this.plugins.list._detachNested.call(this,l.f):k=this.detachRangeFormatElement(l.f[0].parentNode,l.f,r,!1,!0),f=s[p].parentNode,P||(r=a.createElement(e)),b=f,l={r:b,f:[a.getParentElement(s[p],"LI")]}):l.f.push(a.getParentElement(s[p],"LI")):(b=f,l={r:b,f:[a.getParentElement(s[p],"LI")]}),p===m-1&&(i&&a.isListCell(f.parentNode)?this.plugins.list._detachNested.call(this,l.f):k=this.detachRangeFormatElement(l.f[0].parentNode,l.f,r,!1,!0)))}else{let N=o&&o.parentNode,P=_&&_.parentNode;o=N&&!a.isWysiwygDiv(N)&&N.nodeName===e?N:o,_=P&&!a.isWysiwygDiv(P)&&P.nodeName===e?P:_;let l=o&&o.tagName===e,r=_&&_.tagName===e,d=l?o:a.createElement(e),p=null,m=null,b=null,f=null,v=function(x){return!this.isComponent(x)&&!this.isList(x)}.bind(a);for(let x=0,C=s.length,S,R,L,F,V,K,te,X,Z;x<C;x++){if(R=s[x],R.childNodes.length===0&&!a._isIgnoreNodeChange(R)){a.removeItem(R);continue}if(F=s[x+1],V=R.parentNode,K=F?F.parentNode:null,L=a.isListCell(R),Z=a.isRangeFormatElement(V)?V:null,te=L&&!a.isWysiwygDiv(V)?V.parentNode:V,X=L&&!a.isWysiwygDiv(V)?!F||a.isListCell(te)?V:V.nextSibling:R.nextSibling,S=a.createElement("LI"),a.copyFormatAttributes(S,R),x===0&&g.sc===R&&(g.sc=S),x===C-1&&g.ec===R&&(g.ec=S),a.isComponent(R)){let j=/^HR$/i.test(R.nodeName);j||(S.innerHTML="<br>"),S.innerHTML+=R.outerHTML,j&&(S.innerHTML+="<br>")}else{let j=R.childNodes;for(;j[0];)S.appendChild(j[0])}d.appendChild(S),F||(m=d),(!F||te!==K||a.isRangeFormatElement(X))&&(p||(p=d),(!l||!F||te!==K)&&!(F&&a.isList(K)&&K===V)&&d.parentNode!==te&&te.insertBefore(d,X)),a.removeItem(R),l&&b===null&&(b=d.children.length-1),F&&(a.getRangeFormatElement(K,v)!==a.getRangeFormatElement(V,v)||a.isList(K)&&a.isList(V)&&a.getElementDepth(K)!==a.getElementDepth(V))&&(d=a.createElement(e)),Z&&Z.children.length===0&&a.removeItem(Z)}b&&(p=p.children[b]),r&&(f=d.children.length-1,d.innerHTML+=_.innerHTML,m=d.children[f],a.removeItem(_))}return this.effectNode=null,c&&k||g},_detachNested:function(e){let t=e[0],i=e[e.length-1],n=i.nextElementSibling,s=t.parentNode,a=s.parentNode.nextElementSibling,u=s.parentNode.parentNode;for(let o=0,_=e.length;o<_;o++)u.insertBefore(e[o],a);if(n&&s.children.length>0){let o=s.cloneNode(!1),_=s.childNodes,c=this.util.getPositionIndex(n);for(;_[c];)o.appendChild(_[c]);i.appendChild(o)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(u);let h=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:h.sc,ec:h.ec}},editInsideList:function(e,t){t=t||this.getSelectedElements().filter(function(u){return this.isListCell(u)}.bind(this.util));let i=t.length;if(i===0||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,s=t[i-1],a=null;if(e){if(n!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)t.push(s),s=s.nextElementSibling;a=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let u=this.util.createElement(n.nodeName),h=t[0].previousElementSibling,o=s.nextElementSibling,_={s:null,e:null,sl:n,el:n};for(let k=0,M=i,N;k<M;k++)N=t[k],N.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,u,h,o,_),n=N.parentNode,u=this.util.createElement(n.nodeName)),h=N.previousElementSibling,o=N.nextElementSibling,u.appendChild(N);this.plugins.list._insiedList.call(this,n,u,h,o,_);let c=this.util.getNodeFromPath(_.s,_.sl),g=this.util.getNodeFromPath(_.e,_.el);a={sc:c,so:0,ec:g,eo:g.textContent.length}}return a},_insiedList:function(e,t,i,n,s){let a=!1;if(i&&t.tagName===i.tagName){let u=t.children;for(;u[0];)i.appendChild(u[0]);t=i,a=!0}if(n&&t.tagName===n.tagName){let u=n.children;for(;u[0];)t.appendChild(u[0]);let h=n.nextElementSibling;n.parentNode.removeChild(n),n=h}if(!a){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),s.s||(s.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),s.sl=e);let u=e.contains(s.sl)?this.util.getNodePath(s.sl,e):null;s.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),s.el=e,this.util.mergeSameTags(e,[s.s,s.e,u],!1),this.util.mergeNestedTags(e),u&&(s.sl=this.util.getNodeFromPath(u,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;let n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}};var No={name:"table",display:"submenu",add:function(e,t){let i=e.context,n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:e.options.rtl,cellControllerTop:e.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}},s=this.setSubmenu(e),a=s.querySelector(".se-controller-table-picker");n.tableHighlight=s.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=s.querySelector(".se-table-size-display"),e.options.rtl&&(n.tableHighlight.style.left=10*18-13+"px");let u=this.setController_table(e);n.tableController=u,n.resizeButton=u.querySelector("._se_table_resize"),n.resizeText=u.querySelector("._se_table_resize > span > span"),n.columnFixedButton=u.querySelector("._se_table_fixed_column"),n.headerButton=u.querySelector("._se_table_header");let h=this.setController_tableEditor(e,n.cellControllerTop);n.resizeDiv=h,n.splitMenu=h.querySelector(".se-btn-group-sub"),n.mergeButton=h.querySelector("._se_table_merge_button"),n.splitButton=h.querySelector("._se_table_split_button"),n.insertRowAboveButton=h.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=h.querySelector("._se_table_insert_row_b"),a.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e,n)),a.addEventListener("click",this.appendTable.bind(e)),h.addEventListener("click",this.onClick_tableController.bind(e)),u.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,s),i.element.relative.appendChild(h),i.element.relative.appendChild(u),s=null,a=null,h=null,u=null,n=null},setSubmenu:function(e){let t=e.util.createElement("DIV");return t.className="se-submenu se-selector-table",t.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',t},setController_table:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(e,t){let i=e.lang,n=e.icons,s=e.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(t?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){let e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0],n=this.context.table._tableXY[1],s="<tbody>";for(;n>0;)s+="<tr>"+t.call(this,"td",i)+"</tr>",--n;if(s+="</tbody>",e.innerHTML=s,this.insertComponent(e,!1,!0,!1)){let u=e.querySelector("td div");this.setRange(u,0,u,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){let n=this.util.createElement(e);return n.innerHTML="<div><br></div>",n}else{let n="";for(;t>0;)n+="<"+e+"><div><br></div></"+e+">",t--;return n}},onMouseMove_tablePicker:function(e,t){t.stopPropagation();let i=this._w.Math.ceil(t.offsetX/18),n=this._w.Math.ceil(t.offsetY/18);i=i<1?1:i,n=n<1?1:n,e._rtl&&(e.tableHighlight.style.left=i*18-13+"px",i=11-i),e.tableHighlight.style.width=i+"em",e.tableHighlight.style.height=n+"em",this.util.changeTxt(e.tableDisplay,i+" x "+n),e._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;let e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){let e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){let i=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let n=0,s=i.length;n<s;n++)this.util.removeClass(i[n],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){let t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell){this.controllersOff(),this.util.removeClass(e,"se-table-selected-cell");return}let n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||n.style.width==="100%"||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||n.style.tableLayout==="fixed",t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerTop.call(this,n),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){this.setControllerPosition(this.context.table.tableController,e,"top",{left:0,top:0})},setPositionControllerDiv:function(e,t){let i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,e,t),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,e,"bottom",{left:0,top:0})},setCellInfo:function(e,t){let i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||i._physical_cellCnt===0){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);let s=i._trElements=n.rows,a=e.cellIndex,u=0;for(let c=0,g=s[0].cells,k=s[0].cells.length;c<k;c++)u+=g[c].colSpan;let h=i._rowIndex=i._trElement.rowIndex;i._rowCnt=s.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=u,i._physical_cellIndex=a,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan-i._trElement.cells[a].rowSpan-1;let o=[],_=[];for(let c=0,g,k;c<=h;c++){g=s[c].cells,k=0;for(let M=0,N=g.length,P,l,r,d;M<N;M++){if(P=g[M],l=P.colSpan-1,r=P.rowSpan-1,d=M+k,_.length>0)for(let p=0,m;p<_.length;p++)m=_[p],!(m.row>c)&&(d>=m.index?(k+=m.cs,d+=m.cs,m.rs-=1,m.row=c+1,m.rs<1&&(_.splice(p,1),p--)):M===N-1&&(m.rs-=1,m.row=c+1,m.rs<1&&(_.splice(p,1),p--)));if(c===h&&M===a){i._logical_cellIndex=d;break}r>0&&o.push({index:d,cs:l+1,rs:r,row:-1}),k+=l}_=_.concat(o).sort(function(M,N){return M.index-N.index}),o=[]}o=null,_=null}},editTable:function(e,t){let i=this.plugins.table,n=this.context.table,s=n._element,a=e==="row";if(a){let u=n._trElement.parentNode;if(/^THEAD$/i.test(u.nodeName)){if(t==="up")return;if(!u.nextElementSibling||!/^TBODY$/i.test(u.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(i._ref){let u=n._tdElement,h=i._selectedCells;if(a)if(t)i.setCellInfo.call(this,t==="up"?h[0]:h[h.length-1],!0),i.editRow.call(this,t,u);else{let o=h[0].parentNode,_=[h[0]];for(let c=1,g=h.length,k;c<g;c++)k=h[c],o!==k.parentNode&&(_.push(k),o=k.parentNode);for(let c=0,g=_.length;c<g;c++)i.setCellInfo.call(this,_[c],!0),i.editRow.call(this,t)}else{let o=h[0].parentNode;if(t){let _=null;for(let c=0,g=h.length-1;c<g;c++)if(o!==h[c+1].parentNode){_=h[c];break}i.setCellInfo.call(this,t==="left"?h[0]:_||h[0],!0),i.editCell.call(this,t,u)}else{let _=[h[0]];for(let c=1,g=h.length,k;c<g&&(k=h[c],o===k.parentNode);c++)_.push(k);for(let c=0,g=_.length;c<g;c++)i.setCellInfo.call(this,_[c],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[a?"editRow":"editCell"].call(this,t);if(!t){let u=s.children;for(let h=0;h<u.length;h++)u[h].children.length===0&&(this.util.removeItem(u[h]),h--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(e,t){let i=this.context.table,n=!e,s=e==="up",a=i._rowIndex,u=n||s?a:a+i._current_rowSpan+1,h=n?-1:1,o=i._trElements,_=i._logical_cellCnt;for(let c=0,g=a+(n?-1:0),k;c<=g;c++){if(k=o[c].cells,k.length===0)return;for(let M=0,N=k.length,P,l;M<N;M++)P=k[M].rowSpan,l=k[M].colSpan,!(P<2&&l<2)&&P+c>u&&u>c&&(k[M].rowSpan=P+h,_-=l)}if(n){let c=o[a+1];if(c){let g=[],k=o[a].cells,M=0;for(let N=0,P=k.length,l,r;N<P;N++)l=k[N],r=N+M,M+=l.colSpan-1,l.rowSpan>1&&(l.rowSpan-=1,g.push({cell:l.cloneNode(!1),index:r}));if(g.length>0){let N=g.shift();k=c.cells,M=0;for(let P=0,l=k.length,r,d;P<l&&(r=k[P],d=P+M,M+=r.colSpan-1,!(d>=N.index&&(P--,M--,M+=N.cell.colSpan-1,c.insertBefore(N.cell,r),N=g.shift(),!N)));P++);if(N){c.appendChild(N.cell);for(let P=0,l=g.length;P<l;P++)c.appendChild(g[P].cell)}}}i._element.deleteRow(u)}else{let c=i._element.insertRow(u);c.innerHTML=this.plugins.table.createCells.call(this,"td",_,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){let i=this.context.table,n=this.util,s=!e,a=e==="left",u=i._current_colSpan,h=s||a?i._logical_cellIndex:i._logical_cellIndex+u+1,o=i._trElements,_=[],c=[],g=0,k=[],M=[];for(let N=0,P=i._rowCnt,l,r,d,p,m,b;N<P;N++){l=o[N],r=h,m=!1,d=l.cells,b=0;for(let f=0,v,x=d.length,C,S,R;f<x&&(v=d[f],!!v);f++)if(C=v.rowSpan-1,S=v.colSpan-1,s){if(R=f+b,c.length>0){let L=!d[f+1];for(let F=0,V;F<c.length;F++)V=c[F],!(V.row>N)&&(R>=V.index?(b+=V.cs,R=f+b,V.rs-=1,V.row=N+1,V.rs<1&&(c.splice(F,1),F--)):L&&(V.rs-=1,V.row=N+1,V.rs<1&&(c.splice(F,1),F--)))}C>0&&_.push({rs:C,cs:S+1,index:R,row:-1}),R>=r&&R+S<=r+u?k.push(v):R<=r+u&&R+S>=r?v.colSpan-=n.getOverlapRangeAtIndex(h,h+u,R,R+S):C>0&&(R<r||R+S>r+u)&&M.push({cell:v,i:N,rs:N+C}),b+=S}else{if(f>=r)break;if(S>0){if(g<1&&S+f>=r){v.colSpan+=1,r=null,g=C+1;break}r-=S}if(!m){for(let L=0,F;L<c.length;L++)F=c[L],r-=F.cs,F.rs-=1,F.rs<1&&(c.splice(L,1),L--);m=!0}}if(c=c.concat(_).sort(function(f,v){return f.index-v.index}),_=[],!s){if(g>0){g-=1;continue}r!==null&&d.length>0&&(p=this.plugins.table.createCells.call(this,d[0].nodeName,0,!0),p=l.insertBefore(p,d[r]))}}if(s){let N,P;for(let l=0,r=k.length,d;l<r;l++)d=k[l].parentNode,n.removeItem(k[l]),d.cells.length===0&&(N||(N=n.getArrayIndex(o,d)),P=n.getArrayIndex(o,d),n.removeItem(d));for(let l=0,r=M.length,d;l<r;l++)d=M[l],d.cell.rowSpan=n.getOverlapRangeAtIndex(N,P,d.i,d.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(e){let t=this.util,i=e==="vertical",n=this.context.table,s=n._tdElement,a=n._trElements,u=n._trElement,h=n._logical_cellIndex,o=n._rowIndex,_=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(i){let c=s.colSpan;if(_.rowSpan=s.rowSpan,c>1)_.colSpan=this._w.Math.floor(c/2),s.colSpan=c-_.colSpan,u.insertBefore(_,s.nextElementSibling);else{let g=[],k=[];for(let M=0,N=n._rowCnt,P,l;M<N;M++){P=a[M].cells,l=0;for(let r=0,d=P.length,p,m,b,f;r<d;r++){if(p=P[r],m=p.colSpan-1,b=p.rowSpan-1,f=r+l,k.length>0)for(let v=0,x;v<k.length;v++)x=k[v],!(x.row>M)&&(f>=x.index?(l+=x.cs,f+=x.cs,x.rs-=1,x.row=M+1,x.rs<1&&(k.splice(v,1),v--)):r===d-1&&(x.rs-=1,x.row=M+1,x.rs<1&&(k.splice(v,1),v--)));if(f<=h&&b>0&&g.push({index:f,cs:m+1,rs:b,row:-1}),p!==s&&f<=h&&f+m>=h+c-1){p.colSpan+=1;break}if(f>h)break;l+=m}k=k.concat(g).sort(function(r,d){return r.index-d.index}),g=[]}u.insertBefore(_,s.nextElementSibling)}}else{let c=s.rowSpan;if(_.colSpan=s.colSpan,c>1){_.rowSpan=this._w.Math.floor(c/2);let g=c-_.rowSpan,k=[],M=t.getArrayIndex(a,u)+g;for(let r=0,d,p;r<M;r++){d=a[r].cells,p=0;for(let m=0,b=d.length,f,v,x;m<b&&(x=m+p,!(x>=h));m++)f=d[m],v=f.rowSpan-1,v>0&&v+r>=M&&x<h&&k.push({index:x,cs:f.colSpan}),p+=f.colSpan-1}let N=a[M],P=N.cells,l=k.shift();for(let r=0,d=P.length,p=0,m,b,f,v;r<d;r++){if(f=r+p,m=P[r],b=m.colSpan-1,v=f+b+1,l&&v>=l.index&&(p+=l.cs,v+=l.cs,l=k.shift()),v>=h||r===d-1){N.insertBefore(_,m.nextElementSibling);break}p+=b}s.rowSpan=g}else{_.rowSpan=s.rowSpan;let g=t.createElement("TR");g.appendChild(_);for(let N=0,P;N<o;N++){if(P=a[N].cells,P.length===0)return;for(let l=0,r=P.length;l<r;l++)N+P[l].rowSpan-1>=o&&(P[l].rowSpan+=1)}let k=n._physical_cellIndex,M=u.cells;for(let N=0,P=M.length;N<P;N++)N!==k&&(M[N].rowSpan+=1);u.parentNode.insertBefore(g,u.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){let e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,s=e._selectedCells,a=s[0],u=null,h=null,o=n.ce-n.cs+1,_=n.re-n.rs+1,c="",g=null;for(let k=1,M=s.length,N,P;k<M;k++){N=s[k],g!==N.parentNode&&(g=N.parentNode),P=N.children;for(let l=0,r=P.length;l<r;l++)i.isFormatElement(P[l])&&i.onlyZeroWidthSpace(P[l].textContent)&&i.removeItem(P[l]);c+=N.innerHTML,i.removeItem(N),g.cells.length===0&&(u?h=g:u=g,_-=1)}if(u){let k=t._trElements,M=i.getArrayIndex(k,u),N=i.getArrayIndex(k,h||u),P=[];for(let l=0,r;l<=N;l++){if(r=k[l].cells,r.length===0){P.push(k[l]);continue}for(let d=0,p=r.length,m,b;d<p;d++)m=r[d],b=m.rowSpan-1,b>0&&l+b>=M&&(m.rowSpan-=i.getOverlapRangeAtIndex(M,N,l,l+b))}for(let l=0,r=P.length;l<r;l++)i.removeItem(P[l])}a.innerHTML+=c,a.colSpan=o,a.rowSpan=_,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,a),i.addClass(a,"se-table-selected-cell"),this.focusEdge(a)},toggleHeader:function(){let e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{let s=e.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(s,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){let t=this.context.table,i=t._element,n,s,a,u;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,s=t.resizeText,t._maxWidth?(a=t.icons.reduction,u=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(a=t.icons.expansion,u=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,a),this.util.changeTxt(s,u)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){let i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),!t||e===t?(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0)):(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();let t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),!(!t._fixedCell||!t._selectedTable)&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;let t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}!i||i===t._selectedCell||t._fixedCellName!==i.nodeName||t._selectedTable!==this.util.getParentElement(i,"TABLE")||(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){let i=this.plugins.table,n=i._selectedTable.rows,s=this.util,a=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let c=0,g=a.length;c<g;c++)s.removeClass(a[c],"se-table-selected-cell");if(e===t&&(s.addClass(e,"se-table-selected-cell"),!i._shift))return;let u=!0,h=[],o=[],_=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let c=0,g=n.length,k,M;c<g;c++){k=n[c].cells,M=0;for(let N=0,P=k.length,l,r,d,p;N<P;N++){if(l=k[N],d=l.colSpan-1,p=l.rowSpan-1,r=N+M,h.length>0)for(let m=0,b;m<h.length;m++)b=h[m],!(b.row>c)&&(r>=b.index?(M+=b.cs,r+=b.cs,b.rs-=1,b.row=c+1,b.rs<1&&(h.splice(m,1),m--)):N===P-1&&(b.rs-=1,b.row=c+1,b.rs<1&&(h.splice(m,1),m--)));if(u){if((l===e||l===t)&&(_.cs=_.cs!==null&&_.cs<r?_.cs:r,_.ce=_.ce!==null&&_.ce>r+d?_.ce:r+d,_.rs=_.rs!==null&&_.rs<c?_.rs:c,_.re=_.re!==null&&_.re>c+p?_.re:c+p,_._i+=1),_._i===2){u=!1,h=[],o=[],c=-1;break}}else if(s.getOverlapRangeAtIndex(_.cs,_.ce,r,r+d)&&s.getOverlapRangeAtIndex(_.rs,_.re,c,c+p)){let m=_.cs<r?_.cs:r,b=_.ce>r+d?_.ce:r+d,f=_.rs<c?_.rs:c,v=_.re>c+p?_.re:c+p;if(_.cs!==m||_.ce!==b||_.rs!==f||_.re!==v){_.cs=m,_.ce=b,_.rs=f,_.re=v,c=-1,h=[],o=[];break}s.addClass(l,"se-table-selected-cell")}p>0&&o.push({index:r,cs:d+1,rs:p,row:-1}),M+=l.colSpan-1}h=h.concat(o).sort(function(N,P){return N.index-P.index}),o=[]}},_removeEvents:function(){let e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){let i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");let n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,a=n.length;s<a;s++)this.util.removeClass(n[s],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;let i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),s=t.getAttribute("data-option"),a=this.plugins.table;if(typeof a._closeSplitMenu=="function"&&(a._closeSplitMenu(),i==="onsplit")||!i)return;e.preventDefault();let u=this.context.table;switch(i){case"insert":case"delete":a.editTable.call(this,n,s);break;case"header":a.toggleHeader.call(this);break;case"onsplit":a.openSplitMenu.call(this);break;case"split":a.splitCells.call(this,n);break;case"merge":a.mergeCells.call(this);break;case"resize":u._maxWidth=!u._maxWidth,a.setTableStyle.call(this,"width"),a.setPositionControllerTop.call(this,u._element),a.setPositionControllerDiv.call(this,u._tdElement,a._shift);break;case"layout":u._fixedColumn=!u._fixedColumn,a.setTableStyle.call(this,"column"),a.setPositionControllerTop.call(this,u._element),a.setPositionControllerDiv.call(this,u._tdElement,a._shift);break;case"remove":let h=u._element.parentNode;this.util.removeItem(u._element),this.controllersOff(),h!==this.context.element.wysiwyg&&this.util.removeItemAllParents(h,function(o){return o.childNodes.length===0},null),this.focus()}this.history.push(!1)}};var Bo={name:"formatBlock",display:"submenu",add:function(e,t){let i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.options,i=e.lang.toolbar,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";let s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],a=!t.formats||t.formats.length===0?s:t.formats,u='<div class="se-list-inner"><ul class="se-list-basic">';for(let h=0,o=a.length,_,c,g,k,M,N,P;h<o;h++)_=a[h],typeof _=="string"&&s.indexOf(_)>-1?(c=_.toLowerCase(),g=c==="blockquote"?"range":c==="pre"?"free":"replace",M=/^h/.test(c)?c.match(/\d+/)[0]:"",k=i["tag_"+(M?"h":c)]+M,P="",N=""):(c=_.tag.toLowerCase(),g=_.command,k=_.name||c,P=_.class,N=P?' class="'+P+'"':""),u+='<li><button type="button" class="se-btn-list" data-command="'+g+'" data-value="'+c+'" data-class="'+P+'" title="'+k+'" aria-label="'+k+'"><'+c+N+">"+k+"</"+c+"></button></li>";return u+="</ul></div>",n.innerHTML=u,n},active:function(e){let t=this.lang.toolbar.formats,i=this.context.formatBlock.targetText;if(!e)this.util.changeTxt(i,t);else if(this.util.isFormatElement(e)){let s=this.context.formatBlock._formatList,a=e.nodeName.toLowerCase(),u=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let h=0,o=s.length,_;h<o;h++)if(_=s[h],a===_.getAttribute("data-value")&&u===_.getAttribute("data-class")){t=_.title;break}return this.util.changeTxt(i,t),i.setAttribute("data-value",a),i.setAttribute("data-class",u),!0}return!1},on:function(){let e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let s=0,a=t.length,u;s<a;s++)u=t[s],n===u.getAttribute("data-value")+u.getAttribute("data-class")?this.util.addClass(u,"active"):this.util.removeClass(u,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,s=null,a="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),a=t.getAttribute("data-class"),i){s=t.firstChild;break}t=t.parentNode}if(i){if(i==="range"){let u=s.cloneNode(!1);this.applyRangeFormatElement(u)}else{let u=this.getRange(),h=this.getSelectedElementsAndComponents(!1);if(h.length===0&&(u=this.getRange_addLine(u,null),h=this.getSelectedElementsAndComponents(!1),h.length===0))return;let o=u.startOffset,_=u.endOffset,c=this.util,g=h[0],k=h[h.length-1],M=c.getNodePath(u.startContainer,g,null,null),N=c.getNodePath(u.endContainer,k,null,null),P=this.detachList(h,!1);P.sc&&(g=P.sc),P.ec&&(k=P.ec),this.setRange(c.getNodeFromPath(M,g),o,c.getNodeFromPath(N,k),_);let l=this.getSelectedElementsAndComponents(!1);if(i==="free"){let r=l.length-1,d=l[r].parentNode,p=s.cloneNode(!1),m=p;for(let b=r,f,v,x,C,S,R,L=!0;b>=0;b--)if(f=l[b],f!==(l[b+1]?l[b+1].parentNode:null)){if(R=c.isComponent(f),v=R?"":f.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),x=c.getParentElement(f,function(F){return F.parentNode===d}),(d!==f.parentNode||R)&&(c.isFormatElement(d)?(d.parentNode.insertBefore(p,d.nextSibling),d=d.parentNode):(d.insertBefore(p,x?x.nextSibling:null),d=f.parentNode),C=p.nextSibling,C&&p.nodeName===C.nodeName&&c.isSameAttributes(p,C)&&(p.innerHTML+="<BR>"+C.innerHTML,c.removeItem(C)),p=s.cloneNode(!1),L=!0),S=p.innerHTML,p.innerHTML=(L||!v||!S||/<br>$/i.test(v)?v:v+"<BR>")+S,b===0){d.insertBefore(p,f),C=f.nextSibling,C&&p.nodeName===C.nodeName&&c.isSameAttributes(p,C)&&(p.innerHTML+="<BR>"+C.innerHTML,c.removeItem(C));let F=p.previousSibling;F&&p.nodeName===F.nodeName&&c.isSameAttributes(p,F)&&(F.innerHTML+="<BR>"+p.innerHTML,c.removeItem(p))}R||c.removeItem(f),v&&(L=!1)}this.setRange(m,0,m,0)}else{for(let r=0,d=l.length,p,m;r<d;r++)p=l[r],(p.nodeName.toLowerCase()!==n.toLowerCase()||(p.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==a)&&!c.isComponent(p)&&(m=s.cloneNode(!1),c.copyFormatAttributes(m,p),m.innerHTML=p.innerHTML,p.parentNode.replaceChild(m,p)),r===0&&(g=m||p),r===d-1&&(k=m||p),m=null;this.setRange(c.getNodeFromPath(M,g),o,c.getNodeFromPath(N,k),_)}this.history.push(!1)}this.submenuOff()}}};var Oo={name:"lineHeight",display:"submenu",add:function(e,t){let i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer";let s=t.lineHeights?t.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}],a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let u=0,h=s.length,o;u<h;u++)o=s[u],a+='<li><button type="button" class="se-btn-list" data-value="'+o.value+'" title="'+o.text+'" aria-label="'+o.text+'">'+o.text+"</button></li>";return a+="</ul></div>",n.innerHTML=a,n},on:function(){let e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let s=0,a=t.length;s<a;s++)n===t[s].getAttribute("data-value")?this.util.addClass(t[s],"active"):this.util.removeClass(t[s],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,s=i.length;n<s;n++)i[n].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}};var Fo={name:"template",display:"submenu",add:function(e,t){let i=e.context;i.template={selectedIndex:-1};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.options.templates;if(!t||t.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');let i=e.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,a=t.length,u;s<a;s++)u=t[s],n+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+u.name+'" aria-label="'+u.name+'">'+u.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation(),this.context.template.selectedIndex=e.target.getAttribute("data-value")*1;let t=this.options.templates[this.context.template.selectedIndex];if(t.html)this.setContents(t.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}};var Ao={name:"paragraphStyle",display:"submenu",add:function(e,t){let i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";let n=e.lang.menu,s={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},a=!t.paragraphStyles||t.paragraphStyles.length===0?["spaced","bordered","neon"]:t.paragraphStyles,u='<div class="se-list-inner"><ul class="se-list-basic">';for(let h=0,o=a.length,_,c,g,k;h<o;h++){if(_=a[h],typeof _=="string"){let M=s[_.toLowerCase()];if(!M)continue;_=M}c=_.name,g=_.class?' class="'+_.class+'"':"",k=_._class,u+='<li><button type="button" class="se-btn-list'+(k?" "+k:"")+'" data-value="'+_.class+'" title="'+c+'" aria-label="'+c+'"><div'+g+">"+c+"</div></button></li>"}return u+="</ul></div>",i.innerHTML=u,i},on:function(){let t=this.context.paragraphStyle._classList,i=this.util.getFormatElement(this.getSelectionNode());for(let n=0,s=t.length;n<s;n++)this.util.hasClass(i,t[n].getAttribute("data-value"))?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(n.length===0&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),n.length===0))return;let s=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let a=0,u=n.length;a<u;a++)s(n[a],i);this.submenuOff(),this.history.push(!1)}};var Ro={name:"textStyle",display:"submenu",add:function(e,t){let i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";let n={code:{name:e.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:e.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:e.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=t.textStyles?t.textStyles:e._w.Object.keys(n),a='<div class="se-list-inner"><ul class="se-list-basic">';for(let u=0,h=s.length,o,_,c,g,k,M,N;u<h;u++){if(o=s[u],g="",M="",k=[],typeof o=="string"){let P=n[o.toLowerCase()];if(!P)continue;o=P}c=o.name,_=o.tag||"span",N=o._class,o.style&&(g+=' style="'+o.style+'"',M+=o.style.replace(/:[^;]+(;|$)\s*/g,","),k.push("style")),o.class&&(g+=' class="'+o.class+'"',M+="."+o.class.trim().replace(/\s+/g,",."),k.push("class")),M=M.replace(/,$/,""),a+='<li><button type="button" class="se-btn-list'+(N?" "+N:"")+'" data-command="'+_+'" data-value="'+M+'" title="'+c+'" aria-label="'+c+'"><'+_+g+">"+c+"</"+_+"></button></li>"}return a+="</ul></div>",i.innerHTML=a,i},on:function(){let e=this.util,i=this.context.textStyle._styleList,n=this.getSelectionNode();for(let s=0,a=i.length,u,h,o;s<a;s++){u=i[s],h=u.getAttribute("data-value").split(",");for(let _=0,c,g;_<h.length;_++){for(c=n,o=!1;c&&!e.isFormatElement(c)&&!e.isComponent(c);){if(c.nodeName.toLowerCase()===u.getAttribute("data-command").toLowerCase()&&(g=h[_],/^\./.test(g)?e.hasClass(c,g.replace(/^\./,"")):c.style[g])){o=!0;break}c=c.parentNode}if(!o)break}o?e.addClass(u,"active"):e.removeClass(u,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;let s=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();let a=n.classList;for(let o=0,_=a.length;o<_;o++)s.push("."+a[o]);let u=this.util.hasClass(t,"active")?null:n.cloneNode(!1),h=u?null:[n.nodeName];this.nodeChange(u,s,h,!0),this.submenuOff()}};var zo=Xe(ai());var Po={name:"selectMenu",add:function(e){e.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(e,t,i){e.form.innerHTML="<ul>"+i+"</ul>",e.items=t,e.menus=e.form.querySelectorAll("li")},initEvent:function(e,t){let i=t.querySelector(".se-select-list"),n=this.context.selectMenu.caller[e]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:e};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(e){e.preventDefault(),e.stopPropagation()},onMouseMove_list:function(e,t){this.util.addClass(e.form,"__se_select-menu-mouse-move");let i=t.target.getAttribute("data-index");i&&(e.index=i*1)},onClick_list:function(e,t){let i=t.target.getAttribute("data-index");i&&e.clickMethod.call(this,e.items[i])},moveItem:function(e,t){this.util.removeClass(e.form,"__se_select-menu-mouse-move"),t=e.index+t;let i=e.menus,n=i.length,s=e.index=t>=n?0:t<0?n-1:t;for(let a=0;a<n;a++)a===s?this.util.addClass(i[a],"active"):this.util.removeClass(i[a],"active");e.item=e.items[s]},getItem:function(e,t){return t=!t||t<0?e.index:t,e.items[t]},on:function(e,t){let i=this.context.selectMenu.caller[e];this.context.selectMenu.callerContext=i,i.clickMethod=t,i.callerName=e},open:function(e,t){let i=e.form;i.style.visibility="hidden",i.style.display="block",t(i),i.style.visibility=""},close:function(e){e.form.style.display="none",e.items=[],e.menus=[],e.index=-1,e.item=null},init:function(e){e&&(e.items=[],e.menus=[],e.index=-1,e.item=null,e.callerName="",this.context.selectMenu.callerContext=null)}};var On={name:"anchor",add:function(e){e.addModule([Po]),e.context.anchor={caller:{},forms:this.setDialogForm(e),host:(e._w.location.origin+e._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(e){let t=e.lang,i=e.options.linkRel,n=(e.options.linkRelDefault.default||"").split(" "),s=e.icons,a=e.util.createElement("DIV"),u='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(e.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+t.dialogBox.linkBox.bookmark+'" aria-label="'+t.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+e.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+t.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){u+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let h=0,o=i.length,_;h<o;h++)_=i[h],u+='<li><button type="button" class="se-btn-list'+(n.indexOf(_)>-1?" se-checked":"")+'" data-command="'+_+'" title="'+_+'" aria-label="'+_+'"><span class="se-svg">'+s.checked+"</span>"+_+"</button></li>";u+="</ul></div></div></div>"}return u+="</div></div>",a.innerHTML=u,a},initEvent:function(e,t){let i=this.plugins.anchor,n=this.context.anchor.caller[e]={modal:t,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:e};typeof n.linkDefaultRel.default=="string"&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),typeof n.linkDefaultRel.check_new_window=="string"&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),typeof n.linkDefaultRel.check_bookmark=="string"&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=t.querySelector(".se-input-url"),n.anchorText=t.querySelector("._se_anchor_text"),n.newWindowCheck=t.querySelector("._se_anchor_check"),n.downloadCheck=t.querySelector("._se_anchor_download"),n.download=t.querySelector("._se_anchor_download_icon"),n.preview=t.querySelector(".se-link-preview"),n.bookmark=t.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=t.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,e,t);let s=this.context.selectMenu.caller[e];this.options.linkRel.length>0&&(n.relButton=t.querySelector(".se-anchor-rel-btn"),n.relList=t.querySelector(".se-list-layer"),n.relPreview=t.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,s)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,s)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,s)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(e,t){let i=this.plugins.anchor;if(!t)i.init.call(this,e),e.anchorText.value=this.getSelection().toString().trim(),e.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(e.linkAnchor){this.context.dialog.updateModal=!0;let n=e.linkAnchor.getAttribute("href");e.linkValue=e.preview.textContent=e.urlInput.value=i.selfPathBookmark.call(this,n)?n.substr(n.lastIndexOf("#")):n,e.anchorText.value=e.linkAnchor.textContent,e.newWindowCheck.checked=!!/_blank/i.test(e.linkAnchor.target),e.downloadCheck.checked=e.linkAnchor.download}this.context.anchor.callerContext=e,i.setRel.call(this,e,t&&e.linkAnchor?e.linkAnchor.rel:e.defaultRel),i.setLinkPreview.call(this,e,e.linkValue),this.plugins.selectMenu.on.call(this,e.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(e){let t=this._w.location.href.replace(/\/$/,"");return e.indexOf("#")===0||e.indexOf(t)===0&&e.indexOf("#")===(t.indexOf("#")===-1?t.length:t.substr(0,t.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(e,t){if(!t)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{let i=e.relButton,n=e.relList;this.util.addClass(i,"active"),n.style.visibility="hidden",n.style.display="block",this.options.rtl?n.style.left=i.offsetLeft-n.offsetWidth-1+"px":n.style.left=i.offsetLeft+i.offsetWidth+1+"px",n.style.top=i.offsetTop+i.offsetHeight/2-n.offsetHeight/2+"px",n.style.visibility="",this.plugins.anchor._closeRelMenu=function(s,a,u){u&&(s.relButton.contains(u.target)||s.relList.contains(u.target))||(this.util.removeClass(a,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}.bind(this,e,i),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(e,t){this.plugins.anchor.toggleRelList.call(this,e,!this.util.hasClass(t.target,"active"))},onClick_relList:function(e,t){let i=t.target,n=i.getAttribute("data-command");if(!n)return;let s=e.currentRel,a=this.util.toggleClass(i,"se-checked"),u=s.indexOf(n);a?u===-1&&s.push(n):u>-1&&s.splice(u,1),e.relPreview.title=e.relPreview.textContent=s.join(" ")},setRel:function(e,t){let i=e.relList,n=e.currentRel=t?t.split(" "):[];if(!i)return;let s=i.querySelectorAll("button");for(let a=0,u=s.length,h;a<u;a++)h=s[a].getAttribute("data-command"),n.indexOf(h)>-1?this.util.addClass(s[a],"se-checked"):this.util.removeClass(s[a],"se-checked");e.relPreview.title=e.relPreview.textContent=n.join(" ")},createHeaderList:function(e,t,i){let n=this.util.getListChildren(this.context.element.wysiwyg,function(h){return/h[1-6]/i.test(h.nodeName)});if(n.length===0)return;let s=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),a=[],u="";for(let h=0,o=n.length,_;h<o;h++)_=n[h],s.test(_.textContent)&&(a.push(_),u+='<li class="se-select-item" data-index="'+h+'">'+_.textContent+"</li>");a.length===0?this.plugins.selectMenu.close.call(this,t):(this.plugins.selectMenu.createList(t,a,u),this.plugins.selectMenu.open.call(this,t,this.plugins.anchor._setMenuListPosition.bind(this,e)))},_setMenuListPosition:function(e,t){t.style.top=e.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(e,t){switch(t.keyCode){case 38:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,-1);break;case 40:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,1);break;case 13:e.index>-1&&(t.preventDefault(),t.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(e,null)));break}},setHeaderBookmark:function(e){let t=this.context.anchor.callerContext,i=e.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");e.id=i,t.urlInput.value="#"+i,(!t.anchorText.value.trim()||!t._change)&&(t.anchorText.value=e.textContent),this.plugins.anchor.setLinkPreview.call(this,t,t.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(e,t){e._change=!!t.target.value.trim()},onChangeUrlInput:function(e,t){let i=t.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,e,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(e,t){let i=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,e,t,i)},onBlurUrlInput:function(e){this.plugins.selectMenu.close.call(this,e)},setLinkPreview:function(e,t){let i=e.preview,n=this.options.linkProtocol,s=this.options.linkNoPrefix,a=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(t)||t.indexOf(n)===0,u=n?this._w.RegExp("^"+this.util.escapeStringRegexp(t.substr(0,n.length))).test(n):!1;t=e.linkValue=i.textContent=t?s?t:n&&!a&&!u?n+t:a?t:/^www\./.test(t)?"http://"+t:this.context.anchor.host+(/^\//.test(t)?"":"/")+t:"",this.plugins.anchor.selfPathBookmark.call(this,t)?(e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active")):(e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,t)&&e.downloadCheck.checked?e.download.style.display="block":e.download.style.display="none"},setCtx:function(e,t){e&&(t.linkAnchor=e,t.linkValue=e.href,t.currentRel=e.rel.split(" "))},updateAnchor:function(e,t,i,n,s){!this.plugins.anchor.selfPathBookmark.call(this,t)&&n.downloadCheck.checked?e.setAttribute("download",i||t):e.removeAttribute("download"),n.newWindowCheck.checked?e.target="_blank":e.removeAttribute("target");let a=n.currentRel.join(" ");a?e.rel=a:e.removeAttribute("rel"),e.href=t,s?e.children.length===0&&(e.textContent=""):e.textContent=i},createAnchor:function(e,t){if(e.linkValue.length===0)return null;let i=e.linkValue,n=e.anchorText,s=n.value.length===0?i:n.value,a=e.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,a,i,s,e,t),e.linkValue=e.preview.textContent=e.urlInput.value=e.anchorText.value="",a},onClick_bookmarkButton:function(e){let t=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,t)?(t=t.substr(1),e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(t="#"+t,e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active"),e.downloadCheck.checked=!1,e.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,t)),e.urlInput.value=t,this.plugins.anchor.setLinkPreview.call(this,e,t),e.urlInput.focus()},onChange_newWindowCheck:function(e,t){typeof e.linkDefaultRel.check_new_window=="string"&&(t.target.checked?this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(e,t){t.target.checked?(e.download.style.display="block",e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),e.linkValue=e.preview.textContent=e.urlInput.value=e.urlInput.value.replace(/^\#+/,""),typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_bookmark))):(e.download.style.display="none",typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_bookmark)))},_relMerge:function(e,t){let i=e.currentRel;if(!t)return i.join(" ");if(/^only\:/.test(t))return t=t.replace(/^only\:/,"").trim(),e.currentRel=t.split(" "),t;let n=t.split(" ");for(let s=0,a=n.length,u;s<a;s++)u=i.indexOf(n[s]),u===-1&&i.push(n[s]);return i.join(" ")},_relDelete:function(e,t){if(!t)return e.currentRel.join(" ");/^only\:/.test(t)&&(t=t.replace(/^only\:/,"").trim());let i=e.currentRel.join(" ").replace(this._w.RegExp(t+"\\s*"),"");return e.currentRel=i.split(" "),i},init:function(e){e.linkAnchor=null,e.linkValue=e.preview.textContent=e.urlInput.value="",e.anchorText.value="",e.newWindowCheck.checked=!1,e.downloadCheck.checked=!1,e._change=!1,this.plugins.anchor.setRel.call(this,e,e.defaultRel),e.relList&&this.plugins.anchor.toggleRelList.call(this,e,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}};var Vo={name:"link",display:"dialog",add:function(e){e.addModule([zo.default,On]);let t=e.context,i=t.link={focusElement:null,_linkAnchor:null,anchorCtx:null},n=this.setDialog(e);i.modal=n;let s=this.setController_LinkButton(e);i.linkController=s,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),s.addEventListener("click",this.onClick_linkController.bind(e)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(s),e.plugins.anchor.initEvent.call(e,"link",n),i.focusElement=t.anchor.caller.link.urlInput,n=null,s=null},setDialog:function(e){let t=e.lang,i=e.util.createElement("DIV"),n=e.icons;i.className="se-dialog-content",i.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+t.dialogBox.linkBox.title+"</span></div>"+e.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=s,i},setController_LinkButton:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();try{let t=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(t===null)return;if(this.context.dialog.updateModal){let i=this.context.link._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{let i=this.getSelectedElements();if(i.length>1){let n=this.util.createElement(i[0].nodeName);if(n.appendChild(t),!this.insertNode(n,null,!0))return}else if(!this.insertNode(t,null,!0))return;this.setRange(t.childNodes[0],0,t.childNodes[0],t.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(e)&&e.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0;return!1},on:function(e){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,e)},call_controller:function(e){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=e;let t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent,this.util.addClass(e,"on"),this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(t)){let i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(i,0,n,n.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var $o=Xe(ai());var Zo=Xe(An()),Yo=Xe(es()),Qo=Xe(Pn()),jo={name:"image",display:"dialog",add:function(e){e.addModule([$o.default,On,Zo.default,Yo.default,Qo.default]);let t=e.options,i=e.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:t.imageWidth==="auto"?"":t.imageWidth,_origin_h:t.imageHeight==="auto"?"":t.imageHeight,_proportionChecked:!0,_resizing:t.imageResizing,_resizeDotHide:!t.imageHeightShow,_rotation:t.imageRotation,_alignHide:!t.imageAlignShow,_onlyPercentage:t.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null},s=this.setDialog(e);n.modal=s,n.imgInputFile=s.querySelector("._se_image_file"),n.imgUrlFile=s.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=s.querySelector("._se_image_alt"),n.captionCheckEl=s.querySelector("._se_image_check_caption"),n.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,t.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));let a=s.querySelector(".__se__gallery");a&&a.addEventListener("click",this._openGallery.bind(e)),n.proportion={},n.inputX={},n.inputY={},t.imageResizing&&(n.proportion=s.querySelector("._se_image_check_proportion"),n.inputX=s.querySelector("._se_image_size_x"),n.inputY=s.querySelector("._se_image_size_y"),n.inputX.value=t.imageWidth,n.inputY.value=t.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(s),e.plugins.anchor.initEvent.call(e,"image",s.querySelector("._se_tab_content_url")),n.anchorCtx=e.context.anchor.caller.image,s=null},setDialog:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(t.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+t.imageAccept+'"'+(t.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(t.imageGalleryUrl&&e.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+e.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',t.imageResizing){let a=t.imageSizeOnlyPercentage,u=a?' style="display: none !important;"':"",h=t.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',a||!t.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(a?' type="number" min="1"':'type="text"')+(a?' max="100"':"")+' /><label class="se-dialog-size-x"'+h+">"+(a?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+u+(a?' max="100"':"")+h+"/><label"+u+h+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+e.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(t.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.getAttribute("data-value")||e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){let n=i.target.value.trim();e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){let t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=t.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(t,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling,a=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),a!==this.context.element.wysiwyg&&this.util.removeItemAllParents(a,function(u){return u.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){let t=this.context.image;e?t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=t._origin_h=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,t.anchorCtx,e)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(e){let t=this.context.image.modal,i=e==="init"?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;let n=i.getAttribute("data-tab-link"),s="_se_tab_content",a,u,h;for(u=t.getElementsByClassName(s),a=0;a<u.length;a++)u[a].style.display="none";for(h=t.getElementsByClassName("_se_tab_link"),a=0;a<h.length;a++)this.util.removeClass(h[a],"active");return t.querySelector("."+s+"_"+n).style.display="block",this.util.addClass(i,"active"),n==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():n==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(e){let t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,t._v_src._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let h=0,o=e.length;h<o;h++)/image/i.test(e[h].type)&&(i.push(e[h]),t+=e[h].size);let n=this.options.imageUploadSizeLimit;if(n>0){let h=0,o=this.context.image._infoList;for(let _=0,c=o.length;_<c;_++)h+=o[_].size*1;if(t+h>n){this.closeLoading();let _="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(_,{limitSize:n,currentSize:h,uploadSize:t},this))&&this.functions.noticeOpen(_);return}}let s=this.context.image;s._uploadFileLength=i.length;let u={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){let h=this.functions.onImageUploadBefore(i,u,this,function(o){o&&this._w.Array.isArray(o.result)?this.plugins.image.register.call(this,u,o):this.plugins.image.upload.call(this,u,o)}.bind(this));if(typeof h>"u")return;if(!h){this.closeLoading();return}this._w.Array.isArray(h)&&h.length>0&&(i=h)}this.plugins.image.upload.call(this,u,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.image.error.call(this,t,null);return}let i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(typeof i=="string"&&i.length>0){let s=new FormData;for(let a=0;a<n;a++)s.append("file-"+a,t[a]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.anchor,e.inputWidth,e.inputHeight,e.align,e.alt,n,e.isUpdate)},callBack_imgUpload:function(e,t){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(t,e,this);else{let i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){let i=t.result;for(let n=0,s=i.length,a;n<s;n++)if(a={name:i[n].name,size:i[n].size},e.isUpdate){this.plugins.image.update_src.call(this,i[n].url,e.element,a);break}else this.plugins.image.create_image.call(this,i[n].url,e.anchor,e.inputWidth,e.inputHeight,e.align,a,e.alt);this.closeLoading()},setup_reader:function(e,t,i,n,s,a,u,h){try{if(u===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=u;let o=this._w.FileReader,_=[u];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let c=0,g,k;c<u;c++)g=new o,k=e[c],g.onload=function(M,N,P,l,r){_[r]={result:M.result,file:l},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,N,_,P,t,i,n,s,a),this.closeLoading())}.bind(this,g,h,this.context.image._element,k,c),g.readAsDataURL(k)}catch(o){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+o.message+'"')}},onRender_imgBase64:function(e,t,i,n,s,a,u,h){let o=this.plugins.image.update_src,_=this.plugins.image.create_image;for(let c=0,g=t.length;c<g;c++)e?(this.context.image._element.setAttribute("data-file-name",t[c].file.name),this.context.image._element.setAttribute("data-file-size",t[c].file.size),o.call(this,t[c].result,i,t[c].file)):_.call(this,t[c].result,n,s,a,u,t[c].file,h)},onRender_imgUrl:function(e){if(e||(e=this.context.image._v_src._linkValue),!e)return!1;let t=this.context.image;try{let i={name:e.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e,t._element,i):this.plugins.image.create_image.call(this,e,this.plugins.anchor.createAnchor.call(this,t.anchorCtx,!0),t.inputX.value,t.inputY.value,t._align,i,t._altText)}catch(i){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+i.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t){return t?(t.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t.href),t.appendChild(e),t):e},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){let e=this.plugins.image,t=this.context.image,i=function(n){e.onModifyMode.call(this,n,null),e.openModify.call(this,!0),t.inputX.value=t._origin_w,t.inputY.value=t._origin_h;let s=this.util.getFormatElement(n);s&&(t._align=s.style.textAlign||s.style.float),this.util.isAnchor(n.parentNode)&&!t.anchorCtx.linkValue&&(t.anchorCtx.linkValue=" "),e.update_image.call(this,!0,!1,!0),e.init.call(this)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,s,a,u){let h=this.plugins.image,o=this.context.image;this.context.resizing._resize_plugin="image";let _=this.util.createElement("IMG");_.src=e,_.alt=u,_.setAttribute("data-rotate","0"),t=h.onRender_link.call(this,_,t?t.cloneNode(!1):null),o._resizing&&_.setAttribute("data-proportion",o._proportionChecked);let c=this.plugins.component.set_cover.call(this,t),g=this.plugins.component.set_container.call(this,c,"se-image-container");o._captionChecked&&(o._caption=this.plugins.component.create_caption.call(this),c.appendChild(o._caption)),o._element=_,o._cover=c,o._container=g,h.applySize.call(this,i,n),h.setAlign.call(this,s,_,c,g),_.onload=h._image_create_onload.bind(this,_,o.svgDefaultSize,g),this.insertComponent(g,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",_,this.functions.onImageUpload,a,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t,i){if(e.offsetWidth===0&&this.plugins.image.applySize.call(this,t,""),this.options.mediaAutoSelect)this.selectComponent(e,"image");else{let n=this.appendFormatTag(i,null);n&&this.setRange(n,0,n,0)}this.history.push(!1)},update_image:function(e,t,i){let n=this.context.image,s=n._element,a=n._cover,u=n._container,h=!1;a===null&&(h=!0,s=n._element.cloneNode(!0),a=this.plugins.component.set_cover.call(this,s)),u===null?(a=a.cloneNode(!0),s=a.querySelector("img"),h=!0,u=this.plugins.component.set_container.call(this,a,"se-image-container")):h&&(u.innerHTML="",u.appendChild(a),n._cover=a,n._element=s,h=!1);let o,_=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,c=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;/%$/.test(s.style.width)?o=_!==u.style.width||c!==u.style.height:o=_!==s.style.width||c!==s.style.height,s.alt=n._altText;let g=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),a.appendChild(n._caption),g=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,g=!0);let k=null,M=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(M)n._linkElement!==M||h&&!u.contains(M)?(n._linkElement=M.cloneNode(!1),a.insertBefore(this.plugins.image.onRender_link.call(this,s,n._linkElement),n._caption),k=n._element):n._linkElement.setAttribute("data-image-link","image");else if(n._linkElement!==null){let P=s;if(P.setAttribute("data-image-link",""),a.contains(n._linkElement)){let l=P.cloneNode(!0);a.removeChild(n._linkElement),a.insertBefore(l,n._caption),n._element=s=l}}let N=null;if(h){if(N=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:this.util.isAnchor(n._element.parentNode)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))N=k?M:n._element,N.parentNode.replaceChild(u,N);else if(this.util.isListCell(N)){let P=this.util.getParentElement(n._element,function(l){return l.parentNode===N});N.insertBefore(u,P),this.util.removeItem(n._element),this.util.removeEmptyNode(P,null,!0)}else if(this.util.isFormatElement(N)){let P=this.util.getParentElement(n._element,function(l){return l.parentNode===N});N=this.util.splitElement(N,P),N.parentNode.insertBefore(u,N),this.util.removeItem(n._element),this.util.removeEmptyNode(N,null,!0),N.children.length===0&&(N.innerHTML=this.util.htmlRemoveWhiteSpace(N.innerHTML))}else if(this.util.isFormatElement(N.parentNode)){let P=N.parentNode;P.parentNode.insertBefore(u,N.previousSibling?P.nextElementSibling:P),n.__updateTags.map(function(l){return N.contains(l)}).length===0&&this.util.removeItem(N)}else N=this.util.isFigures(N.parentNode)?N.parentNode:N,N.parentNode.replaceChild(u,N);s=u.querySelector("img"),n._element=s,n._cover=a,n._container=u}k&&(h?(this.util.removeItem(k),this.util.getListChildren(M,function(P){return/IMG/i.test(P.tagName)}).length===0&&this.util.removeItem(M)):this.util.removeItem(M)),(g||!n._onlyPercentage&&o)&&!e&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),o&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),t&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;let i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(e.parentNode)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.getAttribute("data-align")||e.style.float||"none",e.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,a;n?(n=n.split(","),s=n[0],a=n[1]):t&&(s=t.w,a=t.h),i._origin_w=s||e.style.width||e.width||"",i._origin_h=a||e.style.height||e.height||""},openModify:function(e){let t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,(t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(e,t){let i=this.context.image;return e||(e=i.inputX.value||this.options.imageWidth),t||(t=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,e,t,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(e,t,i,n){let s=this.context.image,a=/^(rw|lw)$/.test(n)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(e)?e+s.sizeUnit:e,this.plugins.image.cancelPercentAttr.call(this)),a||(s._element.style.height=this.util.isNumber(t)?t+s.sizeUnit:/%$/.test(t)?"":t),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){let e=this.context.image;e._caption&&(e._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){let e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);let t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){let i=this.context.image;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+i.sizeUnit:t||"";let n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="",i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){let e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){let s=this.context.image;e||(e=s._align),t||(t=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(t.style.width)&&e==="center"?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:!t.style.width||t.style.width==="auto"?"":t.style.width||"100%"),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){let e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1),this.plugins.anchor.init.call(this,e.anchorCtx)}};var Go=Xe(ai()),Xo=Xe(An()),Ko=Xe(es()),Jo=Xe(Pn()),el={name:"video",display:"dialog",add:function(e){e.addModule([Go.default,Xo.default,Ko.default,Jo.default]);let t=e.options,i=e.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.youtubeQuery,_vimeoQuery:t.vimeoQuery,_videoRatio:t.videoRatio*100+"%",_defaultRatio:t.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:t.videoRatio*100+"%",_origin_w:t.videoWidth==="100%"?"":t.videoWidth,_origin_h:t.videoHeight==="56.25%"?"":t.videoHeight,_proportionChecked:!0,_resizing:t.videoResizing,_resizeDotHide:!t.videoHeightShow,_rotation:t.videoRotation,_alignHide:!t.videoAlignShow,_onlyPercentage:t.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1},s=this.setDialog(e);n.modal=s,n.videoInputFile=s.querySelector("._se_video_file"),n.videoUrlFile=s.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,t.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},t.videoResizing&&(n.proportion=s.querySelector("._se_video_check_proportion"),n.videoRatioOption=s.querySelector(".se-video-ratio"),n.inputX=s.querySelector("._se_video_size_x"),n.inputY=s.querySelector("._se_video_size_y"),n.inputX.value=t.videoWidth,n.inputY.value=t.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(s),s=null},setDialog:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(t.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+t.videoAccept+'"'+(t.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),t.videoResizing){let a=t.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],u=t.videoRatio,h=t.videoSizeOnlyPercentage,o=h?' style="display: none !important;"':"",_=t.videoHeightShow?"":' style="display: none !important;"',c=t.videoRatioShow?"":' style="display: none !important;"',g=!h&&!t.videoHeightShow&&!t.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+_+">"+i.dialogBox.height+'</label><label class="size-h"'+c+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(h?' type="number" min="1"':'type="text"')+(h?' max="100"':"")+'/><label class="se-dialog-size-x"'+g+">"+(h?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+t.videoRatio*100+'%"'+(h?' type="number" min="1"':'type="text"')+(h?' max="100"':"")+_+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+c+">",_||(s+='<option value=""> - </option>');for(let k=0,M=a.length;k<M;k++)s+='<option value="'+a[k].value+'"'+(u.toString()===a[k].value.toString()?" selected":"")+">"+a[k].name+"</option>";s+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+o+g+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(t.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){let n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);let t=this.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){let e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;let t=this.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){let e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){let t=e||this.context.video._element,i=this.context.video._container,n=t.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(t,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling,a=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),a!==this.context.element.wysiwyg&&this.util.removeItemAllParents(a,function(u){return u.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){let t=this.context.video;e?t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=t._origin_h=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(e){let t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?i*100+"%":t._defaultSizeY,t.inputY.placeholder=i?i*100+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}let i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),e==="y"&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){let t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,t._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let u=0,h=e.length;u<h;u++)/video/i.test(e[u].type)&&(i.push(e[u]),t+=e[u].size);let n=this.options.videoUploadSizeLimit;if(n>0){let u=0,h=this.context.video._infoList;for(let o=0,_=h.length;o<_;o++)u+=h[o].size*1;if(t+u>n){this.closeLoading();let o="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(o,{limitSize:n,currentSize:u,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}let s=this.context.video;s._uploadFileLength=i.length;let a={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){let u=this.functions.onVideoUploadBefore(i,a,this,function(h){h&&this._w.Array.isArray(h.result)?this.plugins.video.register.call(this,a,h):this.plugins.video.upload.call(this,a,h)}.bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}typeof u=="object"&&u.length>0&&(i=u)}this.plugins.video.upload.call(this,a,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.video.error.call(this,t,null);return}let i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(typeof i=="string"&&i.length>0){let s=new FormData;for(let a=0;a<n;a++)s.append("file-"+a,t[a]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(e,t){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(t,e,this);else{let i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){let i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let s=0,a=i.length,u;s<a;s++)u={name:i[s].name,size:i[s].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[s].url,e.inputWidth,e.inputHeight,e.align,u,e.isUpdate);this.closeLoading()},setup_url:function(e){try{let t=this.context.video;if(e||(e=t._linkValue),!e||/^<iframe.*\/iframe>$/.test(e)&&(e=new this._w.DOMParser().parseFromString(e,"text/html").querySelector("iframe").src,e.length===0))return!1;if(/youtu\.?be/.test(e)){if(/^http/.test(e)||(e="https://"+e),e=e.replace("watch?v=",""),/^\/\/.+\/embed\//.test(e)||(e=e.replace(e.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),t._youtubeQuery.length>0)if(/\?/.test(e)){let i=e.split("?");e=i[0]+"?"+t._youtubeQuery+"&"+i[1]}else e+="?"+t._youtubeQuery}else if(/vimeo\.com/.test(e)&&(e.endsWith("/")&&(e=e.slice(0,-1)),e="https://player.vimeo.com/video/"+e.slice(e.lastIndexOf("/")+1),t._vimeoQuery.length>0))if(/\?/.test(e)){let i=e.split("?");e=i[0]+"?"+t._vimeoQuery+"&"+i[1]}else e+="?"+t._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(e)&&!/vimeo\.com/.test(e)?"createVideoTag":"createIframeTag"].call(this),e,t.inputX.value,t.inputY.value,t._align,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,s,a,u){this.context.resizing._resize_plugin="video";let h=this.context.video,o=null,_=null,c=!1;if(u){if(e=h._element,e.src!==t){c=!0;let P=/youtu\.?be/.test(t),l=/vimeo\.com/.test(t);if((P||l)&&!/^iframe$/i.test(e.nodeName)){let r=this.plugins.video.createIframeTag.call(this);r.src=t,e.parentNode.replaceChild(r,e),h._element=e=r}else if(!P&&!l&&!/^video$/i.test(e.nodeName)){let r=this.plugins.video.createVideoTag.call(this);r.src=t,e.parentNode.replaceChild(r,e),h._element=e=r}else e.src=t}_=h._container,o=this.util.getParentElement(e,"FIGURE")}else c=!0,e.src=t,h._element=e,o=this.plugins.component.set_cover.call(this,e),_=this.plugins.component.set_container.call(this,o,"se-video-container");h._cover=o,h._container=_;let g=this.plugins.resizing._module_getSizeX.call(this,h)!==(i||h._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,h)!==(n||h._videoRatio),k=!u||g;h._resizing&&(this.context.video._proportionChecked=h.proportion.checked,e.setAttribute("data-proportion",h._proportionChecked));let M=!1;k&&(M=this.plugins.video.applySize.call(this)),M&&s==="center"||this.plugins.video.setAlign.call(this,null,e,o,_);let N=!0;if(u)h._resizing&&this.context.resizing._rotateVertical&&k&&this.plugins.resizing.setTransformSize.call(this,e,null,null);else if(N=this.insertComponent(_,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){let P=this.appendFormatTag(_,null);P&&this.setRange(P,0,P,0)}N&&(c&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,a,!0),u&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;let t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,n=e;t._element=e=e.cloneNode(!0);let s=t._cover=this.plugins.component.set_cover.call(this,e),a=t._container=this.plugins.component.set_container.call(this,s,"se-video-container");try{let u=i.querySelector("figcaption"),h=null;u&&(h=this.util.createElement("DIV"),h.innerHTML=u.innerHTML,this.util.removeItem(u));let o=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,o[0]||n.style.width||n.width||"",o[1]||n.style.height||n.height||"");let _=this.util.getFormatElement(n);if(_&&(t._align=_.style.textAlign||_.style.float),this.plugins.video.setAlign.call(this,null,e,s,a),this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(a,n);else if(this.util.isListCell(i)){let c=this.util.getParentElement(n,function(g){return g.parentNode===i});i.insertBefore(a,c),this.util.removeItem(n),this.util.removeEmptyNode(c,null,!0)}else if(this.util.isFormatElement(i)){let c=this.util.getParentElement(n,function(g){return g.parentNode===i});i=this.util.splitElement(i,c),i.parentNode.insertBefore(a,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),i.children.length===0&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(a,i);h&&i.parentNode.insertBefore(h,a.nextElementSibling)}catch(u){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(e,t){let i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,a;n?(n=n.split(","),s=n[0],a=n[1]):t&&(s=t.w,a=t.h),i._origin_w=s||e.style.width||e.width||"",i._origin_h=a||e.style.height||e.height||""},openModify:function(e){let t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),(t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);let i=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,i)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(i,2):i)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1,i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||e*1>=1)&&(e=""),i.inputY.placeholder="";for(let s=0,a=n.length;s<a;s++)n[s].value===e?(t=n[s].selected=!0,i.inputY.placeholder=e?e*100+"%":""):n[s].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(e,t){let i=this.context.video;return e||(e=i.inputX.value||this.options.videoWidth),t||(t=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(e,t,i,n){let s=this.context.video,a=/^(rw|lw)$/.test(n),u=/^(th|bh)$/.test(n);u||(e=this.util.getNumber(e,0)),a||(t=this.util.isNumber(t)?t+s.sizeUnit:t||""),e=e?e+s.sizeUnit:"",u||(s._element.style.width=e),a||(s._cover.style.paddingBottom=s._cover.style.height=t),!u&&!/%$/.test(e)&&(s._cover.style.width=e,s._container.style.width=""),!a&&!/%$/.test(t)?s._element.style.height=t:s._element.style.height="",i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){let t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);let i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){let n=i[0],s=i[1];t._onlyPercentage||/%$/.test(n)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,n,s):this.plugins.video.setSize.call(this,n,s),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){let i=this.context.video;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="",i._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){let e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){let s=this.context.video;e||(e=s._align),t||(t=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(t.style.width)&&e==="center"?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){let e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.options.videoWidth,e._origin_h=this.options.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}};var tl=Xe(ai()),il=Xe(An()),nl=Xe(Pn()),sl={name:"audio",display:"dialog",add:function(e){e.addModule([tl.default,il.default,nl.default]);let t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:e.options.audioWidth,_origin_h:e.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null},n=this.setDialog(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let s=this.setController(e);i.controller=s,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),s.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,e.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(s),n=null,s=null},setDialog:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return t.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+t.audioAccept+'"'+(t.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},setController:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){let e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);let t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);let t=this.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){let n=i.target.value.trim();e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;let t=this.util.getParentElement(e,this.util.isComponent)||e,i=e.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(e,t,i,this)===!1)return;let n=t.previousElementSibling||t.nextElementSibling,s=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(a){return a.childNodes.length===0},null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){let t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(e){let t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let u=0,h=e.length;u<h;u++)/audio/i.test(e[u].type)&&(i.push(e[u]),t+=e[u].size);let n=this.options.audioUploadSizeLimit;if(n>0){let u=0,h=this.context.audio._infoList;for(let o=0,_=h.length;o<_;o++)u+=h[o].size*1;if(t+u>n){this.closeLoading();let o="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(o,{limitSize:n,currentSize:u,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}let s=this.context.audio;s._uploadFileLength=i.length;let a={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){let u=this.functions.onAudioUploadBefore(i,a,this,function(h){h&&this._w.Array.isArray(h.result)?this.plugins.audio.register.call(this,a,h):this.plugins.audio.upload.call(this,a,h)}.bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}typeof u=="object"&&u.length>0&&(i=u)}this.plugins.audio.upload.call(this,a,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.audio.error.call(this,t,null);return}let i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,s=new FormData;for(let a=0;a<n;a++)s.append("file-"+a,t[a]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(t,e,this);else{let i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){let i=t.result;for(let n=0,s=i.length,a,u;n<s;n++)e.isUpdate?u=e.element:u=this.plugins.audio._createAudioTag.call(this),a={name:i[n].name,size:i[n].size},this.plugins.audio.create_audio.call(this,u,i[n].url,a,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(e.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){let s=this.context.audio;if(n)if(s._element&&(e=s._element),e&&e.src!==t)e.src=t,this.selectComponent(e,"audio");else{this.selectComponent(e,"audio");return}else{e.src=t;let a=this.plugins.component.set_cover.call(this,e),u=this.plugins.component.set_container.call(this,a,"");if(!this.insertComponent(u,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){let h=this.appendFormatTag(u,null);h&&this.setRange(h,0,h,0)}}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(e){let t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,n=e;t._element=e=e.cloneNode(!1);let s=this.plugins.component.set_cover.call(this,e),a=this.plugins.component.set_container.call(this,s,"se-audio-container");try{if(this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(a,n);else if(this.util.isListCell(i)){let u=this.util.getParentElement(n,function(h){return h.parentNode===i});i.insertBefore(a,u),this.util.removeItem(n),this.util.removeEmptyNode(u,null,!0)}else if(this.util.isFormatElement(i)){let u=this.util.getParentElement(n,function(h){return h.parentNode===i});i=this.util.splitElement(i,u),i.parentNode.insertBefore(a,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),i.children.length===0&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(a,i)}catch(u){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(e){let t=this.context.audio;this.setControllerPosition(t.controller,e,"bottom",{left:0,top:0}),this.controllersOn(t.controller,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){let t=this.context.audio;t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;let e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}};var ll=Xe(ai()),ol="https://katex.org/docs/supported.html",rl={name:"math",display:"dialog",add:function(e){e.addModule([ll.default]);let t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener("paste",function(s){typeof e.functions.onPasteMath=="function"&&e.functions.onPasteMath(s,e)},!1),t.math.focusElement.addEventListener(e.util.isIE?"textinput":"input",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",function(s){this.fontSize=s.target.value}.bind(t.math.previewElement.style),!1);let n=this.setController_MathButton(e);t.math.mathController=n,t.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.math.previewElement.style.fontSize=t.math.defaultFontSize,t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(e){let t=e.lang,i=e.util.createElement("DIV"),n=e.options.mathFontSize,s=n[0].value;i.className="se-dialog-content",i.style.display="none";let a='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.inputLabel+' (<a href="'+ol+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let u=0,h=n.length,o;u<h;u++)o=n[u],o.default&&(s=o.value),a+='<option value="'+o.value+'"'+(o.default?" selected":"")+">"+o.text+"</option>";return a+='</select></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",e.context.math.defaultFontSize=s,i.innerHTML=a,i},setController_MathButton:function(e){let t=e.lang,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+e.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+e.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp")||!this.options.katex)return;let t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML,e.setAttribute("contenteditable",!1)}}},_renderer:function(e){let t="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),t=this.options.katex.src.renderToString(e,{throwOnError:!0,displayMode:!0})}catch(i){this.util.addClass(this.context.math.focusElement,"se-error"),t='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+ol+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",i)}return t},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();let t=function(){if(this.context.math.focusElement.value.trim().length===0)return!1;let i=this.context.math,n=i.focusElement.value,s=i.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(n)),s.setAttribute("data-font-size",i.fontSizeElement.value),s.style.fontSize=i.fontSizeElement.value,this.context.dialog.updateModal){let a=this.util.getParentElement(i._mathExp,".katex");a.parentNode.replaceChild(s,a),this.setRange(s,0,s,1)}else{let a=this.getSelectedElements();if(a.length>1){let h=this.util.createElement(a[0].nodeName);if(h.appendChild(s),!this.insertNode(h,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;let u=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(u,s.nextSibling),this.setRange(s,0,s,1)}return i.focusElement.value="",i.fontSizeElement.value="1em",i.previewElement.style.fontSize="1em",i.previewElement.innerHTML="",!0}.bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0;return!1},on:function(e){if(!e)this.plugins.math.init.call(this);else{let t=this.context.math;if(t._mathExp){let i=this.util.HTMLDecoder(t._mathExp.getAttribute("data-exp")),n=t._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,t.focusElement.value=i,t.fontSizeElement.value=n,t.previewElement.innerHTML=this.plugins.math._renderer.call(this,i),t.previewElement.style.fontSize=n}}},call_controller:function(e){this.context.math._mathExp=e;let t=this.context.math.mathController;this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){let e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}};var ul=Xe(cl()),dl={name:"imageGallery",add:function(e){e.addModule([ul.default]);let t=e.context;t.imageGallery={title:e.lang.toolbar.imageGallery,directData:e.options.imageGalleryData,url:e.options.imageGalleryUrl,header:e.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){let t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(e.thumbnail||e.src)+'" alt="'+(e.alt||t)+'" data-command="pick" data-value="'+(e.src||e.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e,t){this.callPlugin("image",function(){let i={name:t,size:0};this.plugins.image.create_image.call(this,e.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,e.alt)}.bind(this),null)}};var hl={blockquote:To,align:So,font:ko,fontSize:Eo,fontColor:Lo,hiliteColor:Mo,horizontalRule:Do,list:Io,table:No,formatBlock:Bo,lineHeight:Oo,template:Fo,paragraphStyle:Ao,textStyle:Ro,link:Vo,image:jo,video:el,audio:sl,math:rl,imageGallery:dl};var fc=["inputForWysiwyg"];function gc(e,t){if(e&1&&(H(0,"label",8),J(1),ee(2,"transloco"),H(3,"span",9),J(4,"*"),U()()),e&2){let i=ae();ie("htmlFor",i.componentId()),I(),se(" ",ce(2,3,i.componentLabel())," "),I(2),ie("hidden",!i._isRequired())}}function bc(e,t){if(e&1&&(H(0,"small",10),J(1),ee(2,"transloco"),U()),e&2){let i=ae();ie("hidden",i._showSuccess()||i._showErrors()),I(),se(" ",ce(2,2,i.helpMessage())," ")}}var ts=(()=>{class e extends Mt{constructor(){super(...arguments),this._inputForWysiwyg=Ee("inputForWysiwyg"),this.minHeight=ne("200px"),this.font=ne(!0),this.fontSize=ne(!0),this.formatBlock=ne(!0),this.paragraphStyle=ne(!0),this.blockquote=ne(!0),this.bold=ne(!0),this.underline=ne(!0),this.italic=ne(!0),this.strike=ne(!0),this.fontColor=ne(!0),this.highlightColor=ne(!0),this.textStyle=ne(!0),this.removeFormat=ne(!0),this.align=ne(!0),this.list=ne(!0),this.table=ne(!0),this.link=ne(!0),this.image=ne(!0),this.fullScreen=ne(!0),this.showBlocks=ne(!0),this.onImageUploadError=ne(),this.onFileDrop=ne(),this.wysiwygOptions=ne(void 0),this._sunEditorWysiwygInstance=he(void 0),this._sunEditorWysiwygInstance$=Ke(this._sunEditorWysiwygInstance),this.changeDetectorRef=he(Te(ki)),this._generateSunEditorWysiwygEffect=yt(()=>{try{let i=this._inputForWysiwyg()?.nativeElement;if(i){let n=ct({plugins:hl,defaultTag:"div",buttonList:this._ngControl()?.control?.enabled&&!this.isReadonly()?[this.getButtonList()]:[],minHeight:this.minHeight(),width:"100%"},this.wysiwygOptions()??{}),s=this._sunEditorWysiwygInstance(),a=this._ngControl();s?(a?.control?.enabled&&s.enable(),s.setOptions(n)):(s=xo.create(i,n),this._sunEditorWysiwygInstance.set(s));let u=this.onImageUploadError(),h=this.onFileDrop();u&&s&&(s.onImageUploadError=u),h&&s&&(s.onDrop=h),this.registerEvents()}}catch{}}),this.STRIP_HTML_REGEX=/<[^>]*>/g}registerEvents(){let i=this._sunEditorWysiwygInstance();i&&(i.onChange=n=>{this.onChangedHandler(n),this.changeDetectorRef().markForCheck()},i.onBlur=()=>{this.onBlurHandler()},this._isDisabled()&&i.disable())}writeValue(i){super.writeValue(i),this._sunEditorWysiwygInstance$.pipe(He(this.destroyRef),os(n=>!!n),ls(1)).subscribe(n=>{if(n)try{n.setContents(i)}catch{}})}validate(i){return i.hasValidator(me.required)&&i.value?.replace(this.STRIP_HTML_REGEX,"")===""?{required:!0}:null}onChangedHandler(i){super.onChangedHandler(i);let n=this._ngControl();n?.control&&this.validate(n.control)&&n.control.setErrors(this.validate(n.control))}getButtonList(){let i=[];return this.font()&&i.push("font"),this.fontSize()&&i.push("fontSize"),this.formatBlock()&&i.push("formatBlock"),this.paragraphStyle()&&i.push("paragraphStyle"),this.blockquote()&&i.push("blockquote"),this.bold()&&i.push("bold"),this.underline()&&i.push("underline"),this.italic()&&i.push("italic"),this.strike()&&i.push("strike"),this.fontColor()&&i.push("fontColor"),this.highlightColor()&&i.push("hiliteColor"),this.textStyle()&&i.push("textStyle"),this.removeFormat()&&i.push("removeFormat"),this.align()&&i.push("align"),this.list()&&i.push("list"),this.table()&&i.push("table"),this.link()&&i.push("link"),this.image()&&i.push("image"),this.fullScreen()&&i.push("fullScreen"),this.showBlocks()&&i.push("showBlocks"),i}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=Yt(e)))(s||e)}})()}static{this.\u0275cmp=De({type:e,selectors:[["quang-wysiwyg"]],viewQuery:function(n,s){n&1&&Le(s._inputForWysiwyg,fc,5),n&2&&Ve()},inputs:{minHeight:[1,"minHeight"],font:[1,"font"],fontSize:[1,"fontSize"],formatBlock:[1,"formatBlock"],paragraphStyle:[1,"paragraphStyle"],blockquote:[1,"blockquote"],bold:[1,"bold"],underline:[1,"underline"],italic:[1,"italic"],strike:[1,"strike"],fontColor:[1,"fontColor"],highlightColor:[1,"highlightColor"],textStyle:[1,"textStyle"],removeFormat:[1,"removeFormat"],align:[1,"align"],list:[1,"list"],table:[1,"table"],link:[1,"link"],image:[1,"image"],fullScreen:[1,"fullScreen"],showBlocks:[1,"showBlocks"],onImageUploadError:[1,"onImageUploadError"],onFileDrop:[1,"onFileDrop"],wysiwygOptions:[1,"wysiwygOptions"]},features:[wt([{provide:Tt,useExisting:vt(()=>e),multi:!0}]),Ct],decls:13,vars:22,consts:[["inputForWysiwyg",""],[1,"mb-3"],["class","form-label",3,"htmlFor",4,"ngIf"],[1,"input-wysiwyg-container","is-invalid"],[1,"form-control",3,"disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){n&1&&(H(0,"div",1),ye(1,gc,5,5,"label",2),H(2,"div",3),ve(3,"textarea",4,0),ee(5,"transloco"),U(),H(6,"div",5),J(7),ee(8,"transloco"),U(),H(9,"div",6),J(10),ee(11,"transloco"),U(),ye(12,bc,3,4,"small",7),U()),n&2&&(I(),ie("ngIf",s.componentLabel()),I(),Ue("is-invalid",s._showErrors())("is-valid",s._showSuccess()),I(),ie("disabled",s._isDisabled())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ce(5,15,s.componentPlaceholder()))("readOnly",s.isReadonly())("tabIndex",s.componentTabIndex())("value",s._value()),I(4),se(" ",ce(8,17,s.successMessage())," "),I(3),se(" ",we(11,19,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),I(2),ie("ngIf",s.helpMessage()))},dependencies:[Ie,ht,tt],styles:[`[_nghost-%COMP%]{display:block}  .se-toolbar{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important;z-index:unset!important}  .se-wrapper-inner{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .se-btn{color:var(--bs-body-color)!important}  .se-btn:enabled.active{color:var(--bs-primary)!important}  .se-btn:hover{background-color:var(--bs-secondary-bg)!important}  .se-resizing-bar{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .se-navigation{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .sun-editor input{display:none}  .sun-editor .se-container{border-radius:var(--bs-border-radius)}  .se-wrapper{z-index:unset!important}  .se-wrapper textarea:disabled+.se-wrapper-wysiwyg{background-color:var(--bs-secondary-bg)}  .se-wrapper .se-wrapper-inner{border-top:1px solid var(--bs-border-color)}  .is-invalid .sun-editor .se-container .se-toolbar{border-bottom:1px solid var(--bs-danger)}  .is-invalid .sun-editor .se-container .se-wrapper .se-wrapper-inner{--bs-form-bg-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");border:1px solid var(--bs-danger);padding-right:3rem;background-position:right .75rem center,center right 2.25rem;background-size:1.5rem,calc(.75em + .375rem) calc(.75em + .375rem);background-image:var(--bs-form-bg-icon);background-repeat:no-repeat}  .is-valid .sun-editor .se-container .se-toolbar{border-bottom:1px solid var(--bs-success)}  .is-valid .sun-editor .se-container .se-wrapper .se-wrapper-inner{--bs-form-bg-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");border:1px solid var(--bs-success);padding-right:3rem;background-position:right .75rem center,center right 2.25rem;background-size:1.5rem,calc(.75em + .375rem) calc(.75em + .375rem);background-image:var(--bs-form-bg-icon);background-repeat:no-repeat}`],changeDetection:0})}}return e})();var _c=["testComponent"],yc=e=>({enabled:e}),vc=e=>({required:e}),Cc=e=>({readonly:e}),wc=e=>({value:e}),xc=e=>({valid:e});function Tc(e,t){if(e&1&&(H(0,"div",5),ve(1,"quang-wysiwyg",11,0),U()),e&2){let i=ae();I(),ie("errorMap",i.errors())("highlightColor",i.highlightColor())("isReadonly",i.isReadonly())("minHeight",i.wysiwygHeight())("onImageUploadError",i.onImageUploadError)("wysiwygOptions",i.wysiwygOptions)}}function Sc(e,t){if(e&1&&(H(0,"div",9)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let i=ae();I(2),se(" ",we(4,4,"form.label.formValue",xe(10,wc,ce(3,2,i.testForm.value)))," "),I(4),se(" ",we(7,7,"form.label.formValidity",xe(12,xc,i.testForm.valid))," ")}}var pl=(()=>{class e{constructor(){this.WysiwygTestComponent=ts,this.quangTranslationService=Te(Ge),this.testComponent=Ee("testComponent"),this.testComponentSource=Ce(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=Ce(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/wysiwyg.md":"./assets/docs/wysiwyg.it.md"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Te(st),this.highlightColor=he(!0),this.wysiwygHeight=he("200px"),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control({value:"gagagagagagagaga",disabled:!1},[me.required,me.minLength(10),me.maxLength(100)])}),this.showInput=he(!0),this.wysiwygOptions={iframe:!0,iframeCSSFileName:".+",minHeight:void 0,height:void 0},this.onImageUploadError=(i,n,s)=>(console.log("onImageUploadError",i,n,s),!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("New form created",[me.required])})}setFormValues(){this.testForm.controls.testInput.patchValue("ciao!")}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}flipButton(){this.highlightColor.set(!this.highlightColor())}changeHeight(){this.wysiwygHeight.set(`${Math.random()*500}px`)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=De({type:e,selectors:[["playground-wysiwyg-test"]],viewQuery:function(n,s){n&1&&Le(s.testComponent,_c,5),n&2&&Ve()},decls:39,vars:45,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","gap-3","mt-3"],[1,"d-flex","flex-column","mt-3","ms-3"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.wysiwyg","formControlName","testInput","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",3,"errorMap","highlightColor","isReadonly","minHeight","onImageUploadError","wysiwygOptions"]],template:function(n,s){n&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1)(4,"div",2),ve(5,"div",3),H(6,"div",4),ye(7,Tc,3,6,"div",5),H(8,"div",6)(9,"button",7),re("click",function(){return s.changeFormEnabled()}),J(10),ee(11,"transloco"),U(),H(12,"button",7),re("click",function(){return s.changeFormInputRequired()}),J(13),ee(14,"transloco"),U(),H(15,"button",7),re("click",function(){return s.changeVisibility()}),J(16),ee(17,"transloco"),U(),H(18,"button",7),re("click",function(){return s.recreateForm()}),J(19),ee(20,"transloco"),U(),H(21,"button",7),re("click",function(){return s.setFormValues()}),J(22),ee(23,"transloco"),U(),H(24,"button",7),re("click",function(){return s.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),U(),H(27,"button",7),re("click",function(){return s.setReadonly()}),J(28),ee(29,"transloco"),U()(),H(30,"div",8)(31,"button",7),re("click",function(){return s.flipButton()}),J(32),ee(33,"transloco"),U(),H(34,"button",7),re("click",function(){return s.changeHeight()}),J(35),ee(36,"transloco"),U()()()()(),ye(37,Sc,8,14,"div",9),ve(38,"playground-component-documentation",10)),n&2&&(I(),Qe(ce(2,16,"title.components.wysiwyg")),I(2),ie("formGroup",s.testForm),I(4),Ae(s.showInput()?7:-1),I(3),se(" ",we(11,18,"form.buttons.enabled",xe(39,yc,s.testForm.enabled))," "),I(3),se(" ",we(14,21,"form.buttons.required",xe(41,vc,s.getIsRequiredInput()))," "),I(3),se(" ",ce(17,24,"form.buttons.changeVisibility")," "),I(3),se(" ",ce(20,26,"form.buttons.recreateForm")," "),I(3),se(" ",ce(23,28,"form.buttons.setForm")," "),I(3),se(" ",ce(26,30,"form.buttons.checkForm")," "),I(3),se(" ",we(29,32,"form.buttons.readonly",xe(43,Cc,s.isReadonly()))," "),I(4),se(" ",ce(33,35,"form.buttons.flipButton")," "),I(3),se(" ",ce(36,37,"form.buttons.changeHeight")," "),I(2),Ae(s.showValueAndValidity()?37:-1),I(),ie("componentType",s.WysiwygTestComponent)("customReadmePath",s.componentsReadmePath())("exampleHtml",s.testComponentSource()))},dependencies:[ft,kt,mt,St,pt,ot,Et,Lt,Ie,ts,it,lt],encapsulation:2,changeDetection:0})}}return e})();var kc=[{path:"autocomplete",component:Es},{path:"date",component:ao},{path:"input",component:co},{path:"paginator",component:po},{path:"select",component:mo},{path:"table",component:go},{path:"toggle",component:bo},{path:"wysiwyg",component:pl},{path:"loader",component:ho},{path:"**",pathMatch:"full",redirectTo:"input"}],k_=kc;export{k_ as default};
