import{a,b as R}from"./chunk-AI4CTHAB.js";import{C as D,G as c,H as E,I,K as q,k as x}from"./chunk-RLR7EZVK.js";import{$b as l,Ba as m,Ha as f,Hb as b,Ia as n,Ic as i,Kb as M,La as _,Pb as r,Qb as s,Zb as k,_b as O,ac as w,bc as T,cc as S,fa as p,la as g,nb as y,ub as C,uc as P,zb as v}from"./chunk-DAEZZW2A.js";var A=(()=>{class e{constructor(){this.toastState=R({count:0,currentTimeout:null}),this.isShowing=i(()=>this.toastState.count()>0),this.count=this.toastState.count,this.currentTimeout=this.toastState.currentTimeout,this.currentToast=_(null)}openToast(t){a(this.toastState,{count:this.count()+1}),this.currentToast.set(t),this.count()>1&&(clearTimeout(this.currentTimeout()),a(this.toastState,{count:this.count()-1,currentTimeout:null})),a(this.toastState,{currentTimeout:setTimeout(()=>{this.closeToast()},t.timing)})}closeToast(){this.currentToast.set(null),a(this.toastState,{count:this.count()-1})}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var F=[[["","header",""]],[["","body",""]],[["","footer",""]]],Q=["[header]","[body]","[footer]"],B=(e,d,t,o)=>({"--quang-modal-panel-width":e,"--quang-modal-panel-height":d,"--quang-modal-panel-background":t,"--quang-modal-panel-padding":o});function L(e,d){if(e&1&&(r(0,"div",1)(1,"div",2),l(2),s(),r(3,"div",3),l(4,1),s(),r(5,"div",4),l(6,2),s()()),e&2){let t=k();M("dialog ",t.containerClass()," ",t.animationClassEnter(),""),b("ngStyle",P(5,B,t.width(),t.height(),t.backgroundColor(),t.padding()))}}var et=(()=>{class e{constructor(t){this.overlay=t,this.backdropClick=f(),this.position=n.required(),this.height=n("80vh"),this.width=n("80vw"),this.padding=n("0 1rem"),this.containerClass=n(""),this.animationMode=n(),this.backgroundColor=n(),this.showBackdrop=n(!0),this.positionStrategy=i(()=>{switch(this.position()){case"right":return this.overlay.position().global().right().top();case"left":return this.overlay.position().global().left().top();case"center":default:return this.overlay.position().global().centerHorizontally().centerVertically()}}),this.animationClassEnter=i(()=>{switch(this.animationMode()){case"SLIDE_FROM_LEFT_TO_RIGHT":return"left-to-right-enter-active";case"SLIDE_FROM_RIGHT_TO_LEFT":return"right-to-left-enter-active";case"SLIDE_TOP_TO_BOTTOM":return"top-to-bottom-enter-active";case"SLIDE_BOTTOM_TO_TOP":return"top-to-bottom-enter-active";case"FADE":return"fade-enter-active";default:return""}}),this.destroyRef=g(m)}ngAfterViewInit(){this.overlayConfig=new I({hasBackdrop:!0,positionStrategy:this.positionStrategy(),scrollStrategy:this.overlay.scrollStrategies.block(),backdropClass:this.showBackdrop()?void 0:""}),this.overlayRef=this.overlay.create(this.overlayConfig),this.overlayRef.backdropClick().pipe(D(this.destroyRef)).subscribe(()=>{this.backdropClick.emit()}),this.overlayRef?.attach(this.portal)}ngOnDestroy(){this.closeModal()}closeModal(){this.overlayRef?.detach(),this.overlayRef?.dispose()}static{this.\u0275fac=function(o){return new(o||e)(y(q))}}static{this.\u0275cmp=C({type:e,selectors:[["quang-modal"]],viewQuery:function(o,h){if(o&1&&w(c,5),o&2){let u;T(u=S())&&(h.portal=u.first)}},inputs:{position:[1,"position"],height:[1,"height"],width:[1,"width"],padding:[1,"padding"],containerClass:[1,"containerClass"],animationMode:[1,"animationMode"],backgroundColor:[1,"backgroundColor"],showBackdrop:[1,"showBackdrop"]},outputs:{backdropClick:"backdropClick"},ngContentSelectors:Q,decls:1,vars:0,consts:[["cdkPortal",""],[3,"ngStyle"],[1,"dialog__header"],[1,"dialog__body"],[1,"dialog__footer"]],template:function(o,h){o&1&&(O(F),v(0,L,7,10,"ng-template",0))},dependencies:[E,c,x],styles:[".dialog[_ngcontent-%COMP%]{background-color:var(--quang-modal-panel-background, var(--bs-body-bg, initial));position:relative;display:flex;flex-direction:column;width:var(--quang-modal-panel-width);height:var(--quang-modal-panel-height);padding:var(--quang-modal-panel-padding)}.dialog__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.dialog__body[_ngcontent-%COMP%]{flex:1;overflow:auto}.dialog__footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}  .cdk-global-scrollblock{overflow-y:auto}@keyframes _ngcontent-%COMP%_left-to-right_enter{0%{transform:translate(-100%)}to{transform:translate(0)}}.left-to-right-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_left-to-right_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_right-to-left_enter{0%{transform:translate(100%)}to{transform:translate(0)}}.right-to-left-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_right-to-left_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_top-to-bottom_enter{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.top-to-bottom-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_top-to-bottom_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_bottom-to-top_enter{0%{transform:translateY(100%)}to{transform:translateY(0)}}.top-to-bottom-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bottom-to-top_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fade_enter{0%{opacity:0}to{opacity:1}}.fade-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade_enter .5s ease-in-out forwards}"],changeDetection:0})}}return e})();export{A as a,et as b};
