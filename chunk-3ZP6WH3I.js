import{d as h,h as k,i as B}from"./chunk-LIUAGD63.js";import{h as D,j as Y,l as X,u as l,v as T}from"./chunk-MCYERT77.js";import{Aa as d,Db as P,Eb as C,Ha as i,Ia as g,Ib as O,Ka as t,Mb as _,Nb as M,Za as m,dc as w,jb as y,ka as a,lb as c,nb as u,ob as b,tc as R,vb as p,xa as v}from"./chunk-P6LZ7ZJJ.js";var H=(()=>{class e{constructor(){this.targetComponentType=t(void 0),this.scrollCloseThreshold=i(100),this.showMethod=i("click"),this.content=i.required(),this.quangOverlayPayload=i(),this.closeOnClickOutside=!0,this.overlayPosition=i("top"),this.destroyRef=a(d),this.top=t({originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-8}),this.topLeft=t({originX:"start",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8,offsetX:40}),this.topRight=t({originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8,offsetX:40}),this.bottom=t({originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:8}),this.bottomLeft=t({originX:"start",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8,offsetX:40}),this.bottomRight=t({originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8,offsetX:40}),this.left=t({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-8}),this.right=t({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:8}),this.tooltipPosition=R(()=>{switch(this.overlayPosition()){case"top":return[this.top(),this.bottom()];case"top-left":return[this.topLeft(),this.bottomLeft()];case"top-right":return[this.topRight(),this.bottomRight()];case"bottom":return[this.bottom(),this.top()];case"bottom-left":return[this.bottomLeft(),this.topLeft()];case"bottom-right":return[this.bottomRight(),this.topRight()];case"left":return[this.left(),this.right()];case"right":return[this.right(),this.left()];default:return[this.top(),this.bottom()]}}),this.overlayRef=t(null),this.overlay=t(a(B)),this.overlayPositionBuilder=t(a(k)),this.elementRef=t(a(g)),this.positionStrategy=t(void 0),this.componentOverlayRef=t(null)}onClick(){this.showMethod()==="click"&&this.showHideOverlay()}onHover(){this.showMethod()==="hover"&&this.showHideOverlay()}onLeave(){this.showMethod()==="hover"&&this.detachOverlay()}attachOverlay(){let o=this.targetComponentType();if(!o)return;this.positionStrategy.set(this.overlayPositionBuilder().flexibleConnectedTo(this.elementRef()).withPositions(this.tooltipPosition())),this.overlayRef.set(this.overlay().create({positionStrategy:this.positionStrategy(),scrollStrategy:this.scrollCloseThreshold()?this.overlay().scrollStrategies.close({threshold:this.scrollCloseThreshold()}):this.overlay().scrollStrategies.noop(),hasBackdrop:this.showMethod()==="click",backdropClass:""}));let r=new h(o),n=this.overlayRef();if(n){this.componentOverlayRef.set(n.attach(r));let s=this.componentOverlayRef()?.instance;s&&(s.overlayContent=this.content,s.payload=this.quangOverlayPayload)}this.positionStrategy()?.positionChanges.pipe(l(this.destroyRef)).subscribe(s=>{let q=s,f=this.componentOverlayRef()?.instance;f&&f.positionPair.set(q.connectionPair)}),this.overlayRef()?.backdropClick().pipe(l(this.destroyRef)).subscribe(()=>{this.closeOnClickOutside&&this.detachOverlay()})}detachOverlay(){this.overlayRef()?.detach(),this.overlayRef()?.dispose()}showHideOverlay(){this.overlayRef()?.hasAttached()?this.detachOverlay():this.attachOverlay()}ngOnDestroy(){this.detachOverlay()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=c({type:e,hostBindings:function(r,n){r&1&&_("click",function(){return n.onClick()})("mouseenter",function(){return n.onHover()})("mouseleave",function(){return n.onLeave()})},inputs:{scrollCloseThreshold:[1,"scrollCloseThreshold"],showMethod:[1,"showMethod"],content:[1,"content"],quangOverlayPayload:[1,"quangOverlayPayload"],overlayPosition:[1,"overlayPosition"]}})}}return e})();var S=e=>({$implicit:e});function I(e,L){if(e&1&&(P(0,"div",1),O(1,2),C()),e&2){let o=M();p("ngClass",o.getPopoverPosition()),m(),p("ngTemplateOutlet",o.overlayContent())("ngTemplateOutletContext",w(3,S,o.payload()))}}var Q=(()=>{class e{constructor(){this.overlayContent=i(null),this.positionPair=t(null),this.payload=i(),this.getPopoverPosition=t(""),this.onChangePositionPair$=T(this.positionPair).pipe(l()).subscribe(o=>{let r=o?.originX,n=o?.originY;r&&n?this.getPopoverPosition.set(`${r}-${n}`):this.getPopoverPosition.set("")})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=y({type:e,selectors:[["quang-popover"]],inputs:{overlayContent:[1,"overlayContent"],payload:[1,"payload"]},decls:1,vars:1,consts:[["class","popover-container",3,"ngClass",4,"ngIf"],[1,"popover-container",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,n){r&1&&b(0,I,2,5,"div",0),r&2&&p("ngIf",n.overlayContent())},dependencies:[X,D,Y],styles:['[_nghost-%COMP%]{--bs-popover-border-width: 1px;--bs-popover-arrow-width: .5rem;--bs-popover-arrow-border: var(--bs-border-color, #000);--box-shadow-bg: rgba(0, 0, 0, .16)}.popover-container[_ngcontent-%COMP%]{box-shadow:var(--box-shadow-bg);background:var(--bs-body-bg, #fff);border:var(--bs-popover-border-width) solid var(--bs-border-color, #000);pointer-events:none;position:relative;pointer-events:all}.popover-container.center-bottom[_ngcontent-%COMP%]:after, .popover-container.center-bottom[_ngcontent-%COMP%]:before{bottom:100%;left:50%;transform:translate(-50%)}.popover-container.start-bottom[_ngcontent-%COMP%]:after, .popover-container.start-bottom[_ngcontent-%COMP%]:before{bottom:100%;left:85%;transform:translate(-50%)}.popover-container.end-bottom[_ngcontent-%COMP%]:after, .popover-container.end-bottom[_ngcontent-%COMP%]:before{bottom:100%;left:15%;transform:translate(-50%)}.popover-container.center-top[_ngcontent-%COMP%]:after, .popover-container.center-top[_ngcontent-%COMP%]:before{top:100%;left:50%;transform:translate(-50%) rotate(180deg)}.popover-container.start-top[_ngcontent-%COMP%]:after, .popover-container.start-top[_ngcontent-%COMP%]:before{top:100%;left:85%;transform:translate(-50%) rotate(180deg)}.popover-container.end-top[_ngcontent-%COMP%]:after, .popover-container.end-top[_ngcontent-%COMP%]:before{top:100%;left:15%;transform:translate(-50%) rotate(180deg)}.popover-container.end-center[_ngcontent-%COMP%]:after, .popover-container.end-center[_ngcontent-%COMP%]:before{right:100%;top:50%;transform:translateY(-50%) rotate(270deg)}.popover-container.start-center[_ngcontent-%COMP%]:after, .popover-container.start-center[_ngcontent-%COMP%]:before{left:100%;top:50%;transform:translateY(-50%) rotate(90deg)}.popover-container[_ngcontent-%COMP%]:after, .popover-container[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:0;height:0;border-style:solid}.popover-container[_ngcontent-%COMP%]:after{border-color:transparent transparent var(--bs-body-bg, #fff) transparent;border-width:var(--bs-popover-arrow-width)}.popover-container[_ngcontent-%COMP%]:before{border-color:transparent transparent var(--bs-border-color, #000) transparent;border-width:calc(var(--bs-popover-arrow-width) + 1px)}'],changeDetection:0})}}return e})();var yt=(()=>{class e extends H{constructor(){super(...arguments),this.targetComponentType=t(Q),this.content=i.required({alias:"quangPopover"})}static{this.\u0275fac=(()=>{let o;return function(n){return(o||(o=v(e)))(n||e)}})()}static{this.\u0275dir=c({type:e,selectors:[["","quangPopover",""]],inputs:{content:[1,"quangPopover","content"]},features:[u]})}}return e})();export{H as a,yt as b};
