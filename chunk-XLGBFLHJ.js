import{C as p,F as Y,J as X,K as A,N as k}from"./chunk-WQWOZLUC.js";import{c as u,d as h,f as a,g as y,h as d}from"./chunk-W4BNGQYG.js";import{Ba as v,Hb as P,Ia as o,Ic as M,Ja as g,La as t,Pb as R,Qb as C,Yb as T,gc as D,ib as _,ic as w,la as l,ub as b,wb as c,ya as f,yb as O}from"./chunk-UX55CJQO.js";var q=(()=>{class e{constructor(){this.targetComponentType=t(void 0),this.scrollCloseThreshold=o(100),this.showMethod=o("click"),this.content=o.required(),this.quangOverlayPayload=o(),this.closeOnClickOutside=!0,this.overlayPosition=o("top"),this.destroyRef=l(v),this.top=t({originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-8}),this.topLeft=t({originX:"start",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8,offsetX:40}),this.topRight=t({originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8,offsetX:40}),this.bottom=t({originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:8}),this.bottomLeft=t({originX:"start",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8,offsetX:40}),this.bottomRight=t({originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8,offsetX:40}),this.left=t({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-8}),this.right=t({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:8}),this.tooltipPosition=M(()=>{switch(this.overlayPosition()){case"top":return[this.top(),this.bottom()];case"top-left":return[this.topLeft(),this.bottomLeft()];case"top-right":return[this.topRight(),this.bottomRight()];case"bottom":return[this.bottom(),this.top()];case"bottom-left":return[this.bottomLeft(),this.topLeft()];case"bottom-right":return[this.bottomRight(),this.topRight()];case"left":return[this.left(),this.right()];case"right":return[this.right(),this.left()];default:return[this.top(),this.bottom()]}}),this.overlayRef=t(null),this.overlay=t(l(A)),this.overlayPositionBuilder=t(l(X)),this.elementRef=t(l(g)),this.positionStrategy=t(void 0),this.componentOverlayRef=t(null)}onClick(){this.showMethod()==="click"&&this.showHideOverlay()}onHover(){this.showMethod()==="hover"&&this.showHideOverlay()}onLeave(){this.showMethod()==="hover"&&this.detachOverlay()}attachOverlay(){let r=this.targetComponentType();if(!r)return;this.positionStrategy.set(this.overlayPositionBuilder().flexibleConnectedTo(this.elementRef()).withPositions(this.tooltipPosition())),this.overlayRef.set(this.overlay().create({positionStrategy:this.positionStrategy(),scrollStrategy:this.scrollCloseThreshold()?this.overlay().scrollStrategies.close({threshold:this.scrollCloseThreshold()}):this.overlay().scrollStrategies.noop(),hasBackdrop:this.showMethod()==="click",backdropClass:""}));let i=new Y(r),n=this.overlayRef();if(n){this.componentOverlayRef.set(n.attach(i));let s=this.componentOverlayRef()?.instance;s&&(s.overlayContent=this.content,s.payload=this.quangOverlayPayload)}this.positionStrategy()?.positionChanges.pipe(p(this.destroyRef)).subscribe(s=>{let S=s,m=this.componentOverlayRef()?.instance;m&&m.positionPair.set(S.connectionPair)}),this.overlayRef()?.backdropClick().pipe(p(this.destroyRef)).subscribe(()=>{this.closeOnClickOutside&&this.detachOverlay()})}detachOverlay(){this.overlayRef()?.detach(),this.overlayRef()?.dispose()}showHideOverlay(){this.overlayRef()?.hasAttached()?this.detachOverlay():this.attachOverlay()}ngOnDestroy(){this.detachOverlay()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=c({type:e,hostBindings:function(i,n){i&1&&T("click",function(){return n.onClick()})("mouseenter",function(){return n.onHover()})("mouseleave",function(){return n.onLeave()})},inputs:{scrollCloseThreshold:[1,"scrollCloseThreshold"],showMethod:[1,"showMethod"],content:[1,"content"],quangOverlayPayload:[1,"quangOverlayPayload"],overlayPosition:[1,"overlayPosition"]}})}}return e})();var I=(()=>{class e{constructor(){this.overlayContent=o.required(),this.quangTooltipPosition=o("top"),this.positionPair=t(null),this.payload=o()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=b({type:e,selectors:[["quang-tooltip"]],inputs:{overlayContent:[1,"overlayContent"],quangTooltipPosition:[1,"quangTooltipPosition"],payload:[1,"payload"]},decls:2,vars:2,consts:[[1,"quang-tooltip"]],template:function(i,n){i&1&&(R(0,"div",0),D(1),C()),i&2&&(P("@tooltip",void 0),_(),w(" ",n.overlayContent(),`
`))},dependencies:[k],styles:[".quang-tooltip[_ngcontent-%COMP%]{background-color:var(--bs-body-color);color:var(--bs-body-bg);padding:.5rem;border-radius:5px;font-size:.75rem;opacity:0}"],data:{animation:[u("tooltip",[y("*",a({opacity:1})),d(":enter",[a({opacity:0}),h(200,a({opacity:1}))]),d(":leave",[a({opacity:1}),h(300,a({opacity:0}))])])]},changeDetection:0})}}return e})();var yt=(()=>{class e extends q{constructor(){super(...arguments),this.targetComponentType=t(I),this.content=o.required({alias:"quangTooltip"}),this.showMethod=o("hover")}static{this.\u0275fac=(()=>{let r;return function(n){return(r||(r=f(e)))(n||e)}})()}static{this.\u0275dir=c({type:e,selectors:[["","quangTooltip",""]],inputs:{content:[1,"quangTooltip","content"],showMethod:[1,"showMethod"]},features:[O]})}}return e})();export{q as a,I as b,yt as c};
