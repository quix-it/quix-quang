import{a as s,b as E}from"./chunk-XUXR6YZJ.js";import{C as h,D as I,E as j,G as F,h as D,y as q}from"./chunk-F5DPUHAQ.js";import{Bc as r,Ec as R,Fc as n,Jb as b,Kb as l,Lb as c,Ub as k,Vb as M,Wb as d,Xb as O,Yb as w,Zb as T,cc as S,fa as g,gb as y,ka as m,nb as C,oc as P,sb as v,tc as x,va as f,za as _}from"./chunk-RLDEGGXY.js";var z=(()=>{let t=class t{constructor(){this.toastState=E({count:0,currentTimeout:null}),this.isShowing=r(()=>this.toastState.count()>0),this.count=this.toastState.count,this.currentTimeout=this.toastState.currentTimeout,this.currentToast=_(null)}openToast(o){s(this.toastState,{count:this.count()+1}),this.currentToast.set(o),this.count()>1&&(clearTimeout(this.currentTimeout()),s(this.toastState,{count:this.count()-1,currentTimeout:null})),s(this.toastState,{currentTimeout:setTimeout(()=>{this.closeToast()},o.timing)})}closeToast(){this.currentToast.set(null),s(this.toastState,{count:this.count()-1})}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var L=[[["","header",""]],[["","body",""]],[["","footer",""]]],Q=["[header]","[body]","[footer]"],Y=(e,t,i,o)=>({"--quang-modal-panel-width":e,"--quang-modal-panel-height":t,"--quang-modal-panel-background":i,"--quang-modal-panel-padding":o});function H(e,t){if(e&1&&(l(0,"div",1)(1,"div",2),d(2),c(),l(3,"div",3),d(4,1),c(),l(5,"div",4),d(6,2),c()()),e&2){let i=k();S(P("dialog ",i.containerClass()," ",i.animationClassEnter())),b("ngStyle",x(5,Y,i.width(),i.height(),i.backgroundColor(),i.padding()))}}var nt=(()=>{let t=class t{constructor(o){this.overlay=o,this.backdropClick=R(),this.position=n.required(),this.height=n("80vh"),this.width=n("80vw"),this.padding=n("0 1rem"),this.containerClass=n(""),this.animationMode=n(),this.backgroundColor=n(),this.showBackdrop=n(!0),this.positionStrategy=r(()=>{switch(this.position()){case"right":return this.overlay.position().global().right().top();case"left":return this.overlay.position().global().left().top();case"center":default:return this.overlay.position().global().centerHorizontally().centerVertically()}}),this.animationClassEnter=r(()=>{switch(this.animationMode()){case"SLIDE_FROM_LEFT_TO_RIGHT":return"left-to-right-enter-active";case"SLIDE_FROM_RIGHT_TO_LEFT":return"right-to-left-enter-active";case"SLIDE_TOP_TO_BOTTOM":return"top-to-bottom-enter-active";case"SLIDE_BOTTOM_TO_TOP":return"top-to-bottom-enter-active";case"FADE":return"fade-enter-active";default:return""}}),this.destroyRef=m(f)}ngAfterViewInit(){this.overlayConfig=new j({hasBackdrop:!0,positionStrategy:this.positionStrategy(),scrollStrategy:this.overlay.scrollStrategies.block(),backdropClass:this.showBackdrop()?void 0:""}),this.overlayRef=this.overlay.create(this.overlayConfig),this.overlayRef.backdropClick().pipe(q(this.destroyRef)).subscribe(()=>{this.backdropClick.emit()}),this.overlayRef?.attach(this.portal)}ngOnDestroy(){this.closeModal()}closeModal(){this.overlayRef?.detach(),this.overlayRef?.dispose()}};t.\u0275fac=function(a){return new(a||t)(y(F))},t.\u0275cmp=C({type:t,selectors:[["quang-modal"]],viewQuery:function(a,p){if(a&1&&O(h,5),a&2){let u;w(u=T())&&(p.portal=u.first)}},inputs:{position:[1,"position"],height:[1,"height"],width:[1,"width"],padding:[1,"padding"],containerClass:[1,"containerClass"],animationMode:[1,"animationMode"],backgroundColor:[1,"backgroundColor"],showBackdrop:[1,"showBackdrop"]},outputs:{backdropClick:"backdropClick"},ngContentSelectors:Q,decls:1,vars:0,consts:[["cdkPortal",""],[3,"ngStyle"],[1,"dialog__header"],[1,"dialog__body"],[1,"dialog__footer"]],template:function(a,p){a&1&&(M(L),v(0,H,7,10,"ng-template",0))},dependencies:[I,h,D],styles:[".dialog[_ngcontent-%COMP%]{background-color:var(--quang-modal-panel-background, var(--bs-body-bg, initial));position:relative;display:flex;flex-direction:column;width:var(--quang-modal-panel-width);height:var(--quang-modal-panel-height);padding:var(--quang-modal-panel-padding)}.dialog__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.dialog__body[_ngcontent-%COMP%]{flex:1;overflow:auto}.dialog__footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}  .cdk-global-scrollblock{overflow-y:auto}@keyframes _ngcontent-%COMP%_left-to-right_enter{0%{transform:translate(-100%)}to{transform:translate(0)}}.left-to-right-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_left-to-right_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_right-to-left_enter{0%{transform:translate(100%)}to{transform:translate(0)}}.right-to-left-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_right-to-left_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_top-to-bottom_enter{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.top-to-bottom-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_top-to-bottom_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_bottom-to-top_enter{0%{transform:translateY(100%)}to{transform:translateY(0)}}.top-to-bottom-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bottom-to-top_enter .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fade_enter{0%{opacity:0}to{opacity:1}}.fade-enter-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade_enter .5s ease-in-out forwards}"],changeDetection:0});let e=t;return e})();export{z as a,nt as b};
