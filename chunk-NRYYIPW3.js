import{B as X,F as A,G as k,J as q,y}from"./chunk-XVSGCTAE.js";import{c as u,d,f as l,g as m,h as p}from"./chunk-W4BNGQYG.js";import{Bc as Y,Fc as o,Ga as g,Ia as b,Jb as R,Kb as C,Lb as w,Tb as T,bb as _,dc as D,fc as M,ka as c,nb as O,pb as h,rb as P,va as v,za as e}from"./chunk-TKD4T2JR.js";var I=(()=>{let t=class t{constructor(){this.targetComponentType=e(void 0),this.scrollCloseThreshold=o(100),this.showMethod=o("click"),this.content=o.required(),this.quangOverlayPayload=o(),this.closeOnClickOutside=!0,this.overlayPosition=o("top"),this.destroyRef=c(v),this.top=e({originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-8}),this.topLeft=e({originX:"start",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8,offsetX:40}),this.topRight=e({originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8,offsetX:40}),this.bottom=e({originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:8}),this.bottomLeft=e({originX:"start",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8,offsetX:40}),this.bottomRight=e({originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8,offsetX:40}),this.left=e({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-8}),this.right=e({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:8}),this.tooltipPosition=Y(()=>{switch(this.overlayPosition()){case"top":return[this.top(),this.bottom()];case"top-left":return[this.topLeft(),this.bottomLeft()];case"top-right":return[this.topRight(),this.bottomRight()];case"bottom":return[this.bottom(),this.top()];case"bottom-left":return[this.bottomLeft(),this.topLeft()];case"bottom-right":return[this.bottomRight(),this.topRight()];case"left":return[this.left(),this.right()];case"right":return[this.right(),this.left()];default:return[this.top(),this.bottom()]}}),this.overlayRef=e(null),this.overlay=e(c(k)),this.overlayPositionBuilder=e(c(A)),this.elementRef=e(c(b)),this.positionStrategy=e(void 0),this.componentOverlayRef=e(null)}onClick(){this.showMethod()==="click"&&this.showHideOverlay()}onHover(){this.showMethod()==="hover"&&this.showHideOverlay()}onLeave(){this.showMethod()==="hover"&&this.detachOverlay()}attachOverlay(){let s=this.targetComponentType();if(!s)return;this.positionStrategy.set(this.overlayPositionBuilder().flexibleConnectedTo(this.elementRef()).withPositions(this.tooltipPosition())),this.overlayRef.set(this.overlay().create({positionStrategy:this.positionStrategy(),scrollStrategy:this.scrollCloseThreshold()?this.overlay().scrollStrategies.close({threshold:this.scrollCloseThreshold()}):this.overlay().scrollStrategies.noop(),hasBackdrop:this.showMethod()==="click",backdropClass:""}));let n=new X(s),r=this.overlayRef();if(r){this.componentOverlayRef.set(r.attach(n));let a=this.componentOverlayRef()?.instance;a&&(a.overlayContent=this.content,a.payload=this.quangOverlayPayload)}this.positionStrategy()?.positionChanges.pipe(y(this.destroyRef)).subscribe(a=>{let x=a,f=this.componentOverlayRef()?.instance;f&&f.positionPair.set(x.connectionPair)}),this.overlayRef()?.backdropClick().pipe(y(this.destroyRef)).subscribe(()=>{this.closeOnClickOutside&&this.detachOverlay()})}detachOverlay(){this.overlayRef()?.detach(),this.overlayRef()?.dispose()}showHideOverlay(){this.overlayRef()?.hasAttached()?this.detachOverlay():this.attachOverlay()}ngOnDestroy(){this.detachOverlay()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=h({type:t,hostBindings:function(n,r){n&1&&T("click",function(){return r.onClick()})("mouseenter",function(){return r.onHover()})("mouseleave",function(){return r.onLeave()})},inputs:{scrollCloseThreshold:[1,"scrollCloseThreshold"],showMethod:[1,"showMethod"],content:[1,"content"],quangOverlayPayload:[1,"quangOverlayPayload"],overlayPosition:[1,"overlayPosition"]}});let i=t;return i})();var S=(()=>{let t=class t{constructor(){this.overlayContent=o.required(),this.quangTooltipPosition=o("top"),this.positionPair=e(null),this.payload=o()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=O({type:t,selectors:[["quang-tooltip"]],inputs:{overlayContent:[1,"overlayContent"],quangTooltipPosition:[1,"quangTooltipPosition"],payload:[1,"payload"]},decls:2,vars:2,consts:[[1,"quang-tooltip"]],template:function(n,r){n&1&&(C(0,"div",0),D(1),w()),n&2&&(R("@tooltip",void 0),_(),M(" ",r.overlayContent(),`
`))},dependencies:[q],styles:[".quang-tooltip[_ngcontent-%COMP%]{background-color:var(--bs-body-color);color:var(--bs-body-bg);padding:.5rem;border-radius:5px;font-size:.75rem;opacity:0}"],data:{animation:[u("tooltip",[m("*",l({opacity:1})),p(":enter",[l({opacity:0}),d(200,l({opacity:1}))]),p(":leave",[l({opacity:1}),d(300,l({opacity:0}))])])]},changeDetection:0});let i=t;return i})();var mt=(()=>{let t=class t extends I{constructor(){super(...arguments),this.targetComponentType=e(S),this.content=o.required({alias:"quangTooltip"}),this.showMethod=o("hover")}};t.\u0275fac=(()=>{let s;return function(r){return(s||(s=g(t)))(r||t)}})(),t.\u0275dir=h({type:t,selectors:[["","quangTooltip",""]],inputs:{content:[1,"quangTooltip","content"],showMethod:[1,"showMethod"]},features:[P]});let i=t;return i})();export{I as a,S as b,mt as c};
