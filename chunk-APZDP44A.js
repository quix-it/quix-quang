import{a as ii,c as Zi,h as bo,i as vo}from"./chunk-3TTWTX2C.js";import{b as yo}from"./chunk-3ZP6WH3I.js";import{b as De}from"./chunk-LIUAGD63.js";import{c as go,h as _o}from"./chunk-IBUDHHDL.js";import{b as ws,h as ot,i as ti,j as lt,k as fo,l as mo,n as gt,u as Ne,v as et}from"./chunk-MCYERT77.js";import{$b as co,Aa as Vt,Ab as no,B as Ys,Bb as so,C as Ri,Cb as oo,Da as jt,Db as z,Eb as q,F as _i,Fb as xe,Ga as ft,Gb as Rt,Ha as ne,Hb as Ht,Ia as ys,Ib as Jt,Jb as Re,K as Hi,Ka as he,M as Qs,Mb as le,N as Xs,Nb as de,O as Ks,Ob as lo,Pb as ro,Tb as Je,Ub as mt,Vb as Ct,Wb as J,Xb as Ze,Ya as eo,Yb as se,Za as A,Zb as qi,_b as ao,a as We,ac as uo,b as Qe,ba as Js,bb as Cs,bc as st,ca as Pi,cb as Ue,d as At,da as nt,dc as we,e as Xe,ea as bi,ec as $i,f as $s,fa as zi,fb as Ke,fc as ho,gc as ee,ha as Zt,hc as ae,i as Zs,ic as ye,jb as ke,jc as Tt,ka as Se,kb as Ui,l as Vi,lb as yt,nb as $e,nc as ei,ob as ve,p as js,qb as to,rc as po,sa as vi,sc as qt,ta as _e,tc as Be,u as Gs,ua as be,ub as pt,uc as Nt,va as It,vb as ie,w as gi,wa as Wi,wb as Ve,xa as Ut,xb as io,za as vs,zb as Ge}from"./chunk-P6LZ7ZJJ.js";var Yo=At((ki,Vs)=>{"use strict";(function(e,t){typeof ki=="object"&&typeof Vs=="object"?Vs.exports=t():typeof define=="function"&&define.amd?define([],t):typeof ki=="object"?ki.AirDatepicker=t():e.AirDatepicker=t()})(ki,function(){return function(){"use strict";var e={d:function(H,v){for(var T in v)e.o(v,T)&&!e.o(H,T)&&Object.defineProperty(H,T,{enumerable:!0,get:v[T]})},o:function(H,v){return Object.prototype.hasOwnProperty.call(H,v)}},t={};e.d(t,{default:function(){return re}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},n={classes:"",inline:!1,locale:{days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u043E\u0441","\u041F\u043E\u043D","\u0412\u0442\u043E","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041F\u044F\u0442","\u0421\u0443\u0431"],daysMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function s(H){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof H=="string"?v.querySelector(H):H}function r(){let{tagName:H="div",className:v="",innerHtml:T="",id:w="",attrs:F={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=document.createElement(H);return v&&N.classList.add(...v.split(" ")),w&&(N.id=w),T&&(N.innerHTML=T),F&&u(N,F),N}function u(H,v){for(let[T,w]of Object.entries(v))w!==void 0&&H.setAttribute(T,w);return H}function h(H){return new Date(H.getFullYear(),H.getMonth()+1,0).getDate()}function o(H){let v=H.getHours(),{hours:T,dayPeriod:w}=b(v);return{year:H.getFullYear(),month:H.getMonth(),fullMonth:H.getMonth()+1<10?"0"+(H.getMonth()+1):H.getMonth()+1,date:H.getDate(),fullDate:H.getDate()<10?"0"+H.getDate():H.getDate(),day:H.getDay(),hours:v,fullHours:c(v),hours12:T,dayPeriod:w,fullHours12:c(T),minutes:H.getMinutes(),fullMinutes:H.getMinutes()<10?"0"+H.getMinutes():H.getMinutes()}}function b(H){return{dayPeriod:H>11?"pm":"am",hours:H%12==0?12:H%12}}function c(H){return H<10?"0"+H:H}function g(H){let v=10*Math.floor(H.getFullYear()/10);return[v,v+9]}function E(){let H=[];for(var v=arguments.length,T=new Array(v),w=0;w<v;w++)T[w]=arguments[w];return T.forEach(F=>{if(typeof F=="object")for(let N in F)F[N]&&H.push(N);else F&&H.push(F)}),H.join(" ")}function M(H,v){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.days;if(!H||!v)return!1;let w=o(H),F=o(v);return{[i.days]:w.date===F.date&&w.month===F.month&&w.year===F.year,[i.months]:w.month===F.month&&w.year===F.year,[i.years]:w.year===F.year}[T]}function I(H,v,T){let w=l(H,!1).getTime(),F=l(v,!1).getTime();return T?w>=F:w>F}function R(H,v){return!I(H,v,!0)}function l(H){let v=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],T=new Date(H.getTime());return typeof v!="boolean"||v||function(w){w.setHours(0,0,0,0)}(T),T}function a(H,v,T){H.length?H.forEach(w=>{w.addEventListener(v,T)}):H.addEventListener(v,T)}function d(H,v){return!(!H||H===document||H instanceof DocumentFragment)&&(H.matches(v)?H:d(H.parentNode,v))}function p(H,v,T){return H>T?T:H<v?v:H}function f(H){for(var v=arguments.length,T=new Array(v>1?v-1:0),w=1;w<v;w++)T[w-1]=arguments[w];return T.filter(F=>F).forEach(F=>{for(let[N,k]of Object.entries(F))if(k!==void 0&&k.toString()==="[object Object]"){let U=H[N]!==void 0?H[N].toString():void 0,Q=k.toString(),ce=Array.isArray(k)?[]:{};H[N]=H[N]?U!==Q?ce:H[N]:ce,f(H[N],k)}else H[N]=k}),H}function _(H){let v=H;return H instanceof Date||(typeof H=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(H)&&(H+="T00:00:00"),v=new Date(H)),isNaN(v.getTime())&&(console.log(`Unable to convert value "${H}" to Date object`),v=!1),v}function m(H){let v="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+v+")("+H+")($|<|"+v+")","g")}function y(H,v,T){return(v=function(w){var F=function(N,k){if(typeof N!="object"||N===null)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(N,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(w);return typeof F=="symbol"?F:String(F)}(v))in H?Object.defineProperty(H,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[v]=T,H}class x{constructor(){let{type:v,date:T,dp:w,opts:F,body:N}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),y(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),y(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),y(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),y(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),y(this,"onChangeFocusDate",k=>{if(!k)return void(this.focused&&this.removeFocus());let U=M(k,this.date,this.type);U?this.focus():!U&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),y(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell)),this.type=v,this.singleType=this.type.slice(0,-1),this.date=T,this.dp=w,this.opts=F,this.body=N,this.customData=!1,this.init()}init(){var v;let{onRenderCell:T}=this.opts;T&&(this.customData=T({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),(v=this.customData)!==null&&v!==void 0&&v.disabled&&this.dp.disableDate(this.date)}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var v;let{year:T,month:w,date:F}=o(this.date),N=((v=this.customData)===null||v===void 0?void 0:v.attrs)||{};this.$cell=r({attrs:We({"data-year":T,"data-month":w,"data-date":F},N)}),this.$cell.adpCell=this}_getClassName(){var v;let T=new Date,{selectOtherMonths:w,selectOtherYears:F}=this.opts,{minDate:N,maxDate:k,isDateDisabled:U}=this.dp,{day:Q}=o(this.date),ce=this._isOutOfMinMaxRange(),ue=U(this.date),pe=E("air-datepicker-cell",`-${this.singleType}-`,{"-current-":M(T,this.date,this.type),"-min-date-":N&&M(N,this.date,this.type),"-max-date-":k&&M(k,this.date,this.type)}),me="";switch(this.type){case i.days:me=E({"-weekend-":this.dp.isWeekend(Q),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!w||ce||ue});break;case i.months:me=E({"-disabled-":ce});break;case i.years:me=E({"-other-decade-":this.isOtherDecade,"-disabled-":ce||this.isOtherDecade&&!F})}return E(pe,me,(v=this.customData)===null||v===void 0?void 0:v.classes).split(" ")}_getHtml(){var v;let{year:T,month:w,date:F}=o(this.date),{showOtherMonths:N,showOtherYears:k}=this.opts;if((v=this.customData)!==null&&v!==void 0&&v.html)return this.customData.html;switch(this.type){case i.days:return!N&&this.isOtherMonth?"":F;case i.months:return this.dp.locale[this.opts.monthsField][w];case i.years:return!k&&this.isOtherDecade?"":T}}_isOutOfMinMaxRange(){let{minDate:v,maxDate:T}=this.dp,{type:w,date:F}=this,{month:N,year:k,date:U}=o(F),Q=w===i.days,ce=w===i.years,ue=!!v&&new Date(k,ce?v.getMonth():N,Q?U:v.getDate()),pe=!!T&&new Date(k,ce?T.getMonth():N,Q?U:T.getDate());return v&&T?R(ue,v)||I(pe,T):v?R(ue,v):T?I(pe,T):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{selectedDates:v,focusDate:T,rangeDateTo:w,rangeDateFrom:F}=this.dp,N=v.length;if(!N)return;let k=F,U=w;if(N===1&&T){let me=I(T,v[0]);k=me?v[0]:T,U=me?T:v[0]}let Q=E({"-in-range-":k&&U&&(ce=this.date,ue=k,pe=U,I(ce,ue)&&R(ce,pe)),"-range-from-":k&&M(this.date,k,this.type),"-range-to-":U&&M(this.date,U,this.type)});var ce,ue,pe;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),Q&&this.$cell.classList.add(...Q.split(" "))}_handleSelectedStatus(){let v=this.dp._checkIfDateIsSelected(this.date,this.type);v?this.select():!v&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){M(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function C(H,v,T){return(v=function(w){var F=function(N,k){if(typeof N!="object"||N===null)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(N,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(w);return typeof F=="symbol"?F:String(F)}(v))in H?Object.defineProperty(H,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[v]=T,H}let S={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`},V=".air-datepicker-cell";class D{constructor(v){let{dp:T,type:w,opts:F}=v;C(this,"handleClick",N=>{let k=N.target.closest(V).adpCell;if(k.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let U=this.dp._checkIfDateIsSelected(k.date,k.type);U?this.dp._handleAlreadySelectedDates(U,k.date):this.dp.selectDate(k.date)}),C(this,"handleDayNameClick",N=>{let k=N.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(k),datepicker:this.dp})}),C(this,"onChangeCurrentView",N=>{N!==this.type?this.hide():(this.show(),this.render())}),C(this,"onMouseOverCell",N=>{let k=d(N.target,V);this.dp.setFocusDate(!!k&&k.adpCell.date)}),C(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),C(this,"onClickBody",N=>{let{onClickDayName:k}=this.opts,U=N.target;U.closest(V)&&this.handleClick(N),k&&U.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(N)}),C(this,"onMouseDown",N=>{this.pressed=!0;let k=d(N.target,V),U=k&&k.adpCell;M(U.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),M(U.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),C(this,"onMouseMove",N=>{if(!this.pressed||!this.dp.isMinViewReached)return;N.preventDefault();let k=d(N.target,V),U=k&&k.adpCell,{selectedDates:Q,rangeDateTo:ce,rangeDateFrom:ue}=this.dp;if(!U||U.isDisabled)return;let{date:pe}=U;if(Q.length===2){if(this.rangeFromFocused&&!I(pe,ce)){let{hours:me,minutes:Oe}=o(ue);pe.setHours(me),pe.setMinutes(Oe),this.dp.rangeDateFrom=pe,this.dp.replaceDate(ue,pe)}if(this.rangeToFocused&&!R(pe,ue)){let{hours:me,minutes:Oe}=o(ce);pe.setHours(me),pe.setMinutes(Oe),this.dp.rangeDateTo=pe,this.dp.replaceDate(ce,pe)}}}),C(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),C(this,"onChangeViewDate",(N,k)=>{if(!this.isVisible)return;let U=g(N),Q=g(k);switch(this.dp.currentView){case i.days:if(M(N,k,i.months))return;break;case i.months:if(M(N,k,i.years))return;break;case i.years:if(U[0]===Q[0]&&U[1]===Q[1])return}this.render()}),C(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(N=>{this.$cells.appendChild(N.render())})}),this.dp=T,this.type=w,this.opts=F,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:v,dynamicRange:T}=this.opts;a(this.$el,"mouseover",this.onMouseOverCell),a(this.$el,"mouseout",this.onMouseOutCell),a(this.$el,"click",this.onClickBody),v&&T&&(a(this.$el,"mousedown",this.onMouseDown),a(this.$el,"mousemove",this.onMouseMove),a(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=r({className:`air-datepicker-body -${this.type}-`,innerHtml:S[this.type]}),this.$names=s(".air-datepicker-body--day-names",this.$el),this.$cells=s(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,T="",w=this.dp.isWeekend,{onClickDayName:F}=this.opts,N=v,k=0;for(;k<7;){let U=N%7;T+=`<div class="${E("air-datepicker-body--day-name",{[i.cssClassWeekend]:w(U),"-clickable-":!!F})}" data-day-index='${U}'>${this.dp.locale.daysMin[U]}</div>`,k++,N++}return T}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(v){let{type:T,dp:w,opts:F}=this;return new x({type:T,dp:w,opts:F,date:v,body:this})}_generateCells(){D.getDatesFunction(this.type)(this.dp,v=>{this.cells.push(this._generateCell(v))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(v=>v.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(v,T){let{viewDate:w,opts:{fixedHeight:F},locale:{firstDay:N}}=v,k=h(w),{year:U,month:Q}=o(w),ce=new Date(U,Q,1),ue=new Date(U,Q,k),pe=ce.getDay()-N,me=6-ue.getDay()+N;pe=pe<0?pe+7:pe,me=me>6?me-7:me;let Oe=function(je,qe){let{year:it,month:rt,date:Kt}=o(je);return new Date(it,rt,Kt-qe)}(ce,pe),Pe=k+pe+me,ze=Oe.getDate(),{year:tt,month:Ie}=o(Oe),Bt=0;F&&(Pe=42);let ht=[];for(;Bt<Pe;){let je=new Date(tt,Ie,ze+Bt);T&&T(je),ht.push(je),Bt++}return ht}static getMonthsDates(v,T){let{year:w}=v.parsedViewDate,F=0,N=[];for(;F<12;){let k=new Date(w,F);N.push(k),T&&T(k),F++}return N}static getYearsDates(v,T){let w=g(v.viewDate),F=w[0]-1,N=w[1]+1,k=F,U=[];for(;k<=N;){let Q=new Date(k,0);U.push(Q),T&&T(Q),k++}return U}static getDatesFunction(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.days;return{[i.days]:D.getDaysDates,[i.months]:D.getMonthsDates,[i.years]:D.getYearsDates}[v]}}function O(H,v,T){return(v=function(w){var F=function(N,k){if(typeof N!="object"||N===null)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(N,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(w);return typeof F=="symbol"?F:String(F)}(v))in H?Object.defineProperty(H,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[v]=T,H}class P{constructor(v){let{dp:T,opts:w}=v;O(this,"onClickNav",F=>{let N=d(F.target,".air-datepicker-nav--action");if(!N)return;let k=N.dataset.action;this.dp[k]()}),O(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),O(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),O(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),O(this,"update",()=>{let{prevHtml:F,nextHtml:N}=this.opts;this.$prev.innerHTML=F,this.$next.innerHTML=N,this._resetNavStatus(),this.render(),this.handleNavStatus()}),O(this,"renderDelay",()=>{setTimeout(this.render)}),O(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(F,N){for(let k in N)N[k]?F.classList.add(k):F.classList.remove(k)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=T,this.opts=w,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=s(".air-datepicker-nav--title",this.$el),this.$prev=s('[data-action="prev"]',this.$el),this.$next=s('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=r({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:v,opts:T}=this,w=T.navTitles[v.currentView];return typeof w=="function"?w(v):v.formatDate(v.viewDate,w)}handleNavStatus(){let{disableNavWhenOutOfRange:v}=this.opts,{minDate:T,maxDate:w}=this.dp;if(!T&&!w||!v)return;let{year:F,month:N}=this.dp.parsedViewDate,k=!!T&&o(T),U=!!w&&o(w);switch(this.dp.currentView){case i.days:T&&k.month>=N&&k.year>=F&&this._disableNav("prev"),w&&U.month<=N&&U.year<=F&&this._disableNav("next");break;case i.months:T&&k.year>=F&&this._disableNav("prev"),w&&U.year<=F&&this._disableNav("next");break;case i.years:{let Q=g(this.dp.viewDate);T&&k.year>=Q[0]&&this._disableNav("prev"),w&&U.year<=Q[1]&&this._disableNav("next");break}}}_disableNav(v){s('[data-action="'+v+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(v){for(var T=arguments.length,w=new Array(T>1?T-1:0),F=1;F<T;F++)w[F-1]=arguments[F];v.length?v.forEach(N=>{N.classList.remove(...w)}):v.classList.remove(...w)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:v,nextHtml:T}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${v}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${T}</div>`}get isNavIsFunction(){let{navTitles:v}=this.opts;return Object.keys(v).find(T=>typeof v[T]=="function")}}var K={today:{content:H=>H.locale.today,onClick:H=>H.setViewDate(new Date)},clear:{content:H=>H.locale.clear,onClick:H=>H.clear()}};class te{constructor(v){let{dp:T,opts:w}=v;this.dp=T,this.opts=w,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=r({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:v}=this.opts;Array.isArray(v)||(v=[v]),v.forEach(T=>{let w=T;typeof T=="string"&&K[T]&&(w=K[T]);let F=this.createButton(w);w.onClick&&this.attachEventToButton(F,w.onClick),this.$el.appendChild(F)})}attachEventToButton(v,T){v.addEventListener("click",()=>{T(this.dp)})}createButton(v){let{content:T,className:w,tagName:F="button",attrs:N={}}=v;return r({tagName:F,innerHtml:`<span tabindex='-1'>${typeof T=="function"?T(this.dp):T}</span>`,className:E("air-datepicker-button",w),attrs:N})}render(){this.generateButtons()}}function X(H,v,T){return(v=function(w){var F=function(N,k){if(typeof N!="object"||N===null)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(N,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(w);return typeof F=="symbol"?F:String(F)}(v))in H?Object.defineProperty(H,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[v]=T,H}class Z{constructor(){let{opts:v,dp:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,"toggleTimepickerIsActive",F=>{this.dp.timepickerIsActive=F}),X(this,"onChangeSelectedDate",F=>{let{date:N,updateTime:k=!1}=F;N&&(this.setMinMaxTime(N),this.setCurrentTime(!!k&&N),this.addTimeToDate(N))}),X(this,"onChangeLastSelectedDate",F=>{F&&(this.setTime(F),this.render())}),X(this,"onChangeInputRange",F=>{let N=F.target;this[N.getAttribute("name")]=N.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),X(this,"onMouseEnterLeave",F=>{let N=F.target.getAttribute("name"),k=this.$minutesText;N==="hours"&&(k=this.$hoursText),k.classList.toggle("-focus-")}),X(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),X(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=v,this.dp=T;let{timeFormat:w}=this.dp.locale;w&&(w.match(m("h"))||w.match(m("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let v="input";navigator.userAgent.match(/trident/gi)&&(v="change"),a(this.$ranges,v,this.onChangeInputRange),a(this.$ranges,"mouseenter",this.onMouseEnterLeave),a(this.$ranges,"mouseleave",this.onMouseEnterLeave),a(this.$ranges,"focus",this.onFocus),a(this.$ranges,"mousedown",this.onFocus),a(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=r({className:E("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:v,hours:T,displayHours:w,minutes:F,minHours:N,minMinutes:k,maxHours:U,maxMinutes:Q,dayPeriod:ce,opts:{hoursStep:ue,minutesStep:pe}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${c(w)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${c(F)}</span>   `+(v?`<span class='air-datepicker-time--current-ampm'>${ce}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${T}" min="${N}" max="${U}" step="${ue}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${F}" min="${k}" max="${Q}" step="${pe}"/>   </div></div>`}defineDOM(){let v=T=>s(T,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=v('[name="hours"]'),this.$minutes=v('[name="minutes"]'),this.$hoursText=v(".air-datepicker-time--current-hours"),this.$minutesText=v(".air-datepicker-time--current-minutes"),this.$ampm=v(".air-datepicker-time--current-ampm")}setTime(v){this.setMinMaxTime(v),this.setCurrentTime(v)}addTimeToDate(v){v&&(v.setHours(this.hours),v.setMinutes(this.minutes))}setMinMaxTime(v){if(this.setMinMaxTimeFromOptions(),v){let{minDate:T,maxDate:w}=this.dp;T&&M(v,T)&&this.setMinTimeFromMinDate(T),w&&M(v,w)&&this.setMaxTimeFromMaxDate(w)}}setCurrentTime(v){let{hours:T,minutes:w}=v?o(v):this;this.hours=p(T,this.minHours,this.maxHours),this.minutes=p(w,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:v,minMinutes:T,maxHours:w,maxMinutes:F}=this.opts;this.minHours=p(v,0,23),this.minMinutes=p(T,0,59),this.maxHours=p(w,0,23),this.maxMinutes=p(F,0,59)}setMinTimeFromMinDate(v){let{lastSelectedDate:T}=this.dp;this.minHours=v.getHours(),T&&T.getHours()>v.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=v.getMinutes()}setMaxTimeFromMaxDate(v){let{lastSelectedDate:T}=this.dp;this.maxHours=v.getHours(),T&&T.getHours()<v.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=v.getMinutes()}updateSliders(){u(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,u(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=c(this.displayHours),this.$minutesText.innerHTML=c(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(v){this._hours=v;let{hours:T,dayPeriod:w}=b(v);this.displayHours=this.ampm?T:v,this.dayPeriod=w}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function Y(H,v,T){return(v=function(w){var F=function(N,k){if(typeof N!="object"||N===null)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(N,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(w);return typeof F=="symbol"?F:String(F)}(v))in H?Object.defineProperty(H,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[v]=T,H}class W{constructor(v){let{dp:T,opts:w}=v;Y(this,"pressedKeys",new Set),Y(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],F=>F.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],F=>F.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],F=>F.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],F=>F.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],F=>F.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],F=>F.year-=10],[["Control","Shift","ArrowUp"],(F,N)=>N.up()]])),Y(this,"handleHotKey",F=>{let N=this.hotKeys.get(F),k=o(this.getInitialFocusDate());N(k,this.dp);let{year:U,month:Q,date:ce}=k,ue=h(new Date(U,Q));ue<ce&&(ce=ue);let pe=this.dp.getClampedDate(new Date(U,Q,ce));this.dp.setFocusDate(pe,{viewDateTransition:!0})}),Y(this,"isHotKeyPressed",()=>{let F=!1,N=this.pressedKeys.size,k=U=>this.pressedKeys.has(U);for(let[U]of this.hotKeys){if(F)break;if(Array.isArray(U[0]))U.forEach(Q=>{F||N!==Q.length||(F=Q.every(k)&&U)});else{if(N!==U.length)continue;F=U.every(k)&&U}}return F}),Y(this,"isArrow",F=>F>=37&&F<=40),Y(this,"onKeyDown",F=>{let{key:N,which:k}=F,{dp:U,dp:{focusDate:Q},opts:ce}=this;this.registerKey(N);let ue=this.isHotKeyPressed();if(ue)return F.preventDefault(),void this.handleHotKey(ue);if(this.isArrow(k))return F.preventDefault(),void this.focusNextCell(N);if(N==="Enter"){if(U.currentView!==ce.minView)return void U.down();if(Q){let pe=U._checkIfDateIsSelected(Q);return void(pe?U._handleAlreadySelectedDates(pe,Q):U.selectDate(Q))}}N==="Escape"&&this.dp.hide()}),Y(this,"onKeyUp",F=>{this.removeKey(F.key)}),this.dp=T,this.opts=w,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:v}=this.dp;v.addEventListener("keydown",this.onKeyDown),v.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:v}=this.dp;v.removeEventListener("keydown",this.onKeyDown),v.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:v,currentView:T,selectedDates:w,parsedViewDate:{year:F,month:N}}=this.dp,k=v||w[w.length-1];if(!k)switch(T){case i.days:k=new Date(F,N,new Date().getDate());break;case i.months:k=new Date(F,N,1);break;case i.years:k=new Date(F,0,1)}return k}focusNextCell(v){let T=this.getInitialFocusDate(),{currentView:w}=this.dp,{days:F,months:N,years:k}=i,U=o(T),Q=U.year,ce=U.month,ue=U.date;switch(v){case"ArrowLeft":w===F&&(ue-=1),w===N&&(ce-=1),w===k&&(Q-=1);break;case"ArrowUp":w===F&&(ue-=7),w===N&&(ce-=3),w===k&&(Q-=4);break;case"ArrowRight":w===F&&(ue+=1),w===N&&(ce+=1),w===k&&(Q+=1);break;case"ArrowDown":w===F&&(ue+=7),w===N&&(ce+=3),w===k&&(Q+=4)}let pe=this.dp.getClampedDate(new Date(Q,ce,ue));this.dp.setFocusDate(pe,{viewDateTransition:!0})}registerKey(v){this.pressedKeys.add(v)}removeKey(v){this.pressedKeys.delete(v)}}let j={on(H,v){this.__events||(this.__events={}),this.__events[H]?this.__events[H].push(v):this.__events[H]=[v]},off(H,v){this.__events&&this.__events[H]&&(this.__events[H]=this.__events[H].filter(T=>T!==v))},removeAllEvents(){this.__events={}},trigger(H){for(var v=arguments.length,T=new Array(v>1?v-1:0),w=1;w<v;w++)T[w-1]=arguments[w];this.__events&&this.__events[H]&&this.__events[H].forEach(F=>{F(...T)})}};function L(H,v,T){return(v=function(w){var F=function(N,k){if(typeof N!="object"||N===null)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(N,"string");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(w);return typeof F=="symbol"?F:String(F)}(v))in H?Object.defineProperty(H,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[v]=T,H}let G="",B="",$=!1;class re{static buildGlobalContainer(v){$=!0,G=r({className:v,id:v}),s("body").appendChild(G)}constructor(v,T){var w=this;if(L(this,"viewIndexes",[i.days,i.months,i.years]),L(this,"next",()=>{let{year:k,month:U}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(k,U+1,1));break;case i.months:this.setViewDate(new Date(k+1,U,1));break;case i.years:this.setViewDate(new Date(k+10,0,1))}}),L(this,"prev",()=>{let{year:k,month:U}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(k,U-1,1));break;case i.months:this.setViewDate(new Date(k-1,U,1));break;case i.years:this.setViewDate(new Date(k-10,0,1))}}),L(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),L(this,"setPosition",function(k){let U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(k=k||w.opts.position)=="function")return void(w.customHide=k({$datepicker:w.$datepicker,$target:w.$el,$pointer:w.$pointer,isViewChange:U,done:w._finishHide}));let Q,ce,{isMobile:ue}=w.opts,pe=w.$el.getBoundingClientRect(),me=w.$el.getBoundingClientRect(),Oe=w.$datepicker.offsetParent,Pe=w.$el.offsetParent,ze=w.$datepicker.getBoundingClientRect(),tt=k.split(" "),Ie=window.scrollY,Bt=window.scrollX,ht=w.opts.offset,je=tt[0],qe=tt[1];if(ue)w.$datepicker.style.cssText="left: 50%; top: 50%";else{if(Oe===Pe&&Oe!==document.body&&(me={top:w.$el.offsetTop,left:w.$el.offsetLeft,width:pe.width,height:w.$el.offsetHeight},Ie=0,Bt=0),Oe!==Pe&&Oe!==document.body){let it=Oe.getBoundingClientRect();me={top:pe.top-it.top,left:pe.left-it.left,width:pe.width,height:pe.height},Ie=0,Bt=0}switch(je){case"top":Q=me.top-ze.height-ht;break;case"right":ce=me.left+me.width+ht;break;case"bottom":Q=me.top+me.height+ht;break;case"left":ce=me.left-ze.width-ht}switch(qe){case"top":Q=me.top;break;case"right":ce=me.left+me.width-ze.width;break;case"bottom":Q=me.top+me.height-ze.height;break;case"left":ce=me.left;break;case"center":/left|right/.test(je)?Q=me.top+me.height/2-ze.height/2:ce=me.left+me.width/2-ze.width/2}w.$datepicker.style.cssText=`left: ${ce+Bt}px; top: ${Q+Ie}px`}}),L(this,"_setInputValue",()=>{let{opts:k,$altField:U,locale:{dateFormat:Q}}=this,{altFieldDateFormat:ce,altField:ue}=k;ue&&U&&(U.value=this._getInputValue(ce)),this.$el.value=this._getInputValue(Q)}),L(this,"_getInputValue",k=>{let{selectedDates:U,opts:Q}=this,{multipleDates:ce,multipleDatesSeparator:ue}=Q;if(!U.length)return"";let pe=typeof k=="function",me=pe?k(ce?U:U[0]):U.map(Oe=>this.formatDate(Oe,k));return me=pe?me:me.join(ue),me}),L(this,"_checkIfDateIsSelected",function(k){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.days,Q=!1;return w.selectedDates.some(ce=>{let ue=M(k,ce,U);return Q=ue&&ce,ue}),Q}),L(this,"_scheduleCallAfterTransition",k=>{this._cancelScheduledCall(),k&&k(!1),this._onTransitionEnd=()=>{k&&k(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),L(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),L(this,"setViewDate",k=>{if(!((k=_(k))instanceof Date)||M(k,this.viewDate))return;let U=this.viewDate;this.viewDate=k;let{onChangeViewDate:Q}=this.opts;if(Q){let{month:ce,year:ue}=this.parsedViewDate;Q({month:ce,year:ue,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,k,U)}),L(this,"setFocusDate",function(k){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!k||(k=_(k))instanceof Date)&&(w.focusDate=k,w.trigger(i.eventChangeFocusDate,k,U))}),L(this,"setCurrentView",function(k){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w.viewIndexes.includes(k)){if(w.currentView=k,w.elIsInput&&w.visible&&w.setPosition(void 0,!0),w.trigger(i.eventChangeCurrentView,k),!w.views[k]){let Q=w.views[k]=new D({dp:w,opts:w.opts,type:k});w.shouldUpdateDOM&&w.$content.appendChild(Q.$el)}w.opts.onChangeView&&!U.silent&&w.opts.onChangeView(k)}}),L(this,"_updateLastSelectedDate",k=>{this.lastSelectedDate=k,this.trigger(i.eventChangeLastSelectedDate,k)}),L(this,"destroy",()=>{if(this.isDestroyed)return;let{showEvent:k,isMobile:U}=this.opts,Q=this.$datepicker.parentNode;Q&&Q.removeChild(this.$datepicker),this.$el.removeEventListener(k,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),U&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0}),L(this,"update",function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=f({},w.opts),{silent:ce}=U;f(w.opts,k);let{timepicker:ue,buttons:pe,range:me,selectedDates:Oe,isMobile:Pe}=w.opts,ze=w.visible||w.treatAsInline;w._createMinMaxDates(),w._limitViewDateByMaxMinDates(),w._handleLocale(),Oe&&(w.selectedDates=[],w.selectDate(Oe,{silent:ce})),k.view&&w.setCurrentView(k.view,{silent:ce}),w._setInputValue(),Q.range&&!me?(w.rangeDateTo=!1,w.rangeDateFrom=!1):!Q.range&&me&&w.selectedDates.length&&(w.rangeDateFrom=w.selectedDates[0],w.rangeDateTo=w.selectedDates[1]),Q.timepicker&&!ue?(ze&&w.timepicker.destroy(),w.timepicker=!1,w.$timepicker.parentNode.removeChild(w.$timepicker)):!Q.timepicker&&ue&&w._addTimepicker(),!Q.buttons&&pe?w._addButtons():Q.buttons&&!pe?(w.buttons.destroy(),w.$buttons.parentNode.removeChild(w.$buttons)):ze&&Q.buttons&&pe&&w.buttons.clearHtml().render(),!Q.isMobile&&Pe?(w.treatAsInline||B||w._createMobileOverlay(),w._addMobileAttributes(),w.visible&&w._showMobileOverlay()):Q.isMobile&&!Pe&&(w._removeMobileAttributes(),w.visible&&(B.classList.remove("-active-"),typeof w.opts.position!="function"&&w.setPosition())),ze&&(w.nav.update(),w.views[w.currentView].render(),w.currentView===i.days&&w.views[w.currentView].renderDayNames())}),L(this,"disableDate",(k,U)=>{(Array.isArray(k)?k:[k]).forEach(Q=>{let ce=_(Q);if(!ce)return;let ue=U?"delete":"add";this.disabledDates[ue](this.formatDate(ce,"yyyy-MM-dd"));let pe=this.getCell(ce,this.currentViewSingular);pe&&pe.adpCell.render()},[])}),L(this,"enableDate",k=>{this.disableDate(k,!0)}),L(this,"isDateDisabled",k=>{let U=_(k);return this.disabledDates.has(this.formatDate(U,"yyyy-MM-dd"))}),L(this,"isOtherMonth",k=>{let{month:U}=o(k);return U!==this.parsedViewDate.month}),L(this,"isOtherYear",k=>{let{year:U}=o(k);return U!==this.parsedViewDate.year}),L(this,"isOtherDecade",k=>{let{year:U}=o(k),[Q,ce]=g(this.viewDate);return U<Q||U>ce}),L(this,"_onChangeSelectedDate",k=>{let{silent:U}=k;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!U&&this._triggerOnSelect()})}),L(this,"_onChangeFocusedDate",function(k){let{viewDateTransition:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!k)return;let Q=!1;U&&(Q=w.isOtherMonth(k)||w.isOtherYear(k)||w.isOtherDecade(k)),Q&&w.setViewDate(k),w.opts.onFocus&&w.opts.onFocus({datepicker:w,date:k})}),L(this,"_onChangeTime",k=>{let{hours:U,minutes:Q}=k,ce=new Date,{lastSelectedDate:ue,opts:{onSelect:pe}}=this,me=ue;ue||(me=ce);let Oe=this.getCell(me,this.currentViewSingular),Pe=Oe&&Oe.adpCell;Pe&&Pe.isDisabled||(me.setHours(U),me.setMinutes(Q),ue?(this._setInputValue(),pe&&this._triggerOnSelect()):this.selectDate(me))}),L(this,"_onFocus",k=>{this.visible||this.show()}),L(this,"_onBlur",k=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),L(this,"_onMouseDown",k=>{this.inFocus=!0}),L(this,"_onMouseUp",k=>{this.inFocus=!1,this.$el.focus()}),L(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),L(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),L(this,"getViewDates",function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.days;return D.getDatesFunction(k)(w)}),L(this,"isWeekend",k=>this.opts.weekends.includes(k)),L(this,"getClampedDate",k=>{let{minDate:U,maxDate:Q}=this,ce=k;return Q&&I(k,Q)?ce=Q:U&&R(k,U)&&(ce=U),ce}),this.$el=s(v),!this.$el)return;this.$datepicker=r({className:"air-datepicker"}),this.opts=f({},n,T),this.$customContainer=!!this.opts.container&&s(this.opts.container),this.$altField=s(this.opts.altField||!1);let{view:F,startDate:N}=this.opts;N||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=_(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=F,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:v,treatAsInline:T,opts:{inline:w,isMobile:F,selectedDates:N,keyboardNav:k,onlyTimepicker:U}}=this,Q=s("body");(!$||$&&G&&!Q.contains(G))&&!w&&this.elIsInput&&!this.$customContainer&&re.buildGlobalContainer(re.defaultGlobalContainerId),!F||B||T||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(w||this._bindEvents(),k&&!U&&(this.keyboardNav=new W({dp:this,opts:v}))),N&&this.selectDate(N,{silent:!0}),this.opts.visible&&!T&&this.show(),F&&!T&&this.$el.setAttribute("readonly",!0),T&&this._createComponents()}_createMobileOverlay(){B=r({className:"air-datepicker-overlay"}),G.appendChild(B)}_createComponents(){let{opts:v,treatAsInline:T,opts:{inline:w,buttons:F,timepicker:N,position:k,classes:U,onlyTimepicker:Q,isMobile:ce}}=this;this._buildBaseHtml(),this.elIsInput&&(w||this._setPositionClasses(k)),!w&&this.elIsInput||this.$datepicker.classList.add("-inline-"),U&&this.$datepicker.classList.add(...U.split(" ")),Q&&this.$datepicker.classList.add("-only-timepicker-"),ce&&!T&&this._addMobileAttributes(),this.views[this.currentView]=new D({dp:this,type:this.currentView,opts:v}),this.nav=new P({dp:this,opts:v}),N&&this._addTimepicker(),F&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let v in this.views)this.views[v].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){B.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){B.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:v,maxDate:T}=this.opts;this.minDate=!!v&&_(v),this.maxDate=!!T&&_(T)}_addTimepicker(){this.$timepicker=r({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new Z({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=r({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new te({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:v}=this.opts;var T,w;this.elIsInput?v?(T=this.$datepicker,(w=this.$el).parentNode.insertBefore(T,w.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=s(".air-datepicker--content",this.$datepicker),this.$pointer=s(".air-datepicker--pointer",this.$datepicker),this.$nav=s(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:v,dateFormat:T,firstDay:w,timepicker:F,onlyTimepicker:N,timeFormat:k,dateTimeSeparator:U}=this.opts;var Q;this.locale=(Q=v,JSON.parse(JSON.stringify(Q))),T&&(this.locale.dateFormat=T),k!==void 0&&k!==""&&(this.locale.timeFormat=k);let{timeFormat:ce}=this.locale;if(w!==""&&(this.locale.firstDay=w),F&&typeof T!="function"){let ue=ce?U:"";this.locale.dateFormat=[this.locale.dateFormat,ce||""].join(ue)}N&&typeof T!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(v){if(typeof v=="function")return void this.$datepicker.classList.add("-custom-position-");let T=(v=v.split(" "))[0],w=`air-datepicker -${T}-${v[1]}- -from-${T}-`;this.$datepicker.classList.add(...w.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:v,minDate:T,maxDate:w}=this;w&&I(v,w)&&this.setViewDate(w),T&&R(v,T)&&this.setViewDate(T)}formatDate(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,T=arguments.length>1?arguments[1]:void 0;if(v=_(v),!(v instanceof Date))return;let w=T,F=this.locale,N=o(v),k=N.dayPeriod,U=g(v),Q=re.replacer,ce={T:v.getTime(),m:N.minutes,mm:N.fullMinutes,h:N.hours12,hh:N.fullHours12,H:N.hours,HH:N.fullHours,aa:k,AA:k.toUpperCase(),E:F.daysShort[N.day],EEEE:F.days[N.day],d:N.date,dd:N.fullDate,M:N.month+1,MM:N.fullMonth,MMM:F.monthsShort[N.month],MMMM:F.months[N.month],yy:N.year.toString().slice(-2),yyyy:N.year,yyyy1:U[0],yyyy2:U[1]};for(let[ue,pe]of Object.entries(ce))w=Q(w,m(ue),pe);return w}down(v){this._handleUpDownActions(v,"down")}up(v){this._handleUpDownActions(v,"up")}selectDate(v){let T,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:F,parsedViewDate:N,selectedDates:k}=this,{updateTime:U}=w,{moveToOtherMonthsOnSelect:Q,moveToOtherYearsOnSelect:ce,multipleDates:ue,range:pe,autoClose:me,onBeforeSelect:Oe}=this.opts,Pe=k.length;if(Array.isArray(v))return v.forEach(ze=>{this.selectDate(ze,w)}),new Promise(ze=>{setTimeout(ze)});if((v=_(v))instanceof Date){if(Oe&&!Oe({date:v,datepicker:this}))return Promise.resolve();if(F===i.days&&v.getMonth()!==N.month&&Q&&(T=new Date(v.getFullYear(),v.getMonth(),1)),F===i.years&&v.getFullYear()!==N.year&&ce&&(T=new Date(v.getFullYear(),0,1)),T&&this.setViewDate(T),ue&&!pe){if(Pe===ue)return;this._checkIfDateIsSelected(v)||k.push(v)}else if(pe)switch(Pe){case 1:k.push(v),this.rangeDateTo||(this.rangeDateTo=v),I(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=v),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[v],this.rangeDateFrom=v,this.rangeDateTo="";break;default:this.selectedDates=[v],this.rangeDateFrom=v}else this.selectedDates=[v];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:w?.silent,date:v,updateTime:U}),this._updateLastSelectedDate(v),me&&!this.timepickerIsActive&&this.visible&&(ue||pe?pe&&Pe===1&&this.hide():this.hide()),new Promise(ze=>{setTimeout(ze)})}}unselectDate(v){let T=this.selectedDates,w=this;if((v=_(v))instanceof Date)return T.some((F,N)=>{if(M(F,v))return T.splice(N,1),w.selectedDates.length?(w.rangeDateTo="",w.rangeDateFrom=T[0],w._updateLastSelectedDate(w.selectedDates[w.selectedDates.length-1])):(w.rangeDateFrom="",w.rangeDateTo="",w._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:v}),!0})}replaceDate(v,T){let w=this.selectedDates.find(N=>M(N,v,this.currentView)),F=this.selectedDates.indexOf(w);F<0||M(this.selectedDates[F],T,this.currentView)||(this.selectedDates[F]=T,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:T,updateTime:!0}),this._updateLastSelectedDate(T))}clear(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:v.silent}),new Promise(T=>{setTimeout(T)})}show(){let{onShow:v,isMobile:T}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,v&&this._scheduleCallAfterTransition(v),T&&this._showMobileOverlay()}hide(){let{onHide:v,isMobile:T}=this.opts,w=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(F=>{!this.customHide&&(F&&w||!F&&!w)&&this._finishHide(),v&&v(F)}),T&&B.classList.remove("-active-")}_triggerOnSelect(){let v=[],T=[],{selectedDates:w,locale:F,opts:{onSelect:N,multipleDates:k,range:U}}=this,Q=k||U,ce=typeof F.dateFormat=="function";w.length&&(v=w.map(l),T=ce?k?F.dateFormat(v):v.map(ue=>F.dateFormat(ue)):v.map(ue=>this.formatDate(ue,F.dateFormat))),N({date:Q?v:v[0],formattedDate:Q?T:T[0],datepicker:this})}_handleAlreadySelectedDates(v,T){let{selectedDates:w,rangeDateFrom:F,rangeDateTo:N}=this,{range:k,toggleSelected:U}=this.opts,Q=w.length,ce=typeof U=="function"?U({datepicker:this,date:T}):U,ue=!!(k&&Q===1&&v),pe=ue?l(T):T;k&&!ce&&(Q!==2&&this.selectDate(pe),Q===2&&M(F,N))||(ce?this.unselectDate(pe):this._updateLastSelectedDate(ue?pe:v))}_handleUpDownActions(v,T){if(!((v=_(v||this.focusDate||this.viewDate))instanceof Date))return;let w=T==="up"?this.viewIndex+1:this.viewIndex-1;w>2&&(w=2),w<0&&(w=0),this.setViewDate(new Date(v.getFullYear(),v.getMonth(),1)),this.setCurrentView(this.viewIndexes[w])}getCell(v){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.day;if(!((v=_(v))instanceof Date))return;let{year:w,month:F,date:N}=o(v),k=`[data-year="${w}"]`,U=`[data-month="${F}"]`,Q={[i.day]:`${k}${U}[data-date="${N}"]`,[i.month]:`${k}${U}`,[i.year]:`${k}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(Q[T]):void 0}_showMobileOverlay(){B.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((v,T)=>parseFloat(T)+v,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return o(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return g(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||G}static replacer(v,T,w){return v.replace(T,function(F,N,k,U){return N+w+U})}}var oe;return L(re,"defaults",n),L(re,"version","3.5.3"),L(re,"defaultGlobalContainerId","air-datepicker-global-container"),oe=re.prototype,Object.assign(oe,j),t.default}()})});var Ko=At(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.default=void 0;var Ia={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};cn.default=Ia});var Jo=At(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.default=void 0;var Na={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],monthsShort:["Jan","F\xE9v","Mars","Avr","Mai","Juin","Juil","Ao\xFBt","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1};un.default=Na});var el=At(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.default=void 0;var Fa={days:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1};dn.default=Fa});var Ul=At((Wl,as)=>{"use strict";(function(e,t){typeof as=="object"&&typeof as.exports=="object"?as.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:Wl,function(e,t){let i={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:i})),i})});var mi=At((ar,us)=>{"use strict";(function(e,t){typeof us=="object"&&typeof us.exports=="object"?us.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:ar,function(e,t){let i={name:"dialog",add:function(n){let s=n.context;s.dialog={kind:"",updateModal:!1,_closeSignal:!1};let r=n.util.createElement("DIV");r.className="se-dialog sun-editor-common";let u=n.util.createElement("DIV");u.className="se-dialog-back",u.style.display="none";let h=n.util.createElement("DIV");h.className="se-dialog-inner",h.style.display="none",r.appendChild(u),r.appendChild(h),s.dialog.modalArea=r,s.dialog.back=u,s.dialog.modal=h,s.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(n)),s.dialog.modal.addEventListener("click",this._onClick_dialog.bind(n)),s.element.relative.appendChild(r),r=null,u=null,h=null},_onMouseDown_dialog:function(n){/se-dialog-inner/.test(n.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(n){(/close/.test(n.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(n,s){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(u){/27/.test(u.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=s,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=n,this.modalForm=this.context[n].modal;let r=this.context[n].focusElement;typeof this.plugins[n].on=="function"&&this.plugins[n].on.call(this,s),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",r&&r.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);let n=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[n].init=="function"&&this.plugins[n].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var ps=At((hr,hs)=>{"use strict";(function(e,t){typeof hs=="object"&&typeof hs.exports=="object"?hs.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:hr,function(e,t){let i={name:"component",set_container:function(n,s){let r=this.util.createElement("DIV");return r.className="se-component "+s,r.appendChild(n),r},set_cover:function(n){let s=this.util.createElement("FIGURE");return s.appendChild(n),s},create_caption:function(){let n=this.util.createElement("FIGCAPTION");return n.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",n}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var qs=At((pr,fs)=>{"use strict";(function(e,t){typeof fs=="object"&&typeof fs.exports=="object"?fs.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:pr,function(e,t){let i={name:"resizing",add:function(n){let s=n.icons,r=n.context;r.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:s.align_justify,left:s.align_left,right:s.align_right,center:s.align_center}};let u=this.setController_resize(n);r.resizing.resizeContainer=u,r.resizing.resizeDiv=u.querySelector(".se-modal-resize"),r.resizing.resizeDot=u.querySelector(".se-resize-dot"),r.resizing.resizeDisplay=u.querySelector(".se-resize-display");let h=this.setController_button(n);r.resizing.resizeButton=h;let o=r.resizing.resizeHandles=r.resizing.resizeDot.querySelectorAll("span");r.resizing.resizeButtonGroup=h.querySelector("._se_resizing_btn_group"),r.resizing.rotationButtons=h.querySelectorAll("._se_resizing_btn_group ._se_rotation"),r.resizing.percentageButtons=h.querySelectorAll("._se_resizing_btn_group ._se_percentage"),r.resizing.alignMenu=h.querySelector(".se-resizing-align-list"),r.resizing.alignMenuList=r.resizing.alignMenu.querySelectorAll("button"),r.resizing.alignButton=h.querySelector("._se_resizing_align_button"),r.resizing.autoSizeButton=h.querySelector("._se_resizing_btn_group ._se_auto_size"),r.resizing.captionButton=h.querySelector("._se_resizing_caption_button"),u.addEventListener("mousedown",function(b){b.preventDefault()}),o[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),o[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(n)),h.addEventListener("click",this.onClick_resizeButton.bind(n)),r.element.relative.appendChild(u),r.element.relative.appendChild(h),u=null,h=null,o=null},setController_resize:function(n){let s=n.util.createElement("DIV");return s.className="se-controller se-resizing-container",s.style.display="none",s.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',s},setController_button:function(n){let s=n.lang,r=n.icons,u=n.util.createElement("DIV");return u.className="se-controller se-controller-resizing",u.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+r.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+r.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+r.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+r.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+r.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+r.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+r.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+r.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+r.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+r.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+r.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+r.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+r.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+r.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.remove+"</span></span></button></div>",u},_module_getSizeX:function(n,s,r,u){return s||(s=n._element),r||(r=n._cover),u||(u=n._container),s?/%$/.test(s.style.width)?(u&&this.util.getNumber(u.style.width,2)||100)+"%":s.style.width:""},_module_getSizeY:function(n,s,r,u){return s||(s=n._element),r||(r=n._cover),u||(u=n._container),!u||!r?s&&s.style.height||"":this.util.getNumber(r.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?r.style.height:!/%$/.test(s.style.height)||!/%$/.test(s.style.width)?s.style.height:(u&&this.util.getNumber(u.style.height,2)||100)+"%"},_module_setModifyInputSize:function(n,s){let r=n._onlyPercentage&&this.context.resizing._rotateVertical;n.proportion.checked=n._proportionChecked=n._element.getAttribute("data-proportion")!=="false";let u=r?"":this.plugins.resizing._module_getSizeX.call(this,n);if(u===n._defaultSizeX&&(u=""),n._onlyPercentage&&(u=this.util.getNumber(u,2)),n.inputX.value=u,s.setInputSize.call(this,"x"),!n._onlyPercentage){let h=r?"":this.plugins.resizing._module_getSizeY.call(this,n);h===n._defaultSizeY&&(h=""),n._onlyPercentage&&(h=this.util.getNumber(h,2)),n.inputY.value=h}n.inputX.disabled=!!r,n.inputY.disabled=!!r,n.proportion.disabled=!!r,s.setRatio.call(this)},_module_setInputSize:function(n,s){if(n._onlyPercentage){s==="x"&&n.inputX.value>100&&(n.inputX.value=100);return}if(n.proportion.checked&&n._ratio&&/\d/.test(n.inputX.value)&&/\d/.test(n.inputY.value)){let r=n.inputX.value.replace(/\d+|\./g,"")||n.sizeUnit,u=n.inputY.value.replace(/\d+|\./g,"")||n.sizeUnit;if(r!==u)return;let h=r==="%"?2:0;s==="x"?n.inputY.value=this.util.getNumber(n._ratioY*this.util.getNumber(n.inputX.value,h),h)+u:n.inputX.value=this.util.getNumber(n._ratioX*this.util.getNumber(n.inputY.value,h),h)+r}},_module_setRatio:function(n){let s=n.inputX.value,r=n.inputY.value;if(n.proportion.checked&&/\d+/.test(s)&&/\d+/.test(r)){let u=s.replace(/\d+|\./g,"")||n.sizeUnit,h=r.replace(/\d+|\./g,"")||n.sizeUnit;if(u!==h)n._ratio=!1;else if(!n._ratio){let o=this.util.getNumber(s,0),b=this.util.getNumber(r,0);n._ratio=!0,n._ratioX=o/b,n._ratioY=b/o}}else n._ratio=!1},_module_sizeRevert:function(n){n._onlyPercentage?n.inputX.value=n._origin_w>100?100:n._origin_w:(n.inputX.value=n._origin_w,n.inputY.value=n._origin_h)},_module_saveCurrentSize:function(n){let s=this.plugins.resizing._module_getSizeX.call(this,n),r=this.plugins.resizing._module_getSizeY.call(this,n);n._element.setAttribute("width",s.replace("px","")),n._element.setAttribute("height",r.replace("px","")),n._element.setAttribute("data-size",s+","+r),n._videoRatio&&(n._videoRatio=r)},call_controller_resize:function(n,s){let r=this.context.resizing,u=this.context[s];r._resize_plugin=s;let h=r.resizeContainer,o=r.resizeDiv,b=this.util.getOffset(n,this.context.element.wysiwygFrame),c=r._rotateVertical=/^(90|270)$/.test(Math.abs(n.getAttribute("data-rotate")).toString()),g=c?n.offsetHeight:n.offsetWidth,E=c?n.offsetWidth:n.offsetHeight,M=b.top,I=b.left-this.context.element.wysiwygFrame.scrollLeft;h.style.top=M+"px",h.style.left=I+"px",h.style.width=g+"px",h.style.height=E+"px",o.style.top="0px",o.style.left="0px",o.style.width=g+"px",o.style.height=E+"px";let R=n.getAttribute("data-align")||"basic";R=R==="none"?"basic":R;let l=this.util.getParentElement(n,this.util.isComponent),a=this.util.getParentElement(n,"FIGURE"),d=this.plugins.resizing._module_getSizeX.call(this,u,n,a,l)||"auto",p=u._onlyPercentage&&s==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,u,n,a,l)||"auto");this.util.changeTxt(r.resizeDisplay,this.lang.dialogBox[R]+" ("+d+p+")"),r.resizeButtonGroup.style.display=u._resizing?"":"none";let f=u._resizing&&!u._resizeDotHide&&!u._onlyPercentage?"flex":"none",_=r.resizeHandles;for(let V=0,D=_.length;V<D;V++)_[V].style.display=f;if(u._resizing){let V=r.rotationButtons;V[0].style.display=V[1].style.display=u._rotation?"":"none"}if(u._alignHide)r.alignButton.style.display="none";else{r.alignButton.style.display="";let V=r.alignMenuList;this.util.changeElement(r.alignButton.firstElementChild,r.alignIcons[R]);for(let D=0,O=V.length;D<O;D++)V[D].getAttribute("data-value")===R?this.util.addClass(V[D],"on"):this.util.removeClass(V[D],"on")}let m=r.percentageButtons,y=/%$/.test(n.style.width)&&/%$/.test(l.style.width)?this.util.getNumber(l.style.width,0)/100+"":"";for(let V=0,D=m.length;V<D;V++)m[V].getAttribute("data-value")===y?this.util.addClass(m[V],"active"):this.util.removeClass(m[V],"active");u._captionShow?(r.captionButton.style.display="",this.util.getChildElement(n.parentNode,"figcaption")?(this.util.addClass(r.captionButton,"active"),u._captionChecked=!0):(this.util.removeClass(r.captionButton,"active"),u._captionChecked=!1)):r.captionButton.style.display="none",h.style.display="block";let x={left:0,top:50};this.options.iframe&&(x.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,x.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(r.resizeButton,h,"bottom",x);let C=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(h,r.resizeButton,C.bind(this),n,s),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),r._resize_w=g,r._resize_h=E;let S=(n.getAttribute("origin-size")||"").split(",");return r._origin_w=S[0]||n.naturalWidth,r._origin_h=S[1]||n.naturalHeight,{w:g,h:E,t:M,l:I}},_closeAlignMenu:null,openAlignMenu:function(){let n=this.context.resizing.alignButton;this.util.addClass(n,"on"),this.context.resizing.alignMenu.style.top=n.offsetTop+n.offsetHeight+"px",this.context.resizing.alignMenu.style.left=n.offsetLeft-n.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(n){n.stopPropagation();let s=n.target,r=s.getAttribute("data-command")||s.parentNode.getAttribute("data-command");if(!r)return;let u=s.getAttribute("data-value")||s.parentNode.getAttribute("data-value"),h=this.context.resizing._resize_plugin,o=this.context[h],b=o._element,c=this.plugins[h];if(n.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),r==="onalign"))){switch(r){case"auto":this.plugins.resizing.resetTransform.call(this,b),c.setAutoSize.call(this),this.selectComponent(b,h);break;case"percent":let g=this.plugins.resizing._module_getSizeY.call(this,o);if(this.context.resizing._rotateVertical){let f=b.getAttribute("data-percentage");f&&(g=f.split(",")[1])}this.plugins.resizing.resetTransform.call(this,b),c.setPercentSize.call(this,u*100,this.util.getNumber(g,0)===null||!/%$/.test(g)?"":g),this.selectComponent(b,h);break;case"mirror":let E=b.getAttribute("data-rotate")||"0",M=b.getAttribute("data-rotateX")||"",I=b.getAttribute("data-rotateY")||"";u==="h"&&!this.context.resizing._rotateVertical||u==="v"&&this.context.resizing._rotateVertical?I=I?"":"180":M=M?"":"180",b.setAttribute("data-rotateX",M),b.setAttribute("data-rotateY",I),this.plugins.resizing._setTransForm(b,E,M,I);break;case"rotate":let R=this.context.resizing,l=b.getAttribute("data-rotate")*1+u*1,a=this._w.Math.abs(l)>=360?0:l;b.setAttribute("data-rotate",a),R._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(a).toString()),this.plugins.resizing.setTransformSize.call(this,b,null,null),this.selectComponent(b,h);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":let d=u==="basic"?"none":u;c.setAlign.call(this,d,null,null,null),this.selectComponent(b,h);break;case"caption":let p=!o._captionChecked;if(c.openModify.call(this,!0),o._captionChecked=o.captionCheckEl.checked=p,c.update_image.call(this,!1,!1,!1),p){let f=this.util.getChildElement(o._caption,function(_){return _.nodeType===3});f?this.setRange(f,0,f,f.textContent.length):o._caption.focus(),this.controllersOff()}else this.selectComponent(b,h),c.openModify.call(this,!0);break;case"revert":c.setOriginSize.call(this),this.selectComponent(b,h);break;case"update":c.openModify.call(this),this.controllersOff();break;case"delete":c.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(n){let s=(n.getAttribute("data-size")||n.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,n.style.maxWidth="",n.style.transform="",n.style.transformOrigin="",n.setAttribute("data-rotate",""),n.setAttribute("data-rotateX",""),n.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,s[0]?s[0]:"auto",s[1]?s[1]:"",!0)},setTransformSize:function(n,s,r){let u=n.getAttribute("data-percentage"),h=this.context.resizing._rotateVertical,o=n.getAttribute("data-rotate")*1,b="";if(u&&!h)u=u.split(","),u[0]==="auto"&&u[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,u[0],u[1]);else{let c=this.util.getParentElement(n,"FIGURE"),g=s||n.offsetWidth,E=r||n.offsetHeight,M=(h?E:g)+"px",I=(h?g:E)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,g+"px",E+"px",!0),c.style.width=M,c.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":I,h){let R=g/2+"px "+g/2+"px 0",l=E/2+"px "+E/2+"px 0";b=o===90||o===-270?l:R}}n.style.transformOrigin=b,this.plugins.resizing._setTransForm(n,o.toString(),n.getAttribute("data-rotateX")||"",n.getAttribute("data-rotateY")||""),h?n.style.maxWidth="none":n.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,n)},_setTransForm:function(n,s,r,u){let h=(n.offsetWidth-n.offsetHeight)*(/-/.test(s)?1:-1),o="";if(/[1-9]/.test(s)&&(r||u))switch(o=r?"Y":"X",s){case"90":o=r&&u?"X":u?o:"";break;case"270":h*=-1,o=r&&u?"Y":r?o:"";break;case"-90":o=r&&u?"Y":r?o:"";break;case"-270":h*=-1,o=r&&u?"X":u?o:"";break;default:o=""}s%180===0&&(n.style.maxWidth=""),n.style.transform="rotate("+s+"deg)"+(r?" rotateX("+r+"deg)":"")+(u?" rotateY("+u+"deg)":"")+(o?" translate"+o+"("+h+"px)":"")},setCaptionPosition:function(n){let s=this.util.getChildElement(this.util.getParentElement(n,"FIGURE"),"FIGCAPTION");s&&(s.style.marginTop=(this.context.resizing._rotateVertical?n.offsetWidth-n.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(n){n.stopPropagation(),n.preventDefault();let s=this.context.resizing,r=s._resize_direction=n.target.classList[0];s._resizeClientX=n.clientX,s._resizeClientY=n.clientY,this.context.element.resizeBackground.style.display="block",s.resizeButton.style.display="none",s.resizeDiv.style.float=/l/.test(r)?"right":/r/.test(r)?"left":"none";let u=function(b){if(b.type==="keydown"&&b.keyCode!==27)return;let c=s._isChange;s._isChange=!1,this.removeDocEvent("mousemove",h),this.removeDocEvent("mouseup",u),this.removeDocEvent("keydown",u),b.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,r),c&&this.history.push(!1))}.bind(this),h=this.plugins.resizing.resizing_element.bind(this,s,r,this.context[s._resize_plugin]);this.addDocEvent("mousemove",h),this.addDocEvent("mouseup",u),this.addDocEvent("keydown",u)},resizing_element:function(n,s,r,u){let h=u.clientX,o=u.clientY,b=r._element_w,c=r._element_h,g=r._element_w+(/r/.test(s)?h-n._resizeClientX:n._resizeClientX-h),E=r._element_h+(/b/.test(s)?o-n._resizeClientY:n._resizeClientY-o),M=r._element_h/r._element_w*g;/t/.test(s)&&(n.resizeDiv.style.top=r._element_h-(/h/.test(s)?E:M)+"px"),/l/.test(s)&&(n.resizeDiv.style.left=r._element_w-g+"px"),/r|l/.test(s)&&(n.resizeDiv.style.width=g+"px",b=g),/^(t|b)[^h]$/.test(s)?(n.resizeDiv.style.height=M+"px",c=M):/^(t|b)h$/.test(s)&&(n.resizeDiv.style.height=E+"px",c=E),n._resize_w=b,n._resize_h=c,this.util.changeTxt(n.resizeDisplay,this._w.Math.round(b)+" x "+this._w.Math.round(c)),n._isChange=!0},cancel_controller_resize:function(n){let s=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let r=this._w.Math.round(s?this.context.resizing._resize_h:this.context.resizing._resize_w),u=this._w.Math.round(s?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!s&&!/%$/.test(r)){let b=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(r,0)>b&&(u=this._w.Math.round(u/r*b),r=b)}let h=this.context.resizing._resize_plugin;this.plugins[h].setSize.call(this,r,u,!1,n),s&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,r,u),this.selectComponent(this.context[h]._element,h)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var gs=At((fr,ms)=>{"use strict";(function(e,t){typeof ms=="object"&&typeof ms.exports=="object"?ms.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:fr,function(e,t){let i={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(n){return/IMG/i.test(n)?!/FIGURE/i.test(n.parentElement.nodeName)||!/FIGURE/i.test(n.parentElement.parentElement.nodeName):!0},upload:function(n,s,r,u,h){this.showLoading();let o=this.plugins.fileManager,b=o._xmlHttp=this.util.getXMLHttpRequest();if(b.onreadystatechange=o._callBackUpload.bind(this,b,u,h),b.open("post",n,!0),s!==null&&typeof s=="object"&&this._w.Object.keys(s).length>0)for(let c in s)b.setRequestHeader(c,s[c]);b.send(r)},_callBackUpload:function(n,s,r){if(n.readyState===4)if(n.status===200)try{s(n)}catch(u){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+u.message+'"')}finally{this.closeLoading()}else{this.closeLoading();let u=n.responseText?JSON.parse(n.responseText):n;if(typeof r!="function"||r("",u,this)){let h="[SUNEDITOR.fileManager.upload.serverException] status: "+n.status+", response: "+(u.errorMessage||n.responseText);throw this.functions.noticeOpen(h),Error(h)}}},checkInfo:function(n,s,r,u,h){let o=[];for(let l=0,a=s.length;l<a;l++)o=o.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(s[l]+':not([data-se-embed="true"])')));let b=this.plugins.fileManager,c=this.context[n],g=c._infoList,E=b.setInfo.bind(this);if(o.length===g.length)if(this._componentsInfoReset){for(let l=0,a=o.length;l<a;l++)E(n,o[l],r,null,h);return}else{let l=!1;for(let a=0,d=g.length,p;a<d;a++)if(p=g[a],o.filter(function(f){return p.src===f.src&&p.index.toString()===f.getAttribute("data-index")}).length===0){l=!0;break}if(!l)return}let M=h?this.context.resizing._resize_plugin:"";h&&(this.context.resizing._resize_plugin=n);let I=[],R=[];for(let l=0,a=g.length;l<a;l++)R[l]=g[l].index;for(c.__updateTags=o;o.length>0;){let l=o.shift();!this.util.getParentElement(l,this.util.isMediaComponent)||!b._checkMediaComponent(l)?(I.push(c._infoIndex),u(l)):!l.getAttribute("data-index")||R.indexOf(l.getAttribute("data-index")*1)<0?(I.push(c._infoIndex),l.removeAttribute("data-index"),E(n,l,r,null,h)):I.push(l.getAttribute("data-index")*1)}for(let l=0,a;l<g.length;l++)a=g[l].index,!(I.indexOf(a)>-1)&&(g.splice(l,1),typeof r=="function"&&r(null,a,"delete",null,0,this),l--);h&&(this.context.resizing._resize_plugin=M)},setInfo:function(n,s,r,u,h){let o=h?this.context.resizing._resize_plugin:"";h&&(this.context.resizing._resize_plugin=n);let b=this.plugins[n],c=this.context[n],g=c._infoList,E=s.getAttribute("data-index"),M=null,I="";if(u||(u={name:s.getAttribute("data-file-name")||(typeof s.src=="string"?s.src.split("/").pop():""),size:s.getAttribute("data-file-size")||0}),!E||this._componentsInfoInit)I="create",E=c._infoIndex++,s.setAttribute("data-index",E),s.setAttribute("data-file-name",u.name),s.setAttribute("data-file-size",u.size),M={src:s.src,index:E*1,name:u.name,size:u.size},g.push(M);else{I="update",E*=1;for(let R=0,l=g.length;R<l;R++)if(E===g[R].index){M=g[R];break}M||(E=c._infoIndex++,M={index:E},g.push(M)),M.src=s.src,M.name=s.getAttribute("data-file-name"),M.size=s.getAttribute("data-file-size")*1}if(M.element=s,M.delete=b.destroy.bind(this,s),M.select=function(R){R.scrollIntoView(!0),this._w.setTimeout(b.select.bind(this,R))}.bind(this,s),h){if(!s.getAttribute("origin-size")&&s.naturalWidth&&s.setAttribute("origin-size",s.naturalWidth+","+s.naturalHeight),!s.getAttribute("data-origin")){let R=this.util.getParentElement(s,this.util.isMediaComponent),l=this.util.getParentElement(s,"FIGURE"),a=this.plugins.resizing._module_getSizeX.call(this,c,s,l,R),d=this.plugins.resizing._module_getSizeY.call(this,c,s,l,R);s.setAttribute("data-origin",a+","+d),s.setAttribute("data-size",a+","+d)}if(!s.style.width){let R=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");b.onModifyMode.call(this,s,null),b.applySize.call(this,R[0],R[1])}this.context.resizing._resize_plugin=o}typeof r=="function"&&r(s,E,I,M,--c._uploadFileLength<0?0:c._uploadFileLength,this)},deleteInfo:function(n,s,r){if(s>=0){let u=this.context[n]._infoList;for(let h=0,o=u.length;h<o;h++)if(s===u[h].index){u.splice(h,1),typeof r=="function"&&r(null,s,"delete",null,0,this);return}}},resetInfo:function(n,s){let r=this.context[n];if(typeof s=="function"){let u=r._infoList;for(let h=0,o=u.length;h<o;h++)s(null,u[h].index,"delete",null,0,this)}r._infoList=[],r._infoIndex=0}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var Fr=At((Nr,_s)=>{"use strict";(function(e,t){typeof _s=="object"&&typeof _s.exports=="object"?_s.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(i)}:t(e)})(typeof window<"u"?window:Nr,function(e,t){let i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(n){let s=n.context;s.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let r=n.util.createElement("DIV");r.className="se-file-browser sun-editor-common";let u=n.util.createElement("DIV");u.className="se-file-browser-back";let h=n.util.createElement("DIV");h.className="se-file-browser-inner",h.innerHTML=this.set_browser(n),r.appendChild(u),r.appendChild(h),this._loading=r.querySelector(".se-loading-box"),s.fileBrowser.area=r,s.fileBrowser.header=h.querySelector(".se-file-browser-header"),s.fileBrowser.titleArea=h.querySelector(".se-file-browser-title"),s.fileBrowser.tagArea=h.querySelector(".se-file-browser-tags"),s.fileBrowser.body=h.querySelector(".se-file-browser-body"),s.fileBrowser.list=h.querySelector(".se-file-browser-list"),s.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(n)),s.fileBrowser.list.addEventListener("click",this.onClickFile.bind(n)),h.addEventListener("mousedown",this._onMouseDown_browser.bind(n)),h.addEventListener("click",this._onClick_browser.bind(n)),s.element.relative.appendChild(r),r=null,u=null,h=null},set_browser:function(n){let s=n.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+s.dialogBox.close+'" aria-label="'+s.dialogBox.close+'">'+n.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(n){/se-file-browser-inner/.test(n.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(n){n.stopPropagation(),(/close/.test(n.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(n,s){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(o){/27/.test(o.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);let r=this.context.fileBrowser;r.contextPlugin=n,r.selectorHandler=s;let u=this.context[n],h=u.listClass;this.util.hasClass(r.list,h)||(r.list.className="se-file-browser-list "+h),this.options.popupDisplay==="full"?r.area.style.position="fixed":r.area.style.position="absolute",r.titleArea.textContent=u.title,r.area.style.display="block",this.context[n].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[n].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[n].url,this.context[n].header)},_bindClose:null,close:function(){let n=this.plugins.fileBrowser;n._xmlHttp&&n._xmlHttp.abort(),n._bindClose&&(this._d.removeEventListener("keydown",n._bindClose),n._bindClose=null);let s=this.context.fileBrowser;s.area.style.display="none",s.selectorHandler=null,s.selectedTags=[],s.items=[],s.list.innerHTML=s.tagArea.innerHTML=s.titleArea.textContent="",typeof this.plugins[s.contextPlugin].init=="function"&&this.plugins[s.contextPlugin].init.call(this),s.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(n,s){let r=this.plugins.fileBrowser,u=r._xmlHttp=this.util.getXMLHttpRequest();if(u.onreadystatechange=r._callBackGet.bind(this,u),u.open("get",n,!0),s!==null&&typeof s=="object"&&this._w.Object.keys(s).length>0)for(let h in s)u.setRequestHeader(h,s[h]);u.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(n){if(n.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,n.status===200)try{let s=JSON.parse(n.responseText);s.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,s.result,!0):s.nullMessage&&(this.context.fileBrowser.list.innerHTML=s.nullMessage)}catch(s){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+s.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),n.status!==0){let s=n.responseText?JSON.parse(n.responseText):n,r="[SUNEDITOR.fileBrowser.get.serverException] status: "+n.status+", response: "+(s.errorMessage||n.responseText);throw Error(r)}}},_drawListItem:function(n,s){let r=this.context.fileBrowser,u=this.context[r.contextPlugin],h=[],o=n.length,b=u.columnSize||r.columnSize,c=b<=1?1:Math.round(o/b)||1,g=u.itemTemplateHandler,E="",M='<div class="se-file-item-column">',I=1;for(let R=0,l,a;R<o;R++)if(l=n[R],a=l.tag?typeof l.tag=="string"?l.tag.split(","):l.tag:[],a=l.tag=a.map(function(d){return d.trim()}),M+=g(l),(R+1)%c===0&&I<b&&R+1<o&&(I++,M+='</div><div class="se-file-item-column">'),s&&a.length>0)for(let d=0,p=a.length,f;d<p;d++)f=a[d],f&&h.indexOf(f)===-1&&(h.push(f),E+='<a title="'+f+'" aria-label="'+f+'">'+f+"</a>");M+="</div>",r.list.innerHTML=M,s&&(r.items=n,r.tagArea.innerHTML=E,r.tagElements=r.tagArea.querySelectorAll("A"))},onClickTag:function(n){let s=n.target;if(!this.util.isAnchor(s))return;let r=s.textContent,u=this.plugins.fileBrowser,h=this.context.fileBrowser,o=h.tagArea.querySelector('a[title="'+r+'"]'),b=h.selectedTags,c=b.indexOf(r);c>-1?(b.splice(c,1),this.util.removeClass(o,"on")):(b.push(r),this.util.addClass(o,"on")),u._drawListItem.call(this,b.length===0?h.items:h.items.filter(function(g){return g.tag.some(function(E){return b.indexOf(E)>-1})}),!1)},onClickFile:function(n){n.preventDefault(),n.stopPropagation();let s=this.context.fileBrowser,r=s.list,u=n.target,h=null;if(u===r)return;for(;r!==u.parentNode&&(h=u.getAttribute("data-command"),!h);)u=u.parentNode;if(!h)return;(s.selectorHandler||this.context[s.contextPlugin].selectorHandler)(u,u.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})});var Do=(()=>{class e{_renderer;_elementRef;onChange=i=>{};onTouched=()=>{};constructor(i,n){this._renderer=i,this._elementRef=n}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static \u0275fac=function(n){return new(n||e)(Ue(Cs),Ue(ys))};static \u0275dir=yt({type:e})}return e})(),Hr=(()=>{class e extends Do{static \u0275fac=(()=>{let i;return function(s){return(i||(i=Ut(e)))(s||e)}})();static \u0275dir=yt({type:e,features:[$e]})}return e})(),at=new Zt("");var Pr={provide:at,useExisting:nt(()=>Mo),multi:!0};function zr(){let e=ws()?ws().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Wr=new Zt(""),Mo=(()=>{class e extends Do{_compositionMode;_composing=!1;constructor(i,n,s){super(i,n),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!zr())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static \u0275fac=function(n){return new(n||e)(Ue(Cs),Ue(ys),Ue(Wr,8))};static \u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&le("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},standalone:!1,features:[st([Pr]),$e]})}return e})();function Ds(e){return e==null||Ms(e)===0}function Ms(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var sn=new Zt(""),on=new Zt(""),Ur=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fe=class{static min(t){return qr(t)}static max(t){return $r(t)}static required(t){return Zr(t)}static requiredTrue(t){return jr(t)}static email(t){return Gr(t)}static minLength(t){return Yr(t)}static maxLength(t){return Qr(t)}static pattern(t){return Xr(t)}static nullValidator(t){return Lo()}static compose(t){return Ao(t)}static composeAsync(t){return Ro(t)}};function qr(e){return t=>{if(t.value==null||e==null)return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function $r(e){return t=>{if(t.value==null||e==null)return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function Zr(e){return Ds(e.value)?{required:!0}:null}function jr(e){return e.value===!0?null:{required:!0}}function Gr(e){return Ds(e.value)||Ur.test(e.value)?null:{email:!0}}function Yr(e){return t=>{let i=t.value?.length??Ms(t.value);return i===null||i===0?null:i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}function Qr(e){return t=>{let i=t.value?.length??Ms(t.value);return i!==null&&i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}function Xr(e){if(!e)return Lo;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(Ds(n.value))return null;let s=n.value;return t.test(s)?null:{pattern:{requiredPattern:i,actualValue:s}}}}function Lo(e){return null}function Io(e){return e!=null}function No(e){return to(e)?js(e):e}function Fo(e){let t={};return e.forEach(i=>{t=i!=null?We(We({},t),i):t}),Object.keys(t).length===0?null:t}function Oo(e,t){return t.map(i=>i(e))}function Kr(e){return!e.validate}function Bo(e){return e.map(t=>Kr(t)?t:i=>t.validate(i))}function Ao(e){if(!e)return null;let t=e.filter(Io);return t.length==0?null:function(i){return Fo(Oo(i,t))}}function Vo(e){return e!=null?Ao(Bo(e)):null}function Ro(e){if(!e)return null;let t=e.filter(Io);return t.length==0?null:function(i){let n=Oo(i,t).map(No);return Ys(n).pipe(gi(Fo))}}function Ho(e){return e!=null?Ro(Bo(e)):null}function Co(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Po(e){return e._rawValidators}function zo(e){return e._rawAsyncValidators}function xs(e){return e?Array.isArray(e)?e:[e]:[]}function Gi(e,t){return Array.isArray(e)?e.includes(t):e===t}function wo(e,t){let i=xs(t);return xs(e).forEach(s=>{Gi(i,s)||i.push(s)}),i}function xo(e,t){return xs(t).filter(i=>!Gi(e,i))}var Yi=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vo(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ho(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Gt=class extends Yi{name;get formDirective(){return null}get path(){return null}},Ft=class extends Yi{_parent=null;name=null;valueAccessor=null},Qi=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Jr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Dd=Qe(We({},Jr),{"[class.ng-submitted]":"isSubmitted"}),_t=(()=>{class e extends Qi{constructor(i){super(i)}static \u0275fac=function(n){return new(n||e)(Ue(Ft,2))};static \u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&Ve("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[$e]})}return e})(),St=(()=>{class e extends Qi{constructor(i){super(i)}static \u0275fac=function(n){return new(n||e)(Ue(Gt,10))};static \u0275dir=yt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){n&2&&Ve("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},standalone:!1,features:[$e]})}return e})();var yi="VALID",ji="INVALID",ni="PENDING",Ci="DISABLED",$t=class{},Xi=class extends $t{value;source;constructor(t,i){super(),this.value=t,this.source=i}},wi=class extends $t{pristine;source;constructor(t,i){super(),this.pristine=t,this.source=i}},xi=class extends $t{touched;source;constructor(t,i){super(),this.touched=t,this.source=i}},si=class extends $t{status;source;constructor(t,i){super(),this.status=t,this.source=i}},Ts=class extends $t{source;constructor(t){super(),this.source=t}},Ss=class extends $t{source;constructor(t){super(),this.source=t}};function Ls(e){return(ln(e)?e.validators:e)||null}function ea(e){return Array.isArray(e)?Vo(e):e||null}function Is(e,t){return(ln(t)?t.asyncValidators:e)||null}function ta(e){return Array.isArray(e)?Ho(e):e||null}function ln(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Wo(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new Pi(1e3,"");if(!n[i])throw new Pi(1001,"")}function Uo(e,t,i){e._forEachChild((n,s)=>{if(i[s]===void 0)throw new Pi(1002,"")})}var oi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,i){this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return qt(this.statusReactive)}set status(t){qt(()=>this.statusReactive.set(t))}_status=Be(()=>this.statusReactive());statusReactive=he(void 0);get valid(){return this.status===yi}get invalid(){return this.status===ji}get pending(){return this.status==ni}get disabled(){return this.status===Ci}get enabled(){return this.status!==Ci}errors;get pristine(){return qt(this.pristineReactive)}set pristine(t){qt(()=>this.pristineReactive.set(t))}_pristine=Be(()=>this.pristineReactive());pristineReactive=he(!0);get dirty(){return!this.pristine}get touched(){return qt(this.touchedReactive)}set touched(t){qt(()=>this.touchedReactive.set(t))}_touched=Be(()=>this.touchedReactive());touchedReactive=he(!1);get untouched(){return!this.touched}_events=new Vi;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(wo(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wo(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(xo(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(xo(t,this._rawAsyncValidators))}hasValidator(t){return Gi(this._rawValidators,t)}hasAsyncValidator(t){return Gi(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Qe(We({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new xi(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),i&&t.emitEvent!==!1&&this._events.next(new xi(!1,n))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Qe(We({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new wi(!1,n))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&t.emitEvent!==!1&&this._events.next(new wi(!0,n))}markAsPending(t={}){this.status=ni;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new si(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Qe(We({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Ci,this.errors=null,this._forEachChild(s=>{s.disable(Qe(We({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xi(this.value,n)),this._events.next(new si(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Qe(We({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=yi,this._forEachChild(n=>{n.enable(Qe(We({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Qe(We({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yi||this.status===ni)&&this._runAsyncValidator(n,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xi(this.value,i)),this._events.next(new si(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Qe(We({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ci:yi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=ni,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=No(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,s)=>n&&n._find(s),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new si(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,n)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?Ci:this.errors?ji:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ni)?ni:this._anyControlsHaveStatus(ji)?ji:yi}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),s&&this._events.next(new wi(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new xi(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ln(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ea(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ta(this._rawAsyncValidators)}},Ki=class extends oi{constructor(t,i,n){super(Ls(i),Is(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){Uo(this,!0,t),Object.keys(t).forEach(n=>{Wo(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let s=this.controls[n];s&&s.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,s)=>{n.reset(t?t[s]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((s,r)=>{n=i(n,s,r)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Es=class extends Ki{};var Si=new Zt("",{providedIn:"root",factory:()=>rn}),rn="always";function qo(e,t){return[...t.path,e]}function Ji(e,t,i=rn){Ns(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),na(e,t),oa(e,t),sa(e,t),ia(e,t)}function en(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),nn(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function tn(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function ia(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function Ns(e,t){let i=Po(e);t.validator!==null?e.setValidators(Co(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=zo(e);t.asyncValidator!==null?e.setAsyncValidators(Co(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let s=()=>e.updateValueAndValidity();tn(t._rawValidators,s),tn(t._rawAsyncValidators,s)}function nn(e,t){let i=!1;if(e!==null){if(t.validator!==null){let s=Po(e);if(Array.isArray(s)&&s.length>0){let r=s.filter(u=>u!==t.validator);r.length!==s.length&&(i=!0,e.setValidators(r))}}if(t.asyncValidator!==null){let s=zo(e);if(Array.isArray(s)&&s.length>0){let r=s.filter(u=>u!==t.asyncValidator);r.length!==s.length&&(i=!0,e.setAsyncValidators(r))}}}let n=()=>{};return tn(t._rawValidators,n),tn(t._rawAsyncValidators,n),i}function na(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&$o(e,t)})}function sa(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&$o(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function $o(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oa(e,t){let i=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function la(e,t){e==null,Ns(e,t)}function ra(e,t){return nn(e,t)}function Fs(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function aa(e){return Object.getPrototypeOf(e.constructor)===Hr}function ca(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Os(e,t){if(!t)return null;Array.isArray(t);let i,n,s;return t.forEach(r=>{r.constructor===Mo?i=r:aa(r)?n=r:s=r}),s||n||i||null}function ua(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function To(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function So(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ti=class extends oi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,i,n){super(Ls(i),Is(n,i)),this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ln(i)&&(i.nonNullable||i.initialValueIsDefault)&&(So(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){To(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){To(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){So(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var da=e=>e instanceof Ti;var ha={provide:Ft,useExisting:nt(()=>Bs)},Eo=Promise.resolve(),Bs=(()=>{class e extends Ft{_changeDetectorRef;callSetDisabledState;control=new Ti;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new jt;constructor(i,n,s,r,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this._parent=i,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Os(this,r)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Fs(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ji(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Eo.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,s=n!==0&&po(n);Eo.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?qo(i,this._parent):[i]}static \u0275fac=function(n){return new(n||e)(Ue(Gt,9),Ue(sn,10),Ue(on,10),Ue(at,10),Ue(ei,8),Ue(Si,8))};static \u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[st([ha]),$e,vi]})}return e})();var Et=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var As=new Zt(""),pa={provide:Ft,useExisting:nt(()=>Ei)},Ei=(()=>{class e extends Ft{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(i){}model;update=new jt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(i,n,s,r,u){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=u,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=Os(this,s)}ngOnChanges(i){if(this._isControlChanged(i)){let n=i.form.previousValue;n&&en(n,this,!1),Ji(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Fs(i,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&en(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_isControlChanged(i){return i.hasOwnProperty("form")}static \u0275fac=function(n){return new(n||e)(Ue(sn,10),Ue(on,10),Ue(at,10),Ue(As,8),Ue(Si,8))};static \u0275dir=yt({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[st([pa]),$e,vi]})}return e})(),fa={provide:Gt,useExisting:nt(()=>wt)},wt=(()=>{class e extends Gt{callSetDisabledState;get submitted(){return qt(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}_submitted=Be(()=>this._submittedReactive());_submittedReactive=he(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new jt;constructor(i,n,s){super(),this.callSetDisabledState=s,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let n=this.form.get(i.path);return Ji(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){en(i.control||null,i,!1),ua(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this._submittedReactive.set(!0),ca(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new Ts(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new Ss(this.form))}_updateDomValue(){this.directives.forEach(i=>{let n=i.control,s=this.form.get(i.path);n!==s&&(en(n||null,i),da(s)&&(Ji(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let n=this.form.get(i.path);la(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let n=this.form.get(i.path);n&&ra(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ns(this.form,this),this._oldForm&&nn(this._oldForm,this)}static \u0275fac=function(n){return new(n||e)(Ue(sn,10),Ue(on,10),Ue(Si,8))};static \u0275dir=yt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,s){n&1&&le("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[st([fa]),$e,vi]})}return e})();var ma={provide:Ft,useExisting:nt(()=>xt)},xt=(()=>{class e extends Ft{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(i){}model;update=new jt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(i,n,s,r,u){super(),this._ngModelWarningConfig=u,this._parent=i,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Os(this,r)}ngOnChanges(i){this._added||this._setUpControl(),Fs(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return qo(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||e)(Ue(Gt,13),Ue(sn,10),Ue(on,10),Ue(at,10),Ue(As,8))};static \u0275dir=yt({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[st([ma]),$e,vi]})}return e})();var Zo=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Ui({type:e});static \u0275inj=zi({})}return e})(),ks=class extends oi{constructor(t,i,n){super(Ls(i),Is(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),i&&(this.controls.splice(s,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){Uo(this,!1,t),t.forEach((n,s)=>{Wo(this,!1,s),this.at(s).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,s)=>{this.at(s)&&this.at(s).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function ko(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var ga=(()=>{class e{useNonNullable=!1;get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,n=null){let s=this._reduceControls(i),r={};return ko(n)?r=n:n!==null&&(r.validators=n.validator,r.asyncValidators=n.asyncValidator),new Ki(s,r)}record(i,n=null){let s=this._reduceControls(i);return new Es(s,n)}control(i,n,s){let r={};return this.useNonNullable?(ko(n)?r=n:(r.validators=n,r.asyncValidators=s),new Ti(i,Qe(We({},r),{nonNullable:!0}))):new Ti(i,n,s)}array(i,n,s){let r=i.map(u=>this._createControl(u));return new ks(r,n,s)}_reduceControls(i){let n={};return Object.keys(i).forEach(s=>{n[s]=this._createControl(i[s])}),n}_createControl(i){if(i instanceof Ti)return i;if(i instanceof oi)return i;if(Array.isArray(i)){let n=i[0],s=i.length>1?i[1]:null,r=i.length>2?i[2]:null;return this.control(n,s,r)}else return this.control(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=bi({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ct=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=bi({token:e,factory:()=>Se(ga).nonNullable,providedIn:"root"})}return e})();var bt=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:Si,useValue:i.callSetDisabledState??rn}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=Ui({type:e});static \u0275inj=zi({imports:[Zo]})}return e})(),ut=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:As,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Si,useValue:i.callSetDisabledState??rn}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=Ui({type:e});static \u0275inj=zi({imports:[Zo]})}return e})();var an=e=>{let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length;for(let s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*n));return t};var kt=(()=>{class e{constructor(){this.componentId=ne(an(10)),this.isReadonly=ne(!1),this.isReadonly$=et(this.isReadonly),this.componentTabIndex=ne(0),this.componentClass=ne(""),this.componentLabel=ne(""),this.componentPlaceholder=ne(""),this.errorMap=ne([]),this._errorMessagesByKey=Be(()=>new Map((this.errorMap()??[]).map(i=>[i.error,i.message]))),this.successMessage=ne(""),this.helpMessage=ne(""),this.formControl=ne(),this.componentBlur=ft(),this._value=he(null),this._isRequired=he(!1),this._isDisabled=he(!1),this._isTouched=he(!1),this._isValid=he(!1),this._showSuccess=Be(()=>this.successMessage()&&this._isValid()&&this._isTouched()&&!this._isDisabled()),this._showErrors=Be(()=>this.errorMap()?.length>0&&!this._isValid()&&this._isTouched()&&!this._isDisabled()),this._currentErrorMessage=he(""),this._currentErrorMessageExtraData=he({}),this._ngControl=he(null),this._injector=he(Se(vs)),this.getIsRequiredControl=Be(()=>!!this._ngControl()?.control?._rawValidators?.find(i=>i.name==="required")),this.destroyRef=Se(Vt),this.onChangeIsReadonly=this.isReadonly$.pipe(Ne()).subscribe(i=>{this._isDisabled.set(i||this._ngControl()?.disabled||!1)}),et(this.formControl).pipe(Ne(this.destroyRef)).subscribe(i=>{i&&this.setupFormControl()})}registerOnChange(i){this.onChange=i}writeValue(i){this._value.set(i)}registerOnTouched(i){this.onTouched=()=>{this._isTouched.set(!0),i()}}onChangedEventHandler(i){let n=i.target;this.onChangedHandler(n.value)}onChangedHandler(i){this._value.set(i),this.onChange&&this.onChange(i),this.onTouched&&this.onTouched()}onBlurHandler(){this.onTouched&&this.onTouched(),this.componentBlur.emit()}setupFormControl(){this._statusChange$&&(this._statusChange$.unsubscribe(),this._statusChange$=void 0),this._ngControl.set(this._injector().get(Ft)),this._statusChange$=this._ngControl()?.control?.statusChanges.pipe(Ne(this.destroyRef)).subscribe(()=>{this.checkFormErrors()}),this._isTouched.set(this._ngControl()?.touched??!1),this._isDisabled.set(this.isReadonly()||this._ngControl()?.disabled||!1),this.checkFormErrors()}setDisabledState(i){this._isDisabled.set(i)}checkFormErrors(){let i=this._ngControl()?.control;this._isValid.set(i?.valid??!1),this._isTouched.set(!i?.pristine);let n=i?.errors;this._isRequired.set(n?.[fe.required.name]);let s="",r="",u=!0;for(let[h,o]of Object.entries(n??{})){let b=this._errorMessagesByKey().get(h);b&&(s=h,r=b,u=o)}this._currentErrorMessage.set(r),this._currentErrorMessageExtraData.set({[s]:u})}ngAfterViewInit(){this.setupFormControl()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=yt({type:e,inputs:{componentId:[1,"componentId"],isReadonly:[1,"isReadonly"],componentTabIndex:[1,"componentTabIndex"],componentClass:[1,"componentClass"],componentLabel:[1,"componentLabel"],componentPlaceholder:[1,"componentPlaceholder"],errorMap:[1,"errorMap"],successMessage:[1,"successMessage"],helpMessage:[1,"helpMessage"],formControl:[1,"formControl"]},outputs:{componentBlur:"componentBlur"}})}}return e})();var _a=["optionListContainer"],ba=(e,t,i,n)=>({"max-height":e,"--option-list-width":t,"--option-list-top":i,"--option-list-bottom":n});function va(e,t){if(e&1){let i=Re();z(0,"li",4),le("mousedown",function(s){let r=_e(i).$implicit,u=de();return s.stopImmediatePropagation(),be(u.onSelectItem(r))}),z(1,"input",5,1),le("blur",function(s){_e(i);let r=de();return be(r.onBlurHandler(s))}),q(),z(3,"label",6),J(4),ee(5,"transloco"),q()()}if(e&2){let i=t.$implicit,n=t.$index,s=t.$count,r=de();Ve("m-0",n===s-1)("selected",r.selectionMode()==="single"?r.getSelected(i):null),ie("id","item-"+n),A(),Ve("d-none",r.selectionMode()==="single"||!(i!=null&&i.value)),ie("checked",r.getSelected(i))("disabled",!0)("id",n+"-"+i.value+"-checkbox")("name",n+"-"+i.value+"-checkbox")("ngClass",r.componentClass())("tabIndex",r.componentTabIndex())("value",r.getSelected(i)),A(2),Ve("ms-3",r.selectionMode()==="multiple"&&(i==null?null:i.value)),ie("for",n+"-"+i.value+"-checkbox"),A(),se(" ",r.translateValue()?ae(5,18,i.label):i.label," ")}}var Pt=function(e){return e.SELECT="select",e.AUTOCOMPLETE="autocomplete",e}(Pt||{}),li=(()=>{class e{constructor(){this.logLevel=Se(_o,{optional:!0}),this.selectionMode=ne("single"),this.optionListMaxHeight=ne("201px"),this.selectOptions=ne([]),this.selectButtonRef=ne.required(),this._value=ne(),this._isDisabled=ne(),this.componentClass=ne(""),this.componentLabel=ne(""),this.componentTabIndex=ne(0),this.translateValue=ne(!1),this.nullOption=ne(!0),this.elementWidth=he("0px"),this.elementTop=he("0px"),this.elementBottom=he("0px"),this.scrollBehaviorOnOpen=ne("smooth"),this.changedHandler=ft(),this.blurHandler=ft(),this.optionListContainer=Ke("optionListContainer"),this.destroyRef=Se(Vt),this.parentType=ne.required(),this.parentID=ne(""),this.selectButtonRef$=et(this.selectButtonRef).pipe(Ne(this.destroyRef)).subscribe(()=>{this.getOptionListWidth(),this.getOptionListTop(),this.getScrollParent(this.selectButtonRef())?.addEventListener("scroll",()=>{this.getOptionListWidth(),this.getOptionListTop()})}),this.selectOptionsList=Be(()=>this.nullOption()&&this.selectionMode()==="single"?[{label:"",value:null},...this.selectOptions()]:[...this.selectOptions()]),this.onKeyDown=null,this.selectedElementIndex=Be(()=>this.selectOptionsList()?.findIndex(i=>i?.value===this._value())??0),this.optionList$=Nt(()=>{let i=this.optionListContainer();if(i&&this.parentType()===Pt.SELECT){i?.nativeElement.focus();let u=i?.nativeElement;if(u){let o=u?.children[0]?.children.item(this.selectedElementIndex());o&&setTimeout(()=>{o.scrollIntoView({behavior:this.scrollBehaviorOnOpen()})},0)}}let s=i?.nativeElement?.children[0]?.children??[],r=this.selectedElementIndex();s?.[r]?.classList.add("selected"),this.onKeyDown&&this.onKeyDown.unsubscribe(),this.onKeyDown=Ri(document,"keydown",{capture:!0}).pipe(Ne(this.destroyRef)).subscribe(u=>{switch(u.key){case"ArrowDown":{this.parentType()===Pt.AUTOCOMPLETE&&i?.nativeElement.focus(),r!==this.selectedElementIndex()&&s[r]?.classList.remove("selected"),r===s.length-1?r=s.length-1:r+=1,r===0&&(u.preventDefault(),i?.nativeElement?.scroll(0,0));let h=i?.nativeElement?.getBoundingClientRect()?.bottom??0,o=i?.nativeElement?.children?.[0]?.children?.item(r)?.getBoundingClientRect()?.height,b=i?.nativeElement?.children?.[0]?.children?.item(r)?.getBoundingClientRect()?.bottom;h>(b??0)+(o??0)&&u.preventDefault(),s[r]?.classList.add("selected"),(i?.nativeElement?.scrollTop??0)>=(i?.nativeElement?.scrollHeight??0)-(i?.nativeElement?.offsetHeight??0)&&u.preventDefault();break}case"ArrowUp":{this.parentType()===Pt.AUTOCOMPLETE&&i?.nativeElement.focus(),r!==this.selectedElementIndex()&&s[r]?.classList.remove("selected"),r!==0&&(r-=1);let h=i?.nativeElement?.getBoundingClientRect()?.top??0,o=i?.nativeElement?.children?.[0]?.children?.item(r)?.getBoundingClientRect()?.height,b=i?.nativeElement?.children?.[0]?.children?.item(r)?.getBoundingClientRect()?.top;h<(b??0)-(o??0)&&u.preventDefault(),s[r]?.classList.add("selected"),i?.nativeElement?.scrollTop||u.preventDefault();break}case"Enter":{this.onSelectItem(this.selectOptionsList()[r]);break}default:{(u?.key?.length===1||u?.key==="Backspace")&&this.parentType()===Pt.AUTOCOMPLETE&&document.activeElement?.id===i?.nativeElement?.id&&(r=0,document.getElementById(this.parentID())?.focus(),document.getElementById(this.parentID())?.click());break}}})})}changePosition(){this.getOptionListWidth(),this.getOptionListTop()}isScrollable(i){if(!i)return!1;let n=!1;try{let s=i.scrollHeight>i.clientHeight,u=window.getComputedStyle(i).overflowY.includes("hidden");n=s&&!u}catch(s){this.logLevel==="verbose"&&console.error("captured error isScrollable",s)}return n}getScrollParent(i){return!i||i===document.body||!(i instanceof Element)?document.body:this.isScrollable(i)?i:this.getScrollParent(i.parentNode)}onSelectItem(i){if(this.selectionMode()==="single")this.changedHandler.emit(i?.value??null);else{let n=this._value();!Array.isArray(n)&&n&&(n=[n]);let s=n;s?s.some(r=>r===i?.value)?this.changedHandler.emit(s.filter(r=>r!==i?.value)):i?this.changedHandler.emit([...s,i.value]):this.changedHandler.emit([...s]):i?.value?this.changedHandler.emit([i.value]):this.changedHandler.emit(null)}}getSelected(i){return this.selectionMode()==="single"||!Array.isArray(this._value())?this._value()===i.value:this._value()?.some(n=>n===i?.value)}onBlurHandler(i){this.blurHandler.emit(i)}getOptionListWidth(){this.elementWidth.set(`${this.selectButtonRef()?.offsetWidth}px`)}getOptionListTop(){let i=this.optionListContainer()?.nativeElement,n=window.innerHeight-(i?.getBoundingClientRect()?.height??0)-(this.selectButtonRef()?.getBoundingClientRect()?.top??0)-(this.selectButtonRef()?.getBoundingClientRect()?.height??0),s="unset",r="unset",u=n>=0;u?s=`${(this.selectButtonRef()?.getBoundingClientRect()?.top??0)+(this.selectButtonRef()?.offsetHeight??0)}px`:r=`${window.innerHeight-(this.selectButtonRef()?.getBoundingClientRect()?.bottom??0)+(this.selectButtonRef()?.getBoundingClientRect()?.height??0)}px`,i?.classList.toggle("option-list-top",!u),this.elementTop.set(s),this.elementBottom.set(r)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["quang-option-list"]],viewQuery:function(n,s){n&1&&Je(s.optionListContainer,_a,5),n&2&&mt()},hostBindings:function(n,s){n&1&&le("scroll",function(){return s.changePosition()},!1,eo)},inputs:{selectionMode:[1,"selectionMode"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],selectButtonRef:[1,"selectButtonRef"],_value:[1,"_value"],_isDisabled:[1,"_isDisabled"],componentClass:[1,"componentClass"],componentLabel:[1,"componentLabel"],componentTabIndex:[1,"componentTabIndex"],translateValue:[1,"translateValue"],nullOption:[1,"nullOption"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],parentType:[1,"parentType"],parentID:[1,"parentID"]},outputs:{changedHandler:"changedHandler",blurHandler:"blurHandler"},decls:5,vars:6,consts:[["optionListContainer",""],["inputCheckbox",""],["id","optionList","tabindex","1",1,"option-list",3,"blur","ngStyle"],[1,"item",3,"m-0","selected","id"],[1,"item",3,"mousedown","id"],["type","checkbox",1,"form-check-input","opacity-100",3,"blur","checked","disabled","id","name","ngClass","tabIndex","value"],[1,"form-check-label","checkbox-label","w-100","opacity-100",3,"for"]],template:function(n,s){if(n&1){let r=Re();z(0,"div",2,0),le("blur",function(h){return _e(r),be(s.onBlurHandler(h))}),z(2,"ul"),so(3,va,6,20,"li",3,no),q()()}n&2&&(ie("ngStyle",ho(1,ba,s.optionListMaxHeight(),s.elementWidth(),s.elementTop(),s.elementBottom())),A(3),oo(s.selectOptionsList()))},dependencies:[fo,ot,De],styles:["[_nghost-%COMP%]{display:block;z-index:999}.option-list[_ngcontent-%COMP%]{--option-list-width: 100%;--option-list-top: 10px;--option-list-bottom: unset;border:1px solid var(--bs-border-color);border-top:0;border-radius:var(--bs-border-radius);overflow:auto;position:fixed;width:var(--option-list-width);top:var(--option-list-top);bottom:var(--option-list-bottom);z-index:999}.option-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.option-list[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);filter:brightness(95%)}.option-list.option-list-top[_ngcontent-%COMP%]{border-top:1px solid var(--bs-border-color);border-bottom:0}.option-list[_ngcontent-%COMP%]:focus-visible{outline:none}.item[_ngcontent-%COMP%]{display:flex;background-color:var(--bs-body-bg);z-index:1;padding:0 .5rem;min-height:2.5rem}.item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:.5rem 0}.item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--bs-body-bg);filter:brightness(95%)}.item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:hover{cursor:pointer}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{align-self:center}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{border-color:var(--bs-border-color);box-shadow:unset}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--bs-primary);border-color:var(--bs-border-color)}"],changeDetection:0})}}return e})();var ya=["optionList"];function Ca(e,t){if(e&1&&(z(0,"label",9),J(1),ee(2,"transloco"),z(3,"span",10),J(4,"*"),q()()),e&2){let i=de();ie("htmlFor",i.componentId()),A(),se(" ",ae(2,3,i.componentLabel())," "),A(2),ie("hidden",!i._isRequired())}}function wa(e,t){if(e&1){let i=Re();z(0,"quang-option-list",11,1),le("blurHandler",function(s){_e(i);let r=de();return be(r.onBlurOptionList(s))})("changedHandler",function(s){_e(i);let r=de();return be(r.onValueChange(s))}),q()}if(e&2){let i=de(),n=Ct(3);ie("_isDisabled",i._isDisabled())("_value",i._value())("componentClass",i.componentClass())("componentLabel",i.componentLabel())("componentTabIndex",i.componentTabIndex())("nullOption",!1)("optionListMaxHeight",i.optionListMaxHeight())("parentID",i.componentId())("parentType",i.ParentType)("scrollBehaviorOnOpen",i.scrollBehaviorOnOpen())("selectButtonRef",n)("selectOptions",i._filteredOptions())("translateValue",i.translateValue())}}function xa(e,t){if(e&1&&(z(0,"small",12),J(1),ee(2,"transloco"),q()),e&2){let i=de();ie("hidden",i._showSuccess()||i._showErrors()),A(),se(" ",ae(2,2,i.helpMessage())," ")}}var jo=(()=>{class e extends kt{constructor(){super(),this.syncFormWithText=ne(!1),this.optionListMaxHeight=ne("200px"),this.selectOptions=ne.required(),this.translateValue=ne(!0),this.scrollBehaviorOnOpen=ne("smooth"),this.optionList=Ke("optionList"),this.emitOnly=ne(!1),this._showOptions=he(null),this._inputValue=he(""),this._optionHideTimeout=he(void 0),this.inputValue$=new Vi,this.selectOptionsChange=et(this.selectOptions).pipe(Ne()).subscribe(()=>{this._inputValue()||this.setInputValue()}),this._filteredOptions=Be(()=>{let i=this._inputValue();return i?.length?this.filterOptions(i):this.selectOptions()}),this.selectedOption=ft(),this.searchTextChange=ft(),this.searchTextDebounce=ne(300),this.internalFilterOptions=ne(!0),this.ParentType=Pt.AUTOCOMPLETE,this.formValueChange$=void 0,this.inputValue$.pipe(Ne(),Hi(this.searchTextDebounce()),Ks()).subscribe(i=>{i!==this._inputValue()&&(this.searchTextChange.emit(i?.toString()||""),this.syncFormWithText()&&this.onValueChange(i,!1)),this._inputValue.set(i?.toString()||""),!this._inputValue()?.length&&!this.emitOnly()&&this._ngControl()?.control?.patchValue(null)}),et(this._showOptions).pipe(Ne()).subscribe(i=>{!i&&i!==null&&this.checkInputValue()})}setupFormControl(){super.setupFormControl();let i=this._ngControl()?.control;this.formValueChange$&&(this.formValueChange$.unsubscribe(),this.formValueChange$=void 0),i&&(this.formValueChange$=i.valueChanges.pipe(Ne(this.destroyRef)).subscribe(n=>{!this.syncFormWithText()&&!n&&this._inputValue.set("")}))}showOptionVisibility(){this._optionHideTimeout()&&(clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(null)),this._showOptions.set(!0)}hideOptionVisibility(i=!1){this._optionHideTimeout()&&clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(setTimeout(()=>{this._showOptions.set(!1)},i?0:50))}onChangeInput(i){this.showOptionVisibility(),this.inputValue$.next(i.target?.value)}filterOptions(i){let n=this.selectOptions();return this.internalFilterOptions()?n.filter(s=>s.label.toLowerCase().includes(i.toLowerCase())):n}onChangedHandler(i){super.onChangedHandler(i),this.setInputValue()}onValueChange(i,n=!0){this.onChangedHandler(i),n&&this.hideOptionVisibility(),this.selectedOption.emit(i)}checkInputValue(){let i=this.selectOptions().find(n=>n.label.toLowerCase()===this._inputValue()?.toLowerCase());i?.value!==this._value()&&(i?this.onChangedHandler(i.value??""):this.syncFormWithText()||this.onChangedHandler(""))}writeValue(i){super.writeValue(i),this.setInputValue(!0)}onBlurInput(i){i?.relatedTarget?.id!==this.optionList()?.optionListContainer()?.nativeElement?.id&&this.onBlurHandler()}onBlurHandler(){setTimeout(()=>{this.hideOptionVisibility(),!this._inputValue()?.length&&!this.emitOnly()&&this._ngControl()?.control?.patchValue(null),super.onBlurHandler()},100)}onBlurOptionList(i){i&&this.hideOptionVisibility()}setInputValue(i=!1){this._inputValue.set(this.selectOptions().find(n=>n.value===this._value())?.label??(i?"":this._inputValue())),this.syncFormWithText()||this.inputValue$.next(this._inputValue()??"")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["quang-autocomplete"]],viewQuery:function(n,s){n&1&&Je(s.optionList,ya,5),n&2&&mt()},inputs:{syncFormWithText:[1,"syncFormWithText"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],translateValue:[1,"translateValue"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],emitOnly:[1,"emitOnly"],searchTextDebounce:[1,"searchTextDebounce"],internalFilterOptions:[1,"internalFilterOptions"]},outputs:{selectedOption:"selectedOption",searchTextChange:"searchTextChange"},features:[st([{provide:at,useExisting:nt(()=>e),multi:!0},{provide:li,multi:!1}]),$e],decls:13,vars:23,consts:[["selectInput",""],["optionList",""],[1,"autocomplete-container"],["class","form-label",3,"htmlFor",4,"ngIf"],["autocomplete","off","type","text",1,"form-control",3,"blur","input","mousedown","disabled","id","ngClass","placeholder","tabIndex","value"],["selectionMode","single",3,"_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentID","parentType","scrollBehaviorOnOpen","selectButtonRef","selectOptions","translateValue","blurHandler","changedHandler",4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["selectionMode","single",3,"blurHandler","changedHandler","_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentID","parentType","scrollBehaviorOnOpen","selectButtonRef","selectOptions","translateValue"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){if(n&1){let r=Re();z(0,"div",2),ve(1,Ca,5,5,"label",3),z(2,"input",4,0),ee(4,"transloco"),le("blur",function(h){return _e(r),be(s.onBlurInput(h))})("input",function(h){return _e(r),be(s.onChangeInput(h))})("mousedown",function(){return _e(r),be(s.showOptionVisibility())}),q(),ve(5,wa,2,13,"quang-option-list",5),z(6,"div",6),J(7),ee(8,"transloco"),q(),z(9,"div",7),J(10),ee(11,"transloco"),q(),ve(12,xa,3,4,"small",8),q()}n&2&&(A(),ie("ngIf",s.componentLabel()),A(),Ve("is-invalid",s._showErrors())("is-valid",s._showSuccess()),ie("disabled",s._isDisabled()||s.isReadonly())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ae(4,16,s.componentPlaceholder()))("tabIndex",s.componentTabIndex())("value",s._inputValue()),pt("required",s.getIsRequiredControl()),A(3),ie("ngIf",s._showOptions()),A(2),se(" ",ae(8,18,s.successMessage())," "),A(3),se(" ",ye(11,20,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),A(2),ie("ngIf",s.helpMessage()))},dependencies:[De,ot,lt,li],styles:["[_nghost-%COMP%]{display:block}.autocomplete-container[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative}"],changeDetection:0})}}return e})();var Ta=e=>({enabled:e}),Sa=e=>({required:e}),Ea=e=>({readonly:e}),ka=e=>({value:e}),Da=e=>({valid:e});function Ma(e,t){if(e&1){let i=Re();z(0,"div",4)(1,"quang-autocomplete",8),le("searchTextChange",function(s){_e(i);let r=de();return be(r.changeTextTest(s))})("selectedOption",function(s){_e(i);let r=de();return be(r.onSelectOption(s))}),q(),xe(2,"quang-autocomplete",9),z(3,"quang-autocomplete",10),le("searchTextChange",function(s){_e(i);let r=de();return be(r.changeTextTestFixed(s))}),q(),xe(4,"quang-autocomplete",11),q()}if(e&2){let i=de();A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.stringListFiltered()),A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.fixedStringList()),A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.textEqualValueStringListFiltered())("syncFormWithText",!0),A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("searchTextDebounce",500)("selectOptions",i.textEqualValueStringList())("syncFormWithText",!0)}}function La(e,t){if(e&1&&(z(0,"div",7)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),q(),z(5,"span"),J(6),ee(7,"transloco"),q()()),e&2){let i=de();A(2),se(" ",ye(4,4,"form.label.formValue",we(10,ka,ae(3,2,i.testForm.value)))," "),A(4),se(" ",ye(7,7,"form.label.formValidity",we(12,Da,i.testForm.valid))," ")}}var Go=(()=>{class e{constructor(){this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.stringList=[{code:"required",description:"This field is required."},{code:"minLength",description:"This field must be at least 10 characters long."},{code:"maxLength",description:"This field must be at most 30 characters long."},{code:"pattern",description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:"email",description:"This field must be a valid email address."},{code:"min",description:"This field must be greater than or equal to 10."},{code:"max",description:"This field must be less than or equal to 30."},{code:"unique",description:"This field must be unique."},{code:"custom",description:"This field does not meet the custom validation rule."},{code:"async",description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.textEqualValueStringList=he(this.stringList.map(i=>({label:i.label,value:i.label}))),this.textEqualValueStringListFiltered=he(this.stringList.map(i=>({label:i.label,value:i.label}))),this.fixedStringList=he([...this.stringList]),this.stringListFiltered=he([...this.stringList]),this.numberList=[{code:1,description:"This field is required."},{code:2,description:"This field must be at least 10 characters long."},{code:3,description:"This field must be at most 30 characters long."},{code:4,description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:5,description:"This field must be a valid email address."},{code:6,description:"This field must be greater than or equal to 10."},{code:7,description:"This field must be less than or equal to 30."},{code:8,description:"This field must be unique."},{code:9,description:"This field does not meet the custom validation rule."},{code:10,description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.formBuilder=Se(ct),this.errors=he([{error:fe.required.name,message:"form.errors.required"},{error:fe.minLength.name,message:"form.errors.minLength"},{error:fe.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput1:this.formBuilder.control(null,[fe.required]),testInput2:this.formBuilder.control(null,[fe.required]),testInput3:this.formBuilder.control(null,[fe.required]),testInput4:this.formBuilder.control(null,[fe.required]),testInputMultiple:this.formBuilder.control([],[fe.required])}),this.showInput=he(!0),this.destroyRef=Se(Vt),this.onChangeForm(),setTimeout(()=>{this.testForm.patchValue({testInput1:"required",testInput2:"required"})},2e3)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput1.hasValidator(fe.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput1.removeValidators(fe.required):this.testForm.controls.testInput1.addValidators(fe.required),this.testForm.controls.testInput1.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput1:this.formBuilder.control(this.stringList[2].value,[fe.required]),testInput2:this.formBuilder.control(this.stringList[2].value,[fe.required]),testInput3:this.formBuilder.control(this.stringList[2].value,[fe.required]),testInput4:this.formBuilder.control(this.stringList[2].value,[fe.required]),testInputMultiple:this.formBuilder.control([1,2],[fe.required])})}setFormValues(){this.testForm.patchValue({testInput1:"min",testInputMultiple:[3,4]})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0)}setReadonly(){this.isReadonly.set(!this.isReadonly())}onChangeForm(){this.testForm.controls.testInput1.valueChanges.pipe(Ne(this.destroyRef)).subscribe(i=>{console.log("valueChange --->",i)})}onSelectOption(i){console.log(i)}changeTextTest(i){setTimeout(()=>{this.stringListFiltered.set(this.stringList.filter(n=>n.label.toLowerCase().includes(i.toLowerCase())))},500)}changeTextTestFixed(i){setTimeout(()=>{this.textEqualValueStringListFiltered.set(this.fixedStringList().filter(n=>n.label.toLowerCase().includes(i.toLowerCase())).map(n=>({label:n.label,value:n.label})))},500)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-autocomplete-test"]],decls:31,vars:36,consts:[[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],["componentLabel","form.label.autocompleteAsync","formControlName","testInput1","successMessage","form.label.success",1,"col-6",3,"searchTextChange","selectedOption","errorMap","isReadonly","searchTextDebounce","selectOptions"],["componentLabel","form.label.autocompleteNotAsync","formControlName","testInput2","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","searchTextDebounce","selectOptions"],["componentLabel","form.label.autocompleteSuggestionAsync","formControlName","testInput3","successMessage","form.label.success",1,"col-6",3,"searchTextChange","errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteSuggestionNotAsync","formControlName","testInput4","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"]],template:function(n,s){n&1&&(z(0,"h3"),J(1),ee(2,"transloco"),q(),z(3,"form",0)(4,"div",1),xe(5,"div",2),z(6,"div",3),ve(7,Ma,5,18,"div",4),z(8,"div",5)(9,"button",6),le("click",function(){return s.changeFormEnabled()}),J(10),ee(11,"transloco"),q(),z(12,"button",6),le("click",function(){return s.changeFormInputRequired()}),J(13),ee(14,"transloco"),q(),z(15,"button",6),le("click",function(){return s.changeVisibility()}),J(16),ee(17,"transloco"),q(),z(18,"button",6),le("click",function(){return s.recreateForm()}),J(19),ee(20,"transloco"),q(),z(21,"button",6),le("click",function(){return s.setFormValues()}),J(22),ee(23,"transloco"),q(),z(24,"button",6),le("click",function(){return s.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),q(),z(27,"button",6),le("click",function(){return s.setReadonly()}),J(28),ee(29,"transloco"),q()()()()(),ve(30,La,8,14,"div",7)),n&2&&(A(),Ze(ae(2,11,"title.components.autocomplete")),A(2),ie("formGroup",s.testForm),A(4),Ge(s.showInput()?7:-1),A(3),se(" ",ye(11,13,"form.buttons.enabled",we(30,Ta,s.testForm.enabled))," "),A(3),se(" ",ye(14,16,"form.buttons.required",we(32,Sa,s.getIsRequiredInput()))," "),A(3),se(" ",ae(17,19,"form.buttons.changeVisibility")," "),A(3),se(" ",ae(20,21,"form.buttons.recreateForm")," "),A(3),se(" ",ae(23,23,"form.buttons.setForm")," "),A(3),se(" ",ae(26,25,"form.buttons.checkForm")," "),A(3),se(" ",ye(29,27,"form.buttons.readonly",we(34,Ea,s.isReadonly()))," "),A(2),Ge(s.showValueAndValidity()?30:-1))},dependencies:[bt,Et,_t,St,gt,ut,wt,xt,De,jo],encapsulation:2})}}return e})();var Qo=Xe(Yo()),Xo=Qo.default;var Ni=Xe(Ko()),Ps=Xe(Jo()),zs=Xe(el());function Ee(e){let t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Me(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hn(e,t){let i=Ee(e);return isNaN(t)?Me(e,NaN):(t&&i.setDate(i.getDate()+t),i)}var Oa=Math.pow(10,8)*24*60*60*1e3,wh=-Oa,pn=6048e5,tl=864e5,il=6e4,nl=36e5,sl=1e3;var Ba=3600;var ol=Ba*24,xh=ol*7,Aa=ol*365.2425,Va=Aa/12,Th=Va*3;var Ra={};function Dt(){return Ra}function vt(e,t){let i=Dt(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=Ee(e),r=s.getDay(),u=(r<n?7:0)+r-n;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function Ot(e){return vt(e,{weekStartsOn:1})}function fn(e){let t=Ee(e),i=t.getFullYear(),n=Me(e,0);n.setFullYear(i+1,0,4),n.setHours(0,0,0,0);let s=Ot(n),r=Me(e,0);r.setFullYear(i,0,4),r.setHours(0,0,0,0);let u=Ot(r);return t.getTime()>=s.getTime()?i+1:t.getTime()>=u.getTime()?i:i-1}function Rs(e){let t=Ee(e);return t.setHours(0,0,0,0),t}function Qt(e){let t=Ee(e),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+e-+i}function ll(e,t){let i=Rs(e),n=Rs(t),s=+i-Qt(i),r=+n-Qt(n);return Math.round((s-r)/tl)}function rl(e){let t=fn(e),i=Me(e,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Ot(i)}function al(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mn(e){if(!al(e)&&typeof e!="number")return!1;let t=Ee(e);return!isNaN(Number(t))}function cl(e){let t=Ee(e),i=Me(e,0);return i.setFullYear(t.getFullYear(),0,1),i.setHours(0,0,0,0),i}var Ha={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ul=(e,t,i)=>{let n,s=Ha[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+n:n+" ago":n};function gn(e){return(t={})=>{let i=t.width?String(t.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}var Pa={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},za={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wa={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dl={date:gn({formats:Pa,defaultWidth:"full"}),time:gn({formats:za,defaultWidth:"full"}),dateTime:gn({formats:Wa,defaultWidth:"full"})};var Ua={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hl=(e,t,i,n)=>Ua[e];function ri(e){return(t,i)=>{let n=i?.context?String(i.context):"standalone",s;if(n==="formatting"&&e.formattingValues){let u=e.defaultFormattingWidth||e.defaultWidth,h=i?.width?String(i.width):u;s=e.formattingValues[h]||e.formattingValues[u]}else{let u=e.defaultWidth,h=i?.width?String(i.width):e.defaultWidth;s=e.values[h]||e.values[u]}let r=e.argumentCallback?e.argumentCallback(t):t;return s[r]}}var qa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Za={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ja={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ga={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ya={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qa=(e,t)=>{let i=Number(e),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},pl={ordinalNumber:Qa,era:ri({values:qa,defaultWidth:"wide"}),quarter:ri({values:$a,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ri({values:Za,defaultWidth:"wide"}),day:ri({values:ja,defaultWidth:"wide"}),dayPeriod:ri({values:Ga,defaultWidth:"wide",formattingValues:Ya,defaultFormattingWidth:"wide"})};function ai(e){return(t,i={})=>{let n=i.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;let u=r[0],h=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(h)?Ka(h,g=>g.test(u)):Xa(h,g=>g.test(u)),b;b=e.valueCallback?e.valueCallback(o):o,b=i.valueCallback?i.valueCallback(b):b;let c=t.slice(u.length);return{value:b,rest:c}}}function Xa(e,t){for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return i}function Ka(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i}function fl(e){return(t,i={})=>{let n=t.match(e.matchPattern);if(!n)return null;let s=n[0],r=t.match(e.parsePattern);if(!r)return null;let u=e.valueCallback?e.valueCallback(r[0]):r[0];u=i.valueCallback?i.valueCallback(u):u;let h=t.slice(s.length);return{value:u,rest:h}}}var Ja=/^(\d+)(th|st|nd|rd)?/i,ec=/\d+/i,tc={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ic={any:[/^b/i,/^(a|c)/i]},nc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sc={any:[/1/i,/2/i,/3/i,/4/i]},oc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ac={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ml={ordinalNumber:fl({matchPattern:Ja,parsePattern:ec,valueCallback:e=>parseInt(e,10)}),era:ai({matchPatterns:tc,defaultMatchWidth:"wide",parsePatterns:ic,defaultParseWidth:"any"}),quarter:ai({matchPatterns:nc,defaultMatchWidth:"wide",parsePatterns:sc,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ai({matchPatterns:oc,defaultMatchWidth:"wide",parsePatterns:lc,defaultParseWidth:"any"}),day:ai({matchPatterns:rc,defaultMatchWidth:"wide",parsePatterns:ac,defaultParseWidth:"any"}),dayPeriod:ai({matchPatterns:cc,defaultMatchWidth:"any",parsePatterns:uc,defaultParseWidth:"any"})};var Di={code:"en-US",formatDistance:ul,formatLong:dl,formatRelative:hl,localize:pl,match:ml,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gl(e){let t=Ee(e);return ll(t,cl(t))+1}function _n(e){let t=Ee(e),i=+Ot(t)-+rl(t);return Math.round(i/pn)+1}function ci(e,t){let i=Ee(e),n=i.getFullYear(),s=Dt(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=Me(e,0);u.setFullYear(n+1,0,r),u.setHours(0,0,0,0);let h=vt(u,t),o=Me(e,0);o.setFullYear(n,0,r),o.setHours(0,0,0,0);let b=vt(o,t);return i.getTime()>=h.getTime()?n+1:i.getTime()>=b.getTime()?n:n-1}function _l(e,t){let i=Dt(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=ci(e,t),r=Me(e,0);return r.setFullYear(s,0,n),r.setHours(0,0,0,0),vt(r,t)}function bn(e,t){let i=Ee(e),n=+vt(i,t)-+_l(i,t);return Math.round(n/pn)+1}function Ae(e,t){let i=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return i+n}var zt={y(e,t){let i=e.getFullYear(),n=i>0?i:1-i;return Ae(t==="yy"?n%100:n,t.length)},M(e,t){let i=e.getMonth();return t==="M"?String(i+1):Ae(i+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){let i=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,i-3));return Ae(s,t.length)}};var ui={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hs={G:function(e,t,i){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})}},y:function(e,t,i){if(t==="yo"){let n=e.getFullYear(),s=n>0?n:1-n;return i.ordinalNumber(s,{unit:"year"})}return zt.y(e,t)},Y:function(e,t,i,n){let s=ci(e,n),r=s>0?s:1-s;if(t==="YY"){let u=r%100;return Ae(u,2)}return t==="Yo"?i.ordinalNumber(r,{unit:"year"}):Ae(r,t.length)},R:function(e,t){let i=fn(e);return Ae(i,t.length)},u:function(e,t){let i=e.getFullYear();return Ae(i,t.length)},Q:function(e,t,i){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ae(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,i){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ae(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,i){let n=e.getMonth();switch(t){case"M":case"MM":return zt.M(e,t);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,i){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ae(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,i,n){let s=bn(e,n);return t==="wo"?i.ordinalNumber(s,{unit:"week"}):Ae(s,t.length)},I:function(e,t,i){let n=_n(e);return t==="Io"?i.ordinalNumber(n,{unit:"week"}):Ae(n,t.length)},d:function(e,t,i){return t==="do"?i.ordinalNumber(e.getDate(),{unit:"date"}):zt.d(e,t)},D:function(e,t,i){let n=gl(e);return t==="Do"?i.ordinalNumber(n,{unit:"dayOfYear"}):Ae(n,t.length)},E:function(e,t,i){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,i,n){let s=e.getDay(),r=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Ae(r,2);case"eo":return i.ordinalNumber(r,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,i,n){let s=e.getDay(),r=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Ae(r,t.length);case"co":return i.ordinalNumber(r,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,i){let n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ae(s,t.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});case"iiii":default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,i){let s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,i){let n=e.getHours(),s;switch(n===12?s=ui.noon:n===0?s=ui.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,i){let n=e.getHours(),s;switch(n>=17?s=ui.evening:n>=12?s=ui.afternoon:n>=4?s=ui.morning:s=ui.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,i){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return zt.h(e,t)},H:function(e,t,i){return t==="Ho"?i.ordinalNumber(e.getHours(),{unit:"hour"}):zt.H(e,t)},K:function(e,t,i){let n=e.getHours()%12;return t==="Ko"?i.ordinalNumber(n,{unit:"hour"}):Ae(n,t.length)},k:function(e,t,i){let n=e.getHours();return n===0&&(n=24),t==="ko"?i.ordinalNumber(n,{unit:"hour"}):Ae(n,t.length)},m:function(e,t,i){return t==="mo"?i.ordinalNumber(e.getMinutes(),{unit:"minute"}):zt.m(e,t)},s:function(e,t,i){return t==="so"?i.ordinalNumber(e.getSeconds(),{unit:"second"}):zt.s(e,t)},S:function(e,t){return zt.S(e,t)},X:function(e,t,i){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return vl(n);case"XXXX":case"XX":return Xt(n);case"XXXXX":case"XXX":default:return Xt(n,":")}},x:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"x":return vl(n);case"xxxx":case"xx":return Xt(n);case"xxxxx":case"xxx":default:return Xt(n,":")}},O:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bl(n,":");case"OOOO":default:return"GMT"+Xt(n,":")}},z:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bl(n,":");case"zzzz":default:return"GMT"+Xt(n,":")}},t:function(e,t,i){let n=Math.trunc(e.getTime()/1e3);return Ae(n,t.length)},T:function(e,t,i){let n=e.getTime();return Ae(n,t.length)}};function bl(e,t=""){let i=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),r=n%60;return r===0?i+String(s):i+String(s)+t+Ae(r,2)}function vl(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):Xt(e,t)}function Xt(e,t=""){let i=e>0?"-":"+",n=Math.abs(e),s=Ae(Math.trunc(n/60),2),r=Ae(n%60,2);return i+s+t+r}var yl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Cl=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},dc=(e,t)=>{let i=e.match(/(P+)(p+)?/)||[],n=i[1],s=i[2];if(!s)return yl(e,t);let r;switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",yl(n,t)).replace("{{time}}",Cl(s,t))},Mi={p:Cl,P:dc};var hc=/^D+$/,pc=/^Y+$/,fc=["D","DD","YY","YYYY"];function vn(e){return hc.test(e)}function yn(e){return pc.test(e)}function Li(e,t,i){let n=mc(e,t,i);if(console.warn(n),fc.includes(e))throw new RangeError(n)}function mc(e,t,i){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var gc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_c=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bc=/^'([^]*?)'?$/,vc=/''/g,yc=/[a-zA-Z]/;function Cn(e,t,i){let n=Dt(),s=i?.locale??n.locale??Di,r=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,h=Ee(e);if(!mn(h))throw new RangeError("Invalid time value");let o=t.match(_c).map(c=>{let g=c[0];if(g==="p"||g==="P"){let E=Mi[g];return E(c,s.formatLong)}return c}).join("").match(gc).map(c=>{if(c==="''")return{isToken:!1,value:"'"};let g=c[0];if(g==="'")return{isToken:!1,value:Cc(c)};if(Hs[g])return{isToken:!0,value:c};if(g.match(yc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:c}});s.localize.preprocessor&&(o=s.localize.preprocessor(h,o));let b={firstWeekContainsDate:r,weekStartsOn:u,locale:s};return o.map(c=>{if(!c.isToken)return c.value;let g=c.value;(!i?.useAdditionalWeekYearTokens&&yn(g)||!i?.useAdditionalDayOfYearTokens&&vn(g))&&Li(g,t,String(e));let E=Hs[g[0]];return E(h,g,s.localize,b)}).join("")}function Cc(e){let t=e.match(bc);return t?t[1].replace(vc,"'"):e}function wl(){return Object.assign({},Dt())}function xl(e){let i=Ee(e).getDay();return i===0&&(i=7),i}function Tl(e,t){let i=t instanceof Date?Me(t,0):new t(0);return i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),i}var wc=10,wn=class{subPriority=0;validate(t,i){return!0}},xn=class extends wn{constructor(t,i,n,s,r){super(),this.value=t,this.validateValue=i,this.setValue=n,this.priority=s,r&&(this.subPriority=r)}validate(t,i){return this.validateValue(t,this.value,i)}set(t,i,n){return this.setValue(t,i,this.value,n)}},Tn=class extends wn{priority=wc;subPriority=-1;set(t,i){return i.timestampIsSet?t:Me(t,Tl(t,Date))}};var ge=class{run(t,i,n,s){let r=this.parse(t,i,n,s);return r?{setter:new xn(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,i,n){return!0}};var Sn=class extends ge{priority=140;parse(t,i,n){switch(i){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,i,n){return i.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]};var Fe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Mt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function He(e,t){return e&&{value:t(e.value),rest:e.rest}}function Le(e,t){let i=t.match(e);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function Lt(e,t){let i=t.match(e);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};let n=i[1]==="+"?1:-1,s=i[2]?parseInt(i[2],10):0,r=i[3]?parseInt(i[3],10):0,u=i[5]?parseInt(i[5],10):0;return{value:n*(s*nl+r*il+u*sl),rest:t.slice(i[0].length)}}function En(e){return Le(Fe.anyDigitsSigned,e)}function Te(e,t){switch(e){case 1:return Le(Fe.singleDigit,t);case 2:return Le(Fe.twoDigits,t);case 3:return Le(Fe.threeDigits,t);case 4:return Le(Fe.fourDigits,t);default:return Le(new RegExp("^\\d{1,"+e+"}"),t)}}function di(e,t){switch(e){case 1:return Le(Fe.singleDigitSigned,t);case 2:return Le(Fe.twoDigitsSigned,t);case 3:return Le(Fe.threeDigitsSigned,t);case 4:return Le(Fe.fourDigitsSigned,t);default:return Le(new RegExp("^-?\\d{1,"+e+"}"),t)}}function hi(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function kn(e,t){let i=t>0,n=i?t:1-t,s;if(n<=50)s=e||100;else{let r=n+50,u=Math.trunc(r/100)*100,h=e>=r%100;s=e+u-(h?100:0)}return i?s:1-s}function Dn(e){return e%400===0||e%4===0&&e%100!==0}var Mn=class extends ge{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,i,n){let s=r=>({year:r,isTwoDigitYear:i==="yy"});switch(i){case"y":return He(Te(4,t),s);case"yo":return He(n.ordinalNumber(t,{unit:"year"}),s);default:return He(Te(i.length,t),s)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,n){let s=t.getFullYear();if(n.isTwoDigitYear){let u=kn(n.year,s);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}let r=!("era"in i)||i.era===1?n.year:1-n.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}};var Ln=class extends ge{priority=130;parse(t,i,n){let s=r=>({year:r,isTwoDigitYear:i==="YY"});switch(i){case"Y":return He(Te(4,t),s);case"Yo":return He(n.ordinalNumber(t,{unit:"year"}),s);default:return He(Te(i.length,t),s)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,n,s){let r=ci(t,s);if(n.isTwoDigitYear){let h=kn(n.year,r);return t.setFullYear(h,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),vt(t,s)}let u=!("era"in i)||i.era===1?n.year:1-n.year;return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),vt(t,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var In=class extends ge{priority=130;parse(t,i){return i==="R"?di(4,t):di(i.length,t)}set(t,i,n){let s=Me(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ot(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var Nn=class extends ge{priority=130;parse(t,i){return i==="u"?di(4,t):di(i.length,t)}set(t,i,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var Fn=class extends ge{priority=120;parse(t,i,n){switch(i){case"Q":case"QQ":return Te(i.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=1&&i<=4}set(t,i,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var On=class extends ge{priority=120;parse(t,i,n){switch(i){case"q":case"qq":return Te(i.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=1&&i<=4}set(t,i,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var Bn=class extends ge{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,i,n){let s=r=>r-1;switch(i){case"M":return He(Le(Fe.month,t),s);case"MM":return He(Te(2,t),s);case"Mo":return He(n.ordinalNumber(t,{unit:"month"}),s);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=11}set(t,i,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}};var An=class extends ge{priority=110;parse(t,i,n){let s=r=>r-1;switch(i){case"L":return He(Le(Fe.month,t),s);case"LL":return He(Te(2,t),s);case"Lo":return He(n.ordinalNumber(t,{unit:"month"}),s);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=11}set(t,i,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function Sl(e,t,i){let n=Ee(e),s=bn(n,i)-t;return n.setDate(n.getDate()-s*7),n}var Vn=class extends ge{priority=100;parse(t,i,n){switch(i){case"w":return Le(Fe.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Te(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,n,s){return vt(Sl(t,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function El(e,t){let i=Ee(e),n=_n(i)-t;return i.setDate(i.getDate()-n*7),i}var Rn=class extends ge{priority=100;parse(t,i,n){switch(i){case"I":return Le(Fe.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Te(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,n){return Ot(El(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var xc=[31,28,31,30,31,30,31,31,30,31,30,31],Tc=[31,29,31,30,31,30,31,31,30,31,30,31],Hn=class extends ge{priority=90;subPriority=1;parse(t,i,n){switch(i){case"d":return Le(Fe.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Te(i.length,t)}}validate(t,i){let n=t.getFullYear(),s=Dn(n),r=t.getMonth();return s?i>=1&&i<=Tc[r]:i>=1&&i<=xc[r]}set(t,i,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var Pn=class extends ge{priority=90;subpriority=1;parse(t,i,n){switch(i){case"D":case"DD":return Le(Fe.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Te(i.length,t)}}validate(t,i){let n=t.getFullYear();return Dn(n)?i>=1&&i<=366:i>=1&&i<=365}set(t,i,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function pi(e,t,i){let n=Dt(),s=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Ee(e),u=r.getDay(),o=(t%7+7)%7,b=7-s,c=t<0||t>6?t-(u+b)%7:(o+b)%7-(u+b)%7;return hn(r,c)}var zn=class extends ge{priority=90;parse(t,i,n){switch(i){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,n,s){return t=pi(t,n,s),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]};var Wn=class extends ge{priority=90;parse(t,i,n,s){let r=u=>{let h=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return He(Te(i.length,t),r);case"eo":return He(n.ordinalNumber(t,{unit:"day"}),r);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,n,s){return t=pi(t,n,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var Un=class extends ge{priority=90;parse(t,i,n,s){let r=u=>{let h=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return He(Te(i.length,t),r);case"co":return He(n.ordinalNumber(t,{unit:"day"}),r);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=6}set(t,i,n,s){return t=pi(t,n,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function kl(e,t){let i=Ee(e),n=xl(i),s=t-n;return hn(i,s)}var qn=class extends ge{priority=90;parse(t,i,n){let s=r=>r===0?7:r;switch(i){case"i":case"ii":return Te(i.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return He(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return He(n.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return He(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return He(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,i){return i>=1&&i<=7}set(t,i,n){return t=kl(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var $n=class extends ge{priority=80;parse(t,i,n){switch(i){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,n){return t.setHours(hi(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]};var Zn=class extends ge{priority=80;parse(t,i,n){switch(i){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,n){return t.setHours(hi(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]};var jn=class extends ge{priority=80;parse(t,i,n){switch(i){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,n){return t.setHours(hi(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]};var Gn=class extends ge{priority=70;parse(t,i,n){switch(i){case"h":return Le(Fe.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Te(i.length,t)}}validate(t,i){return i>=1&&i<=12}set(t,i,n){let s=t.getHours()>=12;return s&&n<12?t.setHours(n+12,0,0,0):!s&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]};var Yn=class extends ge{priority=70;parse(t,i,n){switch(i){case"H":return Le(Fe.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Te(i.length,t)}}validate(t,i){return i>=0&&i<=23}set(t,i,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]};var Qn=class extends ge{priority=70;parse(t,i,n){switch(i){case"K":return Le(Fe.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Te(i.length,t)}}validate(t,i){return i>=0&&i<=11}set(t,i,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]};var Xn=class extends ge{priority=70;parse(t,i,n){switch(i){case"k":return Le(Fe.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Te(i.length,t)}}validate(t,i){return i>=1&&i<=24}set(t,i,n){let s=n<=24?n%24:n;return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]};var Kn=class extends ge{priority=60;parse(t,i,n){switch(i){case"m":return Le(Fe.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Te(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]};var Jn=class extends ge{priority=50;parse(t,i,n){switch(i){case"s":return Le(Fe.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Te(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]};var es=class extends ge{priority=30;parse(t,i){let n=s=>Math.trunc(s*Math.pow(10,-i.length+3));return He(Te(i.length,t),n)}set(t,i,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]};var ts=class extends ge{priority=10;parse(t,i){switch(i){case"X":return Lt(Mt.basicOptionalMinutes,t);case"XX":return Lt(Mt.basic,t);case"XXXX":return Lt(Mt.basicOptionalSeconds,t);case"XXXXX":return Lt(Mt.extendedOptionalSeconds,t);case"XXX":default:return Lt(Mt.extended,t)}}set(t,i,n){return i.timestampIsSet?t:Me(t,t.getTime()-Qt(t)-n)}incompatibleTokens=["t","T","x"]};var is=class extends ge{priority=10;parse(t,i){switch(i){case"x":return Lt(Mt.basicOptionalMinutes,t);case"xx":return Lt(Mt.basic,t);case"xxxx":return Lt(Mt.basicOptionalSeconds,t);case"xxxxx":return Lt(Mt.extendedOptionalSeconds,t);case"xxx":default:return Lt(Mt.extended,t)}}set(t,i,n){return i.timestampIsSet?t:Me(t,t.getTime()-Qt(t)-n)}incompatibleTokens=["t","T","X"]};var ns=class extends ge{priority=40;parse(t){return En(t)}set(t,i,n){return[Me(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var ss=class extends ge{priority=20;parse(t){return En(t)}set(t,i,n){return[Me(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"};var Dl={G:new Sn,y:new Mn,Y:new Ln,R:new In,u:new Nn,Q:new Fn,q:new On,M:new Bn,L:new An,w:new Vn,I:new Rn,d:new Hn,D:new Pn,E:new zn,e:new Wn,c:new Un,i:new qn,a:new $n,b:new Zn,B:new jn,h:new Gn,H:new Yn,K:new Qn,k:new Xn,m:new Kn,s:new Jn,S:new es,X:new ts,x:new is,t:new ns,T:new ss};var Sc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ec=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kc=/^'([^]*?)'?$/,Dc=/''/g,Mc=/\S/,Lc=/[a-zA-Z]/;function os(e,t,i,n){let s=wl(),r=n?.locale??s.locale??Di,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(t==="")return e===""?Ee(i):Me(i,NaN);let o={firstWeekContainsDate:u,weekStartsOn:h,locale:r},b=[new Tn],c=t.match(Ec).map(R=>{let l=R[0];if(l in Mi){let a=Mi[l];return a(R,r.formatLong)}return R}).join("").match(Sc),g=[];for(let R of c){!n?.useAdditionalWeekYearTokens&&yn(R)&&Li(R,t,e),!n?.useAdditionalDayOfYearTokens&&vn(R)&&Li(R,t,e);let l=R[0],a=Dl[l];if(a){let{incompatibleTokens:d}=a;if(Array.isArray(d)){let f=g.find(_=>d.includes(_.token)||_.token===l);if(f)throw new RangeError(`The format string mustn't contain \`${f.fullToken}\` and \`${R}\` at the same time`)}else if(a.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);g.push({token:l,fullToken:R});let p=a.run(e,R,r.match,o);if(!p)return Me(i,NaN);b.push(p.setter),e=p.rest}else{if(l.match(Lc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");if(R==="''"?R="'":l==="'"&&(R=Ic(R)),e.indexOf(R)===0)e=e.slice(R.length);else return Me(i,NaN)}}if(e.length>0&&Mc.test(e))return Me(i,NaN);let E=b.map(R=>R.priority).sort((R,l)=>l-R).filter((R,l,a)=>a.indexOf(R)===l).map(R=>b.filter(l=>l.priority===R).sort((l,a)=>a.subPriority-l.subPriority)).map(R=>R[0]),M=Ee(i);if(isNaN(M.getTime()))return Me(i,NaN);let I={};for(let R of E){if(!R.validate(M,o))return Me(i,NaN);let l=R.set(M,I,o);Array.isArray(l)?(M=l[0],Object.assign(I,l[1])):M=l}return Me(i,M)}function Ic(e){return e.match(kc)[1].replace(Dc,"'")}function Ii(e,t,i){return mn(os(e,t,new Date,i))}var Nc=["inputForDate"],Fc=["calendarButton"],Oc=["*"];function Bc(e,t){if(e&1&&(z(0,"label",10),J(1),ee(2,"transloco"),z(3,"span",11),J(4,"*"),q()()),e&2){let i=de();ie("htmlFor",i.componentId()),A(),se(" ",ae(2,3,i.componentLabel())," "),A(2),ie("hidden",!i._isRequired())}}function Ac(e,t){if(e&1&&(z(0,"small",12),J(1),ee(2,"transloco"),q()),e&2){let i=de();ie("hidden",i._showSuccess()||i._showErrors()),A(),se(" ",ae(2,2,i.helpMessage())," ")}}var Ml=(()=>{class e extends kt{constructor(){super(),this.dateFormat=ne("dd/MM/yyyy"),this.timeFormat=ne("HH:mm"),this.activeLanguageOverride=ne(void 0),this.timepicker=ne(!1),this.invalidDateMessage=ne(""),this.showOnlyTimepicker=ne(!1),this.minHour=ne(0),this.maxHour=ne(24),this.minMinute=ne(0),this.maxMinute=ne(59),this.minDate=ne(void 0),this.maxDate=ne(void 0),this.showInline=ne(!1),this.calendarClasses=ne(""),this.buttonClass=ne(""),this.datepickerOptions=ne(void 0),this._inputForDate=Ke("inputForDate"),this.contentTemplate=Ke.required("calendarButton"),this.hasNoContent=Be(()=>this.contentTemplate()?.nativeElement.children.length===0),this._quangTranslationService=he(Se(bo)),this._quangTranslationActiveLang=Be(()=>this._quangTranslationService()?.activeLang()??null),this.multipleDatesSeparator=ne(" - "),this.rangeSelection=ne(!1),this._activeLanguage=Be(()=>this.activeLanguageOverride()?this.activeLanguageOverride():this._quangTranslationService()?this._quangTranslationActiveLang():navigator.language),this._airDatepickerInstance=he(void 0),this.searchTextDebounce=ne(500),this.targetPosition=he("bottom left"),this._generateAirDatepickerEffect=Nt(()=>{this.setupCalendar()},{allowSignalWrites:!0}),this.valueFormat=Be(()=>this.showOnlyTimepicker()?this.timeFormat():this.dateFormat()+(this.showTimepicker()?` ${this.timeFormat()}`:"")),this.inputValueString=Be(()=>this.formatDate(this._value())),this.showTimepicker=Be(()=>!this.rangeSelection()&&(this.timepicker()||this.showOnlyTimepicker())),this.isMouseInsideCalendar=he(!1),this.isMouseOutsideCalendar=Be(()=>!this.isMouseInsideCalendar()),Ri(document,"scroll",{capture:!0}).pipe(Ne(),Hi(250)).subscribe(()=>{this._airDatepickerInstance()?.visible&&this.setupCalendar()})}setupCalendar(){if(this._inputForDate()?.nativeElement){let i=this._value(),n;i&&typeof i=="string"?n=[i]:i&&typeof i=="object"&&(n=[],i.dateFrom&&n.push(i.dateFrom),i.dateTo&&n.push(i.dateTo)),this.setCalendarPosition();let s=Qe(We({autoClose:!0,classes:this.calendarClasses(),dateFormat:this.dateFormat(),inline:this.showInline(),isMobile:!1,multipleDatesSeparator:this.multipleDatesSeparator(),range:this.rangeSelection(),timepicker:this.showTimepicker(),onlyTimepicker:this.showOnlyTimepicker(),timeFormat:this.timeFormat(),minHours:this.minHour(),maxHours:this.maxHour(),minMinutes:this.minMinute(),maxMinutes:this.maxMinute(),minDate:this.minDate(),maxDate:this.maxDate(),toggleSelected:!1,multipleDates:!1,selectedDates:n,position:this.targetPosition(),locale:this.getLocale(),onSelect:({date:r})=>{if(!Array.isArray(r)){let u=r;this.showTimepicker()||(u=this.dateToUtc(r)),this.onChangedHandler(u.toISOString())}this.showInline()&&this.onHideCalendar()},onHide:r=>{r&&this.onHideCalendar()}},this.datepickerOptions()??{}),{onShow:r=>{let u=this._airDatepickerInstance()?.$datepicker;u&&(u.onmouseenter=()=>{this.isMouseInsideCalendar.set(!0)},u.onmouseleave=()=>{this.isMouseInsideCalendar.set(!1)}),!(r||!this.showTimepicker())&&this.setupTimepicker()}});this._airDatepickerInstance()?(this._airDatepickerInstance()?.visible?this._airDatepickerInstance()?.update(s):this._airDatepickerInstance()?.update(s,{silent:!0}),n?this._airDatepickerInstance()?.selectDate(n,{updateTime:!0}):(this._airDatepickerInstance()?.setFocusDate(!1),this._airDatepickerInstance()?.clear({silent:!0}))):this._airDatepickerInstance.set(new Xo(this._inputForDate()?.nativeElement,s)),this.showInline()&&this.setupTimepicker()}}onChangeText(i){let n=i.target?.value;n?n.length===this.valueFormat().length&&Ii(n,this.valueFormat())&&this.onChangedHandler(this.setupInputStringToDate(n).toISOString()):this.onChangedHandler(n)}onBlurHandler(){super.onBlurHandler(),this.isMouseOutsideCalendar()&&this._airDatepickerInstance()?.visible&&this._airDatepickerInstance()?.hide()}setupInputStringToDate(i){let n=os(i,this.valueFormat(),new Date);return this.showTimepicker()||(n=this.dateToUtc(n)),n}onChangedHandler(i){let n=i,s=this._value();typeof n=="string"&&(!s||typeof s=="string")?!this.showTimepicker()&&n?n=`${n.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&s&&n&&(n=`${s.split("T")[0]}T${n.split("T")[1]}`):this.rangeSelection()&&typeof n=="object"&&(s===null||typeof s=="object")&&(!this.showTimepicker()&&n?.dateFrom?n.dateFrom=`${n.dateFrom.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&s?.dateFrom&&n?.dateFrom&&(n.dateFrom=`${s?.dateFrom.split("T")[0]}T${n.dateFrom.split("T")[1]}`),!this.showTimepicker()&&n?.dateTo?n.dateTo=`${n.dateTo.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&s?.dateTo&&n?.dateTo&&(n.dateTo=`${s?.dateTo.split("T")[0]}T${n.dateTo.split("T")[1]}`)),JSON.stringify(s)!==JSON.stringify(n)&&this._value.set(n)}onHideCalendar(){let i=this._inputForDate()?.nativeElement.value,n=i;if(this.rangeSelection()){n={dateFrom:"",dateTo:""};let[s,r]=i.split(this.multipleDatesSeparator());n.dateFrom=s??"",n.dateTo=r??"",!n.dateFrom||!Ii(n.dateFrom,this.valueFormat())?n.dateFrom=null:n.dateFrom=this.setupInputStringToDate(n.dateFrom).toISOString(),!n.dateTo||!Ii(n.dateTo,this.valueFormat())?n.dateTo=null:n.dateTo=this.setupInputStringToDate(n.dateTo).toISOString(),this.onChangedHandler(n)}else Ii(n,this.valueFormat())?this.onChangedHandler(this.setupInputStringToDate(n).toISOString()):this.onChangedHandler(null);this.formControl()?.getRawValue()!==this._value()?super.onChangedHandler(this._value()):this.onTouched&&this.onTouched(),this.onBlurHandler()}formatDate(i){if(i&&typeof i=="string")return Cn(i,this.valueFormat());if(i&&typeof i=="object"){let n="",s="";return i.dateFrom&&(n=Cn(i.dateFrom,this.valueFormat())),i.dateTo&&(s=Cn(i.dateTo,this.valueFormat())),`${n}${this.multipleDatesSeparator()}${s}`}return""}openDatePicker(){this._inputForDate()?.nativeElement&&this._inputForDate()?.nativeElement.focus()}interceptInputInteraction(i){this.isReadonly()&&(i.stopPropagation(),i.stopImmediatePropagation(),i.preventDefault())}getLocale(){switch(this._activeLanguage()?.toLowerCase()){case"en":return Ni.default.default||Ni.default;case"it":return zs.default.default||zs.default;case"fr":return Ps.default.default||Ps.default;default:return Ni.default.default||Ni.default}}onCancel(){this._inputForDate()?.nativeElement.blur()}dateToUtc(i){return new Date(i.getTime()-i.getTimezoneOffset()*6e4)}setCalendarPosition(){let i=window.innerHeight,n=this._inputForDate()?.nativeElement.getBoundingClientRect();i-n.height-n.top-239>=0?this.targetPosition.set("bottom left"):this.targetPosition.set("top left")}setupTimepicker(){let i=document.getElementsByClassName("air-datepicker-time")?.[0];if(i){let n=i.getElementsByTagName("input");for(let s of Array.from(n))s.setAttribute("type","number"),s.setAttribute("maxLength","2"),s.className="form-control",s.onmouseup=r=>{r.stopImmediatePropagation()},s.onblur=()=>{this.isMouseOutsideCalendar()&&this._airDatepickerInstance()?.hide()}}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["quang-date"]],viewQuery:function(n,s){n&1&&(Je(s._inputForDate,Nc,5),Je(s.contentTemplate,Fc,5)),n&2&&mt(2)},inputs:{dateFormat:[1,"dateFormat"],timeFormat:[1,"timeFormat"],activeLanguageOverride:[1,"activeLanguageOverride"],timepicker:[1,"timepicker"],invalidDateMessage:[1,"invalidDateMessage"],showOnlyTimepicker:[1,"showOnlyTimepicker"],minHour:[1,"minHour"],maxHour:[1,"maxHour"],minMinute:[1,"minMinute"],maxMinute:[1,"maxMinute"],minDate:[1,"minDate"],maxDate:[1,"maxDate"],showInline:[1,"showInline"],calendarClasses:[1,"calendarClasses"],buttonClass:[1,"buttonClass"],datepickerOptions:[1,"datepickerOptions"],multipleDatesSeparator:[1,"multipleDatesSeparator"],rangeSelection:[1,"rangeSelection"],searchTextDebounce:[1,"searchTextDebounce"]},features:[st([{provide:at,useExisting:nt(()=>e),multi:!0}]),$e],ngContentSelectors:Oc,decls:16,vars:38,consts:[["inputForDate",""],["calendarButton",""],[1,"mb-3"],["class","form-label",3,"htmlFor",4,"ngIf"],[1,"input-date-container"],["type","search",1,"form-control",3,"blur","focus","input","mouseenter","mouseleave","search","autocomplete","disabled","hidden","id","ngClass","placeholder","readOnly","tabIndex","value"],["aria-label","calendar-button","type","button",1,"btn","btn-outline-secondary","btn-outline-calendar",3,"click","hidden","ngClass"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){if(n&1){let r=Re();lo(),z(0,"div",2),ve(1,Bc,5,5,"label",3),z(2,"div",4)(3,"input",5,0),ee(5,"transloco"),le("blur",function(){return _e(r),be(s.onBlurHandler())})("focus",function(h){return _e(r),be(s.interceptInputInteraction(h))})("input",function(h){return _e(r),be(s.onChangeText(h))})("mouseenter",function(){return _e(r),be(s.isMouseInsideCalendar.set(!0))})("mouseleave",function(){return _e(r),be(s.isMouseInsideCalendar.set(!1))})("search",function(){return _e(r),be(s.onCancel())}),q(),z(6,"button",6,1),le("click",function(){let h;return _e(r),be((h=s._ngControl())!=null&&h.disabled?null:s.openDatePicker())}),ro(8),q()(),z(9,"div",7),J(10),ee(11,"transloco"),q(),z(12,"div",8),J(13),ee(14,"transloco"),q(),ve(15,Ac,3,4,"small",9),q()}n&2&&(A(),ie("ngIf",s.componentLabel()),A(),Ve("is-invalid",s._showErrors())("is-valid",s._showSuccess()),A(),Ve("is-invalid",s._showErrors())("is-valid",s._showSuccess())("with-button-calendar",!s.hasNoContent()),ie("autocomplete","off")("disabled",s._isDisabled())("hidden",s.showInline())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ae(5,31,s.componentPlaceholder()))("readOnly",s.isReadonly())("tabIndex",s.componentTabIndex())("value",s.inputValueString()),pt("required",s.getIsRequiredControl()),A(3),Ve("border-danger",s._showErrors())("border-success",s._showSuccess()),ie("hidden",s.showInline()||s.hasNoContent()||s._isDisabled())("ngClass",s.buttonClass()),pt("required",s.getIsRequiredControl()),A(4),se(" ",ae(11,33,s.successMessage())," "),A(3),se(" ",ye(14,35,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),A(2),ie("ngIf",s.helpMessage()))},dependencies:[De,lt,ot],styles:[`input[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none;height:.75rem;width:.75rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 3 1024 1024' width='12' height='12' fill='currentColor'%3E%3Cpath d='M9 1018q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5l459-459 459 459q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5 9-9 9-22 0-13-9-22l-459-459 459-459q9-9 9-22 0-13-9-22-9-9-22-9-13 0-22 9l-459 459-459-459q-9-9-22-9-13 0-22 9-9 9-9 22 0 13 9 22l459 459-459 459q-9 9-9 22 0 13 9 22l0 0z'/%3E%3C/svg%3E%0A");cursor:pointer}  .air-datepicker{z-index:99999}  .air-datepicker .air-datepicker--pointer{display:none}  .air-datepicker .air-datepicker-time{display:block}  .air-datepicker .air-datepicker-time .air-datepicker-time--current{display:none}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders{display:flex;justify-content:center;padding-top:.25rem;gap:1rem}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row{width:100%;position:relative}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row:first-child:after{content:":";display:inline;font-size:1rem;position:absolute;right:-.65rem}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row input{width:100%;text-align:center;padding:0;padding-left:1rem;border-color:var(--bs-border-color)}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row .form-control:focus{box-shadow:unset!important}  .air-datepicker.-inline-.-only-timepicker-{border:0}  .air-datepicker.-inline-.-only-timepicker- .air-datepicker--time{border:0}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .input-date-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   input.with-button-calendar[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:disabled{border-radius:var(--bs-border-radius)}[_nghost-%COMP%]   .btn-outline-calendar[_ngcontent-%COMP%]{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;min-width:unset;display:flex;border-color:var(--bs-border-color)}[_nghost-%COMP%]   .border-danger[_ngcontent-%COMP%]{border-color:var(--bs-form-invalid-border-color)}[_nghost-%COMP%]   .border-success[_ngcontent-%COMP%]{border-color:var(--bs-form-valid-border-color)}`],changeDetection:0})}}return e})();var Vc=e=>({enabled:e}),Rc=e=>({required:e}),Hc=e=>({readonly:e}),Pc=e=>({value:e}),zc=e=>({valid:e});function Wc(e,t){if(e&1){let i=Re();z(0,"div",1),xe(1,"div",3),z(2,"div",4)(3,"div",5)(4,"quang-date",6),xe(5,"svg-icon",7),q(),z(6,"quang-date",8),xe(7,"svg-icon",7),q()(),z(8,"div",9)(9,"button",10),le("click",function(){_e(i);let s=de();return be(s.changeFormEnabled())}),J(10),ee(11,"transloco"),q(),z(12,"button",10),le("click",function(){_e(i);let s=de();return be(s.changeFormInputRequired())}),J(13),ee(14,"transloco"),q(),z(15,"button",10),le("click",function(){_e(i);let s=de();return be(s.changeVisibility())}),J(16),ee(17,"transloco"),q(),z(18,"button",11),le("click",function(){_e(i);let s=de();return be(s.resetForm())}),J(19),ee(20,"transloco"),q(),z(21,"button",10),le("click",function(){_e(i);let s=de();return be(s.recreateForm())}),J(22),ee(23,"transloco"),q(),z(24,"button",10),le("click",function(){_e(i);let s=de();return be(s.setFormValues())}),J(25),ee(26,"transloco"),q(),z(27,"button",10),le("click",function(){_e(i);let s=de();return be(s.checkCurrentFormValueAndValidity())}),J(28),ee(29,"transloco"),q(),z(30,"button",10),le("click",function(){_e(i);let s=de();return be(s.changeDateFormat())}),J(31),ee(32,"transloco"),q(),z(33,"button",10),le("click",function(){_e(i);let s=de();return be(s.setReadonly())}),J(34),ee(35,"transloco"),q()()()()}if(e&2){let i=de();A(4),ie("dateFormat",i.dateFormat())("errorMap",i.errors())("formControl",i.testForm.controls.testInput)("isReadonly",i.isReadonly())("timepicker",!0),A(2),ie("dateFormat",i.dateFormat())("errorMap",i.errors())("isReadonly",i.isReadonly()),A(4),se(" ",ye(11,17,"form.buttons.enabled",we(38,Vc,i.testForm.enabled))," "),A(3),se(" ",ye(14,20,"form.buttons.required",we(40,Rc,i.getIsRequiredInput()))," "),A(3),se(" ",ae(17,23,"form.buttons.changeVisibility")," "),A(3),se(" ",ae(20,25,"form.buttons.resetForm")," "),A(3),se(" ",ae(23,27,"form.buttons.recreateForm")," "),A(3),se(" ",ae(26,29,"form.buttons.setForm")," "),A(3),se(" ",ae(29,31,"form.buttons.checkForm")," "),A(3),se(" ",ae(32,33,"form.buttons.changeDateFormat")," "),A(3),se(" ",ye(35,35,"form.buttons.readonly",we(42,Hc,i.isReadonly()))," ")}}function Uc(e,t){if(e&1&&(z(0,"div",2)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),q(),z(5,"span"),J(6),ee(7,"transloco"),q()()),e&2){let i=de();A(2),se(" ",ye(4,4,"form.label.formValue",we(10,Pc,ae(3,2,i.testForm.value)))," "),A(4),se(" ",ye(7,7,"form.label.formValidity",we(12,zc,i.testForm.valid))," ")}}var Ll=(()=>{class e{changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}constructor(){this.formBuilder=Se(ct),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.dateFormat=he("dd/MM/yyyy"),this.errors=he([{error:fe.required.name,message:"form.errors.required"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[fe.required]),testInputNoTime:this.formBuilder.control("",[fe.required])}),this.changeDetection=Se(ei),this.onChangeValue$=this.testForm.controls.testInput.valueChanges.subscribe(i=>{console.log(i),this.changeDetection.markForCheck()}),this.showInput=he(!0),setTimeout(()=>{this.testForm.controls.testInput.setValue(new Date().toISOString())},2e3)}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(fe.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(fe.required):this.testForm.controls.testInput.addValidators(fe.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}resetForm(){this.testForm.reset()}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control(new Date().toISOString(),[fe.required]),testInputNoTime:this.formBuilder.control(new Date().toISOString(),[fe.required])})}setFormValues(){let i=new Date;i.setMonth(0),this.testForm.patchValue({testInput:i.toISOString(),testInputNoTime:i.toISOString()})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0)}changeDateFormat(){this.isReadonly.set(!this.isReadonly()),this.dateFormat.set("yyyy/MM/dd")}setReadonly(){this.isReadonly.set(!this.isReadonly())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-date-test"]],decls:6,vars:6,consts:[[3,"formGroup"],[1,"card"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"card-header"],[1,"card-body"],[1,"row"],["componentLabel","form.label.date","successMessage","form.label.success",1,"col-6",3,"dateFormat","errorMap","formControl","isReadonly","timepicker"],["src","./assets/icons/svg/calendar.svg"],["componentLabel","form.label.date","formControlName","testInputNoTime","successMessage","form.label.success",1,"col-6",3,"dateFormat","errorMap","isReadonly"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(n,s){n&1&&(z(0,"h3"),J(1),ee(2,"transloco"),q(),z(3,"form",0),ve(4,Wc,36,44,"div",1),q(),ve(5,Uc,8,14,"div",2)),n&2&&(A(),Ze(ae(2,4,"title.components.date")),A(2),ie("formGroup",s.testForm),A(),Ge(s.showInput()?4:-1),A(),Ge(s.showValueAndValidity()?5:-1))},dependencies:[bt,Et,_t,St,gt,ut,Ei,wt,xt,De,Ml,ii],encapsulation:2,changeDetection:0})}}return e})();function qc(e,t){if(e&1&&(z(0,"label",7),J(1),ee(2,"transloco"),z(3,"span",8),J(4,"*"),q()()),e&2){let i=de(2);ie("htmlFor",i.componentId()),A(),se(" ",ae(2,3,i.componentLabel())," "),A(2),ie("hidden",!i._isRequired())}}function $c(e,t){if(e&1){let i=Re();Rt(0),z(1,"input",9),ee(2,"transloco"),le("blur",function(){_e(i);let s=de(2);return be(s.onBlurHandler())})("input",function(s){_e(i);let r=de(2);return be(r.onChangedEventHandler(s))}),q(),Ht()}if(e&2){let i=de(2);A(),Ve("is-invalid",i._showErrors())("is-valid",i._showSuccess()),ie("disabled",i._isDisabled())("id",i.componentId())("max",i.maxNumber())("min",i.minNumber())("ngClass",i.componentClass())("placeholder",ae(2,18,i.componentPlaceholder()))("readOnly",i.isReadonly())("step",i.componentStep())("tabIndex",i.componentTabIndex())("type",i.componentType())("value",i._value()),pt("maxLength",i.maxLengthText())("minLength",i.minLengthText())("required",i.getIsRequiredControl())}}function Zc(e,t){if(e&1){let i=Re();Rt(0),z(1,"textarea",10),ee(2,"transloco"),le("blur",function(){_e(i);let s=de(2);return be(s.onBlurHandler())})("input",function(s){_e(i);let r=de(2);return be(r.onChangedEventHandler(s))}),q(),Ht()}if(e&2){let i=de(2);A(),Ve("is-invalid",i._showErrors())("is-valid",i._showSuccess())("no-resize",!i.resizable()),ie("disabled",i._isDisabled())("id",i.componentId())("ngClass",i.componentClass())("placeholder",ae(2,15,i.componentPlaceholder()))("readOnly",i.isReadonly())("tabIndex",i.componentTabIndex())("value",i._value()),pt("maxLength",i.maxLengthText())("minLength",i.minLengthText())}}function jc(e,t){if(e&1&&(z(0,"small",11),J(1),ee(2,"transloco"),q()),e&2){let i=de(2);ie("hidden",i._showSuccess()||i._showErrors()),A(),se(" ",ae(2,2,i.helpMessage())," ")}}function Gc(e,t){if(e&1&&(z(0,"div",1),ve(1,qc,5,5,"label",2)(2,$c,3,20,"ng-container",3)(3,Zc,3,17,"ng-container",3),z(4,"div",4),J(5),ee(6,"transloco"),q(),z(7,"div",5),J(8),ee(9,"transloco"),q(),ve(10,jc,3,4,"small",6),q()),e&2){let i=de();A(),ie("ngIf",i.componentLabel()),A(),ie("ngIf",i.componentType()!=="textarea"),A(),ie("ngIf",i.componentType()==="textarea"),A(2),se(" ",ae(6,6,i.successMessage())," "),A(3),se(" ",ye(9,8,i._currentErrorMessage(),i._currentErrorMessageExtraData())," "),A(2),ie("ngIf",i.helpMessage())}}var Il=(()=>{class e extends kt{constructor(){super(),this.componentType=ne.required(),this.maxLengthText=ne(null),this.minLengthText=ne(null),this.minNumber=ne(void 0),this.maxNumber=ne(void 0),this.componentStep=ne(1),this.resizable=ne(!0),et(this.componentType).pipe(Ne(this.destroyRef)).subscribe(()=>{this.setupFormControl()})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["quang-input"]],inputs:{componentType:[1,"componentType"],maxLengthText:[1,"maxLengthText"],minLengthText:[1,"minLengthText"],minNumber:[1,"minNumber"],maxNumber:[1,"maxNumber"],componentStep:[1,"componentStep"],resizable:[1,"resizable"]},features:[st([{provide:at,useExisting:nt(()=>e),multi:!0}]),$e],decls:1,vars:1,consts:[["class","mb-3",4,"ngIf"],[1,"mb-3"],["class","form-label",3,"htmlFor",4,"ngIf"],[4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["autocomplete","off",1,"form-control",3,"blur","input","disabled","id","max","min","ngClass","placeholder","readOnly","step","tabIndex","type","value"],[1,"form-control",3,"blur","input","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){n&1&&ve(0,Gc,11,11,"div",0),n&2&&ie("ngIf",s.componentType())},dependencies:[De,lt,ot],styles:[`input[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none;height:.75rem;width:.75rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 3 1024 1024' width='12' height='12' fill='currentColor'%3E%3Cpath d='M9 1018q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5l459-459 459 459q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5 9-9 9-22 0-13-9-22l-459-459 459-459q9-9 9-22 0-13-9-22-9-9-22-9-13 0-22 9l-459 459-459-459q-9-9-22-9-13 0-22 9-9 9-9 22 0 13 9 22l459 459-459 459q-9 9-9 22 0 13 9 22l0 0z'/%3E%3C/svg%3E%0A");cursor:pointer}[_nghost-%COMP%]{display:block}.no-resize[_ngcontent-%COMP%]{resize:none}`],changeDetection:0})}}return e})();var Yc=["selectButton"];function Qc(e,t){if(e&1&&(z(0,"label",11),J(1),ee(2,"transloco"),z(3,"span",12),J(4,"*"),q()()),e&2){let i=de();ie("htmlFor",i.componentId()),A(),se(" ",ae(2,3,i.componentLabel())," "),A(2),ie("hidden",!i._isRequired())}}function Xc(e,t){if(e&1&&(Rt(0),J(1),ee(2,"transloco"),Ht()),e&2){let i=t.$implicit,n=t.last,s=de(2);A(),qi(" ",s.translateValue()?ae(2,2,i.label):i.label,"",n?"":", "," ")}}function Kc(e,t){if(e&1&&ve(0,Xc,3,4,"ng-container",13),e&2){let i=de();ie("ngForOf",i._selectedItems())}}function Jc(e,t){if(e&1&&(Rt(0),J(1),ee(2,"transloco"),Ht()),e&2){let i=de();A(),Ze(ae(2,1,i.componentPlaceholder()))}}function eu(e,t){if(e&1){let i=Re();z(0,"quang-option-list",14,1),le("blurHandler",function(){_e(i);let s=de();return be(s.onBlurHandler())})("changedHandler",function(s){_e(i);let r=de();return be(r.onChangedHandler(s))}),q()}if(e&2){let i=de(),n=Ct(4);ie("_isDisabled",i._isDisabled())("_value",i._value())("componentClass",i.componentClass())("componentLabel",i.componentLabel())("componentTabIndex",i.componentTabIndex())("nullOption",i.nullOption())("optionListMaxHeight",i.optionListMaxHeight())("parentType",i.ParentType)("scrollBehaviorOnOpen",i.scrollBehaviorOnOpen())("selectButtonRef",n)("selectionMode",i.selectionMode())("selectOptions",i.selectOptions())("translateValue",i.translateValue())}}function tu(e,t){if(e&1&&(z(0,"small",15),J(1),ee(2,"transloco"),q()),e&2){let i=de();ie("hidden",i._showSuccess()||i._showErrors()),A(),se(" ",ae(2,2,i.helpMessage())," ")}}var ls=(()=>{class e extends kt{constructor(){super(...arguments),this.selectionMode=ne("single"),this.optionListMaxHeight=ne("18rem"),this.selectOptions=ne.required(),this.scrollBehaviorOnOpen=ne("smooth"),this.selectButton=Ke("selectButton"),this._showOptions=he(!1),this._optionHideTimeout=he(void 0),this._selectedItems=Be(()=>{if(this._value()!==null){let i=this._value();return this.selectOptions().filter(n=>Array.isArray(i)?i.some(s=>s===n.value):i===n.value)}return null}),this.translateValue=ne(!0),this.nullOption=ne(!0),this.ParentType=Pt.SELECT}changeOptionsVisibility(i=!1){this.isReadonly()||(this._showOptions()?this._showOptions.set(i):this.showOptionVisibility())}showOptionVisibility(){this._optionHideTimeout()&&(clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(null)),this._showOptions.set(!0)}hideOptionVisibility(i=!1){this._optionHideTimeout()&&clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(setTimeout(()=>{this._showOptions.set(!1)},i?0:50))}onBlurHandler(){this.selectionMode()==="single"&&setTimeout(()=>{this.hideOptionVisibility(),super.onBlurHandler()},100)}onChangedHandler(i){super.onChangedHandler(i),this.selectionMode()==="single"&&this.hideOptionVisibility()}onMouseLeaveCallback(){this.selectionMode()==="multiple"&&this.hideOptionVisibility()}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ut(e)))(s||e)}})()}static{this.\u0275cmp=ke({type:e,selectors:[["quang-select"]],viewQuery:function(n,s){n&1&&Je(s.selectButton,Yc,5),n&2&&mt()},inputs:{selectionMode:[1,"selectionMode"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],translateValue:[1,"translateValue"],nullOption:[1,"nullOption"]},features:[st([{provide:at,useExisting:nt(()=>e),multi:!0},{provide:li,multi:!1}]),$e],decls:16,vars:24,consts:[["selectButton",""],["optionList",""],[1,"mb-3",3,"mouseleave"],["class","form-label w-100",3,"htmlFor",4,"ngIf"],[1,"option-list-container"],["type","button",1,"form-select",3,"click","disabled","id","ngClass","tabIndex"],[1,"content"],[3,"_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentType","scrollBehaviorOnOpen","selectButtonRef","selectionMode","selectOptions","translateValue","blurHandler","changedHandler",4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label","w-100",3,"htmlFor"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"blurHandler","changedHandler","_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentType","scrollBehaviorOnOpen","selectButtonRef","selectionMode","selectOptions","translateValue"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){if(n&1){let r=Re();z(0,"div",2),le("mouseleave",function(){return _e(r),be(s.onMouseLeaveCallback())}),ve(1,Qc,5,5,"label",3),z(2,"div",4)(3,"button",5,0),le("click",function(){return _e(r),be(s.changeOptionsVisibility())}),z(5,"div",6),ve(6,Kc,1,1,"ng-container")(7,Jc,3,3,"ng-container"),q()(),ve(8,eu,2,13,"quang-option-list",7),q(),z(9,"div",8),J(10),ee(11,"transloco"),q(),z(12,"div",9),J(13),ee(14,"transloco"),q(),ve(15,tu,3,4,"small",10),q()}if(n&2){let r,u,h,o,b;A(),ie("ngIf",s.componentLabel()),A(),Ve("is-invalid",((r=s._ngControl())==null?null:r.invalid)&&(((r=s._ngControl())==null?null:r.dirty)||((r=s._ngControl())==null?null:r.touched))&&s.errorMap().length)("is-valid",((u=s._ngControl())==null?null:u.valid)&&(((u=s._ngControl())==null?null:u.dirty)||((u=s._ngControl())==null?null:u.touched))&&s.successMessage()),A(),Ve("is-invalid",((h=s._ngControl())==null?null:h.invalid)&&(((h=s._ngControl())==null?null:h.dirty)||((h=s._ngControl())==null?null:h.touched))&&s.errorMap().length)("is-valid",((o=s._ngControl())==null?null:o.valid)&&(((o=s._ngControl())==null?null:o.dirty)||((o=s._ngControl())==null?null:o.touched))&&s.successMessage()),ie("disabled",s._isDisabled())("id",s.componentId())("ngClass",s.componentClass())("tabIndex",s.componentTabIndex()),pt("required",s.getIsRequiredControl()),A(3),Ge((b=s._selectedItems())!=null&&b.length?6:7),A(2),ie("ngIf",s._showOptions()),A(2),se(" ",ae(11,19,s.successMessage())," "),A(3),se(" ",ye(14,21,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),A(2),ie("ngIf",s.helpMessage())}},dependencies:[De,lt,ti,ot,li],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .option-list-container[_ngcontent-%COMP%]{position:relative}.form-select[_ngcontent-%COMP%]{height:2.375rem}.form-select[_ngcontent-%COMP%]:disabled{background-image:unset}.content[_ngcontent-%COMP%]{text-align:left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"],changeDetection:0})}}return e})();var iu=e=>({enabled:e}),nu=e=>({required:e}),su=e=>({readonly:e}),ou=e=>({value:e}),lu=e=>({valid:e});function ru(e,t){if(e&1&&(z(0,"div",8),xe(1,"quang-input",12),q()),e&2){let i=de();A(),ie("componentType",i.inputType())("errorMap",i.errors())("isReadonly",i.isReadonly())("maxNumber",10)("minNumber",0)}}function au(e,t){if(e&1&&(z(0,"div",11)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),q(),z(5,"span"),J(6),ee(7,"transloco"),q()()),e&2){let i=de();A(2),se(" ",ye(4,4,"form.label.formValue",we(10,ou,ae(3,2,i.testForm.value)))," "),A(4),se(" ",ye(7,7,"form.label.formValidity",we(12,lu,i.testForm.valid))," ")}}var Nl=(()=>{class e{constructor(){this.inputTypesList=["number","url","tel","color","email","password","search","text","textarea"],this.inputTypes=Be(()=>this.inputTypesList.map(i=>({label:i,value:i}))),this.inputType=he("text"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Se(ct),this.errors=he([{error:fe.required.name,message:"form.errors.required"},{error:fe.minLength.name,message:"form.errors.minLength"},{error:fe.maxLength.name,message:"form.errors.maxLength"},{error:"noMatch",message:"form.errors.noMatch"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[fe.required,fe.minLength(1),fe.maxLength(30)])}),this.testFormChange=this.testForm.controls.testInput.valueChanges.pipe(Ne()).subscribe(i=>{i&&i==="ciao"||i&&(console.log("ciaoni"),console.log("this.testForm.controls.testInput",this.testForm.controls.testInput.errors))}),this.showInput=he(!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(fe.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(fe.required):this.testForm.controls.testInput.addValidators(fe.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("New form created",[fe.required,fe.minLength(10),fe.maxLength(30)])})}setFormValues(){this.testForm.patchValue({testInput:"ciao!"})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-input-test"]],decls:34,vars:38,consts:[[1,"d-flex","gap-4"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","w-50"],["componentLabel","form.buttons.selectInputType","selectionMode","single",3,"ngModelChange","selectOptions","ngModel"],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],["componentLabel","form.label.input","formControlName","testInput","successMessage","form.label.success",3,"componentType","errorMap","isReadonly","maxNumber","minNumber"]],template:function(n,s){n&1&&(z(0,"div",0)(1,"h3",1),J(2),ee(3,"transloco"),q(),z(4,"div",2)(5,"quang-select",3),uo("ngModelChange",function(u){return co(s.inputType,u)||(s.inputType=u),u}),q()()(),z(6,"form",4)(7,"div",5),xe(8,"div",6),z(9,"div",7),ve(10,ru,2,5,"div",8),z(11,"div",9)(12,"button",10),le("click",function(){return s.changeFormEnabled()}),J(13),ee(14,"transloco"),q(),z(15,"button",10),le("click",function(){return s.changeFormInputRequired()}),J(16),ee(17,"transloco"),q(),z(18,"button",10),le("click",function(){return s.changeVisibility()}),J(19),ee(20,"transloco"),q(),z(21,"button",10),le("click",function(){return s.recreateForm()}),J(22),ee(23,"transloco"),q(),z(24,"button",10),le("click",function(){return s.setFormValues()}),J(25),ee(26,"transloco"),q(),z(27,"button",10),le("click",function(){return s.checkCurrentFormValueAndValidity()}),J(28),ee(29,"transloco"),q(),z(30,"button",10),le("click",function(){return s.setReadonly()}),J(31),ee(32,"transloco"),q()()()()(),ve(33,au,8,14,"div",11)),n&2&&(A(2),Ze(ae(3,13,"title.components.input")),A(3),ie("selectOptions",s.inputTypes()),ao("ngModel",s.inputType),A(),ie("formGroup",s.testForm),A(4),Ge(s.showInput()?10:-1),A(3),se(" ",ye(14,15,"form.buttons.enabled",we(32,iu,s.testForm.enabled))," "),A(3),se(" ",ye(17,18,"form.buttons.required",we(34,nu,s.getIsRequiredInput()))," "),A(3),se(" ",ae(20,21,"form.buttons.changeVisibility")," "),A(3),se(" ",ae(23,23,"form.buttons.recreateForm")," "),A(3),se(" ",ae(26,25,"form.buttons.setForm")," "),A(3),se(" ",ae(29,27,"form.buttons.checkForm")," "),A(3),se(" ",ye(32,29,"form.buttons.readonly",we(36,su,s.isReadonly()))," "),A(2),Ge(s.showValueAndValidity()?33:-1))},dependencies:[bt,Et,_t,St,Bs,gt,ut,wt,xt,Il,De,ls],encapsulation:2,changeDetection:0})}}return e})();var Fl=(()=>{class e{constructor(){this.http=Se(go),this.appService=Se(vo)}showLoader(){return $s(this,null,function*(){for(let i=0;i<20;i++){let n=yield Gs(this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe(Xs(300)));console.log("call",n)}})}testApiCall(){this.appService.testHttpGet()}testUnauthorized(){this.appService.testHttpUnauthorized()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-loader-test-page"]],decls:14,vars:10,consts:[[1,"d-flex","gap-4","flex-wrap"],[1,"btn","btn-secondary","d-flex","gap-2",3,"click"],["src","assets/icons/svg/reload.svg",2,"width","20px",3,"applyClass"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(n,s){n&1&&(z(0,"p"),J(1,"loader-test-page works!"),q(),z(2,"div",0)(3,"button",1),le("click",function(){return s.showLoader()}),xe(4,"svg-icon",2),z(5,"span"),J(6),ee(7,"transloco"),q()(),z(8,"button",3),le("click",function(){return s.testApiCall()}),J(9),ee(10,"transloco"),q(),z(11,"button",3),le("click",function(){return s.testUnauthorized()}),J(12),ee(13,"transloco"),q()()),n&2&&(A(4),ie("applyClass",!0),A(2),Ze(ae(7,4,"buttons.loader")),A(3),se(" ",ae(10,6,"buttons.apiCall")," "),A(3),se(" ",ae(13,8,"buttons.unauthorized")," "))},dependencies:[Zi,ii,De],encapsulation:2})}}return e})();var uu=(e,t)=>({page:e,amountPages:t});function du(e,t){if(e&1&&(z(0,"div",16),J(1),ee(2,"transloco"),q()),e&2){let i=de();A(),qi(" ",ae(2,2,i.totalItemsText())," ",i.totalItems()," ")}}function hu(e,t){if(e&1&&(z(0,"option",21),J(1),q()),e&2){let i=t.$implicit,n=de(2);ie("selected",i===n._pageSize()),A(),se(" ",i," ")}}function pu(e,t){if(e&1){let i=Re();z(0,"div",17)(1,"label",18),J(2),ee(3,"transloco"),q(),z(4,"select",19,4),le("change",function(s){_e(i);let r=de();return be(r.onChangeSize(s))}),ve(6,hu,2,2,"option",20),q()()}if(e&2){let i=de();A(2),se(" ",ae(3,4,i.sizeText())," "),A(2),ie("id",i.componentId()+"-quang-page-size")("tabIndex",i.componentTabIndex()),A(2),ie("ngForOf",i.sizeList())}}function fu(e,t){e&1&&(It(),z(0,"svg",22),xe(1,"path",23),q())}function mu(e,t){e&1&&(It(),z(0,"svg",22),xe(1,"path",24),q())}function gu(e,t){e&1&&(It(),z(0,"svg",22),xe(1,"path",25),q())}function _u(e,t){e&1&&(It(),z(0,"svg",22),xe(1,"path",26),q())}var Ol=(()=>{class e{constructor(){this.componentId=ne(an(10)),this.componentTabIndex=ne(0),this.componentClass=ne(""),this.page=ne.required(),this.pageSize=ne.required(),this.sizeList=ne([]),this.totalItems=ne.required(),this.showTotalElementsCount=ne(!0),this.totalItemsText=ne("quangPaginator.totalItems"),this.sizeText=ne("quangPaginator.size"),this.pageRangeText=ne("quangPaginator.pageRange"),this._currentPage=he(1),this.page$=et(this.page).pipe(Ne()).subscribe(i=>{this._currentPage.set(i)}),this._pageSize=he(0),this.pageSize$=et(this.pageSize).pipe(Ne()).subscribe(i=>{this._pageSize.set(i)}),this._totalPages=Be(()=>Math.ceil(this.totalItems()/this._pageSize())),this.changePage=ft(),this.changeSize=ft()}ngOnInit(){this._currentPage.set(this.page()),this._pageSize.set(this.pageSize())}onChangeSize(i){this._pageSize.set(parseInt(i.target.value)),this.changeSize.emit(this._pageSize()),this.goToFirstPage()}goToNextPage(){this._currentPage.update(i=>i+1),this.changePage.emit(this._currentPage())}goToPreviousPage(){this._currentPage.update(i=>i-1),this.changePage.emit(this._currentPage())}goToFirstPage(){this._currentPage.set(1),this.changePage.emit(this._currentPage())}goToLastPage(){this._currentPage.set(this._totalPages()),this.changePage.emit(this._currentPage())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["quang-paginator"]],inputs:{componentId:[1,"componentId"],componentTabIndex:[1,"componentTabIndex"],componentClass:[1,"componentClass"],page:[1,"page"],pageSize:[1,"pageSize"],sizeList:[1,"sizeList"],totalItems:[1,"totalItems"],showTotalElementsCount:[1,"showTotalElementsCount"],totalItemsText:[1,"totalItemsText"],sizeText:[1,"sizeText"],pageRangeText:[1,"pageRangeText"]},outputs:{changePage:"changePage",changeSize:"changeSize"},decls:32,vars:15,consts:[["nextTemplate",""],["prevTemplate",""],["lastTemplate",""],["firstTemplate",""],["input",""],[1,"paginatorContainer",3,"id","ngClass"],["class","me-3 pagination-label",4,"ngIf"],["class","me-3",4,"ngIf"],[1,"pagination-label","text-center"],[1,"pagination"],["type","button",1,"page-link",3,"click","disabled"],["fill","currentColor","height","24","stroke","currentColor","viewBox","0 -960 960 960","width","24","xmlns","http://www.w3.org/2000/svg"],["d","M240-240v-480h80v480h-80Zm440 0L440-480l240-240 56 56-184 184 184 184-56 56Z","fill","currentColor","stroke","currentColor"],["d","M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z","fill","currentColor","stroke","currentColor"],["d","M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z","fill","currentColor","stroke","currentColor"],["d","m280-240-56-56 184-184-184-184 56-56 240 240-240 240Zm360 0v-480h80v480h-80Z","fill","currentColor","stroke","currentColor"],[1,"me-3","pagination-label"],[1,"me-3"],["for","pageSize",1,"form-label","pagination-label","mb-0","text-center"],["autocomplete","off","id","pageSize","name","pageSize",1,"form-select","page-size",3,"change","id","tabIndex"],[3,"selected",4,"ngFor","ngForOf"],[3,"selected"],["fill","currentColor","fill","currentColor","height","48","stroke","currentColor","viewBox","0 -960 960 960","width","48","xmlns","http://www.w3.org/2000/svg"],["d","M530-481 332-679l43-43 241 241-241 241-43-43 198-198Z","fill","currentColor","stroke","currentColor"],["d","M561-240 320-481l241-241 43 43-198 198 198 198-43 43Z","fill","currentColor","stroke","currentColor"],["d","m272-245-43-43 192-192-192-192 43-43 235 235-235 235Zm388 5v-480h60v480h-60Z","fill","currentColor","stroke","currentColor"],["d","M240-240v-480h60v480h-60Zm447-3L453-477l234-234 43 43-191 191 191 191-43 43Z","fill","currentColor","stroke","currentColor"]],template:function(n,s){if(n&1){let r=Re();z(0,"div",5),ve(1,du,3,4,"div",6)(2,pu,7,6,"div",7),z(3,"div",8),J(4),ee(5,"transloco"),q(),z(6,"div",9)(7,"ul")(8,"li")(9,"button",10),le("click",function(){return _e(r),be(s.goToFirstPage())}),It(),z(10,"svg",11),xe(11,"path",12),q()()(),Wi(),z(12,"li")(13,"button",10),le("click",function(){return _e(r),be(s.goToPreviousPage())}),It(),z(14,"svg",11),xe(15,"path",13),q()()(),Wi(),z(16,"li")(17,"button",10),le("click",function(){return _e(r),be(s.goToNextPage())}),It(),z(18,"svg",11),xe(19,"path",14),q()()(),Wi(),z(20,"li")(21,"button",10),le("click",function(){return _e(r),be(s.goToLastPage())}),It(),z(22,"svg",11),xe(23,"path",15),q()()()()()(),ve(24,fu,2,0,"ng-template",null,0,Tt)(26,mu,2,0,"ng-template",null,1,Tt)(28,gu,2,0,"ng-template",null,2,Tt)(30,_u,2,0,"ng-template",null,3,Tt)}n&2&&(ie("id",s.componentId())("ngClass",s.componentClass()),A(),ie("ngIf",s.showTotalElementsCount()),A(),ie("ngIf",s.sizeList().length>0),A(2),se(" ",ye(5,9,s.pageRangeText(),$i(12,uu,s.page(),s._totalPages()))," "),A(5),ie("disabled",s._currentPage()<=1),A(4),ie("disabled",s._currentPage()<=1),A(4),ie("disabled",s._currentPage()>=s._totalPages()),A(4),ie("disabled",s._currentPage()>=s._totalPages()))},dependencies:[De,lt,ti,ot],styles:["[_nghost-%COMP%]{display:block}.paginatorContainer[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-wrap:wrap}@media (min-width: 576px){.paginatorContainer[_ngcontent-%COMP%]{flex-wrap:nowrap;order:2}}.paginatorContainer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem;order:2;min-width:80px}@media (min-width: 576px){.paginatorContainer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{order:1}}.pagination[_ngcontent-%COMP%]{margin-bottom:.5rem}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;display:flex}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pagination-page[_ngcontent-%COMP%]{display:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border-radius:50%;padding:.375rem;border:none;gap:1.5rem;padding:.25rem;background-color:transparent;color:var(--bs-body-color)}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{opacity:40%}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:unset}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;width:30px;height:30px}.pagination-label[_ngcontent-%COMP%]{margin:0;margin-bottom:1rem;font-size:.75rem}"],changeDetection:0})}}return e})();var Bl=(()=>{class e{constructor(){this.formBuilder=Se(ct),this.sizeList=[10,20,30,40,50],this.testForm=this.formBuilder.group({page:1,pageSize:10})}onChangePage(i){this.testForm.controls.page.patchValue(i),console.log(i)}onChangePageSize(i){this.testForm.controls.pageSize.patchValue(i),console.log(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-paginator-test"]],decls:10,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"changePage","changeSize","page","pageSize","sizeList","totalItems"],[1,"mt-3","ms-3"]],template:function(n,s){n&1&&(z(0,"h3"),J(1),ee(2,"transloco"),q(),z(3,"div",0),xe(4,"div",1),z(5,"div",2)(6,"quang-paginator",3),le("changePage",function(u){return s.onChangePage(u)})("changeSize",function(u){return s.onChangePageSize(u)}),q()()(),z(7,"div",4),J(8),ee(9,"json"),q()),n&2&&(A(),Ze(ae(2,6,"title.components.paginator")),A(5),ie("page",s.testForm.controls.page.value)("pageSize",s.testForm.controls.pageSize.value)("sizeList",s.sizeList)("totalItems",30),A(2),se(" ",ae(9,8,s.testForm.value),`
`))},dependencies:[Ol,bt,ut,gt,De],encapsulation:2,changeDetection:0})}}return e})();var bu=e=>({enabled:e}),vu=e=>({required:e}),yu=e=>({readonly:e}),Cu=e=>({value:e}),wu=e=>({valid:e});function xu(e,t){if(e&1&&(z(0,"div",4),xe(1,"quang-select",8)(2,"quang-select",8)(3,"quang-select",9),q()),e&2){let i=de();A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("selectOptions",i.stringList),A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("selectOptions",i.stringList),A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())("selectOptions",i.numberList)}}function Tu(e,t){if(e&1&&(z(0,"div",7)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),q(),z(5,"span"),J(6),ee(7,"transloco"),q()()),e&2){let i=de();A(2),se(" ",ye(4,4,"form.label.formValue",we(10,Cu,ae(3,2,i.testForm.value)))," "),A(4),se(" ",ye(7,7,"form.label.formValidity",we(12,wu,i.testForm.valid))," ")}}var Al=(()=>{class e{changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(fe.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(fe.required):this.testForm.controls.testInput.addValidators(fe.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control(this.stringList[2].value,[fe.required]),testInputMultiple:this.formBuilder.control([1,2],[fe.required])})}setFormValues(){this.testForm.patchValue({testInput:"min",testInputMultiple:[3,4]})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}constructor(){this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.stringList=[{code:"required",description:"This field is required."},{code:"minLength",description:"This field must be at least 10 characters long."},{code:"maxLength",description:"This field must be at most 30 characters long."},{code:"pattern",description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:"email",description:"This field must be a valid email address."},{code:"min",description:"This field must be greater than or equal to 10."},{code:"max",description:"This field must be less than or equal to 30."},{code:"unique",description:"This field must be unique."},{code:"custom",description:"This field does not meet the custom validation rule."},{code:"async",description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.numberList=[{code:1,description:"This field is required."},{code:2,description:"This field must be at least 10 characters long."},{code:3,description:"This field must be at most 30 characters long."},{code:4,description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:5,description:"This field must be a valid email address."},{code:6,description:"This field must be greater than or equal to 10."},{code:7,description:"This field must be less than or equal to 30."},{code:8,description:"This field must be unique."},{code:9,description:"This field does not meet the custom validation rule."},{code:10,description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.formBuilder=Se(ct),this.errors=he([{error:fe.required.name,message:"form.errors.required"},{error:fe.minLength.name,message:"form.errors.minLength"},{error:fe.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[fe.required]),testInputMultiple:this.formBuilder.control([],[fe.required])}),this.showInput=he(!0),this.onChangeTestInput=this.testForm.controls.testInput.valueChanges.pipe(Ne()).subscribe(i=>{console.log(i)}),this.onChangeTestInputMultiple=this.testForm.controls.testInputMultiple.valueChanges.pipe(Ne()).subscribe(i=>{console.log(i)}),setTimeout(()=>{console.log("\xE8 il momento dei pocci"),this.testForm.controls.testInputMultiple.patchValue(1)},5e3)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-select-test"]],decls:31,vars:36,consts:[[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],["componentLabel","form.label.select","componentPlaceholder","Placeholder select singola scelta","formControlName","testInput","selectionMode","single","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"],["componentLabel","form.label.multipleSelect","componentPlaceholder","Placeholder select scelta multipla","formControlName","testInputMultiple","selectionMode","multiple","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"]],template:function(n,s){n&1&&(z(0,"h3"),J(1),ee(2,"transloco"),q(),z(3,"form",0)(4,"div",1),xe(5,"div",2),z(6,"div",3),ve(7,xu,4,9,"div",4),z(8,"div",5)(9,"button",6),le("click",function(){return s.changeFormEnabled()}),J(10),ee(11,"transloco"),q(),z(12,"button",6),le("click",function(){return s.changeFormInputRequired()}),J(13),ee(14,"transloco"),q(),z(15,"button",6),le("click",function(){return s.changeVisibility()}),J(16),ee(17,"transloco"),q(),z(18,"button",6),le("click",function(){return s.recreateForm()}),J(19),ee(20,"transloco"),q(),z(21,"button",6),le("click",function(){return s.setFormValues()}),J(22),ee(23,"transloco"),q(),z(24,"button",6),le("click",function(){return s.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),q(),z(27,"button",6),le("click",function(){return s.setReadonly()}),J(28),ee(29,"transloco"),q()()()()(),ve(30,Tu,8,14,"div",7)),n&2&&(A(),Ze(ae(2,11,"title.components.select")),A(2),ie("formGroup",s.testForm),A(4),Ge(s.showInput()?7:-1),A(3),se(" ",ye(11,13,"form.buttons.enabled",we(30,bu,s.testForm.enabled))," "),A(3),se(" ",ye(14,16,"form.buttons.required",we(32,vu,s.getIsRequiredInput()))," "),A(3),se(" ",ae(17,19,"form.buttons.changeVisibility")," "),A(3),se(" ",ae(20,21,"form.buttons.recreateForm")," "),A(3),se(" ",ae(23,23,"form.buttons.setForm")," "),A(3),se(" ",ae(26,25,"form.buttons.checkForm")," "),A(3),se(" ",ye(29,27,"form.buttons.readonly",we(34,yu,s.isReadonly()))," "),A(2),Ge(s.showValueAndValidity()?30:-1))},dependencies:[bt,Et,_t,St,gt,ut,wt,xt,De,ls],encapsulation:2,changeDetection:0})}}return e})();var Su=(e,t)=>({"mb-3":e,"form-check":t}),Eu=e=>({"cursor-pointer":e});function ku(e,t){if(e&1&&(z(0,"label",6),J(1),ee(2,"transloco"),z(3,"span",7),J(4,"*"),q()()),e&2){let i=de();ie("htmlFor",i.componentId())("ngClass",we(6,Eu,!i._isDisabled())),A(),se(" ",ae(2,4,i.componentLabel())," "),A(2),ie("hidden",!i._isRequired())}}function Du(e,t){if(e&1&&(z(0,"small",8),J(1),ee(2,"transloco"),q()),e&2){let i=de();ie("hidden",i._showSuccess()||i._showErrors()),A(),se(" ",ae(2,2,i.helpMessage())," ")}}var rs=(()=>{class e extends kt{constructor(){super(...arguments),this.labelPosition=ne("top"),this.checkType=ne.required(),this.removeMargin=ne(!1)}onChangedEventHandler(i){let n=i.target;this.onChangedHandler(n.checked)}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ut(e)))(s||e)}})()}static{this.\u0275cmp=ke({type:e,selectors:[["quang-checkbox"]],inputs:{labelPosition:[1,"labelPosition"],checkType:[1,"checkType"],removeMargin:[1,"removeMargin"]},features:[st([{provide:at,useExisting:nt(()=>e),multi:!0}]),$e],decls:11,vars:46,consts:[[3,"ngClass"],["class","form-label",3,"htmlFor","ngClass",4,"ngIf"],["type","checkbox",3,"blur","input","checked","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor","ngClass"],[3,"hidden"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){n&1&&(z(0,"div",0),ve(1,ku,5,8,"label",1),z(2,"input",2),ee(3,"transloco"),le("blur",function(){return s.onBlurHandler()})("input",function(u){return s.onChangedEventHandler(u)}),q(),z(4,"div",3),J(5),ee(6,"transloco"),q(),z(7,"div",4),J(8),ee(9,"transloco"),q(),ve(10,Du,3,4,"small",5),q()),n&2&&(Ve("form-check-reverse",s.labelPosition()==="left"&&s.checkType()==="checkbox")("form-switch",s.checkType()==="toggle")("label-bottom",s.labelPosition()==="bottom")("label-left",s.labelPosition()==="left"&&s.checkType()==="toggle")("label-right",s.labelPosition()==="right"&&s.checkType()==="toggle")("label-top",s.labelPosition()==="top")("toggle-wrapper",s.checkType()==="toggle"),ie("ngClass",$i(43,Su,!s.removeMargin(),!s.removeMargin())),A(),ie("ngIf",s.componentLabel()),A(),io("form-check-input ",s._isDisabled()?"":"cursor-pointer",""),Ve("is-invalid",s._showErrors())("is-valid",s._showSuccess()),ie("checked",s._value())("disabled",s._isDisabled())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ae(3,36,s.componentPlaceholder()))("readOnly",s.isReadonly())("tabIndex",s.componentTabIndex())("value",s._value()),pt("required",s.getIsRequiredControl())("role",s.checkType()==="checkbox"?"checkbox":"switch"),A(3),se(" ",ae(6,38,s.successMessage())," "),A(3),se(" ",ye(9,40,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),A(2),ie("ngIf",s.helpMessage()))},dependencies:[De,lt,ot],styles:["[_nghost-%COMP%]{display:block}.label-top[_ngcontent-%COMP%]{display:flex;flex-direction:column}.label-top[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset;float:unset}.label-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.label-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset;float:unset}.label-right[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:start}.label-right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.5rem;margin-bottom:0;align-self:center}.label-left[_ngcontent-%COMP%]{flex-direction:row}.label-left[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;align-self:center}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;padding-left:unset}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.toggle-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:unset;width:3em;height:1.5em}.direction-row[_ngcontent-%COMP%]{flex-direction:row}.direction-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-right:.5rem}.direction-reverse-row[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:start}.direction-reverse-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.direction-column[_ngcontent-%COMP%]{flex-direction:column}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}}return e})();var Vl=(()=>{class e{constructor(){this.notifiers=[],this.resizeObserver=new ResizeObserver(i=>{this.notifiers.forEach(n=>n.next(i))})}resizeObservable(i){return this.resizeObserver.observe(i),new Zs(s=>(this.notifiers.push(s),()=>{let r=this.notifiers.findIndex(u=>u===s);this.notifiers.splice(r,1),this.resizeObserver.unobserve(i)})).pipe(gi(s=>s.find(r=>r.target===i)),_i(Boolean),Js(30))}widthResizeObservable(i){return this.resizeObservable(i).pipe(gi(n=>n.borderBoxSize[0].inlineSize),_i(Boolean))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=bi({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Rl=["tableHeader"],Mu=["fakeTableHeader"],Fi=e=>({$implicit:e});function Lu(e,t){if(e&1&&(z(0,"div",19),Jt(1,17),q()),e&2){let i=de().$implicit;de(2);let n=Ct(4);A(),ie("ngTemplateOutlet",n)("ngTemplateOutletContext",we(2,Fi,i.sort))}}function Iu(e,t){if(e&1){let i=Re();Rt(0),z(1,"th",15),le("click",function(){let s=_e(i).$implicit,r=de(2);return be(s!=null&&s.sort?r.onSortColumn(s.sort):null)}),z(2,"div",16),J(3),ee(4,"transloco"),Jt(5,17),ve(6,Lu,2,4,"div",18),q()(),Ht()}if(e&2){let i,n=t.$implicit;A(),Ve("sort-btn",n==null?null:n.sort),A(),ie("ngClass",n==null?null:n.css),A(),se(" ",n.renderer?null:ae(4,7,n.text)," "),A(2),ie("ngTemplateOutlet",(i=n==null?null:n.renderer)!==null&&i!==void 0?i:null)("ngTemplateOutletContext",we(9,Fi,n.payload)),A(),ie("ngIf",n.sort==null?null:n.sort.key)}}function Nu(e,t){if(e&1&&(z(0,"div",19),Jt(1,17),q()),e&2){let i=de().$implicit;de(2);let n=Ct(4);A(),ie("ngTemplateOutlet",n)("ngTemplateOutletContext",we(2,Fi,i.sort))}}function Fu(e,t){if(e&1){let i=Re();Rt(0),z(1,"th",15),le("click",function(){let s=_e(i).$implicit,r=de(2);return be(s!=null&&s.sort?r.onSortColumn(s.sort):null)}),z(2,"div",16),J(3),ee(4,"transloco"),Jt(5,17),ve(6,Nu,2,4,"div",18),q()(),Ht()}if(e&2){let i,n=t.$implicit;A(),Ve("sort-btn",n==null?null:n.sort),A(),ie("ngClass",n==null?null:n.css),A(),se(" ",n.renderer?null:ae(4,7,n.text)," "),A(2),ie("ngTemplateOutlet",(i=n==null?null:n.renderer)!==null&&i!==void 0?i:null)("ngTemplateOutletContext",we(9,Fi,n.payload)),A(),ie("ngIf",n.sort==null?null:n.sort.key)}}function Ou(e,t){if(e&1&&(z(0,"td",22),J(1),Jt(2,17),q()),e&2){let i,n=t.$implicit,s=de(3);ie("ngClass",n.css),pt("colspan",n!=null&&n.fullWidth?s._tableConfigurations().headers.length:void 0),A(),se(" ",n.renderer?null:n.text," "),A(),ie("ngTemplateOutlet",(i=n==null?null:n.renderer)!==null&&i!==void 0?i:null)("ngTemplateOutletContext",we(5,Fi,n.payload))}}function Bu(e,t){if(e&1){let i=Re();z(0,"tr",20),le("click",function(){let s=_e(i).$implicit,r=de(2);return be(r.clickableRow()?r.onClickRow(s):null)}),ve(1,Ou,3,7,"td",21),q()}if(e&2){let i=t.$implicit,n=de(2);Ve("hover-table",n.clickableRow())("selectedRow",i!=null&&i.rowId?n.isSelected(i.rowId):null),ie("ngClass",i.css),A(),ie("ngForOf",i.cellData)}}function Au(e,t){if(e&1){let i=Re();Rt(0),z(1,"div",8,1),le("scroll",function(){_e(i);let s=Ct(2),r=Ct(9);return be(r.scrollLeft=s.scrollLeft)}),z(3,"table",9,2)(5,"thead")(6,"tr"),ve(7,Iu,7,11,"ng-container",10),q()()()(),z(8,"div",11,3),le("scroll",function(){_e(i);let s=Ct(2),r=Ct(9);return be(s.scrollLeft=r.scrollLeft)}),z(10,"table",12)(11,"thead",13,4)(13,"tr"),ve(14,Fu,7,11,"ng-container",10),q()(),z(15,"tbody"),ve(16,Bu,2,6,"tr",14),q()()(),Ht()}if(e&2){let i=de();A(7),ie("ngForOf",i._tableConfigurations().headers),A(7),ie("ngForOf",i._tableConfigurations().headers),A(2),ie("ngForOf",i._tableConfigurations().rows)}}function Vu(e,t){if(e&1&&(z(0,"h6",23),J(1),ee(2,"transloco"),q()),e&2){let i=de();A(),se(" ",ae(2,1,i.noResultsText())," ")}}function Ru(e,t){if(e&1&&(z(0,"div",24),It(),z(1,"svg",25),xe(2,"path",26),q(),z(3,"svg",27),xe(4,"path",28),q()()),e&2){let i=t.$implicit,n=de();Ve("sort-asc",i.sort===n.SortTable.ASC)("sort-default",i.sort===n.SortTable.DEFAULT)("sort-desc",i.sort===n.SortTable.DESC)}}var dt=function(e){return e.DEFAULT="DEFAULT",e.ASC="ASC",e.DESC="DESC",e}(dt||{}),Hl=(()=>{class e{constructor(){this.clickableRow=ne(!1),this.selectedRows=ne(),this.stickyTable=ne(!0),this.selectedRow=ft(),this.sortChanged=ft(),this.SortTable=dt,this.destroyRef=Se(Vt),this._resizeObservableService=Se(Vl),this._tableHeader=Ke("tableHeader"),this._tableHeaderElement=Ke("tableHeader"),this.noResultsText=ne("quangTable.noResults"),this._tableHeaderEffect=Nt(()=>{this._tableHeader()&&this.fixTableHeaderWidth()}),this._tableHeaderElementEffect=Nt(()=>{this._tableHeaderElement()&&this.fixTableHeaderWidth()}),this._fakeTableHeader=Ke("fakeTableHeader"),this._fakeTableHeaderEffect=Nt(()=>{this._fakeTableHeader()&&this.fixTableHeaderWidth()}),this.tableConfigurations=ne.required(),this._tableConfigurations=he({headers:[],rows:[]}),this.tableConfigurations$=et(this.tableConfigurations).pipe(Ne()).subscribe(i=>{let n=[],s=[];for(let r of i.headers)n.push(We({},r));for(let r of i.rows)s.push(We({},r));this._tableConfigurations.set({headers:n,rows:s})}),this.effectTableConfigurations=Nt(()=>{this._tableConfigurations()&&this.fixTableHeaderWidth()}),this.hiddenColumnsObservable=void 0,this.lastWidth=-1}onClickRow(i){this.clickableRow()&&this.selectedRow.emit(i)}isSelected(i){return!!this.selectedRows()?.some(n=>n===i)}fixTableHeaderWidth(){setTimeout(()=>{let i=this._tableHeader()?.nativeElement?.querySelectorAll("th"),n=this._fakeTableHeader()?.nativeElement?.querySelectorAll("th");if(i?.length>0&&n?.length>0){this.hiddenColumnsObservable&&this.hiddenColumnsObservable.unsubscribe(),this.hiddenColumnsObservable=this._resizeObservableService.widthResizeObservable(n[0]).pipe(Ne(this.destroyRef)).subscribe(s=>{s!==this.lastWidth&&(this.lastWidth=s,this.fixTableHeaderWidth())});for(let s=0;s<n?.length;s++){let r=n[s];i[s].style.minWidth=`${r.offsetWidth}px`,i[s].style.maxWidth=`${r.offsetWidth}px`}}})}onSortColumn(i){let n=[];for(let s of this._tableConfigurations().headers)n.push(We({},s));n.forEach(s=>{if(s.sort?.key)if(s.sort?.key===i.key)switch(i.sort){case dt.ASC:s.sort.sort=dt.DESC;break;case dt.DESC:s.sort.sort=dt.DEFAULT;break;case dt.DEFAULT:default:s.sort.sort=dt.ASC;break}else s.sort=Qe(We({},s.sort),{sort:dt.DEFAULT})}),this._tableConfigurations.set(Qe(We({},this._tableConfigurations()),{headers:n})),this.sortChanged.emit([i])}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["quang-table"]],viewQuery:function(n,s){n&1&&(Je(s._tableHeader,Rl,5),Je(s._tableHeaderElement,Rl,5),Je(s._fakeTableHeader,Mu,5)),n&2&&mt(3)},inputs:{clickableRow:[1,"clickableRow"],selectedRows:[1,"selectedRows"],stickyTable:[1,"stickyTable"],noResultsText:[1,"noResultsText"],tableConfigurations:[1,"tableConfigurations"]},outputs:{selectedRow:"selectedRow",sortChanged:"sortChanged"},decls:5,vars:4,consts:[["orderBtns",""],["tableHeaderContainer",""],["tableHeader",""],["tableContainer",""],["fakeTableHeader",""],[1,"table-responsive"],[4,"ngIf"],["class","text-center mt-3",4,"ngIf"],["id","tableHeaderContainer",1,"table-header-container",3,"scroll"],["id","tableHeader"],[4,"ngFor","ngForOf"],[1,"table-container",3,"scroll"],["id","table-content",1,"table"],["id","fakeTableHeader",1,"fake-table-header"],[3,"hover-table","selectedRow","ngClass","click",4,"ngFor","ngForOf"],[1,"align-bottom",3,"click"],[1,"align-self-end","d-flex","gap-1",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","d-flex justify-content-between",4,"ngIf"],[1,"d-flex","justify-content-between"],[3,"click","ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-center","mt-3"],[1,"sort-arrows"],["fill","currentColor","height","10","stroke","currentColor","viewBox","279.5 -600.5 401 201","width","10","xmlns","http://www.w3.org/2000/svg",1,"arrow-up"],["d","m280-400 200-200 200 200H280Z","fill","currentColor","stroke","currentColor"],["fill","currentColor","height","10","stroke","currentColor","viewBox","279.5 -560.5 401 201","width","10","xmlns","http://www.w3.org/2000/svg",1,"arrow-down"],["d","M480-360 280-560h400L480-360Z","fill","currentColor","stroke","currentColor"]],template:function(n,s){if(n&1&&(z(0,"div",5),ve(1,Au,17,3,"ng-container",6)(2,Vu,3,3,"h6",7),q(),ve(3,Ru,5,6,"ng-template",null,0,Tt)),n&2){let r,u;Ve("sticky-table",s.stickyTable()),A(),ie("ngIf",(r=s._tableConfigurations().rows)==null?null:r.length),A(),ie("ngIf",!((u=s._tableConfigurations().rows)!=null&&u.length))}},dependencies:[De,lt,ot,mo,ti],styles:["[_nghost-%COMP%]{display:block;--table-header-container-top: 0;--table-header-bg: var(--bs-body-bg);--table-header-border-color: var(--bs-border-color);--table-header-border-width: 4px;--table-row-hover-brightness: 90%;--table-row-selected-brightness: 95%}.table-responsive[_ngcontent-%COMP%]{overflow:initial}.table-responsive[_ngcontent-%COMP%]   .fake-table-header[_ngcontent-%COMP%]{height:0;overflow:hidden;line-height:0;visibility:collapse}.table-responsive[_ngcontent-%COMP%]   .fake-table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important;margin-top:0!important;margin-bottom:0!important;background-color:var(--table-header-bg);border:unset}.table-responsive[_ngcontent-%COMP%]   .table-header-container[_ngcontent-%COMP%]{overflow-x:hidden;z-index:1}.table-responsive[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;font-size:16px;overflow-y:auto;margin-bottom:unset}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{text-transform:uppercase}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem .5rem;z-index:999;background-color:var(--table-header-bg);box-shadow:inset 0 calc(var(--table-header-border-width) * -1) 0 0 var(--table-header-border-color)}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.hover-table[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(var(--table-row-hover-brightness))}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selectedRow[_ngcontent-%COMP%]{filter:brightness(var(--table-row-selected-brightness))}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;font-weight:300;vertical-align:middle}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:transparent}.table-responsive.sticky-table[_ngcontent-%COMP%]{position:relative}.table-responsive.sticky-table[_ngcontent-%COMP%]   .table-header-container[_ngcontent-%COMP%]{position:sticky;top:var(--table-header-container-top, 0)}.sort-arrows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.sort-default[_ngcontent-%COMP%]{opacity:30%}.sort-asc[_ngcontent-%COMP%]   .arrow-up[_ngcontent-%COMP%]{opacity:100%}.sort-asc[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%], .sort-desc[_ngcontent-%COMP%]   .arrow-up[_ngcontent-%COMP%]{display:none}.sort-desc[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{opacity:100%}.sort-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"],changeDetection:0})}}return e})();var Hu=["actions"],Pu=["name3"],zu=["checkboxRenderer"];function Wu(e,t){if(e&1){let i=Re();z(0,"div",6)(1,"button",7),le("click",function(){let s=_e(i).$implicit,r=de();return be(r.onEditPerson(s.id))}),xe(2,"svg-icon",8),q(),z(3,"button",9),le("click",function(){let s=_e(i).$implicit,r=de();return be(r.onDeletePerson(s.id))}),xe(4,"svg-icon",10),q()()}e&2&&(A(2),ie("applyClass",!0),A(2),ie("applyClass",!0))}function Uu(e,t){if(e&1&&(z(0,"div",11),J(1),q()),e&2){let i=t.$implicit;de();let n=Ct(11);ie("quangOverlayPayload",i)("quangPopover",n),A(),se(" ",i," ")}}function qu(e,t){if(e&1&&(z(0,"div",12),J(1),q()),e&2){let i=t.$implicit;A(),se(" ",i," ")}}function $u(e,t){if(e&1&&(z(0,"div",14),xe(1,"quang-checkbox",15),q()),e&2){let i=t.ngIf;A(),ie("formControl",i)("removeMargin",!0)}}function Zu(e,t){if(e&1&&ve(0,$u,2,2,"div",13),e&2){let i,n=t.$implicit,s=de();ie("ngIf",(i=s.selectFormMap())==null?null:i.get(n.toString()))}}var Pl=(()=>{class e{constructor(){this.actions=Ke("actions"),this.name3=Ke("name3"),this.checkboxRenderer=Ke("checkboxRenderer"),this.people=[{name:"John Doewe",age:30,gender:"Male",id:1},{name:"Jane Doe",age:25,gender:"Female",id:2},{name:"Peter Parker",age:20,gender:"Male",id:3},{name:"Mary Jane",age:22,gender:"Female",id:4},{name:"Bruce Wayne",age:35,gender:"Male",id:5},{name:"Clark Kent",age:30,gender:"Male",id:6},{name:"Diana Prince",age:28,gender:"Female",id:7},{name:"Barry Allen",age:25,gender:"Male",id:8},{name:"Kara Zor-El",age:23,gender:"Female",id:9},{name:"Hal Jordan",age:32,gender:"Male",id:10},{name:"Tony Stark",age:40,gender:"Male",id:11},{name:"Steve Rogers",age:35,gender:"Male",id:12},{name:"Natasha Romanoff",age:30,gender:"Female",id:13},{name:"Bruce Banner",age:35,gender:"Male",id:14},{name:"Thor Odinson",age:1e3,gender:"Male",id:15},{name:"Loki Laufeyson",age:1e3,gender:"Male",id:16},{name:"Heimdall",age:500,gender:"Male",id:17},{name:"Sif",age:500,gender:"Female",id:18},{name:"Volstagg",age:500,gender:"Male",id:19},{name:"Fandral",age:500,gender:"Male",id:20},{name:"Hogun",age:500,gender:"Male",id:21}],this.peopleList=he(this.people),this.tableHeaders=he([{renderer:this.checkboxRenderer(),payload:"header"},{text:"Name",sort:{key:"name",sort:dt.DEFAULT}},{text:"Name2",sort:{key:"name2",sort:dt.DEFAULT}},{text:"Name3",css:["justify-content-end"],sort:{key:"name3",sort:dt.DEFAULT}},{text:"Age",sort:{key:"age",sort:dt.DESC}},{text:"Gender",sort:{key:"gender",sort:dt.DEFAULT}},{text:""}]),this.tableRows=he(this.peopleList()?.map(i=>({css:void 0,rowId:`person-${i.id}`,payload:i,cellData:[{renderer:this.checkboxRenderer(),payload:i.id},{text:i.name},{text:i.name},{renderer:this.name3(),payload:i.name},{text:i.age.toString()},{text:i.gender,css:["bg-light"]},{renderer:this.actions(),payload:i}]}))??[]),this.tableConfig=Be(()=>({headers:this.tableHeaders(),rows:this.tableRows()})),this.selectedRows=[],this.destroyRef=Se(Vt),this.selectFormMap=he(void 0),this.formBuilder=Se(ct),this.checkboxForm=this.formBuilder.control(!1),this.peopleList$=et(this.peopleList).pipe(Ne()).subscribe(i=>{let n=new Map,s=this.formBuilder.control(!1);if(s.valueChanges.pipe(Ne(this.destroyRef)).subscribe(r=>{console.log("header",r);for(let[u,h]of n)u!=="header"&&h.setValue(r)}),n.set("header",s),i)for(let r of i)n.set(r.id.toString(),this.formBuilder.control(!1));this.selectFormMap.set(n)})}onEditPerson(i){let n=this.tableConfig().rows.find(s=>s.payload?.id===i);n&&(n.css=n?.css?.length?void 0:["hover-table"])}addPerson(){this.peopleList.set([...this.peopleList(),{name:"New Person",age:0,gender:"Male",id:1e3}])}onDeletePerson(i){this.tableConfig().rows=this.tableConfig().rows.filter(n=>n.payload?.id!==i)}onClickRow(i){i?.rowId&&(this.selectedRows.some(n=>n===i.rowId)?this.selectedRows=this.selectedRows.filter(n=>n!==i.rowId):this.selectedRows.push(i.rowId.toString()),this.selectedRows=[...this.selectedRows])}onChangeSort(i){this.tableHeaders.update(n=>n.map(s=>Qe(We({},s),{sort:s.sort?Qe(We({},s.sort),{sort:i[0].key===s.sort.key?i[0].sort:dt.DEFAULT}):void 0})))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-table-test"]],viewQuery:function(n,s){n&1&&(Je(s.actions,Hu,5),Je(s.name3,Pu,5),Je(s.checkboxRenderer,zu,5)),n&2&&mt(3)},decls:14,vars:5,consts:[["actions",""],["name3",""],["namePop",""],["checkboxRenderer",""],["type","button",1,"btn","me-3","btn-primary",3,"click"],[3,"sortChanged","stickyTable","tableConfigurations"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","me-3",3,"click"],["src","assets/icons/svg/edit.svg",3,"applyClass"],["type","button",1,"btn",3,"click"],["src","assets/icons/svg/trash.svg",3,"applyClass"],["overlayPosition","bottom",3,"quangOverlayPayload","quangPopover"],[1,"p-2"],["style","padding-bottom: 0.25rem",4,"ngIf"],[2,"padding-bottom","0.25rem"],["checkType","checkbox",3,"formControl","removeMargin"]],template:function(n,s){if(n&1){let r=Re();z(0,"h3"),J(1),ee(2,"transloco"),q(),z(3,"button",4),le("click",function(){return _e(r),be(s.addPerson())}),J(4,` Add person
`),q(),z(5,"quang-table",5),le("sortChanged",function(h){return _e(r),be(s.onChangeSort(h))}),q(),ve(6,Wu,5,2,"ng-template",null,0,Tt)(8,Uu,2,3,"ng-template",null,1,Tt)(10,qu,2,1,"ng-template",null,2,Tt)(12,Zu,1,1,"ng-template",null,3,Tt)}n&2&&(A(),Ze(ae(2,3,"title.components.table")),A(4),ie("stickyTable",!0)("tableConfigurations",s.tableConfig()))},dependencies:[Hl,yo,De,Zi,ii,rs,ut,_t,Ei,lt],styles:[".edited-row[_ngcontent-%COMP%]{color:green}quang-table[_ngcontent-%COMP%]{--table-header-border-width: 2px}"],changeDetection:0})}}return e})();var ju=e=>({enabled:e}),Gu=e=>({required:e}),Yu=e=>({readonly:e}),Qu=e=>({value:e}),Xu=e=>({valid:e});function Ku(e,t){if(e&1&&(z(0,"div",2)(1,"div",3),xe(2,"quang-checkbox",10),q(),z(3,"div",11),xe(4,"quang-checkbox",12)(5,"quang-checkbox",13),q()()),e&2){let i=de();A(2),ie("errorMap",i.errors())("isReadonly",i.isReadonly()),A(2),ie("errorMap",i.errors())("isReadonly",i.isReadonly()),A(),ie("errorMap",i.errors())("isReadonly",i.isReadonly())}}function Ju(e,t){if(e&1&&(z(0,"div",9)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),q(),z(5,"span"),J(6),ee(7,"transloco"),q()()),e&2){let i=de();A(2),se(" ",ye(4,4,"form.label.formValue",we(10,Qu,ae(3,2,i.testForm.value)))," "),A(4),se(" ",ye(7,7,"form.label.formValidity",we(12,Xu,i.testForm.valid))," ")}}var zl=(()=>{class e{constructor(){this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Se(ct),this.errors=he([{error:fe.required.name,message:"form.errors.required"},{error:fe.minLength.name,message:"form.errors.minLength"},{error:fe.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({toggle:this.formBuilder.control(!1,[fe.required]),checkbox:this.formBuilder.control(!0,[fe.required])}),this.showInput=he(!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.toggle.hasValidator(fe.required)}changeFormInputRequired(){this.getIsRequiredInput()?(this.testForm.controls.toggle.removeValidators(fe.required),this.testForm.controls.checkbox.removeValidators(fe.required)):(this.testForm.controls.toggle.addValidators(fe.required),this.testForm.controls.checkbox.addValidators(fe.required)),this.testForm.controls.toggle.updateValueAndValidity(),this.testForm.controls.checkbox.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({toggle:this.formBuilder.control(!1,[fe.required]),checkbox:this.formBuilder.control(!1,[fe.required])})}setFormValues(){this.testForm.patchValue({toggle:!0,checkbox:!0})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-toggle-test"]],decls:38,vars:39,consts:[[3,"formGroup"],[1,"d-flex","flex-column","w-100"],[1,"row"],[1,"col-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],["checkType","toggle","componentLabel","form.label.toggle","formControlName","toggle","labelPosition","top","successMessage","form.label.success",1,"col-3",3,"errorMap","isReadonly"],[1,"col-6","row"],["checkType","checkbox","componentLabel","form.label.checkbox","formControlName","checkbox","labelPosition","left","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly"],["checkType","checkbox","componentLabel","form.label.checkbox","formControlName","checkbox","labelPosition","right","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly"]],template:function(n,s){n&1&&(z(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),J(5),ee(6,"transloco"),q()(),z(7,"div",3)(8,"h3"),J(9),ee(10,"transloco"),q()()(),z(11,"div",4),xe(12,"div",5),z(13,"div",6),ve(14,Ku,6,6,"div",2),z(15,"div",7)(16,"button",8),le("click",function(){return s.changeFormEnabled()}),J(17),ee(18,"transloco"),q(),z(19,"button",8),le("click",function(){return s.changeFormInputRequired()}),J(20),ee(21,"transloco"),q(),z(22,"button",8),le("click",function(){return s.changeVisibility()}),J(23),ee(24,"transloco"),q(),z(25,"button",8),le("click",function(){return s.recreateForm()}),J(26),ee(27,"transloco"),q(),z(28,"button",8),le("click",function(){return s.setFormValues()}),J(29),ee(30,"transloco"),q(),z(31,"button",8),le("click",function(){return s.checkCurrentFormValueAndValidity()}),J(32),ee(33,"transloco"),q(),z(34,"button",8),le("click",function(){return s.setReadonly()}),J(35),ee(36,"transloco"),q()()()()()(),ve(37,Ju,8,14,"div",9)),n&2&&(ie("formGroup",s.testForm),A(5),Ze(ae(6,12,"title.components.toggle")),A(4),Ze(ae(10,14,"title.components.checkbox")),A(5),Ge(s.showInput()?14:-1),A(3),se(" ",ye(18,16,"form.buttons.enabled",we(33,ju,s.testForm.enabled))," "),A(3),se(" ",ye(21,19,"form.buttons.required",we(35,Gu,s.getIsRequiredInput()))," "),A(3),se(" ",ae(24,22,"form.buttons.changeVisibility")," "),A(3),se(" ",ae(27,24,"form.buttons.recreateForm")," "),A(3),se(" ",ae(30,26,"form.buttons.setForm")," "),A(3),se(" ",ae(33,28,"form.buttons.checkForm")," "),A(3),se(" ",ye(36,30,"form.buttons.readonly",we(37,Yu,s.isReadonly()))," "),A(2),Ge(s.showValueAndValidity()?37:-1))},dependencies:[bt,Et,_t,St,gt,ut,wt,xt,rs,De],styles:["form[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}}return e})();var Ws={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var ql=Xe(Ul());var fi={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(e){let t={"&":"&amp;","\xA0":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,function(i){return typeof t[i]=="string"?t[i]:i})},zeroWidthSpace:"\u200B",zeroWidthRegExp:new RegExp("\u200B","g"),onlyZeroWidthRegExp:new RegExp("^\u200B+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(e){return e==null?!1:(typeof e!="string"&&(e=e.textContent),e===""||this.onlyZeroWidthRegExp.test(e))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(e){return e?this._w.Object.keys(e).map(function(t){return e[t]}):[]},camelToKebabCase:function(e){return typeof e=="string"?e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}):e.map(function(t){return fi.camelToKebabCase(t)})},kebabToCamelCase:function(e){return typeof e=="string"?e.replace(/-[a-zA-Z]/g,function(t){return t.replace("-","").toUpperCase()}):e.map(function(t){return fi.camelToKebabCase(t)})},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){let t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,function(i){return typeof t[i]=="string"?t[i]:i})},HTMLDecoder:function(e){let t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,function(i){return typeof t[i]=="string"?t[i]:i})},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let i="",n=[],s=t==="js"?"script":"link",r=t==="js"?"src":"href",u="(?:";for(let b=0,c=e.length;b<c;b++)u+=e[b]+(b<c-1?"|":")");let h=new this._w.RegExp("(^|.*[\\/])"+u+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),o=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let b=this._d.getElementsByTagName(s),c=0;c<b.length;c++)o.test(b[c][r])&&n.push(b[c]);for(let b=0;b<n.length;b++){let c=n[b][r].match(h);if(c){i=c[0];break}}if(i===""&&(i=n.length>0?n[0][r]:""),i.indexOf(":/")===-1&&i.slice(0,2)!=="//"&&(i=i.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return i},getPageStyle:function(e){let t="",i=(e||this._d).styleSheets;for(let n=0,s=i.length,r;n<s;n++){try{r=i[n].cssRules}catch{continue}if(r)for(let u=0,h=r.length;u<h;u++)t+=r[u].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";let i=e.attributes,n="";for(let s=0,r=i.length;s<r;s++)t&&t.indexOf(i[s].name)>-1||(n+=i[s].name+'="'+i[s].value+'" ');return n},getByteLength:function(e){if(!e||!e.toString)return 0;e=e.toString();let t=this._w.encodeURIComponent,i,n;return this.isIE_Edge?(n=this._w.unescape(t(e)).length,i=0,t(e).match(/(%0A|%0D)/gi)!==null&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(e).length,i=0,t(e).match(/(%0A|%0D)/gi)!==null&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(e){return e&&e.nodeType===1&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&e.nodeType===1&&e.getAttribute("contenteditable")==="false"},isTextStyleElement:function(e){return e&&e.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(e.nodeName)},isInputElement:function(e){return e&&e.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&e.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&e.nodeType===1&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&e.nodeType===1&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isUneditableComponent:function(e){return e&&this.hasClass(e,"__se__uneditable")},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t,i){if(t.style.cssText){let s=t.style;for(let r=0,u=s.length;r<u;r++)e.style[s[r]]=s[s[r]]}let n=t.attributes;for(let s=0,r=n.length,u;s<r;s++)u=n[s].name.toLowerCase(),i&&i.indexOf(u)>-1||!n[s].value?e.removeAttribute(u):u!=="style"&&e.setAttribute(n[s].name,n[s].value)},copyFormatAttributes:function(e,t){t=t.cloneNode(!1),t.className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,i){if(!e||e.length===0)return null;t=t||function(){return!0};let n=[];for(let s=0,r=e.length,u;s<r;s++)if(u=e[s],t(u))if(i)n.push(u);else return u;return i?n:null},arrayIncludes:function(e,t){for(let i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},getArrayIndex:function(e,t){let i=-1;for(let n=0,s=e.length;n<s;n++)if(e[n]===t){i=n;break}return i},nextIdx:function(e,t){let i=this.getArrayIndex(e,t);return i===-1?-1:i+1},prevIdx:function(e,t){let i=this.getArrayIndex(e,t);return i===-1?-1:i-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,i){let n=[],s=!0;return this.getParentElement(e,function(r){if(r===t&&(s=!1),s&&!this.isWysiwygDiv(r)){if(i&&r.nodeType===3){let u=null,h=null;i.s=i.e=0;let o=r.previousSibling;for(;o&&o.nodeType===3;)h=o.textContent.replace(this.zeroWidthRegExp,""),i.s+=h.length,r.textContent=h+r.textContent,u=o,o=o.previousSibling,this.removeItem(u);let b=r.nextSibling;for(;b&&b.nodeType===3;)h=b.textContent.replace(this.zeroWidthRegExp,""),i.e+=h.length,r.textContent+=h,u=b,b=b.nextSibling,this.removeItem(u)}n.push(r)}return!1}.bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let i=t,n;for(let s=0,r=e.length;s<r&&(n=i.childNodes,n.length!==0);s++)n.length<=e[s]?i=n[n.length-1]:i=n[e[s]];return i},isSameAttributes:function(e,t){if(e.nodeType===3&&t.nodeType===3)return!0;if(e.nodeType===3||t.nodeType===3)return!1;let i=e.style,n=t.style,s=0;for(let b=0,c=i.length;b<c;b++)i[i[b]]===n[i[b]]&&s++;let r=e.classList,u=t.classList,h=this._w.RegExp,o=0;for(let b=0,c=r.length;b<c;b++)h("(s|^)"+r[b]+"(s|$)").test(u.value)&&o++;return s===n.length&&s===i.length&&o===u.length&&o===r.length},isEmptyLine:function(e){return!e||!e.parentNode||!e.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&e.children.length===0&&this.onlyZeroWidthSpace(e.textContent)},isSpanWithoutAttr:function(e){return!!e&&e.nodeType===1&&/^SPAN$/i.test(e.nodeName)&&!e.className&&!e.style.cssText},isList:function(e){return e&&/^(OL|UL)$/i.test(typeof e=="string"?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test(typeof e=="string"?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof e=="string"?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test(typeof e=="string"?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test(typeof e=="string"?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test(typeof e=="string"?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof e=="string"?e:e.nodeName)},isFigures:function(e){return e&&(this.isMedia(e)||/^(FIGURE)$/i.test(typeof e=="string"?e:e.nodeName))},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let i=(e+"").match(/-?\d+(\.\d+)?/);return!i||!i[0]?0:(i=i[0],t<0?i*1:t===0?this._w.Math.round(i*1):(i*1).toFixed(t)*1)},getListChildren:function(e,t){let i=[];return!e||!e.children||e.children.length===0||(t=t||function(){return!0},function n(s){if(e!==s&&t(s)&&i.push(s),s.children)for(let r=0,u=s.children.length;r<u;r++)n(s.children[r])}(e)),i},getListChildNodes:function(e,t){let i=[];return!e||e.childNodes.length===0||(t=t||function(){return!0},function n(s){e!==s&&t(s)&&i.push(s);for(let r=0,u=s.childNodes.length;r<u;r++)n(s.childNodes[r])}(e)),i},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let i=e,n=t;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:e,b:t,result:0};let s=i.parentNode.childNodes,r=this.getArrayIndex(s,i),u=this.getArrayIndex(s,n);return{ancestor:i.parentNode,a:i,b:n,result:r>u?1:r<u?-1:0}},getParentElement:function(e,t){let i;if(typeof t=="function")i=t;else{let n;/^\./.test(t)?(n="className",t=t.split(".")[1]):/^#/.test(t)?(n="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(n="name",t="^"+t.split(":")[1]+"$"):(n="nodeName",t="^"+t+"$");let s=new this._w.RegExp(t,"i");i=function(r){return s.test(r[n])}}for(;e&&!i(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getPreviousDeepestNode:function(e,t){let i=e.previousSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(e,t){let i=e.nextSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(e,t,i){let n;if(typeof t=="function")n=t;else{let r;/^\./.test(t)?(r="className",t=t.split(".")[1]):/^#/.test(t)?(r="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(r="name",t="^"+t.split(":")[1]+"$"):(r="nodeName",t="^"+(t==="text"?"#"+t:t)+"$");let u=new this._w.RegExp(t,"i");n=function(h){return u.test(h[r])}}let s=this.getListChildNodes(e,function(r){return n(r)});return s[i?s.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let i=0,n=0,s=e.nodeType===3?e.parentElement:e,r=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==r;)i+=s.offsetLeft,n+=s.offsetTop,s=s.offsetParent;let u=t&&/iframe/i.test(t.nodeName);return{left:i+(u?t.parentElement.offsetLeft:0),top:n-(r?r.scrollTop:0)+(u?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,i,n){if(e<=n?t<i:t>i)return 0;let s=(e>i?e:i)-(t<n?t:n);return(s<0?s*-1:s)+1},changeTxt:function(e,t){!e||!t||(e.textContent=t)},changeElement:function(e,t){if(typeof t=="string")if(e.outerHTML)e.outerHTML=t;else{let i=this.createElement("DIV");i.innerHTML=t,t=i.firstChild,e.parentNode.replaceChild(t,e)}else t.nodeType===1&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,i){e.style[t]=i,!i&&!e.style.cssText&&e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){!e||new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t)},removeClass:function(e,t){if(!e)return;let i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;let i=!1,n=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");return n.test(e.className)?e.className=e.className.replace(n," ").trim():(e.className+=" "+t,i=!0),e.className.trim()||e.removeAttribute("class"),i},isImportantDisabled:function(e){return e.hasAttribute("data-important-disabled")},setDisabledButtons:function(e,t,i){for(let n=0,s=t.length;n<s;n++){let r=t[n];(i||!this.isImportantDisabled(r))&&(r.disabled=e),i&&(e?r.setAttribute("data-important-disabled",""):r.removeAttribute("data-important-disabled"))}},removeItem:function(e){e&&(typeof e.remove=="function"?e.remove():e.parentNode&&e.parentNode.removeChild(e))},removeItemAllParents:function(e,t,i){if(!e)return null;let n=null;return t||(t=function(s){if(s===i||this.isComponent(s))return!1;let r=s.textContent.trim();return r.length===0||/^(\n|\u200B)+$/.test(r)}.bind(this)),function s(r){if(!fi.isWysiwygDiv(r)){let u=r.parentNode;u&&t(r)&&(n={sc:r.previousElementSibling,ec:r.nextElementSibling},fi.removeItem(r),s(u))}}(e),n},detachNestedList:function(e,t){let i=this._deleteNestedList(e),n,s;if(i){n=i.cloneNode(!1),s=i.childNodes;let u=this.getPositionIndex(e);for(;s[u];)n.appendChild(s[u])}else n=e;let r;if(t)r=this.getListChildren(n,function(u){return this.isListCell(u)&&!u.previousElementSibling}.bind(this));else{let u=this.getElementDepth(e)+2;r=this.getListChildren(e,function(h){return this.isListCell(h)&&!h.previousElementSibling&&this.getElementDepth(h)===u}.bind(this))}for(let u=0,h=r.length;u<h;u++)this._deleteNestedList(r[u]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),s&&s.length===0&&this.removeItem(i)),n===e?n.parentNode:n},_deleteNestedList:function(e){let t=e.parentNode,i=t,n=i.parentNode,s,r,u,h,o;for(;this.isListCell(n);){for(h=this.getPositionIndex(e),s=n.nextElementSibling,r=n.parentNode,u=i;u;){if(i=i.nextSibling,this.isList(u)){for(o=u.childNodes;o[h];)r.insertBefore(o[h],s);o.length===0&&this.removeItem(u)}else r.appendChild(u);u=i}i=r,n=r.parentNode}return t.children.length===0&&this.removeItem(t),r},splitElement:function(e,t,i){if(this.isWysiwygDiv(e))return e;if(t&&!this.isNumber(t)){let E=e.childNodes,M=this.getPositionIndex(t),I=e.cloneNode(!1),R=e.cloneNode(!1);for(let l=0,a=E.length;l<a;l++){if(l<M)I.appendChild(E[l]);else if(l>M)R.appendChild(E[l]);else continue;l--,a--,M--}return I.childNodes.length>0&&e.parentNode.insertBefore(I,e),R.childNodes.length>0&&e.parentNode.insertBefore(R,e.nextElementSibling),e}let n=e.parentNode,s=0,r=1,u=!0,h,o,b;if((!i||i<0)&&(i=0),e.nodeType===3){if(s=this.getPositionIndex(e),t>=0&&e.length!==t){e.splitText(t);let E=this.getNodeFromPath([s+1],n);this.onlyZeroWidthSpace(E)&&(E.data=this.zeroWidthSpace)}}else if(e.nodeType===1){if(t===0){for(;e.firstChild;)e=e.firstChild;if(e.nodeType===3){let E=this.createTextNode(this.zeroWidthSpace);e.parentNode.insertBefore(E,e),e=E}}e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===i&&(u=!1)}e.nodeType===1&&(r=0);let c=e;for(;this.getElementDepth(c)>i;)for(s=this.getPositionIndex(c)+r,c=c.parentNode,b=h,h=c.cloneNode(!1),o=c.childNodes,b&&(this.isListCell(h)&&this.isList(b)&&b.firstElementChild?(h.innerHTML=b.firstElementChild.innerHTML,fi.removeItem(b.firstElementChild),b.children.length>0&&h.appendChild(b)):h.appendChild(b));o[s];)h.appendChild(o[s]);c.childNodes.length<=1&&(!c.firstChild||c.firstChild.textContent.length===0)&&(c.innerHTML="<br>");let g=c.parentNode;return u&&(c=c.nextSibling),h?(this.mergeSameTags(h,null,!1),this.mergeNestedTags(h,function(E){return this.isList(E)}.bind(this)),h.childNodes.length>0?g.insertBefore(h,c):h=c,this.isListCell(h)&&h.children&&this.isList(h.children[0])&&h.insertBefore(this.createElement("BR"),h.children[0]),n.childNodes.length===0&&this.removeItem(n),h):c},mergeSameTags:function(e,t,i){let n=this,s=t?t.length:0,r=null;return s&&(r=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),function u(h,o,b){let c=h.childNodes;for(let g=0,E=c.length,M,I;g<E&&(M=c[g],I=c[g+1],!!M);g++)if(!(n.isBreak(M)||n.isMedia(M)||n.isInputElement(M))){if(i&&n._isIgnoreNodeChange(M)||!i&&(n.isTable(M)||n.isListCell(M)||n.isFormatElement(M)&&!n.isFreeFormatElement(M))){(n.isTable(M)||n.isListCell(M))&&u(M,o+1,g);continue}if(E===1&&h.nodeName===M.nodeName&&h.parentNode){if(s){let R,l,a,d,p;for(let f=0;f<s;f++)if(R=t[f],R&&R[o]===g){for(l=M,a=h,d=o,p=!0;d>=0;){if(n.getArrayIndex(a.childNodes,l)!==R[d]){p=!1;break}l=M.parentNode,a=l.parentNode,d--}p&&(R.splice(o,1),R[o]=g)}}n.copyTagAttributes(M,h),h.parentNode.insertBefore(M,h),n.removeItem(h)}if(!I){M.nodeType===1&&u(M,o+1,g);break}if(M.nodeName===I.nodeName&&n.isSameAttributes(M,I)&&M.href===I.href){let R=M.childNodes,l=0;for(let f=0,_=R.length;f<_;f++)R[f].textContent.length>0&&l++;let a=M.lastChild,d=I.firstChild,p=0;if(a&&d){let f=a.nodeType===3&&d.nodeType===3;p=a.textContent.length;let _=a.previousSibling;for(;_&&_.nodeType===3;)p+=_.textContent.length,_=_.previousSibling;if(l>0&&a.nodeType===3&&d.nodeType===3&&(a.textContent.length>0||d.textContent.length>0)&&l--,s){let m=null;for(let y=0;y<s;y++)if(m=t[y],m&&m[o]>g){if(o>0&&m[o-1]!==b)continue;m[o]-=1,m[o+1]>=0&&m[o]===g&&(m[o+1]+=l,f&&a&&a.nodeType===3&&d&&d.nodeType===3&&(r[y]+=p))}}}if(M.nodeType===3){if(p=M.textContent.length,M.textContent+=I.textContent,s){let f=null;for(let _=0;_<s;_++)if(f=t[_],f&&f[o]>g){if(o>0&&f[o-1]!==b)continue;f[o]-=1,f[o+1]>=0&&f[o]===g&&(f[o+1]+=l,r[_]+=p)}}}else M.innerHTML+=I.innerHTML;n.removeItem(I),g--}else M.nodeType===1&&u(M,o+1,g)}}(e,0,0),r},mergeNestedTags:function(e,t){typeof t=="string"?t=function(i){return this.test(i.tagName)}.bind(new this._w.RegExp("^("+(t||".+")+")$","i")):typeof t!="function"&&(t=function(){return!0}),function i(n){let s=n.children;if(s.length===1&&s[0].nodeName===n.nodeName&&t(n)){let r=s[0];for(s=r.children;s[0];)n.appendChild(s[0]);n.removeChild(r)}for(let r=0,u=n.children.length;r<u;r++)i(n.children[r])}(e)},removeEmptyNode:function(e,t,i){let n=this;t&&(t=n.getParentElement(t,function(s){return e===s.parentElement})),function s(r){if(n._notTextNode(r)||r===t||n.isNonEditable(r))return 0;if(r!==e&&n.onlyZeroWidthSpace(r.textContent)&&(!r.firstChild||!n.isBreak(r.firstChild))&&!r.querySelector(n._allowedEmptyNodeList)){if(r.parentNode)return r.parentNode.removeChild(r),-1}else{let u=r.children;for(let h=0,o=u.length,b=0;h<o;h++)!u[h+b]||n.isComponent(u[h+b])||(b+=s(u[h+b]))}return 0}(e),e.childNodes.length===0&&(i?this.removeItem(e):e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(t){return t.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(e){return e.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(e,t){let i=t?1:-1,n=i*-1;e.sort(function(s,r){return!this.isListCell(s)||!this.isListCell(r)?0:(s=this.getElementDepth(s),r=this.getElementDepth(r),s>r?i:s<r?n:0)}.bind(this))},escapeStringRegexp:function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(e){return!/FIGCAPTION/i.test(e.nodeName)&&(this.isComponent(e)||/FIGURE/i.test(e.nodeName))},_isIgnoreNodeChange:function(e){return e&&e.nodeType!==3&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&e.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof e=="string"?e:e.nodeName)},_isSizeNode:function(e){return e&&e.nodeType!==3&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&e.nodeType!==3&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof e=="string"?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){return new RegExp("<\\/?\\b(?!\\b"+(e||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(e){return new RegExp("<\\/?\\b(?:\\b"+(e||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(e,t,i,n,s){let r=[],u=[],h=[],o=[],b=this.getListChildNodes(e,function(g){if(g.nodeType!==1)return this.isList(g.parentElement)&&r.push(g),!1;if(i.test(g.nodeName)||!t.test(g.nodeName)&&g.childNodes.length===0&&this.isNotCheckingNode(g))return r.push(g),!1;let E=!this.getParentElement(g,this.isNotCheckingNode);if(!this.isTable(g)&&!this.isListCell(g)&&!this.isAnchor(g)&&(this.isFormatElement(g)||this.isRangeFormatElement(g)||this.isTextStyleElement(g))&&g.childNodes.length===0&&E)return u.push(g),!1;if(this.isList(g.parentNode)&&!this.isList(g)&&!this.isListCell(g))return h.push(g),!1;if(this.isCell(g)){let I=g.firstElementChild;if(!this.isFormatElement(I)&&!this.isRangeFormatElement(I)&&!this.isComponent(I))return o.push(g),!1}if(E&&g.className){let I=new this._w.Array(g.classList).map(n).join(" ").trim();I?g.className=I:g.removeAttribute("class")}return s&&g.parentNode!==e&&E&&(this.isListCell(g)&&!this.isList(g.parentNode)||(this.isFormatElement(g)||this.isComponent(g))&&!this.isRangeFormatElement(g.parentNode)&&!this.getParentElement(g,this.isComponent))}.bind(this));for(let g=0,E=r.length;g<E;g++)this.removeItem(r[g]);let c=[];for(let g=0,E=b.length,M,I;g<E;g++)if(M=b[g],I=M.parentNode,!(!I||!I.parentNode))if(this.getParentElement(M,this.isListCell)){let R=M.childNodes;for(let l=R.length-1;E>=0;l--)I.insertBefore(M,R[l]);c.push(M)}else I.parentNode.insertBefore(M,I),c.push(I);for(let g=0,E=c.length,M;g<E;g++)M=c[g],this.onlyZeroWidthSpace(M.textContent.trim())&&this.removeItem(M);for(let g=0,E=u.length;g<E;g++)this.removeItem(u[g]);for(let g=0,E=h.length,M,I,R,l;g<E;g++)if(M=h[g],l=M.parentNode,!!l)if(I=this.createElement("LI"),this.isFormatElement(M)){for(R=M.childNodes;R[0];)I.appendChild(R[0]);l.insertBefore(I,M),this.removeItem(M)}else M=M.nextSibling,I.appendChild(h[g]),l.insertBefore(I,M);for(let g=0,E=o.length,M,I;g<E;g++)M=o[g],I=this.createElement("DIV"),I.innerHTML=M.textContent.trim().length===0&&M.children.length===0?"<br>":M.innerHTML,M.innerHTML=I.outerHTML},_setDefaultOptionStyle:function(e,t){let i="";e.height&&(i+="height:"+e.height+";"),e.minHeight&&(i+="min-height:"+e.minHeight+";"),e.maxHeight&&(i+="max-height:"+e.maxHeight+";"),e.position&&(i+="position:"+e.position+";"),e.width&&(i+="width:"+e.width+";"),e.minWidth&&(i+="min-width:"+e.minWidth+";"),e.maxWidth&&(i+="max-width:"+e.maxWidth+";");let n="",s="",r="";t=i+t;let u=t.split(";");for(let h=0,o=u.length,b;h<o;h++)if(b=u[h].trim(),!!b){if(/^(min-|max-)?width\s*:/.test(b)||/^(z-index|position)\s*:/.test(b)){n+=b+";";continue}if(/^(min-|max-)?height\s*:/.test(b)){/^height/.test(b)&&b.split(":")[1].trim()==="auto"&&(e.height="auto"),s+=b+";";continue}r+=b+";"}return{top:n,frame:s,editor:r}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(t),e.contentDocument.body.className=t._editableClass,e.contentDocument.body.setAttribute("contenteditable",!0),e.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(e){let t=e.iframeCSSFileName,i=this._w.RegExp,n="";for(let s=0,r=t.length,u;s<r;s++){if(u=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[s]))u.push(t[s]);else{let h=new i("(^|.*[\\/])"+t[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let o=document.getElementsByTagName("link"),b=0,c=o.length,g;b<c;b++)g=o[b].href.match(h),g&&u.push(g[0])}if(!u||u.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let h=0,o=u.length;h<o;h++)n+='<link href="'+u[h]+'" rel="stylesheet">'}return n+(e.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},Ce=fi;var Oi={init:function(e,t){typeof t!="object"&&(t={});let i=document;this._initOptions(e,t);let n=i.createElement("DIV");n.className="sun-editor"+(t.rtl?" se-rtl":""),e.id&&(n.id="suneditor_"+e.id);let s=i.createElement("DIV");s.className="se-container";let r=this._createToolBar(i,t.buttonList,t.plugins,t),u=r.element.cloneNode(!1);u.className+=" se-toolbar-shadow",r.element.style.visibility="hidden",r.pluginCallButtons.math&&this._checkKatexMath(t.katex);let h=i.createElement("DIV");h.className="se-arrow";let o=i.createElement("DIV");o.className="se-toolbar-sticky-dummy";let b=i.createElement("DIV");b.className="se-wrapper";let c=this._initElements(t,n,r.element,h),g=c.bottomBar,E=c.wysiwygFrame,M=c.placeholder,I=c.codeView,R=g.resizingBar,l=g.navigation,a=g.charWrapper,d=g.charCounter,p=i.createElement("DIV");p.className="se-loading-box sun-editor-common",p.innerHTML='<div class="se-loading-effect"></div>';let f=i.createElement("DIV");f.className="se-line-breaker",f.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";let _=i.createElement("DIV");_.className+="se-line-breaker-component";let m=_.cloneNode(!0);_.innerHTML=m.innerHTML=t.icons.line_break;let y=i.createElement("DIV");y.className="se-resizing-back";let x=i.createElement("INPUT");x.tabIndex=-1,x.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";let C=t.toolbarContainer;C&&(C.appendChild(r.element),C.appendChild(u));let S=t.resizingBarContainer;return R&&S&&S.appendChild(R),b.appendChild(I),M&&b.appendChild(M),C||(s.appendChild(r.element),s.appendChild(u)),s.appendChild(o),s.appendChild(b),s.appendChild(y),s.appendChild(p),s.appendChild(f),s.appendChild(_),s.appendChild(m),s.appendChild(x),R&&!S&&s.appendChild(R),n.appendChild(s),I=this._checkCodeMirror(t,I),{constructed:{_top:n,_relative:s,_toolBar:r.element,_toolbarShadow:u,_menuTray:r._menuTray,_editorArea:b,_wysiwygArea:E,_codeArea:I,_placeholder:M,_resizingBar:R,_navigation:l,_charWrapper:a,_charCounter:d,_loading:p,_lineBreaker:f,_lineBreaker_t:_,_lineBreaker_b:m,_resizeBack:y,_stickyDummy:o,_arrow:h,_focusTemp:x},options:t,plugins:r.plugins,pluginCallButtons:r.pluginCallButtons,_responsiveButtons:r.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){let i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce(function(s,r){for(let u in r)Ce.hasOwn(r,u)&&(s[u]=r[u]);return s},{});e.height==="auto"&&(i.viewportMargin=1/0,i.height="auto");let n=e.codeMirror.src.fromTextArea(t,i);n.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=n,t=n.display.wrapper,t.className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');let t=[{throwOnError:!1},e.options||{}].reduce(function(i,n){for(let s in n)Ce.hasOwn(n,s)&&(i[s]=n[s]);return i},{});e.options=t},_setOptions:function(e,t,i){this._initOptions(t.element.originElement,e);let n=t.element,s=n.relative,r=n.editorArea,u=e.toolbarContainer&&e.toolbarContainer!==i.toolbarContainer,h=e.lang!==i.lang||e.buttonList!==i.buttonList||e.mode!==i.mode||u,o=this._createToolBar(document,h?e.buttonList:i.buttonList,e.plugins,e);o.pluginCallButtons.math&&this._checkKatexMath(e.katex);let b=document.createElement("DIV");b.className="se-arrow",h&&(o.element.style.visibility="hidden",u?(e.toolbarContainer.appendChild(o.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(o.element,n.toolbar),n.toolbar=o.element,n._menuTray=o._menuTray,n._arrow=b);let c=this._initElements(e,n.topArea,h?o.element:n.toolbar,b),g=c.bottomBar,E=c.wysiwygFrame,M=c.placeholder,I=c.codeView;return n.resizingBar&&Ce.removeItem(n.resizingBar),g.resizingBar&&(e.resizingBarContainer&&e.resizingBarContainer!==i.resizingBarContainer?e.resizingBarContainer.appendChild(g.resizingBar):s.appendChild(g.resizingBar)),r.innerHTML="",r.appendChild(I),M&&r.appendChild(M),I=this._checkCodeMirror(e,I),n.resizingBar=g.resizingBar,n.navigation=g.navigation,n.charWrapper=g.charWrapper,n.charCounter=g.charCounter,n.wysiwygFrame=E,n.code=I,n.placeholder=M,e.rtl?Ce.addClass(n.topArea,"se-rtl"):Ce.removeClass(n.topArea,"se-rtl"),{callButtons:o.pluginCallButtons,plugins:o.plugins,toolbar:o}},_initElements:function(e,t,i,n){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(i.className+=" se-toolbar-inline",i.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=e.toolbarWidth,i.appendChild(n));let s=document.createElement(e.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=e._editorStyles.frame,s.className+=e.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("autocorrect","off"),s.setAttribute("scrolling","auto");for(let g in e.iframeAttributes)s.setAttribute(g,e.iframeAttributes[g]);s.className+=" "+e._editableClass,s.style.cssText=e._editorStyles.frame+e._editorStyles.editor,s.className+=e.className}let r=document.createElement("TEXTAREA");r.className="se-wrapper-inner se-wrapper-code"+e.className,r.style.cssText=e._editorStyles.frame,r.style.display="none",e.height==="auto"&&(r.style.overflow="hidden");let u=null,h=null,o=null,b=null;if(e.resizingBar&&(u=document.createElement("DIV"),u.className="se-resizing-bar sun-editor-common",h=document.createElement("DIV"),h.className="se-navigation sun-editor-common",u.appendChild(h),e.charCounter)){if(o=document.createElement("DIV"),o.className="se-char-counter-wrapper",e.charCounterLabel){let g=document.createElement("SPAN");g.className="se-char-label",g.textContent=e.charCounterLabel,o.appendChild(g)}if(b=document.createElement("SPAN"),b.className="se-char-counter",b.textContent="0",o.appendChild(b),e.maxCharCount>0){let g=document.createElement("SPAN");g.textContent=" / "+e.maxCharCount,o.appendChild(g)}u.appendChild(o)}let c=null;return e.placeholder&&(c=document.createElement("SPAN"),c.className="se-placeholder",c.innerText=e.placeholder),{bottomBar:{resizingBar:u,navigation:h,charWrapper:o,charCounter:b},wysiwygFrame:s,codeView:r,placeholder:c}},_initOptions:function(e,t){let i={};if(t.plugins){let r=t.plugins,u=r.length?r:Object.keys(r).map(function(h){return r[h]});for(let h=0,o=u.length,b;h<o;h++)b=u[h].default||u[h],i[b.name]=b}t.plugins=i,t.strictMode=t.strictMode!==!1,t.strictHTMLValidation=t.strictHTMLValidation!==!1,t.lang=t.lang||ql.default,t.value=typeof t.value=="string"?t.value:null,t.allowedClassNames=new Ce._w.RegExp((t.allowedClassNames&&typeof t.allowedClassNames=="string"?t.allowedClassNames+"|":"")+"^__se__|se-|katex"),t.historyStackDelayTime=typeof t.historyStackDelayTime=="number"?t.historyStackDelayTime:400,t.frameAttrbutes=t.frameAttrbutes||{},t.defaultTag=typeof t.defaultTag=="string"&&t.defaultTag.length>0?t.defaultTag:"p";let n=t.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},t.textTags||{}].reduce(function(r,u){for(let h in u)r[h]=u[h];return r},{});t._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},t._defaultCommand={bold:t.textTags.bold,underline:t.textTags.underline,italic:t.textTags.italic,strike:t.textTags.strike,subscript:t.textTags.sub,superscript:t.textTags.sup},t.__allowedScriptTag=t.__allowedScriptTag===!0;let s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";t.tagsBlacklist=t.tagsBlacklist||"",t._defaultTagsWhitelist=(typeof t._defaultTagsWhitelist=="string"?t._defaultTagsWhitelist:s)+(t.__allowedScriptTag?"|script":""),t._editorTagsWhitelist=t.addTagsWhitelist==="*"?"*":this._setWhitelist(t._defaultTagsWhitelist+(typeof t.addTagsWhitelist=="string"&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.tagsBlacklist),t.pasteTagsBlacklist=t.tagsBlacklist+(t.tagsBlacklist&&t.pasteTagsBlacklist?"|"+t.pasteTagsBlacklist:t.pasteTagsBlacklist||""),t.pasteTagsWhitelist=t.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof t.pasteTagsWhitelist=="string"?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.pasteTagsBlacklist),t.attributesWhitelist=!t.attributesWhitelist||typeof t.attributesWhitelist!="object"?null:t.attributesWhitelist,t.attributesBlacklist=!t.attributesBlacklist||typeof t.attributesBlacklist!="object"?null:t.attributesBlacklist,t.mode=t.mode||"classic",t.rtl=!!t.rtl,t.lineAttrReset=["id"].concat(t.lineAttrReset&&typeof t.lineAttrReset=="string"?t.lineAttrReset.toLowerCase().split("|"):[]),t._editableClass="sun-editor-editable"+(t.rtl?" se-rtl":""),t._printClass=typeof t._printClass=="string"?t._printClass:null,t.toolbarWidth=t.toolbarWidth?Ce.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer=typeof t.toolbarContainer=="string"?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:t.stickyToolbar===void 0?0:/^\d+/.test(t.stickyToolbar)?Ce.getNumber(t.stickyToolbar,0):-1,t.hideToolbar=!!t.hideToolbar,t.fullScreenOffset=t.fullScreenOffset===void 0?0:/^\d+/.test(t.fullScreenOffset)?Ce.getNumber(t.fullScreenOffset,0):0,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||!!t.iframe,t.iframeAttributes=t.iframeAttributes||{},t.iframeCSSFileName=t.iframe?typeof t.iframeCSSFileName=="string"?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.previewTemplate=typeof t.previewTemplate=="string"?t.previewTemplate:null,t.printTemplate=typeof t.printTemplate=="string"?t.printTemplate:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.mathFontSize=t.mathFontSize?t.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],t.position=typeof t.position=="string"?t.position:null,t.display=t.display||(e.style.display==="none"||!e.style.display?"block":e.style.display),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=t.resizingBar===void 0?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=t.resizingBar?typeof t.showPathLabel=="boolean"?t.showPathLabel:!0:!1,t.resizeEnable=t.resizeEnable===void 0?!0:!!t.resizeEnable,t.resizingBarContainer=typeof t.resizingBarContainer=="string"?document.querySelector(t.resizingBarContainer):t.resizingBarContainer,t.charCounter=t.maxCharCount>0?!0:typeof t.charCounter=="boolean"?t.charCounter:!1,t.charCounterType=typeof t.charCounterType=="string"?t.charCounterType:"char",t.charCounterLabel=typeof t.charCounterLabel=="string"?t.charCounterLabel.trim():null,t.maxCharCount=Ce.isNumber(t.maxCharCount)&&t.maxCharCount>-1?t.maxCharCount*1:null,t.width=t.width?Ce.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(Ce.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(Ce.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?Ce.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(Ce.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(Ce.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.className=typeof t.className=="string"&&t.className.length>0?" "+t.className:"",t.defaultStyle=typeof t.defaultStyle=="string"?t.defaultStyle:"",t.font=t.font?t.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit=typeof t.fontSizeUnit=="string"&&t.fontSizeUnit.trim().toLowerCase()||"px",t.alignItems=typeof t.alignItems=="object"?t.alignItems:t.rtl?["right","center","left","justify"]:["left","center","right","justify"],t.imageResizing=t.imageResizing===void 0?!0:t.imageResizing,t.imageHeightShow=t.imageHeightShow===void 0?!0:!!t.imageHeightShow,t.imageAlignShow=t.imageAlignShow===void 0?!0:!!t.imageAlignShow,t.imageWidth=t.imageWidth?Ce.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?Ce.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=t.imageRotation!==void 0?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=t.imageFileInput===void 0?!0:t.imageFileInput,t.imageUrlInput=t.imageUrlInput===void 0||!t.imageFileInput?!0:t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl=typeof t.imageUploadUrl=="string"?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?Ce.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept=typeof t.imageAccept!="string"||t.imageAccept.trim()==="*"?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryData=t.imageGalleryData||null,t.imageGalleryUrl=typeof t.imageGalleryUrl=="string"?t.imageGalleryUrl:null,t.imageGalleryHeader=t.imageGalleryHeader||null,t.videoResizing=t.videoResizing===void 0?!0:t.videoResizing,t.videoHeightShow=t.videoHeightShow===void 0?!0:!!t.videoHeightShow,t.videoAlignShow=t.videoAlignShow===void 0?!0:!!t.videoAlignShow,t.videoRatioShow=t.videoRatioShow===void 0?!0:!!t.videoRatioShow,t.videoWidth=!t.videoWidth||!Ce.getNumber(t.videoWidth,0)?"":Ce.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth,t.videoHeight=!t.videoHeight||!Ce.getNumber(t.videoHeight,0)?"":Ce.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight,t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=t.videoRotation!==void 0?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=Ce.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.vimeoQuery=(t.vimeoQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=t.videoUrlInput===void 0||!t.videoFileInput?!0:t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl=typeof t.videoUploadUrl=="string"?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?Ce.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept=typeof t.videoAccept!="string"||t.videoAccept.trim()==="*"?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?Ce.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?Ce.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=t.audioUrlInput===void 0||!t.audioFileInput?!0:t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl=typeof t.audioUploadUrl=="string"?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?Ce.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept=typeof t.audioAccept!="string"||t.audioAccept.trim()==="*"?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition=typeof t.tableCellControllerPosition=="string"?t.tableCellControllerPosition.toLowerCase():"cell",t.linkTargetNewWindow=!!t.linkTargetNewWindow,t.linkProtocol=typeof t.linkProtocol=="string"?t.linkProtocol:null,t.linkRel=Array.isArray(t.linkRel)?t.linkRel:[],t.linkRelDefault=t.linkRelDefault||{},t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)?t.shortcutsDisable:[],t.shortcutsHint=t.shortcutsHint===void 0?!0:!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder=typeof t.placeholder=="string"?t.placeholder:null,t.mediaAutoSelect=t.mediaAutoSelect===void 0?!0:!!t.mediaAutoSelect,t.buttonList=t.buttonList?t.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.rtl&&(t.buttonList=t.buttonList.reverse()),t.icons=!t.icons||typeof t.icons!="object"?Ws:[Ws,t.icons].reduce(function(r,u){for(let h in u)Ce.hasOwn(u,h)&&(r[h]=u[h]);return r},{}),t.icons=t.rtl?[t.icons,t.icons.rtl].reduce(function(r,u){for(let h in u)Ce.hasOwn(u,h)&&(r[h]=u[h]);return r},{}):t.icons,t.__listCommonStyle=t.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],t._editorStyles=Ce._setDefaultOptionStyle(t,t.defaultStyle)},_setWhitelist:function(e,t){if(typeof t!="string")return e;t=t.split("|"),e=e.split("|");for(let i=0,n=t.length,s;i<n;i++)s=e.indexOf(t[i]),s>-1&&e.splice(s,1);return e.join("|")},_defaultButtons:function(e){let t=e.icons,i=e.lang,n=Ce.isOSX_IOS?"\u2318":"CTRL",s=Ce.isOSX_IOS?"\u21E7":"+SHIFT",r=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],u=e.rtl?["[","]"]:["]","["],h=e.rtl?[t.outdent,t.indent]:[t.indent,t.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(r.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",t.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(r.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",t.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(r.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",t.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(r.indexOf("strike")>-1?"":n+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",t.strike],subscript:["",i.toolbar.subscript,"SUB","",t.subscript],superscript:["",i.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",t.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(r.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+u[0]+"</span>")+"</span>","indent","",h[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(r.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+u[1]+"</span>")+"</span>","outdent","",h[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",t.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(r.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",t.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(r.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",t.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",t.print],dir:["",i.toolbar[e.rtl?"dir_ltr":"dir_rtl"],"dir","",t[e.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",t.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",t.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(r.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",t.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",e.rtl?t.align_right:t.align_left],list:["",i.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",i.toolbar.table,"table","submenu",t.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",i.toolbar.template,"template","submenu",t.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",i.toolbar.link,"link","dialog",t.link],image:["",i.toolbar.image,"image","dialog",t.image],video:["",i.toolbar.video,"video","dialog",t.video],audio:["",i.toolbar.audio,"audio","dialog",t.audio],math:["",i.toolbar.math,"math","dialog",t.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){let e=Ce.createElement("DIV");e.className="se-btn-module se-btn-module-border";let t=Ce.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,i,n,s,r,u){let h=Ce.createElement("LI"),o=Ce.createElement("BUTTON"),b=t||i;return o.setAttribute("type","button"),o.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),o.setAttribute("data-command",i),o.setAttribute("data-display",n),o.setAttribute("aria-label",b.replace(/<span .+<\/span>/,"")),o.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=u[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),o.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+b+"</span></span>",r&&o.setAttribute("disabled",!0),o.innerHTML=s,h.appendChild(o),{li:h,button:o}},_createToolBar:function(e,t,i,n){let s=e.createElement("DIV");s.className="se-toolbar-separator-vertical";let r=e.createElement("DIV");r.className="se-toolbar sun-editor-common";let u=e.createElement("DIV");u.className="se-btn-tray",r.appendChild(u),t=JSON.parse(JSON.stringify(t));let h=n.icons,o=this._defaultButtons(n),b={},c=[],g=null,E=null,M=null,I=null,R="",l=!1,a=Ce.createElement("DIV");a.className="se-toolbar-more-layer";e:for(let f=0,_,m,y,x,C;f<t.length;f++)if(_=!1,C="",x=t[f],M=this._createModuleGroup(),typeof x=="object"){for(let S=0,V;S<x.length;S++){if(E=x[S],V=!1,/^\%\d+/.test(E)&&S===0){x[0]=E.replace(/[^\d]/g,""),c.push(x),t.splice(f--,1);continue e}if(typeof E=="object")typeof E.add=="function"?(R=E.name,g=o[R],i[R]=E):(R=E.name,g=[E.buttonClass,E.title,E.name,E.dataDisplay,E.innerHTML,E._disabled]);else{if(/^\-/.test(E)){C=E.substr(1),M.div.className+=" module-float-"+C;continue}if(/^\#/.test(E)){E.substr(1)==="fix"&&(M.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(E)){V=!0;let D=E.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);y="__se__"+D[1].trim();let O=D[2].trim(),P=D[3].trim();g=["se-btn-more",O,y,"MORE",P]}else g=o[E];if(R=E,!g){let D=i[R];if(!D)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+R+"]");g=[D.buttonClass,D.title,D.name,D.display,D.innerHTML,D._disabled]}}I=this._createButton(g[0],g[1],g[2],g[3],g[4],g[5],h),(_?m:M.ul).appendChild(I.li),i[R]&&(b[R]=I.button),V&&(_=!0,m=Ce.createElement("DIV"),m.className="se-more-layer "+y,m.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(C?' style="float: '+C+';"':"")+"></ul></div>",a.appendChild(m),m=m.firstElementChild.firstElementChild)}if(l){let S=s.cloneNode(!1);u.appendChild(S)}u.appendChild(M.div),l=!0}else if(/^\/$/.test(x)){let S=e.createElement("DIV");S.className="se-btn-module-enter",u.appendChild(S),l=!1}switch(u.children.length){case 0:u.style.display="none";break;case 1:Ce.removeClass(u.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){let f=s.cloneNode(!1);f.style.float=u.lastElementChild.style.float,u.appendChild(f)}}c.length>0&&c.unshift(t),a.children.length>0&&u.appendChild(a);let d=e.createElement("DIV");d.className="se-menu-tray",r.appendChild(d);let p=e.createElement("DIV");return p.className="se-toolbar-cover",r.appendChild(p),n.hideToolbar&&(r.style.display="none"),{element:r,plugins:i,pluginCallButtons:b,responsiveButtons:c,_menuTray:d,_buttonTray:u}}};var ed=function(e,t,i){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_toolbarShadow:t._toolbarShadow,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow,_focusTemp:t._focusTemp},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector('[data-command="bold"]'),underline:t._toolBar.querySelector('[data-command="underline"]'),italic:t._toolBar.querySelector('[data-command="italic"]'),strike:t._toolBar.querySelector('[data-command="strike"]'),sub:t._toolBar.querySelector('[data-command="SUB"]'),sup:t._toolBar.querySelector('[data-command="SUP"]'),undo:t._toolBar.querySelector('[data-command="undo"]'),redo:t._toolBar.querySelector('[data-command="redo"]'),save:t._toolBar.querySelector('[data-command="save"]'),outdent:t._toolBar.querySelector('[data-command="outdent"]'),indent:t._toolBar.querySelector('[data-command="indent"]'),fullScreen:t._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:t._toolBar.querySelector('[data-command="showBlocks"]'),codeView:t._toolBar.querySelector('[data-command="codeView"]'),dir:t._toolBar.querySelector('[data-command="dir"]'),dir_ltr:t._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:t._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}},Bi=ed;function $l(e,t){let i=e._w,n=e.util,s=e.options.historyStackDelayTime,r=e.context.element,u=e.context.tool.undo,h=e.context.tool.redo,o=null,b=0,c=[];function g(){let M=c[b];r.wysiwyg.innerHTML=M.contents,e.setRange(n.getNodeFromPath(M.s.path,r.wysiwyg),M.s.offset,n.getNodeFromPath(M.e.path,r.wysiwyg),M.e.offset),e.focus(),c.length<=1?(u&&u.setAttribute("disabled",!0),h&&h.setAttribute("disabled",!0)):b===0?(u&&u.setAttribute("disabled",!0),h&&h.removeAttribute("disabled")):b===c.length-1?(u&&u.removeAttribute("disabled"),h&&h.setAttribute("disabled",!0)):(u&&u.removeAttribute("disabled"),h&&h.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function E(){e._checkComponents();let M=r.wysiwyg.innerHTML;if(!M||c[b]&&M===c[b].contents)return;b++;let I=e._variable._range;c.length>b&&(c=c.slice(0,b),h&&h.setAttribute("disabled",!0)),I?c[b]={contents:M,s:{path:n.getNodePath(I.startContainer,null,null),offset:I.startOffset},e:{path:n.getNodePath(I.endContainer,null,null),offset:I.endOffset}}:c[b]={contents:M,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},b===1&&u&&u.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:c,push:function(M){i.setTimeout(e._resourcesStateChange.bind(e));let I=typeof M=="number"?M>0?M:0:M?s:0;if((!I||o)&&(i.clearTimeout(o),!I)){E();return}o=i.setTimeout(function(){i.clearTimeout(o),o=null,E()},I)},undo:function(){b>0&&(b--,g())},redo:function(){c.length-1>b&&(b++,g())},go:function(M){b=M<0?c.length-1:M,g()},getCurrentIndex:function(){return b},reset:function(M){u&&u.setAttribute("disabled",!0),h&&h.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),c.splice(0),b=0,c[b]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},M||t()},_resetCachingButton:function(){r=e.context.element,u=e.context.tool.undo,h=e.context.tool.redo,b===0?(u&&u.setAttribute("disabled",!0),h&&b===c.length-1&&h.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):b===c.length-1&&h&&h.setAttribute("disabled",!0)},_destroy:function(){o&&i.clearTimeout(o),c=null}}}var Us={name:"notice",add:function(e){let t=e.context;t.notice={};let i=e.util.createElement("DIV"),n=e.util.createElement("SPAN"),s=e.util.createElement("BUTTON");i.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",e.lang.dialogBox.close),s.innerHTML=e.icons.cancel,i.appendChild(n),i.appendChild(s),t.notice.modal=i,t.notice.message=n,s.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(i),i=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function Zl(e,t,i,n,s,r){let u=e.element.originElement.ownerDocument||document,h=u.defaultView||window,o=Ce,b=s.icons,c={_d:u,_w:h,_parser:new h.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:o.camelToKebabCase(s.__listCommonStyle),__focusTemp:e.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:o,functions:null,options:null,wwComputedStyle:null,notice:Us,icons:b,history:null,context:e,pluginCallButtons:t,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new h.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new h.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new h.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new h.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:o.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});let l=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let a=0,d,p;a<l.length;a++)d=l[a],p=d.getAttribute("data-command"),this.allCommandButtons[p]=d},_recoverButtonStates:function(){if(this.allCommandButtons){let l=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let a=0,d,p,f;a<l.length;a++)d=l[a],p=d.getAttribute("data-command"),f=this.allCommandButtons[p],f&&(d.parentElement.replaceChild(f,d),this.context.tool[p]&&(this.context.tool[p]=f))}},callPlugin:function(l,a,d){if(d=d||t[l],this.plugins[l])this.initPlugins[l]?typeof this._targetPlugins[l]=="object"&&d&&this.initMenuTarget(l,d,this._targetPlugins[l]):(this.plugins[l].add(this,d),this.initPlugins[l]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+l+'")');this.plugins[l].active&&!this.commandMap[l]&&d&&(this.commandMap[l]=d,this.activePlugins.push(l)),typeof a=="function"&&a()},addModule:function(l){for(let a=0,d=l.length,p;a<d;a++)p=l[a].name,this.plugins[p]||(this.plugins[p]=l[a]),this.initPlugins[p]||(this.initPlugins[p]=!0,typeof this.plugins[p].add=="function"&&this.plugins[p].add(this))},getGlobalScrollOffset:function(){let l=0,a=0,d=e.element.topArea;for(;d;)l+=d.scrollTop,a+=d.scrollLeft,d=d.parentElement;for(d=this._shadowRoot?this._shadowRoot.host:null;d;)l+=d.scrollTop,a+=d.scrollLeft,d=d.parentElement;return{top:l,left:a}},initMenuTarget:function(l,a,d){a?(e.element._menuTray.appendChild(d),this._targetPlugins[l]=!0,this._menuTray[a.getAttribute("data-command")]=d):this._targetPlugins[l]=d},submenuOn:function(l){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();let a=this._submenuName=l.getAttribute("data-command"),d=this.submenu=this._menuTray[a];this.submenuActiveButton=l,this._setMenuPosition(l,d),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[a].on&&this.plugins[a].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,o.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){let l=e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));l.style.display="none",o.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(l){this._bindedContainerOff&&this._bindedContainerOff();let a=this._containerName=l.getAttribute("data-command"),d=this.container=this._menuTray[a];this.containerActiveButton=l,this._setMenuPosition(l,d),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[a].on&&this.plugins[a].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,o.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(l,a){a.style.visibility="hidden",a.style.display="block",a.style.height="",o.addClass(l,"on");let d=this.context.element.toolbar,p=d.offsetWidth,f=g._getEditorOffsets(e.element.toolbar),_=a.offsetWidth,m=l.parentElement.offsetLeft+3;if(s.rtl){let P=l.offsetWidth,K=_>P?_-P:0,te=K>0?0:P-_;a.style.left=m-K+te+"px",f.left>g._getEditorOffsets(a).left&&(a.style.left="0px")}else{let P=p<=_?0:p-(m+_);P<0?a.style.left=m+P+"px":a.style.left=m+"px"}let y=0,x=l;for(;x&&x!==d;)y+=x.offsetTop,x=x.offsetParent;let C=y;this._isBalloon?y+=d.offsetTop+l.offsetHeight:y-=l.offsetHeight;let S=f.top,V=a.offsetHeight,D=this.getGlobalScrollOffset().top,O=h.innerHeight-(S-D+C+l.parentElement.offsetHeight);if(O<V){let P=-1*(V-C+3),K=S-D+P,te=V+(K<0?K:0);te>O?(a.style.height=te+"px",P=-1*(te-C+3)):(a.style.height=O+"px",P=C+l.parentElement.offsetHeight),a.style.top=P+"px"}else a.style.top=C+l.parentElement.offsetHeight+"px";a.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let l=0,a;l<arguments.length;l++)if(a=arguments[l],!!a){if(typeof a=="string"){this.currentControllerName=a;continue}if(typeof a=="function"){this.controllerArray.push(a);continue}if(!o.hasClass(a,"se-controller")){this.currentControllerTarget=a,this.currentFileComponentInfo=this.getFileComponent(a);continue}a.style&&(a.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(a)===-1&&(a.addEventListener("mousedown",function(d){d.preventDefault(),d.stopPropagation()}),this._shadowRootControllerEventTarget.push(a))),this.controllerArray.push(a)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof E.showController=="function"&&E.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(l){this._lineBreaker.style.display="none";let a=this.controllerArray.length;if(l&&l.target&&a>0){for(let d=0;d<a;d++)if(typeof this.controllerArray[d].contains=="function"&&this.controllerArray[d].contains(l.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&l&&l.type==="keydown"&&l.keyCode!==27)&&(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,a>0){for(let d=0;d<a;d++)typeof this.controllerArray[d]=="function"?this.controllerArray[d]():this.controllerArray[d].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(l,a,d,p){s.rtl&&(p.left*=-1);let f=o.getOffset(a,e.element.wysiwygFrame);l.style.visibility="hidden",l.style.display="block";let _=d==="top"?-(l.offsetHeight+2):a.offsetHeight+12;l.style.top=f.top+_+p.top+"px";let m=f.left-e.element.wysiwygFrame.scrollLeft+p.left,y=l.offsetWidth,x=a.offsetWidth,C=o.hasClass(l.firstElementChild,"se-arrow")?l.firstElementChild:null;if(s.rtl){let S=y>x?y-x:0,V=S>0?0:x-y;l.style.left=m-S+V+"px",S>0&&C&&(C.style.left=(y-14<10+S?y-14:10+S)+"px");let D=e.element.wysiwygFrame.offsetLeft-l.offsetLeft;D>0&&(l.style.left="0px",C&&(C.style.left=D+"px"))}else{l.style.left=m+"px";let S=e.element.wysiwygFrame.offsetWidth-(l.offsetLeft+y);S<0?(l.style.left=l.offsetLeft+S+"px",C&&(C.style.left=20-S+"px")):C&&(C.style.left="20px")}l.style.visibility=""},execCommand:function(l,a,d){this._wd.execCommand(l,a,l==="formatBlock"?"<"+d+">":d),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){let l=o.getParentElement(this.getSelectionNode(),"figcaption");l?l.focus():e.element.wysiwyg.focus()},focus:function(){if(e.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{let l=this.getRange();if(l.startContainer===l.endContainer&&o.isWysiwygDiv(l.startContainer)){let a=l.commonAncestorContainer.children[l.startOffset];if(!o.isFormatElement(a)&&!o.isComponent(a)){let d=o.createElement(s.defaultTag),p=o.createElement("BR");d.appendChild(p),e.element.wysiwyg.insertBefore(d,a),this.setRange(p,0,p,0);return}}this.setRange(l.startContainer,l.startOffset,l.endContainer,l.endOffset)}catch{this.nativeFocus()}g._applyTagEffects(),this._isBalloon&&g._toggleToolbarBalloon()}},focusEdge:function(l){l||(l=e.element.wysiwyg.lastElementChild);let a=this.getFileComponent(l);a?this.selectComponent(a.target,a.pluginName):l?(l=o.getChildElement(l,function(d){return d.childNodes.length===0||d.nodeType===3},!0),l?this.setRange(l,l.textContent.length,l,l.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?e.element.wysiwygFrame.blur():e.element.wysiwyg.blur()},setRange:function(l,a,d,p){if(!l||!d)return;a>l.textContent.length&&(a=l.textContent.length),p>d.textContent.length&&(p=d.textContent.length),o.isFormatElement(l)&&(l=l.childNodes[a]||l.childNodes[a-1]||l,a=a>0?l.nodeType===1?1:l.textContent?l.textContent.length:0:0),o.isFormatElement(d)&&(d=d.childNodes[p]||d.childNodes[p-1]||d,p=p>0?d.nodeType===1?1:d.textContent?d.textContent.length:0:0);let f=this._wd.createRange();try{f.setStart(l,a),f.setEnd(d,p)}catch(m){console.warn("[SUNEDITOR.core.focus.error] "+m),this.nativeFocus();return}let _=this.getSelection();return _.removeAllRanges&&_.removeAllRanges(),_.addRange(f),this._rangeInfo(f,this.getSelection()),s.iframe&&this.__focus(),f},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){let l=this._variable._range||this._createDefaultRange(),a=this.getSelection();if(l.collapsed===a.isCollapsed||!e.element.wysiwyg.contains(a.focusNode))return l;if(a.rangeCount>0)return this._variable._range=a.getRangeAt(0),this._variable._range;{let d=a.anchorNode,p=a.focusNode,f=a.anchorOffset,_=a.focusOffset,m=o.compareElements(d,p),y=m.ancestor&&(m.result===0?f<=_:m.result>1);return this.setRange(y?d:p,y?f:_,y?p:d,y?_:f)}},getRange_addLine:function(l,a){if(this._selectionVoid(l)){let d=e.element.wysiwyg,p=o.createElement(s.defaultTag);p.innerHTML="<br>",d.insertBefore(p,a&&a!==d?a.nextElementSibling:d.firstElementChild),this.setRange(p.firstElementChild,0,p.firstElementChild,1),l=this._variable._range}return l},getSelection:function(){let l=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!e.element.wysiwyg.contains(l.focusNode)&&(l.removeAllRanges(),l.addRange(this._createDefaultRange())),l},getSelectionNode:function(){if(e.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){let l=o.getChildElement(e.element.wysiwyg.firstChild,function(a){return a.childNodes.length===0||a.nodeType===3},!1);if(!l)this._editorRange();else return this._variable._selectionNode=l,l}return this._variable._selectionNode},_editorRange:function(){let l=this._wd.activeElement;if(o.isInputElement(l))return this._variable._selectionNode=l,l;let a=this.getSelection();if(!a)return null;let d=null;a.rangeCount>0?d=a.getRangeAt(0):d=this._createDefaultRange(),this._rangeInfo(d,a)},_rangeInfo:function(l,a){let d=null;this._variable._range=l,l.collapsed?o.isWysiwygDiv(l.commonAncestorContainer)?d=l.commonAncestorContainer.children[l.startOffset]||l.commonAncestorContainer:d=l.commonAncestorContainer:d=a.extentNode||a.anchorNode,this._variable._selectionNode=d},_createDefaultRange:function(){let l=e.element.wysiwyg,a=this._wd.createRange(),d=l.firstElementChild,p=null;return d?(p=d.firstChild,p||(p=o.createElement("BR"),d.appendChild(p))):(d=o.createElement(s.defaultTag),p=o.createElement("BR"),d.appendChild(p),l.appendChild(d)),a.setStart(p,0),a.setEnd(p,0),a},_selectionVoid:function(l){let a=l.commonAncestorContainer;return o.isWysiwygDiv(l.startContainer)&&o.isWysiwygDiv(l.endContainer)||/FIGURE/i.test(a.nodeName)||this._fileManager.regExp.test(a.nodeName)||o.isMediaComponent(a)},_resetRangeToTextNode:function(){let l=this.getRange();if(this._selectionVoid(l))return!1;let a=l.collapsed,d=l.startContainer,p=l.startOffset,f=l.endContainer,_=l.endOffset,m,y,x;if(o.isFormatElement(d))for(d.childNodes[p]?(d=d.childNodes[p]||d,p=0):(d=d.lastChild||d,p=d.textContent.length);d&&d.nodeType===1&&d.firstChild;)d=d.firstChild||d,p=0;if(o.isFormatElement(f)){for(f=f.childNodes[_]||f.lastChild||f;f&&f.nodeType===1&&f.lastChild;)f=f.lastChild;_=a?0:f.textContent.length}if(m=o.isWysiwygDiv(d)?e.element.wysiwyg.firstChild:d,y=p,o.isBreak(m)||m.nodeType===1&&m.childNodes.length>0){let C=o.isBreak(m);if(!C){for(;m&&!o.isBreak(m)&&m.nodeType===1;)m=m.childNodes[y]||m.nextElementSibling||m.nextSibling,y=0;let S=o.getFormatElement(m,null);S===o.getRangeFormatElement(S,null)&&(S=o.createElement(o.getParentElement(m,o.isCell)?"DIV":s.defaultTag),m.parentNode.insertBefore(S,m),S.appendChild(m))}if(o.isBreak(m)){let S=o.createTextNode(o.zeroWidthSpace);m.parentNode.insertBefore(S,m),m=S,C&&d===f&&(f=m,_=1)}}if(d=m,p=y,m=o.isWysiwygDiv(f)?e.element.wysiwyg.lastChild:f,y=_,o.isBreak(m)||m.nodeType===1&&m.childNodes.length>0){let C=o.isBreak(m);if(!C){for(;m&&!o.isBreak(m)&&m.nodeType===1&&(x=m.childNodes,x.length!==0);)m=x[y>0?y-1:y]||!/FIGURE/i.test(x[0].nodeName)?x[0]:m.previousElementSibling||m.previousSibling||d,y=y>0?m.textContent.length:y;let S=o.getFormatElement(m,null);S===o.getRangeFormatElement(S,null)&&(S=o.createElement(o.isCell(S)?"DIV":s.defaultTag),m.parentNode.insertBefore(S,m),S.appendChild(m))}if(o.isBreak(m)){let S=o.createTextNode(o.zeroWidthSpace);m.parentNode.insertBefore(S,m),m=S,y=1,C&&!m.previousSibling&&o.removeItem(f)}}return f=m,_=y,this.setRange(d,p,f,_),!0},getSelectedElements:function(l){if(!this._resetRangeToTextNode())return[];let a=this.getRange();if(o.isWysiwygDiv(a.startContainer)){let P=e.element.wysiwyg.children;if(P.length===0)return[];this.setRange(P[0],0,P[P.length-1],P[P.length-1].textContent.trim().length),a=this.getRange()}let d=a.startContainer,p=a.endContainer,f=a.commonAncestorContainer,_=o.getListChildren(f,function(P){return l?l(P):o.isFormatElement(P)});if(!o.isWysiwygDiv(f)&&!o.isRangeFormatElement(f)&&_.unshift(o.getFormatElement(f,null)),d===p||_.length===1)return _;let m=o.getFormatElement(d,null),y=o.getFormatElement(p,null),x=null,C=null,S=function(P){return o.isTable(P)?/^TABLE$/i.test(P.nodeName):!0},V=o.getRangeFormatElement(m,S),D=o.getRangeFormatElement(y,S);o.isTable(V)&&o.isListCell(V.parentNode)&&(V=V.parentNode),o.isTable(D)&&o.isListCell(D.parentNode)&&(D=D.parentNode);let O=V===D;for(let P=0,K=_.length,te;P<K;P++){if(te=_[P],m===te||!O&&te===V){x=P;continue}if(y===te||!O&&te===D){C=P;break}}return x===null&&(x=0),C===null&&(C=_.length-1),_.slice(x,C+1)},getSelectedElementsAndComponents:function(l){let a=this.getRange().commonAncestorContainer,d=o.getParentElement(a,o.isComponent),p=o.isTable(a)?this.getSelectedElements(null):this.getSelectedElements(function(f){let _=this.getParentElement(f,this.isComponent);return this.isFormatElement(f)&&(!_||_===d)||this.isComponent(f)&&!this.getFormatElement(f)}.bind(o));if(l){for(let f=0,_=p.length;f<_;f++)for(let m=f-1;m>=0;m--)if(p[m].contains(p[f])){p.splice(f,1),f--,_--;break}}return p},isEdgePoint:function(l,a,d){return l.nodeType===1&&!l.textContent.length?!0:d!=="end"&&a===0||(!d||d!=="start")&&!l.nodeValue&&a===1||(!d||d==="end")&&!!l.nodeValue&&a===l.nodeValue.length},_isEdgeFormat:function(l,a,d){if(!this.isEdgePoint(l,a,d))return!1;let p=[];for(d=d==="start"?"previousSibling":"nextSibling";l&&!o.isFormatElement(l)&&!o.isWysiwygDiv(l);)if(!l[d]||o.isBreak(l[d])&&!l[d][d])l.nodeType===1&&p.push(l.cloneNode(!1)),l=l.parentNode;else return null;return p},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(l,a){if(!l||!l.parentNode)return null;let d=o.getFormatElement(this.getSelectionNode(),null),p=null;if(!o.isFormatElement(l)&&o.isFreeFormatElement(d||l.parentNode))p=o.createElement("BR");else{let f=a?typeof a=="string"?a:a.nodeName:o.isFormatElement(d)&&!o.isRangeFormatElement(d)&&!o.isFreeFormatElement(d)?d.nodeName:s.defaultTag;p=o.createElement(f),p.innerHTML="<br>",(a&&typeof a!="string"||!a&&o.isFormatElement(d))&&o.copyTagAttributes(p,a||d,["id"])}return o.isCell(l)?l.insertBefore(p,l.nextElementSibling):l.parentNode.insertBefore(p,l.nextElementSibling),p},insertComponent:function(l,a,d,p){if(this.isReadOnly||d&&!this.checkCharCount(l,null))return null;let f=this.removeNode();this.getRange_addLine(this.getRange(),f.container);let _=null,m=this.getSelectionNode(),y=o.getFormatElement(m,null);if(o.isListCell(y))this.insertNode(l,m===y?null:f.container.nextSibling,!1),l.nextSibling||l.parentNode.appendChild(o.createElement("BR"));else{if(this.getRange().collapsed&&(f.container.nodeType===3||o.isBreak(f.container))){let x=o.getParentElement(f.container,function(C){return this.isRangeFormatElement(C)}.bind(o));_=o.splitElement(f.container,f.offset,x?o.getElementDepth(x)+1:0),_&&(y=_.previousSibling)}this.insertNode(l,o.isRangeFormatElement(y)?null:y,!1),y&&o.onlyZeroWidthSpace(y)&&o.removeItem(y)}if(!p){this.setRange(l,0,l,0);let x=this.getFileComponent(l);x?this.selectComponent(x.target,x.pluginName):_&&(_=o.getEdgeChildNodes(_,null).sc||_,this.setRange(_,0,_,0))}return a||this.history.push(1),_||l},getFileComponent:function(l){if(!this._fileManager.queryString||!l)return null;let a,d;return(/^FIGURE$/i.test(l.nodeName)||/se-component/.test(l.className))&&(a=l.querySelector(this._fileManager.queryString)),!a&&l.nodeName&&this._fileManager.regExp.test(l.nodeName)&&(a=l),a&&(d=this._fileManager.pluginMap[a.nodeName.toLowerCase()],d)?{target:a,component:o.getParentElement(a,o.isComponent),pluginName:d}:null},selectComponent:function(l,a){if(o.isUneditableComponent(o.getParentElement(l,o.isComponent))||o.isUneditableComponent(l))return!1;this.hasFocus||this.focus();let d=this.plugins[a];d&&h.setTimeout(function(){typeof d.select=="function"&&this.callPlugin(a,d.select.bind(this,l),null),this._setComponentLineBreaker(l)}.bind(this))},_setComponentLineBreaker:function(l){this._lineBreaker.style.display="none";let a=o.getParentElement(l,o.isComponent),d=e.element.lineBreaker_t.style,p=e.element.lineBreaker_b.style,f=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:l,_=o.isListCell(a.parentNode),m,y,x;(_?!a.previousSibling:!o.isFormatElement(a.previousElementSibling))?(this._variable._lineBreakComp=a,y=e.element.wysiwyg.scrollTop,m=o.getOffset(l,e.element.wysiwygFrame).top+y,x=f.offsetWidth/2/2,d.top=m-y-12+"px",d.left=o.getOffset(f).left+x+"px",d.display="block"):d.display="none",(_?!a.nextSibling:!o.isFormatElement(a.nextElementSibling))?(m||(this._variable._lineBreakComp=a,y=e.element.wysiwyg.scrollTop,m=o.getOffset(l,e.element.wysiwygFrame).top+y,x=f.offsetWidth/2/2),p.top=m+f.offsetHeight-y-12+"px",p.left=o.getOffset(f).left+f.offsetWidth-x-24+"px",p.display="block"):p.display="none"},_checkDuplicateNode:function(l,a){(function d(p){c._dupleCheck(p,a);let f=p.childNodes;for(let _=0,m=f.length;_<m;_++)d(f[_])})(l)},_dupleCheck:function(l,a){if(!o.isTextStyleElement(l))return;let d=(l.style.cssText.match(/[^;]+;/g)||[]).map(function(_){return _.trim()}),p=l.nodeName;if(/^span$/i.test(p)&&d.length===0)return l;let f=!1;return function _(m){if(!(o.isWysiwygDiv(m)||!o.isTextStyleElement(m))){if(m.nodeName===p){f=!0;let y=m.style.cssText.match(/[^;]+;/g)||[];for(let x=0,C=y.length,S;x<C;x++)(S=d.indexOf(y[x].trim()))>-1&&d.splice(S,1);for(let x=0,C=m.classList.length;x<C;x++)l.classList.remove(m.classList[x])}_(m.parentElement)}}(a),f&&((l.style.cssText=d.join(" "))||(l.setAttribute("style",""),l.removeAttribute("style")),l.attributes.length||l.setAttribute("data-se-duple","true")),l},insertNode:function(l,a,d){if(this.isReadOnly||d&&!this.checkCharCount(l,null))return null;let p=null,f=this.getRange(),_=o.isListCell(f.commonAncestorContainer)?f.commonAncestorContainer:o.getFormatElement(this.getSelectionNode(),null),m=o.isListCell(_)&&(o.isListCell(l)||o.isList(l)),y,x,C,S=null,V=o.isFreeFormatElement(_),D=!V&&(o.isFormatElement(l)||o.isRangeFormatElement(l))||o.isComponent(l);if(m&&(C=a||o.isList(l)?_.lastChild:_.nextElementSibling,S=o.isList(l)?_:(C||_).parentNode),!a&&(D||o.isComponent(l)||o.isMedia(l))){let Y=this.isEdgePoint(f.endContainer,f.endOffset,"end"),W=this.removeNode(),j=W.container,L=j===W.prevContainer&&f.collapsed?null:W.prevContainer;if(m&&L)if(S=L.nodeType===3?L.parentNode:L,S.contains(j)){let G=!0;for(C=j;C.parentNode&&C.parentNode!==S;)C=C.parentNode,G=!1;G&&j===L&&(C=C.nextSibling)}else C=null;else if(m&&o.isListCell(j)&&!_.parentElement)_=o.createElement("LI"),S.appendChild(_),j.appendChild(S),C=null;else if(j.nodeType===3||o.isBreak(j)||m){let G=o.getParentElement(j,function(B){return this.isRangeFormatElement(B)||this.isListCell(B)}.bind(o));if(a=o.splitElement(j,W.offset,G?o.getElementDepth(G)+1:0),!a)C=a=_;else if(m){if(_.contains(j)){let B=o.isList(_.lastElementChild),$=null;Y||($=_.cloneNode(!1),$.appendChild(a.textContent.trim()?a:o.createTextNode(o.zeroWidthSpace))),B&&($||($=_.cloneNode(!1),$.appendChild(o.createTextNode(o.zeroWidthSpace))),$.appendChild(_.lastElementChild)),$&&(_.parentNode.insertBefore($,_.nextElementSibling),C=a=$)}}else a=a.previousSibling}}f=!a&&!D?this.getRange_addLine(this.getRange(),null):this.getRange();let O=f.commonAncestorContainer,P=f.startOffset,K=f.endOffset,te=f.startContainer===O&&o.isFormatElement(O),X=te&&(O.childNodes[P]||O.childNodes[0])||f.startContainer,Z=te&&(O.childNodes[K]||O.childNodes[O.childNodes.length-1])||f.endContainer;if(!m)if(a)y=a.parentNode,a=a.nextSibling,x=!0;else if(y=X,X.nodeType===3&&(y=X.parentNode),f.collapsed)if(O.nodeType===3)O.textContent.length>K?a=O.splitText(K):a=O.nextSibling;else if(o.isBreak(y))a=y,y=y.parentNode;else{let Y=y.childNodes[P],W=Y&&Y.nodeType===3&&o.onlyZeroWidthSpace(Y)&&o.isBreak(Y.nextSibling)?Y.nextSibling:Y;W?!W.nextSibling&&o.isBreak(W)?(y.removeChild(W),a=null):a=o.isBreak(W)&&!o.isBreak(l)?W:W.nextSibling:a=null}else if(X===Z){this.isEdgePoint(Z,K)?a=Z.nextSibling:a=Z.splitText(K);let W=X;this.isEdgePoint(X,P)||(W=X.splitText(P)),y.removeChild(W),y.childNodes.length===0&&D&&(y.innerHTML="<br>")}else{let W=this.removeNode(),j=W.container,L=W.prevContainer;if(j&&j.childNodes.length===0&&D&&(o.isFormatElement(j)?j.innerHTML="<br>":o.isRangeFormatElement(j)&&(j.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),o.isListCell(j)&&l.nodeType===3)y=j,a=null;else if(!D&&L)if(y=L.nodeType===3?L.parentNode:L,y.contains(j)){let G=!0;for(a=j;a.parentNode&&a.parentNode!==y;)a=a.parentNode,G=!1;G&&j===L&&(a=a.nextSibling)}else a=null;else o.isWysiwygDiv(j)&&!o.isFormatElement(l)?(y=j.appendChild(o.createElement(s.defaultTag)),a=null):(a=D?Z:j===L?j.nextSibling:j,y=!a||!a.parentNode?O:a.parentNode);for(;a&&!o.isFormatElement(a)&&a.parentNode!==O;)a=a.parentNode}try{if(!m){if((o.isWysiwygDiv(a)||y===e.element.wysiwyg.parentNode)&&(y=e.element.wysiwyg,a=null),o.isFormatElement(l)||o.isRangeFormatElement(l)||!o.isListCell(y)&&o.isComponent(l)){let Y=y;if(o.isList(a))y=a,a=null;else if(o.isListCell(a))y=a.previousElementSibling||a;else if(!x&&!a){let W=this.removeNode(),j=W.container.nodeType===3?o.isListCell(o.getFormatElement(W.container,null))?W.container:o.getFormatElement(W.container,null)||W.container.parentNode:W.container,L=o.isWysiwygDiv(j)||o.isRangeFormatElement(j);y=L?j:j.parentNode,a=L?null:j.nextSibling}Y.childNodes.length===0&&y!==Y&&o.removeItem(Y)}if(D&&!V&&!o.isRangeFormatElement(y)&&!o.isListCell(y)&&!o.isWysiwygDiv(y)&&(a=y.nextElementSibling,y=y.parentNode),o.isWysiwygDiv(y)&&(l.nodeType===3||o.isBreak(l))){let Y=o.createElement(s.defaultTag);Y.appendChild(l),p=l,l=Y}}if(m?S.parentNode?(y=S,a=C):(y=e.element.wysiwyg,a=null):a=y===a?y.lastChild:a,o.isListCell(l)&&!o.isList(y)){if(o.isListCell(y))a=y.nextElementSibling,y=y.parentNode;else{let Y=o.createElement("ol");y.insertBefore(Y,a),y=Y,a=null}m=!0}if(this._checkDuplicateNode(l,y),y.insertBefore(l,a),m)if(o.onlyZeroWidthSpace(_.textContent.trim()))o.removeItem(_),l=l.lastChild;else{let Y=o.getArrayItem(_.children,o.isList);Y&&(l!==Y?(l.appendChild(Y),l=Y.previousSibling):(y.appendChild(l),l=y),o.onlyZeroWidthSpace(_.textContent.trim())&&o.removeItem(_))}}catch(Y){y.appendChild(l),console.warn("[SUNEDITOR.insertNode.warn] "+Y)}finally{p&&(l=p);let Y=y.querySelectorAll("[data-se-duple]");if(Y.length>0)for(let W=0,j=Y.length,L,G,B,$;W<j;W++){for(L=Y[W],B=L.childNodes,$=L.parentNode;B[0];)G=B[0],$.insertBefore(G,L);L===l&&(l=G),o.removeItem(L)}if((o.isFormatElement(l)||o.isComponent(l))&&X===Z){let W=o.getFormatElement(O,null);W&&W.nodeType===1&&o.isEmptyLine(W)&&o.removeItem(W)}if(V&&(o.isFormatElement(l)||o.isRangeFormatElement(l))&&(l=this._setIntoFreeFormat(l)),!o.isComponent(l)){let W=1;if(l.nodeType===3)W=l.textContent.length,this.setRange(l,W,l,W);else if(!o.isBreak(l)&&!o.isListCell(l)&&o.isFormatElement(y)){let j=null;(!l.previousSibling||o.isBreak(l.previousSibling))&&(j=o.createTextNode(o.zeroWidthSpace),l.parentNode.insertBefore(j,l)),(!l.nextSibling||o.isBreak(l.nextSibling))&&(j=o.createTextNode(o.zeroWidthSpace),l.parentNode.insertBefore(j,l.nextSibling)),o._isIgnoreNodeChange(l)&&(l=l.nextSibling,W=0)}this.setRange(l,W,l,W)}return l}},_setIntoFreeFormat:function(l){let a=l.parentNode,d,p;for(;o.isFormatElement(l)||o.isRangeFormatElement(l);){for(d=l.childNodes,p=null;d[0];){if(p=d[0],o.isFormatElement(p)||o.isRangeFormatElement(p)){if(this._setIntoFreeFormat(p),!l.parentNode)break;d=l.childNodes;continue}a.insertBefore(p,l)}l.childNodes.length===0&&o.removeItem(l),l=o.createElement("BR"),a.insertBefore(l,p.nextSibling)}return l},removeNode:function(){this._resetRangeToTextNode();let l=this.getRange();if(l.startContainer===l.endContainer){let W=o.getParentElement(l.startContainer,o.isMediaComponent);if(W){let j=o.createElement("BR"),L=o.createElement(s.defaultTag);return L.appendChild(j),o.changeElement(W,L),c.setRange(L,0,L,0),this.history.push(!0),{container:L,offset:0,prevContainer:null}}}let a=l.startOffset===0,d=c.isEdgePoint(l.endContainer,l.endOffset,"end"),p=null,f=null,_=null;a&&(f=o.getFormatElement(l.startContainer),f&&(p=f.previousElementSibling,f=p)),d&&(_=o.getFormatElement(l.endContainer),_=_&&_.nextElementSibling);let m,y=0,x=l.startContainer,C=l.endContainer,S=l.startOffset,V=l.endOffset,D=l.commonAncestorContainer.nodeType===3&&l.commonAncestorContainer.parentNode===x.parentNode?x.parentNode:l.commonAncestorContainer;if(D===x&&D===C&&(x=D.children[S],C=D.children[V],S=V=0),!x||!C)return{container:D,offset:0};if(x===C&&l.collapsed&&x.textContent&&o.onlyZeroWidthSpace(x.textContent.substr(S)))return{container:x,offset:S,prevContainer:x&&x.parentNode?x:null};let O=null,P=null,K=o.getListChildNodes(D,null),te=o.getArrayIndex(K,x),X=o.getArrayIndex(K,C);if(K.length>0&&te>-1&&X>-1){for(let W=te+1,j=x;W>=0;W--)K[W]===j.parentNode&&K[W].firstChild===j&&S===0&&(te=W,j=j.parentNode);for(let W=X-1,j=C;W>te;W--)K[W]===j.parentNode&&K[W].nodeType===1&&(K.splice(W,1),j=j.parentNode,--X)}else{if(K.length===0){if(o.isFormatElement(D)||o.isRangeFormatElement(D)||o.isWysiwygDiv(D)||o.isBreak(D)||o.isMedia(D))return{container:D,offset:0};if(D.nodeType===3)return{container:D,offset:V};K.push(D),x=C=D}else if(x=C=K[0],o.isBreak(x)||o.onlyZeroWidthSpace(x))return{container:o.isMedia(D)?D:x,offset:0};te=X=0}for(let W=te;W<=X;W++){let j=K[W];if(j.length===0||j.nodeType===3&&j.data===void 0){this._nodeRemoveListItem(j);continue}if(j===x){if(x.nodeType===1){if(o.isComponent(x))continue;O=o.createTextNode(x.textContent)}else j===C?(O=o.createTextNode(x.substringData(0,S)+C.substringData(V,C.length-V)),y=S):O=o.createTextNode(x.substringData(0,S));if(O.length>0?x.data=O.data:this._nodeRemoveListItem(x),j===C)break;continue}if(j===C){if(C.nodeType===1){if(o.isComponent(C))continue;P=o.createTextNode(C.textContent)}else P=o.createTextNode(C.substringData(V,C.length-V));P.length>0?C.data=P.data:this._nodeRemoveListItem(C);continue}this._nodeRemoveListItem(j)}let Z=o.getParentElement(C,"ul"),Y=o.getParentElement(x,"li");if(Z&&Y&&Y.contains(Z)?(m=Z.previousSibling,y=m.textContent.length):(m=C&&C.parentNode?C:x&&x.parentNode?x:l.endContainer||l.startContainer,y=!a&&!d?y:d?m.textContent.length:0),!o.isWysiwygDiv(m)&&m.childNodes.length===0){let W=o.removeItemAllParents(m,null,null);W&&(m=W.sc||W.ec||e.element.wysiwyg)}return!o.getFormatElement(m)&&!(x&&x.parentNode)&&(_?(m=_,y=0):f&&(m=f,y=1)),this.setRange(m,y,m,y),this.history.push(!0),{container:m,offset:y,prevContainer:p}},_nodeRemoveListItem:function(l){let a=o.getFormatElement(l,null);o.removeItem(l),o.isListCell(a)&&(o.removeItemAllParents(a,null,null),a&&o.isList(a.firstChild)&&a.insertBefore(o.createTextNode(o.zeroWidthSpace),a.firstChild))},applyRangeFormatElement:function(l){this.getRange_addLine(this.getRange(),null);let a=this.getSelectedElementsAndComponents(!1);if(!a||a.length===0)return;e:for(let V=0,D=a.length,O,P,K,te,X,Z;V<D;V++)if(O=a[V],!!o.isListCell(O)&&(P=O.lastElementChild,P&&o.isListCell(O.nextElementSibling)&&a.indexOf(O.nextElementSibling)>-1&&(te=P.lastElementChild,a.indexOf(te)>-1))){let Y=null;for(;Y=te.lastElementChild;)if(o.isList(Y))if(a.indexOf(Y.lastElementChild)>-1)te=Y.lastElementChild;else continue e;K=P.firstElementChild,X=a.indexOf(K),Z=a.indexOf(te),a.splice(X,Z-X+1),D=a.length;continue}let d=a[a.length-1],p,f,_;o.isRangeFormatElement(d)||o.isFormatElement(d)?p=d:p=o.getRangeFormatElement(d,null)||o.getFormatElement(d,null),o.isCell(p)?(f=null,_=p):(f=p.nextSibling,_=p.parentNode);let m=o.getElementDepth(p),y=null,x=[],C=function(V,D,O){let P=null;if(V!==D&&!o.isTable(D)){if(D&&o.getElementDepth(V)===o.getElementDepth(D))return O;P=o.removeItemAllParents(D,null,V)}return P?P.ec:O};for(let V=0,D=a.length,O,P,K,te,X,Z,Y;V<D;V++)if(O=a[V],P=O.parentNode,!(!P||l.contains(P)))if(K=o.getElementDepth(O),o.isList(P)){if(y===null&&(Z?(y=Z,Y=!0,Z=null):y=P.cloneNode(!1)),x.push(O),X=a[V+1],V===D-1||X&&X.parentNode!==P){X&&O.contains(X.parentNode)&&(Z=X.parentNode.cloneNode(!1));let W=P.parentNode,j;for(;o.isList(W);)j=o.createElement(W.nodeName),j.appendChild(y),y=j,W=W.parentNode;let L=this.detachRangeFormatElement(P,x,null,!0,!0);m>=K?(m=K,_=L.cc,f=C(_,P,L.ec),f&&(_=f.parentNode)):_===L.cc&&(f=L.ec),_!==L.cc&&(te=C(_,L.cc,te),te!==void 0?f=te:f=L.cc);for(let G=0,B=L.removeArray.length;G<B;G++)y.appendChild(L.removeArray[G]);Y||l.appendChild(y),Z&&L.removeArray[L.removeArray.length-1].appendChild(Z),y=null,Y=!1}}else m>=K&&(m=K,_=P,f=O.nextSibling),l.appendChild(O),_!==P&&(te=C(_,P),te!==void 0&&(f=te));if(this.effectNode=null,o.mergeSameTags(l,null,!1),o.mergeNestedTags(l,function(V){return this.isList(V)}.bind(o)),f&&o.getElementDepth(f)>0&&(o.isList(f.parentNode)||o.isList(f.parentNode.parentNode))){let V=o.getParentElement(f,function(O){return this.isRangeFormatElement(O)&&!this.isList(O)}.bind(o)),D=o.splitElement(f,null,V?o.getElementDepth(V)+1:0);D.parentNode.insertBefore(l,D)}else _.insertBefore(l,f),C(l,f);let S=o.getEdgeChildNodes(l.firstElementChild,l.lastElementChild);a.length>1?this.setRange(S.sc,0,S.ec,S.ec.textContent.length):this.setRange(S.ec,S.ec.textContent.length,S.ec,S.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(l,a,d,p,f){let _=this.getRange(),m=_.startOffset,y=_.endOffset,x=o.getListChildNodes(l,function(L){return L.parentNode===l}),C=l.parentNode,S=null,V=null,D=l.cloneNode(!1),O=[],P=o.isList(d),K=!1,te=!1,X=!1;function Z(L,G,B,$){if(o.onlyZeroWidthSpace(G)&&(G.innerHTML=o.zeroWidthSpace,m=y=1),G.nodeType===3)return L.insertBefore(G,B),G;let re=(X?G:$).childNodes,oe=G.cloneNode(!1),H=null,v=null;for(;re[0];)v=re[0],o._notTextNode(v)&&!o.isBreak(v)&&!o.isListCell(oe)?(oe.childNodes.length>0&&(H||(H=oe),L.insertBefore(oe,B),oe=G.cloneNode(!1)),L.insertBefore(v,B),H||(H=v)):oe.appendChild(v);if(oe.childNodes.length>0){if(o.isListCell(L)&&o.isListCell(oe)&&o.isList(B))if(P){for(H=B;B;)oe.appendChild(B),B=B.nextSibling;L.parentNode.insertBefore(oe,L.nextElementSibling)}else{let T=$.nextElementSibling,w=o.detachNestedList($,!1);if(l!==w||T!==$.nextElementSibling){let F=oe.childNodes;for(;F[0];)$.appendChild(F[0]);l=w,te=!0}}else L.insertBefore(oe,B);H||(H=oe)}return H}for(let L=0,G=x.length,B,$,re;L<G;L++)if(B=x[L],!(B.nodeType===3&&o.isList(D)))if(X=!1,p&&L===0&&(!a||a.length===G||a[0]===B?S=l.previousSibling:S=D),a&&($=a.indexOf(B)),a&&$===-1)D||(D=l.cloneNode(!1)),D.appendChild(B);else{if(a&&(re=a[$+1]),D&&D.children.length>0&&(C.insertBefore(D,l),D=null),!P&&o.isListCell(B))if(re&&o.getElementDepth(B)!==o.getElementDepth(re)&&(o.isListCell(C)||o.getArrayItem(B.children,o.isList,!1))){let oe=B.nextElementSibling,H=o.detachNestedList(B,!1);(l!==H||oe!==B.nextElementSibling)&&(l=H,te=!0)}else{let oe=B;B=o.createElement(p?oe.nodeName:o.isList(l.parentNode)||o.isListCell(l.parentNode)?"LI":o.isCell(l.parentNode)?"DIV":s.defaultTag);let H=o.isListCell(B),v=oe.childNodes;for(;v[0]&&!(o.isList(v[0])&&!H);)B.appendChild(v[0]);o.copyFormatAttributes(B,oe),X=!0}else B=B.cloneNode(!1);if(!te&&(p?(O.push(B),o.removeItem(x[L])):(d?(K||(C.insertBefore(d,l),K=!0),B=Z(d,B,null,x[L])):B=Z(C,B,l,x[L]),te||(a?(V=B,S||(S=B)):S||(S=V=B))),te)){te=X=!1,x=o.getListChildNodes(l,function(oe){return oe.parentNode===l}),D=l.cloneNode(!1),C=l.parentNode,L=-1,G=x.length;continue}}let Y=l.parentNode,W=l.nextSibling;D&&D.children.length>0&&Y.insertBefore(D,W),d?S=d.previousSibling:S||(S=l.previousSibling),W=l.nextSibling!==D?l.nextSibling:D?D.nextSibling:null,l.children.length===0||l.textContent.length===0?o.removeItem(l):o.removeEmptyNode(l,null,!1);let j=null;if(p)j={cc:Y,sc:S,so:m,ec:W,eo:y,removeArray:O};else{S||(S=V),V||(V=S);let L=o.getEdgeChildNodes(S,V.parentNode?S:V);j={cc:(L.sc||L.ec).parentNode,sc:L.sc,so:m,ec:L.ec,eo:y,removeArray:null}}if(this.effectNode=null,f)return j;!p&&j&&(a?this.setRange(j.sc,m,j.ec,y):this.setRange(j.sc,0,j.sc,0)),this.history.push(!1)},detachList:function(l,a){let d={},p=!1,f=!1,_=null,m=null,y=function(x){return!this.isComponent(x)}.bind(o);for(let x=0,C=l.length,S,V,D,O;x<C;x++){if(D=x===C-1,V=o.getRangeFormatElement(l[x],y),O=o.isList(V),!S&&O)S=V,d={r:S,f:[o.getParentElement(l[x],"LI")]},x===0&&(p=!0);else if(S&&O)if(S!==V){let P=this.detachRangeFormatElement(d.f[0].parentNode,d.f,null,a,!0);V=l[x].parentNode,p&&(_=P.sc,p=!1),D&&(m=P.ec),O?(S=V,d={r:S,f:[o.getParentElement(l[x],"LI")]},D&&(f=!0)):S=null}else d.f.push(o.getParentElement(l[x],"LI")),D&&(f=!0);if(D&&o.isList(S)){let P=this.detachRangeFormatElement(d.f[0].parentNode,d.f,null,a,!0);(f||C===1)&&(m=P.ec),p&&(_=P.sc||m)}}return{sc:_,ec:m}},nodeChange:function(l,a,d,p){this._resetRangeToTextNode();let f=this.getRange_addLine(this.getRange(),null);a=a&&a.length>0?a:!1,d=d&&d.length>0?d:!1;let _=!l,m=_&&!d&&!a,y=f.startContainer,x=f.startOffset,C=f.endContainer,S=f.endOffset;if(m&&f.collapsed&&o.isFormatElement(y.parentNode)||y===C&&y.nodeType===1&&o.isNonEditable(y)){let v=y.parentNode;if(!o.isListCell(v)||!o.getValues(v.style).some(function(T){return this._listKebab.indexOf(T)>-1}.bind(this)))return}if(f.collapsed&&!m&&y.nodeType===1&&!o.isBreak(y)&&!o.isComponent(y)){let v=null,T=y.childNodes[x];T&&(T.nextSibling?v=o.isBreak(T)?T:T.nextSibling:v=null);let w=o.createTextNode(o.zeroWidthSpace);y.insertBefore(w,v),this.setRange(w,1,w,1),f=this.getRange(),y=f.startContainer,x=f.startOffset,C=f.endContainer,S=f.endOffset}o.isFormatElement(y)&&(y=y.childNodes[x]||y.firstChild,x=0),o.isFormatElement(C)&&(C=C.childNodes[S]||C.lastChild,S=C.textContent.length),_&&(l=o.createElement("DIV"));let V=h.RegExp,D=l.nodeName;if(!m&&y===C&&!d&&l){let v=y,T=0,w=[],F=l.style;for(let k=0,U=F.length;k<U;k++)w.push(F[k]);let N=l.classList;for(let k=0,U=N.length;k<U;k++)w.push("."+N[k]);if(w.length>0){for(;!o.isFormatElement(v)&&!o.isWysiwygDiv(v);){for(let k=0;k<w.length;k++)if(v.nodeType===1){let U=w[k],Q=/^\./.test(U)?new V("\\s*"+U.replace(/^\./,"")+"(\\s+|$)","ig"):!1,ce=_?!!v.style[U]:!!v.style[U]&&!!l.style[U]&&v.style[U]===l.style[U],ue=Q===!1?!1:_?!!v.className.match(Q):!!v.className.match(Q)&&!!l.className.match(Q);(ce||ue)&&T++}v=v.parentNode}if(T>=w.length)return}}let O={},P={},K,te="",X="",Z="";if(a){for(let v=0,T=a.length,w;v<T;v++)w=a[v],/^\./.test(w)?X+=(X?"|":"\\s*(?:")+w.replace(/^\./,""):te+=(te?"|":"(?:;|^|\\s)(?:")+w;te&&(te+=")\\s*:[^;]*\\s*(?:;|$)",te=new V(te,"ig")),X&&(X+=")(?=\\s+|$)",X=new V(X,"ig"))}if(d){Z="^(?:"+d[0];for(let v=1;v<d.length;v++)Z+="|"+d[v];Z+=")$",Z=new V(Z,"i")}let Y=h.Boolean,W={v:!1},j=function(v){let T=v.cloneNode(!1);if(T.nodeType===3||o.isBreak(T))return T;if(m)return null;let w=!Z&&_||Z&&Z.test(T.nodeName);if(w&&!p)return W.v=!0,null;let F=T.style.cssText,N="";te&&F.length>0&&(N=F.replace(te,"").trim(),N!==F&&(W.v=!0));let k=T.className,U="";return X&&k.length>0&&(U=k.replace(X,"").trim(),U!==k&&(W.v=!0)),_&&(X||!k)&&(te||!F)&&!N&&!U&&w?(W.v=!0,null):N||U||T.nodeName!==D||Y(te)!==Y(F)||Y(X)!==Y(k)?(te&&F.length>0&&(T.style.cssText=N),T.style.cssText||T.removeAttribute("style"),X&&k.length>0&&(T.className=U.trim()),T.className.trim()||T.removeAttribute("class"),!T.style.cssText&&!T.className&&(T.nodeName===D||w)?(W.v=!0,null):T):(W.v=!0,null)},L=this.getSelectedElements(null);f=this.getRange(),y=f.startContainer,x=f.startOffset,C=f.endContainer,S=f.endOffset,o.getFormatElement(y,null)||(y=o.getChildElement(L[0],function(v){return v.nodeType===3},!1),x=0),o.getFormatElement(C,null)||(C=o.getChildElement(L[L.length-1],function(v){return v.nodeType===3},!1),S=C.textContent.length);let G=o.getFormatElement(y,null)===o.getFormatElement(C,null),B=L.length-(G?0:1);K=l.cloneNode(!1);let $=m||_&&function(v){for(let T=0,w=v.length;T<w;T++)if(o._isMaintainedNode(v[T])||o._isSizeNode(v[T]))return!0;return!1}(d),re=_||o._isSizeNode(K),oe=this._util_getMaintainedNode.bind(o,$,re),H=this._util_isMaintainedNode.bind(o,$,re);if(G){this._resetCommonListCell(L[0],a)&&(f=this.setRange(y,x,C,S));let v=this._nodeChange_oneLine(L[0],K,j,y,x,C,S,m,_,f.collapsed,W,oe,H);O.container=v.startContainer,O.offset=v.startOffset,P.container=v.endContainer,P.offset=v.endOffset,O.container===P.container&&o.onlyZeroWidthSpace(O.container)&&(O.offset=P.offset=1),this._setCommonListStyle(v.ancestor,null)}else{let v=!1;B>0&&this._resetCommonListCell(L[B],a)&&(v=!0),this._resetCommonListCell(L[0],a)&&(v=!0),v&&this.setRange(y,x,C,S),B>0&&(K=l.cloneNode(!1),P=this._nodeChange_endLine(L[B],K,j,C,S,m,_,W,oe,H));for(let T=B-1,w;T>0;T--)this._resetCommonListCell(L[T],a),K=l.cloneNode(!1),w=this._nodeChange_middleLine(L[T],K,j,m,_,W,P.container),w.endContainer&&w.ancestor.contains(w.endContainer)&&(P.ancestor=null,P.container=w.endContainer),this._setCommonListStyle(w.ancestor,null);K=l.cloneNode(!1),O=this._nodeChange_startLine(L[0],K,j,y,x,m,_,W,oe,H,P.container),O.endContainer&&(P.ancestor=null,P.container=O.endContainer),B<=0?P=O:P.container||(P.ancestor=null,P.container=O.container,P.offset=O.container.textContent.length),this._setCommonListStyle(O.ancestor,null),this._setCommonListStyle(P.ancestor||o.getFormatElement(P.container),null)}this.controllersOff(),this.setRange(O.container,O.offset,P.container,P.offset),this.history.push(!1)},_resetCommonListCell:function(l,a){if(!o.isListCell(l))return;a||(a=this._listKebab);let d=o.getArrayItem(l.childNodes,function(V){return!o.isBreak(V)},!0),p=l.style,f=[],_=[],m=o.getValues(p);for(let V=0,D=this._listKebab.length;V<D;V++)m.indexOf(this._listKebab[V])>-1&&a.indexOf(this._listKebab[V])>-1&&(f.push(this._listCamel[V]),_.push(this._listKebab[V]));if(!f.length)return;let y=o.createElement("SPAN");for(let V=0,D=f.length;V<D;V++)y.style[f[V]]=p[_[V]],p.removeProperty(_[V]);let x=y.cloneNode(!1),C=null,S=!1;for(let V=0,D=d.length,O,P;V<D;V++)O=d[V],!s._textTagsMap[O.nodeName.toLowerCase()]&&(P=o.getValues(O.style),P.length===0||f.some(function(K){return P.indexOf(K)===-1})&&P.some(function(K){f.indexOf(K)>-1})?(C=O.nextSibling,x.appendChild(O)):x.childNodes.length>0&&(l.insertBefore(x,C),x=y.cloneNode(!1),C=null,S=!0));return x.childNodes.length>0&&(l.insertBefore(x,C),S=!0),p.length||l.removeAttribute("style"),S},_setCommonListStyle:function(l,a){if(!o.isListCell(l))return;let d=o.getArrayItem((a||l).childNodes,function(x){return!o.isBreak(x)},!0);if(a=d[0],!a||d.length>1||a.nodeType!==1)return;let p=a.style,f=l.style,_=a.nodeName.toLowerCase(),m=!1;s._textTagsMap[_]===s._defaultCommand.bold.toLowerCase()&&(f.fontWeight="bold"),s._textTagsMap[_]===s._defaultCommand.italic.toLowerCase()&&(f.fontStyle="italic");let y=o.getValues(p);if(y.length>0)for(let x=0,C=this._listCamel.length;x<C;x++)y.indexOf(this._listKebab[x])>-1&&(f[this._listCamel[x]]=p[this._listCamel[x]],p.removeProperty(this._listKebab[x]),m=!0);if(this._setCommonListStyle(l,a),!!m&&!p.length){let x=a.childNodes,C=a.parentNode,S=a.nextSibling;for(;x.length>0;)C.insertBefore(x[0],S);o.removeItem(a)}},_stripRemoveNode:function(l){let a=l.parentNode;if(!l||l.nodeType===3||!a)return;let d=l.childNodes;for(;d[0];)a.insertBefore(d[0],l);a.removeChild(l)},_util_getMaintainedNode:function(l,a,d){return!d||l?null:this.getParentElement(d,this._isMaintainedNode.bind(this))||(a?null:this.getParentElement(d,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(l,a,d){if(!d||l||d.nodeType!==1)return!1;let p=this._isMaintainedNode(d);return this.getParentElement(d,this._isMaintainedNode.bind(this))?p:p||(a?!1:this._isSizeNode(d))},_nodeChange_oneLine:function(l,a,d,p,f,_,m,y,x,C,S,V,D){let O=p.parentNode;for(;!O.nextSibling&&!O.previousSibling&&!o.isFormatElement(O.parentNode)&&!o.isWysiwygDiv(O.parentNode)&&O.nodeName!==a.nodeName;)O=O.parentNode;if(!x&&O===_.parentNode&&O.nodeName===a.nodeName&&o.onlyZeroWidthSpace(p.textContent.slice(0,f))&&o.onlyZeroWidthSpace(_.textContent.slice(m))){let ue=O.childNodes,pe=!0;for(let me=0,Oe=ue.length,Pe,ze,tt,Ie;me<Oe;me++){if(Pe=ue[me],Ie=!o.onlyZeroWidthSpace(Pe),Pe===p){ze=!0;continue}if(Pe===_){tt=!0;continue}if(!ze&&Ie||ze&&tt&&Ie){pe=!1;break}}if(pe)return o.copyTagAttributes(O,a),{ancestor:l,startContainer:p,startOffset:f,endContainer:_,endOffset:m}}S.v=!1;let P=l,K=[a],te=l.cloneNode(!1),X=p===_,Z=p,Y=f,W=_,j=m,L=!1,G=!1,B,$,re,oe,H,v=h.RegExp;function T(ue){let pe=new v("(?:;|^|\\s)(?:"+oe+"null)\\s*:[^;]*\\s*(?:;|$)","ig"),me="";return pe&&ue.style.cssText.length>0&&(me=pe.test(ue.style.cssText)),!me}if(function ue(pe,me){let Oe=pe.childNodes;for(let Pe=0,ze=Oe.length,tt;Pe<ze;Pe++){let Ie=Oe[Pe];if(!Ie)continue;let Bt=me,ht;if(!L&&Ie===Z){let je=te;H=V(Ie);let qe=o.createTextNode(Z.nodeType===1?"":Z.substringData(0,Y)),it=o.createTextNode(Z.nodeType===1?"":Z.substringData(Y,X&&j>=Y?j-Y:Z.data.length-Y));if(H){let Ai=V(me);if(Ai&&Ai.parentNode!==je){let Wt=Ai,bs=null;for(;Wt.parentNode!==je;){for(me=bs=Wt.parentNode.cloneNode(!1);Wt.childNodes[0];)bs.appendChild(Wt.childNodes[0]);Wt.appendChild(bs),Wt=Wt.parentNode}Wt.parentNode.appendChild(Ai)}H=H.cloneNode(!1)}o.onlyZeroWidthSpace(qe)||me.appendChild(qe);let rt=V(me);for(rt&&(H=rt),H&&(je=H),$=Ie,B=[],oe="";$!==je&&$!==P&&$!==null;)tt=D($)?null:d($),tt&&$.nodeType===1&&T($)&&(B.push(tt),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;let Kt=B.pop()||it;for(re=$=Kt;B.length>0;)$=B.pop(),re.appendChild($),re=$;if(a.appendChild(Kt),je.appendChild(a),H&&!V(W)&&(a=a.cloneNode(!1),te.appendChild(a),K.push(a)),Z=it,Y=0,L=!0,$!==it&&$.appendChild(Z),!X)continue}if(!G&&Ie===W){H=V(Ie);let je=o.createTextNode(W.nodeType===1?"":W.substringData(j,W.length-j)),qe=o.createTextNode(X||W.nodeType===1?"":W.substringData(0,j));if(H?H=H.cloneNode(!1):D(a.parentNode)&&!H&&(a=a.cloneNode(!1),te.appendChild(a),K.push(a)),!o.onlyZeroWidthSpace(je)){$=Ie,oe="",B=[];let rt=[];for(;$!==te&&$!==P&&$!==null;)$.nodeType===1&&T($)&&(D($)?rt.push($.cloneNode(!1)):B.push($.cloneNode(!1)),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;for(B=B.concat(rt),ht=re=$=B.pop()||je;B.length>0;)$=B.pop(),re.appendChild($),re=$;te.appendChild(ht),$.textContent=je.data}if(H&&ht){let rt=V(ht);rt&&(H=rt)}for($=Ie,B=[],oe="";$!==te&&$!==P&&$!==null;)tt=D($)?null:d($),tt&&$.nodeType===1&&T($)&&(B.push(tt),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;let it=B.pop()||qe;for(re=$=it;B.length>0;)$=B.pop(),re.appendChild($),re=$;H?(a=a.cloneNode(!1),a.appendChild(it),H.insertBefore(a,H.firstChild),te.appendChild(H),K.push(a),H=null):a.appendChild(it),W=qe,j=qe.data.length,G=!0,!y&&C&&(a=qe,qe.textContent=o.zeroWidthSpace),$!==qe&&$.appendChild(W);continue}if(L){if(Ie.nodeType===1&&!o.isBreak(Ie)){o._isIgnoreNodeChange(Ie)?(te.appendChild(Ie.cloneNode(!0)),C||(a=a.cloneNode(!1),te.appendChild(a),K.push(a))):ue(Ie,Ie);continue}$=Ie,B=[],oe="";let je=[];for(;$.parentNode!==null&&$!==P&&$!==a;)tt=G?$.cloneNode(!1):d($),$.nodeType===1&&!o.isBreak(Ie)&&tt&&T($)&&(D($)?H||je.push(tt):B.push(tt),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;B=B.concat(je);let qe=B.pop()||Ie;for(re=$=qe;B.length>0;)$=B.pop(),re.appendChild($),re=$;if(D(a.parentNode)&&!D(qe)&&!o.onlyZeroWidthSpace(a)&&(a=a.cloneNode(!1),te.appendChild(a),K.push(a)),!G&&!H&&D(qe)){a=a.cloneNode(!1);let it=qe.childNodes;for(let rt=0,Kt=it.length;rt<Kt;rt++)a.appendChild(it[rt]);qe.appendChild(a),te.appendChild(qe),K.push(a),a.children.length>0?me=$:me=a}else qe===Ie?G?me=te:me=a:G?(te.appendChild(qe),me=$):(a.appendChild(qe),me=$);if(H&&Ie.nodeType===3)if(V(Ie)){let it=o.getParentElement(me,function(rt){return this._isMaintainedNode(rt.parentNode)||rt.parentNode===te}.bind(o));H.appendChild(it),a=it.cloneNode(!1),K.push(a),te.appendChild(a)}else H=null}ht=Ie.cloneNode(!1),me.appendChild(ht),Ie.nodeType===1&&!o.isBreak(Ie)&&(Bt=ht),ue(Ie,Bt)}}(l,te),x&&!y&&!S.v)return{ancestor:l,startContainer:p,startOffset:f,endContainer:_,endOffset:m};if(y=y&&x,y)for(let ue=0;ue<K.length;ue++){let pe=K[ue],me,Oe,Pe;if(C)me=o.createTextNode(o.zeroWidthSpace),te.replaceChild(me,pe);else{let ze=pe.childNodes;for(Oe=ze[0];ze[0];)Pe=ze[0],te.insertBefore(Pe,pe);o.removeItem(pe)}ue===0&&(C?Z=W=me:(Z=Oe,W=Pe))}else{if(x)for(let ue=0;ue<K.length;ue++)this._stripRemoveNode(K[ue]);C&&(Z=W=a)}o.removeEmptyNode(te,a,!1),C&&(Y=Z.textContent.length,j=W.textContent.length);let w=y||W.textContent.length===0;!o.isBreak(W)&&W.textContent.length===0&&(o.removeItem(W),W=Z),j=w?W.textContent.length:j;let F={s:0,e:0},N=o.getNodePath(Z,te,F),k=!W.parentNode;k&&(W=Z);let U={s:0,e:0},Q=o.getNodePath(W,te,!k&&!w?U:null);Y+=F.s,j=C?Y:k?Z.textContent.length:w?j+F.s:j+U.s;let ce=o.mergeSameTags(te,[N,Q],!0);return l.parentNode.replaceChild(te,l),Z=o.getNodeFromPath(N,te),W=o.getNodeFromPath(Q,te),{ancestor:te,startContainer:Z,startOffset:Y+ce[0],endContainer:W,endOffset:j+ce[1]}},_nodeChange_startLine:function(l,a,d,p,f,_,m,y,x,C,S){let V=p.parentNode;for(;!V.nextSibling&&!V.previousSibling&&!o.isFormatElement(V.parentNode)&&!o.isWysiwygDiv(V.parentNode)&&V.nodeName!==a.nodeName;)V=V.parentNode;if(!m&&V.nodeName===a.nodeName&&!o.isFormatElement(V)&&!V.nextSibling&&o.onlyZeroWidthSpace(p.textContent.slice(0,f))){let L=!0,G=p.previousSibling;for(;G;){if(!o.onlyZeroWidthSpace(G)){L=!1;break}G=G.previousSibling}if(L)return o.copyTagAttributes(V,a),{ancestor:l,container:p,offset:f}}y.v=!1;let D=l,O=[a],P=l.cloneNode(!1),K=p,te=f,X=!1,Z,Y,W,j;if(function L(G,B){let $=G.childNodes;for(let re=0,oe=$.length,H,v;re<oe;re++){let T=$[re];if(!T)continue;let w=B;if(X&&!o.isBreak(T)){if(T.nodeType===1){if(o._isIgnoreNodeChange(T)){if(a=a.cloneNode(!1),v=T.cloneNode(!0),P.appendChild(v),P.appendChild(a),O.push(a),S&&T.contains(S)){let U=o.getNodePath(S,T);S=o.getNodeFromPath(U,v)}}else L(T,T);continue}Y=T,Z=[];let F=[];for(;Y.parentNode!==null&&Y!==D&&Y!==a;)H=d(Y),Y.nodeType===1&&H&&(C(Y)?j||F.push(H):Z.push(H)),Y=Y.parentNode;Z=Z.concat(F);let N=Z.length>0,k=Z.pop()||T;for(W=Y=k;Z.length>0;)Y=Z.pop(),W.appendChild(Y),W=Y;if(C(a.parentNode)&&!C(k)&&(a=a.cloneNode(!1),P.appendChild(a),O.push(a)),!j&&C(k)){a=a.cloneNode(!1);let U=k.childNodes;for(let Q=0,ce=U.length;Q<ce;Q++)a.appendChild(U[Q]);k.appendChild(a),P.appendChild(k),B=C(Y)?a:Y,O.push(a)}else N?(a.appendChild(k),B=Y):B=a;if(j&&T.nodeType===3)if(x(T)){let U=o.getParentElement(B,function(Q){return this._isMaintainedNode(Q.parentNode)||Q.parentNode===P}.bind(o));j.appendChild(U),a=U.cloneNode(!1),O.push(a),P.appendChild(a)}else j=null}if(!X&&T===K){let F=P;j=x(T);let N=o.createTextNode(K.nodeType===1?"":K.substringData(0,te)),k=o.createTextNode(K.nodeType===1?"":K.substringData(te,K.length-te));if(j){let ce=x(B);if(ce&&ce.parentNode!==F){let ue=ce,pe=null;for(;ue.parentNode!==F;){for(B=pe=ue.parentNode.cloneNode(!1);ue.childNodes[0];)pe.appendChild(ue.childNodes[0]);ue.appendChild(pe),ue=ue.parentNode}ue.parentNode.appendChild(ce)}j=j.cloneNode(!1)}o.onlyZeroWidthSpace(N)||B.appendChild(N);let U=x(B);for(U&&(j=U),j&&(F=j),Y=B,Z=[];Y!==F&&Y!==null;)H=d(Y),Y.nodeType===1&&H&&Z.push(H),Y=Y.parentNode;let Q=Z.pop()||B;for(W=Y=Q;Z.length>0;)Y=Z.pop(),W.appendChild(Y),W=Y;Q!==B?(a.appendChild(Q),B=Y):B=a,o.isBreak(T)&&a.appendChild(T.cloneNode(!1)),F.appendChild(a),K=k,te=0,X=!0,B.appendChild(K);continue}H=X?d(T):T.cloneNode(!1),H&&(B.appendChild(H),T.nodeType===1&&!o.isBreak(T)&&(w=H)),L(T,w)}}(l,P),m&&!_&&!y.v)return{ancestor:l,container:p,offset:f,endContainer:S};if(_=_&&m,_)for(let L=0;L<O.length;L++){let G=O[L],B=G.childNodes,$=B[0];for(;B[0];)P.insertBefore(B[0],G);o.removeItem(G),L===0&&(K=$)}else if(m){a=a.firstChild;for(let L=0;L<O.length;L++)this._stripRemoveNode(O[L])}if(!_&&P.childNodes.length===0)l.childNodes?K=l.childNodes[0]:(K=o.createTextNode(o.zeroWidthSpace),l.appendChild(K));else{o.removeEmptyNode(P,a,!1),o.onlyZeroWidthSpace(P.textContent)&&(K=P.firstChild,te=0);let L={s:0,e:0},G=o.getNodePath(K,P,L);te+=L.s;let B=o.mergeSameTags(P,[G],!0);l.parentNode.replaceChild(P,l),K=o.getNodeFromPath(G,P),te+=B[0]}return{ancestor:P,container:K,offset:te,endContainer:S}},_nodeChange_middleLine:function(l,a,d,p,f,_,m){if(!f){let S=null;m&&l.contains(m)&&(S=o.getNodePath(m,l));let V=l.cloneNode(!0),D=a.nodeName,O=a.style.cssText,P=a.className,K=V.childNodes,te=0,X=K.length;for(let Z;te<X&&(Z=K[te],Z.nodeType!==3);te++)if(Z.nodeName===D)Z.style.cssText+=O,o.addClass(Z,P);else{if(!o.isBreak(Z)&&o._isIgnoreNodeChange(Z))continue;if(X===1){K=Z.childNodes,X=K.length,te=-1;continue}else break}if(X>0&&te===X)return l.innerHTML=V.innerHTML,{ancestor:l,endContainer:S?o.getNodeFromPath(S,l):null}}_.v=!1;let y=l.cloneNode(!1),x=[a],C=!0;if(function S(V,D){let O=V.childNodes;for(let P=0,K=O.length,te,X;P<K;P++){let Z=O[P];if(!Z)continue;let Y=D;if(!o.isBreak(Z)&&o._isIgnoreNodeChange(Z)){if(a.childNodes.length>0&&(y.appendChild(a),a=a.cloneNode(!1)),X=Z.cloneNode(!0),y.appendChild(X),y.appendChild(a),x.push(a),D=a,m&&Z.contains(m)){let W=o.getNodePath(m,Z);m=o.getNodeFromPath(W,X)}continue}else te=d(Z),te&&(C=!1,D.appendChild(te),Z.nodeType===1&&(Y=te));o.isBreak(Z)||S(Z,Y)}}(l,a),C||f&&!p&&!_.v)return{ancestor:l,endContainer:m};if(y.appendChild(a),p&&f)for(let S=0;S<x.length;S++){let V=x[S],D=V.childNodes;for(;D[0];)y.insertBefore(D[0],V);o.removeItem(V)}else if(f){a=a.firstChild;for(let S=0;S<x.length;S++)this._stripRemoveNode(x[S])}return o.removeEmptyNode(y,a,!1),o.mergeSameTags(y,null,!0),l.parentNode.replaceChild(y,l),{ancestor:y,endContainer:m}},_nodeChange_endLine:function(l,a,d,p,f,_,m,y,x,C){let S=p.parentNode;for(;!S.nextSibling&&!S.previousSibling&&!o.isFormatElement(S.parentNode)&&!o.isWysiwygDiv(S.parentNode)&&S.nodeName!==a.nodeName;)S=S.parentNode;if(!m&&S.nodeName===a.nodeName&&!o.isFormatElement(S)&&!S.previousSibling&&o.onlyZeroWidthSpace(p.textContent.slice(f))){let j=!0,L=p.nextSibling;for(;L;){if(!o.onlyZeroWidthSpace(L)){j=!1;break}L=L.nextSibling}if(j)return o.copyTagAttributes(S,a),{ancestor:l,container:p,offset:f}}y.v=!1;let V=l,D=[a],O=l.cloneNode(!1),P=p,K=f,te=!1,X,Z,Y,W;if(function j(L,G){let B=L.childNodes;for(let $=B.length-1,re;0<=$;$--){let oe=B[$];if(!oe)continue;let H=G;if(te&&!o.isBreak(oe)){if(oe.nodeType===1){if(o._isIgnoreNodeChange(oe)){a=a.cloneNode(!1);let F=oe.cloneNode(!0);O.insertBefore(F,G),O.insertBefore(a,F),D.push(a)}else j(oe,oe);continue}Z=oe,X=[];let v=[];for(;Z.parentNode!==null&&Z!==V&&Z!==a;)re=d(Z),re&&Z.nodeType===1&&(C(Z)?W||v.push(re):X.push(re)),Z=Z.parentNode;X=X.concat(v);let T=X.length>0,w=X.pop()||oe;for(Y=Z=w;X.length>0;)Z=X.pop(),Y.appendChild(Z),Y=Z;if(C(a.parentNode)&&!C(w)&&(a=a.cloneNode(!1),O.insertBefore(a,O.firstChild),D.push(a)),!W&&C(w)){a=a.cloneNode(!1);let F=w.childNodes;for(let N=0,k=F.length;N<k;N++)a.appendChild(F[N]);w.appendChild(a),O.insertBefore(w,O.firstChild),D.push(a),a.children.length>0?G=Z:G=a}else T?(a.insertBefore(w,a.firstChild),G=Z):G=a;if(W&&oe.nodeType===3)if(x(oe)){let F=o.getParentElement(G,function(N){return this._isMaintainedNode(N.parentNode)||N.parentNode===O}.bind(o));W.appendChild(F),a=F.cloneNode(!1),D.push(a),O.insertBefore(a,O.firstChild)}else W=null}if(!te&&oe===P){W=x(oe);let v=o.createTextNode(P.nodeType===1?"":P.substringData(K,P.length-K)),T=o.createTextNode(P.nodeType===1?"":P.substringData(0,K));if(W){W=W.cloneNode(!1);let F=x(G);if(F&&F.parentNode!==O){let N=F,k=null;for(;N.parentNode!==O;){for(G=k=N.parentNode.cloneNode(!1);N.childNodes[0];)k.appendChild(N.childNodes[0]);N.appendChild(k),N=N.parentNode}N.parentNode.insertBefore(F,N.parentNode.firstChild)}W=W.cloneNode(!1)}else C(a.parentNode)&&!W&&(a=a.cloneNode(!1),O.appendChild(a),D.push(a));for(o.onlyZeroWidthSpace(v)||G.insertBefore(v,G.firstChild),Z=G,X=[];Z!==O&&Z!==null;)re=C(Z)?null:d(Z),re&&Z.nodeType===1&&X.push(re),Z=Z.parentNode;let w=X.pop()||G;for(Y=Z=w;X.length>0;)Z=X.pop(),Y.appendChild(Z),Y=Z;w!==G?(a.insertBefore(w,a.firstChild),G=Z):G=a,o.isBreak(oe)&&a.appendChild(oe.cloneNode(!1)),W?(W.insertBefore(a,W.firstChild),O.insertBefore(W,O.firstChild),W=null):O.insertBefore(a,O.firstChild),P=T,K=T.data.length,te=!0,G.insertBefore(P,G.firstChild);continue}re=te?d(oe):oe.cloneNode(!1),re&&(G.insertBefore(re,G.firstChild),oe.nodeType===1&&!o.isBreak(oe)&&(H=re)),j(oe,H)}}(l,O),m&&!_&&!y.v)return{ancestor:l,container:p,offset:f};if(_=_&&m,_)for(let j=0;j<D.length;j++){let L=D[j],G=L.childNodes,B=null;for(;G[0];)B=G[0],O.insertBefore(B,L);o.removeItem(L),j===D.length-1&&(P=B,K=B.textContent.length)}else if(m){a=a.firstChild;for(let j=0;j<D.length;j++)this._stripRemoveNode(D[j])}if(!_&&O.childNodes.length===0)l.childNodes?P=l.childNodes[0]:(P=o.createTextNode(o.zeroWidthSpace),l.appendChild(P));else{if(!m&&a.textContent.length===0)return o.removeEmptyNode(O,null,!1),{ancestor:null,container:null,offset:0};o.removeEmptyNode(O,a,!1),o.onlyZeroWidthSpace(O.textContent)?(P=O.firstChild,K=P.textContent.length):o.onlyZeroWidthSpace(P)&&(P=a,K=1);let j={s:0,e:0},L=o.getNodePath(P,O,j);K+=j.s;let G=o.mergeSameTags(O,[L],!0);l.parentNode.replaceChild(O,l),P=o.getNodeFromPath(L,O),K+=G[0]}return{ancestor:O,container:P,offset:P.nodeType===1&&K===1?P.childNodes.length:K}},actionCall:function(l,a,d){if(a){if(/more/i.test(a)){if(d!==this._moreLayerActiveButton){let p=e.element.toolbar.querySelector("."+l);p&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=d,p.style.display="block",g._showToolbarBalloon(),g._showToolbarInline()),o.addClass(d,"on")}else e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),g._showToolbarBalloon(),g._showToolbarInline());return}if(/container/.test(a)&&(this._menuTray[l]===null||d!==this.containerActiveButton)){this.callPlugin(l,this.containerOn.bind(this,d),d);return}if(this.isReadOnly&&o.arrayIncludes(this.resizingDisabledButtons,d))return;if(/submenu/.test(a)&&(this._menuTray[l]===null||d!==this.submenuActiveButton)){this.callPlugin(l,this.submenuOn.bind(this,d),d);return}else if(/dialog/.test(a)){this.callPlugin(l,this.plugins[l].open.bind(this),d);return}else/command/.test(a)?this.callPlugin(l,this.plugins[l].action.bind(this),d):/fileBrowser/.test(a)&&this.callPlugin(l,this.plugins[l].open.bind(this,null),d)}else l&&this.commandHandler(d,l);/submenu/.test(a)?this.submenuOff():/command/.test(a)||(this.submenuOff(),this.containerOff())},commandHandler:function(l,a){if(!(c.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(a)))switch(a){case"copy":case"cut":this.execCommand(a);break;case"paste":break;case"selectAll":this.containerOff();let d=e.element.wysiwyg,p=o.getChildElement(d.firstChild,function(x){return x.childNodes.length===0||x.nodeType===3},!1)||d.firstChild,f=o.getChildElement(d.lastChild,function(x){return x.childNodes.length===0||x.nodeType===3},!0)||d.lastChild;if(!p||!f)return;if(o.isMedia(p)){let x=this.getFileComponent(p),C=o.createElement("BR"),S=o.createElement(s.defaultTag);S.appendChild(C),p=x?x.component:p,p.parentNode.insertBefore(S,p),p=C}if(o.isMedia(f)){let x=o.createElement("BR"),C=o.createElement(s.defaultTag);C.appendChild(x),d.appendChild(C),f=x}g._showToolbarBalloon(this.setRange(p,0,f,f.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(l);break;case"indent":case"outdent":this.indent(a);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof E.save=="function")E.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:a=s._defaultCommand[a.toLowerCase()]||a,this.commandMap[a]||(this.commandMap[a]=l);let _=this._variable.currentNodesMap,m=_.indexOf(a)>-1?null:o.createElement(a),y=a;/^SUB$/i.test(a)&&_.indexOf("SUP")>-1?y="SUP":/^SUP$/i.test(a)&&_.indexOf("SUB")>-1&&(y="SUB"),this.nodeChange(m,this._commandMapStyles[a]||null,[y],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(l){let a=this.getRange(),d=this.getSelectedElements(null),p=[],f=l!=="indent",_=s.rtl?"marginRight":"marginLeft",m=a.startContainer,y=a.endContainer,x=a.startOffset,C=a.endOffset;for(let S=0,V=d.length,D,O;S<V;S++)D=d[S],!o.isListCell(D)||!this.plugins.list?(O=/\d+/.test(D.style[_])?o.getNumber(D.style[_],0):0,f?O-=25:O+=25,o.setStyle(D,_,O<=0?"":O+"px")):(f||D.previousElementSibling)&&p.push(D);p.length>0&&this.plugins.list.editInsideList.call(this,f,p),this.effectNode=null,this.setRange(m,x,y,C),this.history.push(!1)},toggleDisplayBlocks:function(){let l=e.element.wysiwyg;o.toggleClass(l,"se-show-block"),o.hasClass(l,"se-show-block")?o.addClass(this._styleCommandMap.showBlocks,"active"):o.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){let l=this._variable.isCodeView;this.controllersOff(),o.setDisabledButtons(!l,this.codeViewDisabledButtons),l?(o.isNonEditable(e.element.wysiwygFrame)||this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,g._hideToolbar())),this.nativeFocus(),o.removeClass(this._styleCommandMap.codeView,"active"),o.isNonEditable(e.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?e.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,g._showToolbarInline())),this._variable._range=null,e.element.code.focus(),o.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&o.setDisabledButtons(!0,this.resizingDisabledButtons),typeof E.toggleCodeView=="function"&&E.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){let l=this._getCodeView();if(s.fullPage){let a=this._parser.parseFromString(l,"text/html");if(!this.options.__allowedScriptTag){let f=a.head.children;for(let _=0,m=f.length;_<m;_++)/^script$/i.test(f[_].tagName)&&(a.head.removeChild(f[_]),_--,m--)}let d=a.head.innerHTML;(!a.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!a.head.querySelector("style"))&&(d+=o._setIframeCssTags(this.options)),this._wd.head.innerHTML=d,this._wd.body.innerHTML=this.convertContentsForEditor(a.body.innerHTML);let p=a.body.attributes;for(let f=0,_=p.length;f<_;f++)p[f].name!=="contenteditable"&&this._wd.body.setAttribute(p[f].name,p[f].value);if(!o.hasClass(this._wd.body,"sun-editor-editable")){let f=s._editableClass.split(" ");for(let _=0;_<f.length;_++)o.addClass(this._wd.body,s._editableClass[_])}}else e.element.wysiwyg.innerHTML=l.length>0?this.convertContentsForEditor(l):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){let l=this.convertHTMLForCodeView(e.element.wysiwyg,!1),a="";if(s.fullPage){let d=o.getAttributesToString(this._wd.body,null);a=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+d+`>
`+l+`</body>
</html>`}else a=l;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(a)},toggleFullScreen:function(l){let a=e.element.topArea,d=e.element.toolbar,p=e.element.editorArea,f=e.element.wysiwygFrame,_=e.element.code,m=this._variable;this.controllersOff();let y=d.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;m.isFullScreen?(m.isFullScreen=!1,f.style.cssText=m._wysiwygOriginCssText,_.style.cssText=m._codeOriginCssText,d.style.cssText="",p.style.cssText=m._editorAreaOriginCssText,a.style.cssText=m._originCssText,u.body.style.overflow=m._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&g._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(d),s.stickyToolbar>-1&&o.removeClass(d,"se-toolbar-sticky"),m._fullScreenAttrs.sticky&&!s.toolbarContainer&&(m._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",o.addClass(d,"se-toolbar-sticky")),this._isInline=m._fullScreenAttrs.inline,this._isBalloon=m._fullScreenAttrs.balloon,this._isInline&&g._showToolbarInline(),s.toolbarContainer&&o.removeClass(d,"se-toolbar-balloon"),g.onScroll_window(),l&&o.changeElement(l.firstElementChild,b.expansion),e.element.topArea.style.marginTop="",o.removeClass(this._styleCommandMap.fullScreen,"active")):(m.isFullScreen=!0,m._fullScreenAttrs.inline=this._isInline,m._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&e.element.relative.insertBefore(d,p),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.maxWidth="100%",a.style.height="100%",a.style.zIndex="2147483647",e.element._stickyDummy.style.display!==""&&(m._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",o.removeClass(d,"se-toolbar-sticky")),m._bodyOverflow=u.body.style.overflow,u.body.style.overflow="hidden",m._editorAreaOriginCssText=p.style.cssText,m._wysiwygOriginCssText=f.style.cssText,m._codeOriginCssText=_.style.cssText,p.style.cssText=d.style.cssText="",f.style.cssText=(f.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,_.style.cssText=(_.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],d.style.width=f.style.height=_.style.height="100%",d.style.position="relative",d.style.display="block",m.innerHeight_fullScreen=h.innerHeight-d.offsetHeight,p.style.height=m.innerHeight_fullScreen-s.fullScreenOffset+"px",l&&o.changeElement(l.firstElementChild,b.reduction),s.iframe&&s.height==="auto"&&(p.style.overflow="auto",this._iframeAutoHeight()),e.element.topArea.style.marginTop=s.fullScreenOffset+"px",o.addClass(this._styleCommandMap.fullScreen,"active")),y&&E.toolbar.hide(),typeof E.toggleFullScreen=="function"&&E.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){let l=o.createElement("IFRAME");l.style.display="none",u.body.appendChild(l);let a=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),d=o.getIframeDocument(l),p=this._wd;if(s.iframe){let f=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(p.body,["contenteditable"]):'class="'+s._editableClass+'"';d.write("<!DOCTYPE html><html><head>"+p.head.innerHTML+"</head><body "+f+">"+a+"</body></html>")}else{let f=u.head.getElementsByTagName("link"),_=u.head.getElementsByTagName("style"),m="";for(let y=0,x=f.length;y<x;y++)m+=f[y].outerHTML;for(let y=0,x=_.length;y<x;y++)m+=_[y].outerHTML;d.write("<!DOCTYPE html><html><head>"+m+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+a+"</body></html>")}this.showLoading(),h.setTimeout(function(){try{if(l.focus(),o.isIE_Edge||o.isChromium||u.documentMode||h.StyleMedia)try{l.contentWindow.document.execCommand("print",!1,null)}catch{l.contentWindow.print()}else l.contentWindow.print()}catch(f){throw Error("[SUNEDITOR.core.print.fail] error: "+f)}finally{c.closeLoading(),o.removeItem(l)}},1e3)},preview:function(){c.submenuOff(),c.containerOff(),c.controllersOff();let l=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),a=h.open("","_blank");a.mimeType="text/html";let d=this._wd;if(s.iframe){let p=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(d.body,["contenteditable"]):'class="'+s._editableClass+'"';a.document.write("<!DOCTYPE html><html><head>"+d.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+p+">"+l+"</body></html>")}else{let p=u.head.getElementsByTagName("link"),f=u.head.getElementsByTagName("style"),_="";for(let m=0,y=p.length;m<y;m++)_+=p[m].outerHTML;for(let m=0,y=f.length;m<y;m++)_+=f[m].outerHTML;a.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+_+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+l+"</body></html>")}},setDir:function(l){let a=l==="rtl",d=this._prevRtl!==a;this._prevRtl=s.rtl=a,d&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),e.tool.indent&&o.changeElement(e.tool.indent.firstElementChild,b.indent),e.tool.outdent&&o.changeElement(e.tool.outdent.firstElementChild,b.outdent));let p=e.element;a?(o.addClass(p.topArea,"se-rtl"),o.addClass(p.wysiwygFrame,"se-rtl")):(o.removeClass(p.topArea,"se-rtl"),o.removeClass(p.wysiwygFrame,"se-rtl"));let f=o.getListChildren(p.wysiwyg,function(m){return o.isFormatElement(m)&&(m.style.marginRight||m.style.marginLeft||m.style.textAlign)});for(let m=0,y=f.length,x,C,S;m<y;m++)x=f[m],S=x.style.marginRight,C=x.style.marginLeft,(S||C)&&(x.style.marginRight=C,x.style.marginLeft=S),S=x.style.textAlign,S==="left"?x.style.textAlign="right":S==="right"&&(x.style.textAlign="left");let _=e.tool;_.dir&&(o.changeTxt(_.dir.querySelector(".se-tooltip-text"),n.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),o.changeElement(_.dir.firstElementChild,b[s.rtl?"dir_ltr":"dir_rtl"])),_.dir_ltr&&(a?o.removeClass(_.dir_ltr,"active"):o.addClass(_.dir_ltr,"active")),_.dir_rtl&&(a?o.addClass(_.dir_rtl,"active"):o.removeClass(_.dir_rtl,"active"))},setContents:function(l){this.removeRange();let a=l==null?"":this.convertContentsForEditor(l,null,null);if(!this._variable.isCodeView)e.element.wysiwyg.innerHTML=a,this._resetComponents(),this.history.push(!1);else{let d=this.convertHTMLForCodeView(a,!1);this._setCodeView(d)}},setIframeContents:function(l){if(!s.iframe)return!1;l.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?l.head:l.head.replace(this.__scriptTagRegExp,"")),l.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(l.body)),this._resetComponents()},getContents:function(l){let a=this.cleanHTML(e.element.wysiwyg.innerHTML,null,null),d=o.createElement("DIV");d.innerHTML=a;let p=o.getListChildren(d,function(f){return f.hasAttribute("contenteditable")});for(let f=0,_=p.length;f<_;f++)p[f].removeAttribute("contenteditable");if(s.fullPage&&!l){let f=o.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+f+">"+d.innerHTML+"</body></html>"}else return d.innerHTML},getFullContents:function(l){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(l)+"</div>"},_makeLine:function(l,a){let d=s.defaultTag;if(l.nodeType===1){if(this.__disallowedTagNameRegExp.test(l.nodeName))return"";if(/__se__tag/.test(l.className))return l.outerHTML;let p=o.getListChildNodes(l,function(f){return o.isSpanWithoutAttr(f)&&!o.getParentElement(f,o.isNotCheckingNode)})||[];for(let f=p.length-1;f>=0;f--)p[f].outerHTML=p[f].innerHTML;return!a||o.isFormatElement(l)||o.isRangeFormatElement(l)||o.isComponent(l)||o.isFigures(l)||o.isAnchor(l)&&o.isMedia(l.firstElementChild)?o.isSpanWithoutAttr(l)?l.innerHTML:l.outerHTML:"<"+d+">"+(o.isSpanWithoutAttr(l)?l.innerHTML:l.outerHTML)+"</"+d+">"}if(l.nodeType===3){if(!a)return o._HTMLConvertor(l.textContent);let p=l.textContent.split(/\n/g),f="";for(let _=0,m=p.length,y;_<m;_++)y=p[_].trim(),y.length>0&&(f+="<"+d+">"+o._HTMLConvertor(y)+"</"+d+">");return f}return l.nodeType===8&&this._allowHTMLComments?"<!--"+l.textContent.trim()+"-->":""},_tagConvertor:function(l){if(!this._disallowedTextTagsRegExp)return l;let a=s._textTagsMap;return l.replace(this._disallowedTextTagsRegExp,function(d,p,f,_){return p+(typeof a[f]=="string"?a[f]:f)+(_?" "+_:"")})},_deleteDisallowedTags:function(l){return l=l.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(l=l.replace(/(<\/?)font(\s?)/gi,"$1span$2")),l.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(l,a){let d=this._w.Math,p=a.match(/(\d+(?:\.\d+)?)(.+)/),f=p?p[1]*1:o.fontValueMap[a],_=p?p[2]:"rem",m=f;switch(/em/.test(_)?m=d.round(f/.0625):_==="pt"?m=d.round(f*1.333):_==="%"&&(m=f/100),l){case"em":case"rem":case"%":return(m*.0625).toFixed(2)+l;case"pt":return d.floor(m/1.333)+l;default:return m+l}},_cleanStyle:function(l,a,d){let p=(l.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(d)&&!p&&(l.match(/<[^\s]+\s(.+)/)||[])[1]){let f=(l.match(/\ssize="([^"]+)"/i)||[])[1],_=(l.match(/\sface="([^"]+)"/i)||[])[1],m=(l.match(/\scolor="([^"]+)"/i)||[])[1];(f||_||m)&&(p='style="'+(f?"font-size:"+this.util.getNumber(f/3.333,1)+"rem;":"")+(_?"font-family:"+_+";":"")+(m?"color:"+m+";":"")+'"')}if(p){a||(a=[]);let f=p.replace(/&quot;/g,"").match(this._cleanStyleRegExp[d]);if(f){let _=[];for(let m=0,y=f.length,x;m<y;m++)if(x=f[m].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),x&&!/inherit|initial|revert|unset/i.test(x[3])){let C=o.kebabToCamelCase(x[1].trim()),S=this.wwComputedStyle[C]?this.wwComputedStyle[C].replace(/"/g,""):"",V=x[3].trim();switch(C){case"fontFamily":if(!s.plugins.font||s.font.indexOf(V)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(x[0])||(x[0]=x[0].replace((x[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(V))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(V))continue;break}S!==V&&_.push(x[0])}_.length>0&&a.push('style="'+_.join(";")+'"')}}return a},_cleanTags:function(l,a,d){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(a))return a;let p=null,f=d.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),_=this._attributesTagsBlacklist[f];a=a.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),_?a=a.replace(_,""):a=a.replace(this._attributesBlacklistRegExp,"");let m=this._attributesTagsWhitelist[f];if(m?p=a.match(m):p=a.match(l?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),l||f==="span"||f==="li"||this._cleanStyleRegExp[f])if(f==="a"){let y=a.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);y&&(p||(p=[]),p.push(y[0]))}else(!p||!/style=/i.test(p.toString()))&&((f==="span"||f==="li")&&(p=this._cleanStyle(a,p,"span")),this._cleanStyleRegExp[f]?p=this._cleanStyle(a,p,f):/^(P|DIV|H[1-6]|PRE)$/i.test(f)&&(p=this._cleanStyle(a,p,"format")));else{let y=a.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);y&&!p?p=[y[0]]:y&&!p.some(function(x){return/^style/.test(x.trim())})&&p.push(y[0])}if(o.isFigures(f)){let y=a.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);p||(p=[]),y&&p.push(y[0])}if(p)for(let y=0,x=p.length,C;y<x;y++)C=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(p[y].trim())?"":p[y],d+=(/^\s/.test(C)?"":" ")+C;return d},_editFormat:function(l){let a="",d,p=l.childNodes;for(let f=0,_=p.length,m;f<_;f++)m=p[f],m.nodeType===8?a+="<!-- "+m.textContent+" -->":!o.isFormatElement(m)&&!o.isRangeFormatElement(m)&&!o.isComponent(m)&&!/meta/i.test(m.nodeName)?(d||(d=o.createElement(s.defaultTag)),d.appendChild(m),f--,_--):(d&&(a+=d.outerHTML,d=null),a+=m.outerHTML);return d&&(a+=d.outerHTML),u.createRange().createContextualFragment(a)},_convertListCell:function(l){let a="";for(let d=0,p=l.length,f;d<p;d++)f=l[d],f.nodeType===1?o.isList(f)?a+=f.innerHTML:o.isListCell(f)?a+=f.outerHTML:o.isFormatElement(f)?a+="<li>"+(f.innerHTML.trim()||"<br>")+"</li>":o.isRangeFormatElement(f)&&!o.isTable(f)?a+=this._convertListCell(f):a+="<li>"+f.outerHTML+"</li>":a+="<li>"+(f.textContent||"<br>")+"</li>";return a},_isFormatData:function(l){let a=!1;for(let d=0,p=l.length,f;d<p;d++)if(f=l[d],f.nodeType===1&&!o.isTextStyleElement(f)&&!o.isBreak(f)&&!this.__disallowedTagNameRegExp.test(f.nodeName)){a=!0;break}return a},cleanHTML:function(l,a,d){if(!s.strictMode)return o.htmlCompress(l);l=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(l),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");let p=u.createRange().createContextualFragment(l);try{o._consistencyCheckOfHTML(p,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(y){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+y)}if(this.managedTagsInfo&&this.managedTagsInfo.query){let y=p.querySelectorAll(this.managedTagsInfo.query);for(let x=0,C=y.length,S,V;x<C;x++){V=[].slice.call(y[x].classList);for(let D=0,O=V.length;D<O;D++)if(S=this.managedTagsInfo.map[V[D]],S){S(y[x]);break}}}let f=p.childNodes,_="",m=this._isFormatData(f);m&&(f=this._editFormat(p).childNodes);for(let y=0,x=f.length,C;y<x;y++){if(C=f[y],this.__allowedScriptRegExp.test(C.nodeName)){_+=C.outerHTML;continue}_+=this._makeLine(C,m)}return _=o.htmlRemoveWhiteSpace(_),_?(a&&(_=_.replace(typeof a=="string"?o.createTagsWhitelist(a):a,"")),d&&(_=_.replace(typeof d=="string"?o.createTagsBlacklist(d):d,""))):_=l,this._tagConvertor(_)},convertContentsForEditor:function(l){if(!s.strictMode)return o.htmlCompress(l);l=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(l),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));let a=u.createRange().createContextualFragment(l);try{o._consistencyCheckOfHTML(a,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(_){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+_)}if(this.managedTagsInfo&&this.managedTagsInfo.query){let _=a.querySelectorAll(this.managedTagsInfo.query);for(let m=0,y=_.length,x,C;m<y;m++){C=[].slice.call(_[m].classList);for(let S=0,V=C.length;S<V;S++)if(x=this.managedTagsInfo.map[C[S]],x){x(_[m]);break}}}let d=a.childNodes,p="",f=null;for(let _=0,m;_<d.length;_++){if(m=d[_],this.__allowedScriptRegExp.test(m.nodeName)){p+=m.outerHTML;continue}if(!o.isFormatElement(m)&&!o.isRangeFormatElement(m)&&!o.isComponent(m)&&!o.isFigures(m)&&m.nodeType!==8&&!/__se__tag/.test(m.className)){if(f||(f=o.createElement(s.defaultTag)),f.appendChild(m),_--,d[_+1]&&!o.isFormatElement(d[_+1]))continue;m=f,f=null}f&&(p+=this._makeLine(f,!0),f=null),p+=this._makeLine(m,!0)}return f&&(p+=this._makeLine(f,!0)),p.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(p=o.htmlRemoveWhiteSpace(p),this._tagConvertor(p))},convertHTMLForCodeView:function(l,a){let d="",p=h.RegExp,f=new p("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),_=typeof l=="string"?u.createRange().createContextualFragment(l):l,m=function(C){return this.isFormatElement(C)||this.isComponent(C)}.bind(o),y=a?"":`
`,x=a?0:this._variable.codeIndent*1;return x=x>0?new h.Array(x+1).join(" "):"",function C(S,V){let D=S.childNodes,O=f.test(S.nodeName),P=O?V:"";for(let K=0,te=D.length,X,Z,Y,W,j,L;K<te;K++){if(X=D[K],W=f.test(X.nodeName),Z=W?y:"",Y=m(X)&&!O&&!/^(TH|TD)$/i.test(S.nodeName)?y:"",X.nodeType===8){d+=`
<!-- `+X.textContent.trim()+" -->"+Z;continue}if(X.nodeType===3){o.isList(X.parentElement)||(d+=o._HTMLConvertor(/^\n+$/.test(X.data)?"":X.data));continue}if(X.childNodes.length===0){d+=(/^HR$/i.test(X.nodeName)?y:"")+(/^PRE$/i.test(X.parentElement.nodeName)&&/^BR$/i.test(X.nodeName)?"":P)+X.outerHTML+Z;continue}X.outerHTML?(j=X.nodeName.toLowerCase(),L=P||W?V:"",d+=(Y||(O?"":Z))+L+X.outerHTML.match(p("<"+j+"[^>]*>","i"))[0]+Z,C(X,V+x,""),d+=(/\n$/.test(d)?L:"")+"</"+j+">"+(Y||Z||O||/^(TH|TD)$/i.test(X.nodeName)?y:"")):d+=new h.XMLSerializer().serializeToString(X)}}(_,""),d.trim()+y},addDocEvent:function(l,a,d){u.addEventListener(l,a,d),s.iframe&&this._wd.addEventListener(l,a)},removeDocEvent:function(l,a){u.removeEventListener(l,a),s.iframe&&this._wd.removeEventListener(l,a)},_charCount:function(l){let a=s.maxCharCount,d=s.charCounterType,p=0;if(l&&(p=this.getCharLength(l,d)),this._setCharCount(),a>0){let f=!1,_=E.getCharCount(d);if(_>a){if(f=!0,p>0){this._editorRange();let m=this.getRange(),y=m.endOffset-1,x=this.getSelectionNode().textContent,C=m.endOffset-(_-a);this.getSelectionNode().textContent=x.slice(0,C<0?0:C)+x.slice(m.endOffset,x.length),this.setRange(m.endContainer,y,m.endContainer,y)}}else _+p>a&&(f=!0);if(f&&(this._callCounterBlink(),p>0))return!1}return!0},checkCharCount:function(l,a){if(s.maxCharCount){let d=a||s.charCounterType,p=this.getCharLength(typeof l=="string"?l:this._charTypeHTML&&l.nodeType===1?l.outerHTML:l.textContent,d);if(p>0&&p+E.getCharCount(d)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(l,a){return/byte/.test(a)?o.getByteLength(l):l.length},resetResponsiveToolbar:function(){c.controllersOff();let l=g._responsiveButtonSize;if(l){let a=0;(c._isBalloon||c._isInline)&&s.toolbarWidth==="auto"?a=e.element.topArea.offsetWidth:a=e.element.toolbar.offsetWidth;let d="default";for(let p=1,f=l.length;p<f;p++)if(a<l[p]){d=l[p]+"";break}g._responsiveCurrentSize!==d&&(g._responsiveCurrentSize=d,E.setToolbarButtons(g._responsiveButtons[d]))}},_setCharCount:function(){e.element.charCounter&&h.setTimeout(function(l,a){this.textContent&&l&&(this.textContent=l.getCharCount(a.charCounterType))}.bind(e.element.charCounter,E,s),0)},_callCounterBlink:function(){let l=e.element.charWrapper;l&&!o.hasClass(l,"se-blink")&&(o.addClass(l,"se-blink"),h.setTimeout(function(){o.removeClass(l,"se-blink")},600))},_checkComponents:function(){for(let l=0,a=this._fileInfoPluginsCheck.length;l<a;l++)this._fileInfoPluginsCheck[l]()},_resetComponents:function(){for(let l=0,a=this._fileInfoPluginsReset.length;l<a;l++)this._fileInfoPluginsReset[l]()},_setCodeView:function(l){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(l):e.element.code.value=l},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():e.element.code.value},_setKeyEffect:function(l){let a=this.commandMap,d=this.activePlugins;for(let p in a)l.indexOf(p)>-1||!o.hasOwn(a,p)||(d.indexOf(p)>-1?i[p].active.call(this,null):a.OUTDENT&&/^OUTDENT$/i.test(p)?o.isImportantDisabled(a.OUTDENT)||a.OUTDENT.setAttribute("disabled",!0):a.INDENT&&/^INDENT$/i.test(p)?o.isImportantDisabled(a.INDENT)||a.INDENT.removeAttribute("disabled"):o.removeClass(a[p],"active"))},_init:function(l,a){let d=h.RegExp;this._ww=s.iframe?e.element.wysiwygFrame.contentWindow:h,this._wd=u,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=h.getComputedStyle(e.element.wysiwyg),this._editorHeight=e.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=o.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+o.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=function(W){return this.test(W)?W:""}.bind(s.allowedClassNames);let p=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new d("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new d("<("+p+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+p+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new d("^("+p+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new d("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof h.ShadowRoot=="function"){let W=e.element.wysiwygFrame;for(;W;){if(W.shadowRoot){this._shadowRoot=W.shadowRoot;break}else if(W instanceof h.ShadowRoot){this._shadowRoot=W;break}W=W.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}let f=h.Object.keys(s._textTagsMap),_=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(W){return/b|i|ins|s|strike/i.test(W)}):[];for(let W=0;W<_.length;W++)f.splice(f.indexOf(_[W].toLowerCase()),1);this._disallowedTextTagsRegExp=f.length===0?null:new d("(<\\/?)("+f.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");let m=function(W,j){return W?W==="*"?"[a-z-]+":j?W+"|"+j:W:"^"},C="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",S="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new d("^("+m(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new d("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=o.createTagsWhitelist(m(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=o.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=o.createTagsWhitelist(m(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=o.createTagsBlacklist(s.pasteTagsBlacklist);let V='\\s*=\\s*(")[^"]*\\1',D=s.attributesWhitelist,O={},P="";if(D)for(let W in D)!o.hasOwn(D,W)||/^on[a-z]+$/i.test(D[W])||(W==="all"?P=m(D[W],C):O[W]=new d("\\s(?:"+m(D[W],"")+")"+V,"ig"));this._attributesWhitelistRegExp=new d("\\s(?:"+(P||C+"|"+S)+")"+V,"ig"),this._attributesWhitelistRegExp_all_data=new d("\\s(?:"+((P||C)+"|data-[a-z0-9\\-]+")+")"+V,"ig"),this._attributesTagsWhitelist=O;let K=s.attributesBlacklist;if(O={},P="",K)for(let W in K)o.hasOwn(K,W)&&(W==="all"?P=m(K[W],""):O[W]=new d("\\s(?:"+m(K[W],"")+")"+V,"ig"));this._attributesBlacklistRegExp=new d("\\s(?:"+(P||"^")+")"+V,"ig"),this._attributesTagsBlacklist=O,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};let te=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let X=[],Z,Y;for(let W in i)if(o.hasOwn(i,W)){if(Z=i[W],Y=t[W],(Z.active||Z.action)&&Y&&this.callPlugin(W,null,Y),typeof Z.checkFileInfo=="function"&&typeof Z.resetFileInfo=="function"&&(this.callPlugin(W,null,Y),this._fileInfoPluginsCheck.push(Z.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(Z.resetFileInfo.bind(this))),h.Array.isArray(Z.fileTags)){let j=Z.fileTags;this.callPlugin(W,null,Y),this._fileManager.tags=this._fileManager.tags.concat(j),X.push(W);for(let L=0,G=j.length;L<G;L++)this._fileManager.pluginMap[j[L].toLowerCase()]=W}if(Z.managedTags){let j=Z.managedTags();te.push("."+j.className),this.managedTagsInfo.map[j.className]=j.method.bind(this)}}this.managedTagsInfo.query=te.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new d("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new d("^("+(X.length===0?"^":X.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=$l(this,this._onChange_historyStack.bind(this)),this.addModule([Us]),s.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(e.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(l,a)},_cachingButtons:function(){this.codeViewDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');let l=e.tool,a=this.commandMap;a.INDENT=l.indent,a.OUTDENT=l.outdent,a[s.textTags.bold.toUpperCase()]=l.bold,a[s.textTags.underline.toUpperCase()]=l.underline,a[s.textTags.italic.toUpperCase()]=l.italic,a[s.textTags.strike.toUpperCase()]=l.strike,a[s.textTags.sub.toUpperCase()]=l.subscript,a[s.textTags.sup.toUpperCase()]=l.superscript,this._styleCommandMap={fullScreen:l.fullScreen,showBlocks:l.showBlocks,codeView:l.codeView},this._saveButtonStates()},_initWysiwygArea:function(l,a){e.element.wysiwyg.innerHTML=l?a:this.convertContentsForEditor((typeof a=="string"?a:/^TEXTAREA$/i.test(e.element.originElement.nodeName)?e.element.originElement.value:e.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&g._applyTagEffects(),this._variable.isChanged=!0,e.tool.save&&e.tool.save.removeAttribute("disabled"),E.onChange&&E.onChange(this.getContents(!0),this),e.element.toolbar.style.display==="block"&&g._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?h.setTimeout(function(){let l=c._iframeAuto.offsetHeight;e.element.wysiwygFrame.style.height=l+"px",o.isResizeObserverSupported||c.__callResizeFunction(l,null)}):o.isResizeObserverSupported||c.__callResizeFunction(e.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(l,a){l=l===-1?a.borderBoxSize&&a.borderBoxSize[0]?a.borderBoxSize[0].blockSize:a.contentRect.height+this._editorHeightPadding:l,this._editorHeight!==l&&(typeof E.onResizeEditor=="function"&&E.onResizeEditor(l,this._editorHeight,c,a),this._editorHeight=l)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}let l=e.element.wysiwyg;!o.onlyZeroWidthSpace(l.textContent)||l.querySelector(o._allowedEmptyNodeList)||(l.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(l){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;let a=this.getRange(),d=a.commonAncestorContainer,p=a.startContainer,f=o.getRangeFormatElement(d,null),_,m,y,x=o.getParentElement(d,o.isComponent);if(!(x&&!o.isTable(x))){if(d.nodeType===1&&d.getAttribute("data-se-embed")==="true"){let C=d.nextElementSibling;o.isFormatElement(C)||(C=this.appendFormatTag(d,s.defaultTag)),this.setRange(C.firstChild,0,C.firstChild,0);return}if(!((o.isRangeFormatElement(p)||o.isWysiwygDiv(p))&&(o.isComponent(p.children[a.startOffset])||o.isComponent(p.children[a.startOffset-1])))){if(o.getParentElement(d,o.isNotCheckingNode))return null;if(f){y=o.createElement(l||s.defaultTag),y.innerHTML=f.innerHTML,y.childNodes.length===0&&(y.innerHTML=o.zeroWidthSpace),f.innerHTML=y.outerHTML,y=f.firstChild,_=o.getEdgeChildNodes(y,null).sc,_||(_=o.createTextNode(o.zeroWidthSpace),y.insertBefore(_,y.firstChild)),m=_.textContent.length,this.setRange(_,m,_,m);return}if(o.isRangeFormatElement(d)&&d.childNodes.length<=1){let C=null;d.childNodes.length===1&&o.isBreak(d.firstChild)?C=d.firstChild:(C=o.createTextNode(o.zeroWidthSpace),d.appendChild(C)),this.setRange(C,1,C,1);return}try{if(d.nodeType===3&&(y=o.createElement(l||s.defaultTag),d.parentNode.insertBefore(y,d),y.appendChild(d)),o.isBreak(y.nextSibling)&&o.removeItem(y.nextSibling),o.isBreak(y.previousSibling)&&o.removeItem(y.previousSibling),o.isBreak(_)){let C=o.createTextNode(o.zeroWidthSpace);_.parentNode.insertBefore(C,_),_=C}}catch{this.execCommand("formatBlock",!1,l||s.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(y&&(o.isBreak(y.nextSibling)&&o.removeItem(y.nextSibling),o.isBreak(y.previousSibling)&&o.removeItem(y.previousSibling),o.isBreak(_))){let C=o.createTextNode(o.zeroWidthSpace);_.parentNode.insertBefore(C,_),_=C}this.effectNode=null,p?this.setRange(p,1,p,1):this.nativeFocus()}}},_setOptionsInit:function(l,a){this.context=e=Bi(l.originElement,this._getConstructed(l),s),this._componentsInfoReset=!0,this._editorInit(!0,a)},_editorInit:function(l,a){this._init(l,a),g._addEvent(),this._setCharCount(),g._offStickyToolbar(),g.onResize_window(),e.element.toolbar.style.visibility="";let d=s.frameAttrbutes;for(let p in d)e.element.wysiwyg.setAttribute(p,d[p]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),h.setTimeout(function(){typeof c._resourcesStateChange=="function"&&(g._resizeObserver&&g._resizeObserver.observe(e.element.wysiwygFrame),g._toolbarObserver&&g._toolbarObserver.observe(e.element._toolbarShadow),c._resourcesStateChange(),typeof E.onload=="function"&&E.onload(c,l))})},_getConstructed:function(l){return{_top:l.topArea,_relative:l.relative,_toolBar:l.toolbar,_toolbarShadow:l._toolbarShadow,_menuTray:l._menuTray,_editorArea:l.editorArea,_wysiwygArea:l.wysiwygFrame,_codeArea:l.code,_placeholder:l.placeholder,_resizingBar:l.resizingBar,_navigation:l.navigation,_charCounter:l.charCounter,_charWrapper:l.charWrapper,_loading:l.loading,_lineBreaker:l.lineBreaker,_lineBreaker_t:l.lineBreaker_t,_lineBreaker_b:l.lineBreaker_b,_resizeBack:l.resizeBackground,_stickyDummy:l._stickyDummy,_arrow:l._arrow}}},g={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new h.RegExp("^(8|46)$"),_cursorMoveKeyCode:new h.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new h.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new h.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new h.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new h.RegExp("^("+h.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new h.RegExp(o.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(l,a){let d=null,p=g._keyCodeShortcut[l];switch(p){case"A":d="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(d="bold");break;case"S":a&&s.shortcutsDisable.indexOf("strike")===-1?d="strike":!a&&s.shortcutsDisable.indexOf("save")===-1&&(d="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(d="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(d="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(a?d="redo":d="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(d="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(d=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(d=s.rtl?"outdent":"indent");break}return d?(c.commandHandler(c.commandMap[d],d),!0):!!p},_applyTagEffects:function(){if(o.hasClass(e.element.wysiwyg,"se-read-only"))return!1;let l=c.getSelectionNode();if(l===c.effectNode)return;c.effectNode=l;let a=s.rtl?"marginRight":"marginLeft",d=c.commandMap,p=g._onButtonsCheck,f=[],_=[],m=c.activePlugins,y=m.length,x="";for(;l.firstChild;)l=l.firstChild;for(let C=l;!o.isWysiwygDiv(C)&&C;C=C.parentNode)if(!(C.nodeType!==1||o.isBreak(C))){if(x=C.nodeName.toUpperCase(),_.push(x),!c.isReadOnly)for(let S=0,V;S<y;S++)V=m[S],f.indexOf(V)===-1&&i[V].active.call(c,C)&&f.push(V);if(o.isFormatElement(C)){f.indexOf("OUTDENT")===-1&&d.OUTDENT&&!o.isImportantDisabled(d.OUTDENT)&&(o.isListCell(C)||C.style[a]&&o.getNumber(C.style[a],0)>0)&&(f.push("OUTDENT"),d.OUTDENT.removeAttribute("disabled")),f.indexOf("INDENT")===-1&&d.INDENT&&!o.isImportantDisabled(d.INDENT)&&(f.push("INDENT"),o.isListCell(C)&&!C.previousElementSibling?d.INDENT.setAttribute("disabled",!0):d.INDENT.removeAttribute("disabled"));continue}p&&p.test(x)&&(f.push(x),o.addClass(d[x],"active"))}c._setKeyEffect(f),c._variable.currentNodes=_.reverse(),c._variable.currentNodesMap=f,s.showPathLabel&&(e.element.navigation.textContent=c._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(l){let a=l.target;if(c._bindControllersOff&&l.stopPropagation(),/^(input|textarea|select|option)$/i.test(a.nodeName)?c._antiBlur=!1:l.preventDefault(),o.getParentElement(a,".se-submenu"))l.stopPropagation(),c._notHideToolbar=!0;else{let d=a.getAttribute("data-command"),p=a.className;for(;!d&&!/se-menu-list/.test(p)&&!/sun-editor-common/.test(p);)a=a.parentNode,d=a.getAttribute("data-command"),p=a.className;(d===c._submenuName||d===c._containerName)&&l.stopPropagation()}},addGlobalEvent:function(l,a,d){return s.iframe&&c._ww.addEventListener(l,a,d),c._w.addEventListener(l,a,d),{type:l,listener:a,useCapture:d}},removeGlobalEvent:function(l,a,d){l&&(typeof l=="object"&&(a=l.listener,d=l.useCapture,l=l.type),s.iframe&&c._ww.removeEventListener(l,a,d),c._w.removeEventListener(l,a,d))},onClick_toolbar:function(l){let a=l.target,d=a.getAttribute("data-display"),p=a.getAttribute("data-command"),f=a.className;for(c.controllersOff();a.parentNode&&!p&&!/se-menu-list/.test(f)&&!/se-toolbar/.test(f);)a=a.parentNode,p=a.getAttribute("data-command"),d=a.getAttribute("data-display"),f=a.className;!p&&!d||a.disabled||c.actionCall(p,d,a)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(l){if(c.isReadOnly||o.isNonEditable(e.element.wysiwyg))return;if(o._isExcludeSelectionElement(l.target)){l.preventDefault();return}if(g.removeGlobalEvent(g.__selectionSyncEvent),g.__selectionSyncEvent=g.addGlobalEvent("mouseup",function(){c&&c._editorRange(),g.removeGlobalEvent(g.__selectionSyncEvent)}),typeof E.onMouseDown=="function"&&E.onMouseDown(l,c)===!1)return;let a=o.getParentElement(l.target,o.isCell);if(a){let d=c.plugins.table;d&&a!==d._fixedCell&&!d._shift&&c.callPlugin("table",function(){d.onTableCellMultiSelect.call(c,a,!1)},null)}c._isBalloon&&g._hideToolbar()},onClick_wysiwyg:function(l){let a=l.target;if(c.isReadOnly)return l.preventDefault(),o.isAnchor(a)&&h.open(a.href,a.target),!1;if(o.isNonEditable(e.element.wysiwyg)||typeof E.onClick=="function"&&E.onClick(l,c)===!1)return;let d=c.getFileComponent(a);if(d){l.preventDefault(),c.selectComponent(d.target,d.pluginName);return}let p=o.getParentElement(a,"FIGCAPTION");if(p&&o.isNonEditable(p)&&(l.preventDefault(),p.focus(),c._isInline&&!c._inlineToolbarAttr.isShow)){g._showToolbarInline();let C=function(){g._hideToolbar(),p.removeEventListener("blur",C)};p.addEventListener("blur",C)}if(c._editorRange(),l.detail===3){let C=c.getRange();o.isFormatElement(C.endContainer)&&C.endOffset===0&&(C=c.setRange(C.startContainer,C.startOffset,C.startContainer,C.startContainer.length),c._rangeInfo(C,c.getSelection()))}let f=c.getSelectionNode(),_=o.getFormatElement(f,null),m=o.getRangeFormatElement(f,null),y=f;for(;y&&y.firstChild;)y=y.firstChild;let x=c.getFileComponent(y);if(x){let C=c.getRange();!m&&C.startContainer===C.endContainer&&c.selectComponent(x.target,x.pluginName)}else c.currentFileComponentInfo&&c.controllersOff();if(!_&&!o.isNonEditable(a)&&!o.isList(m)){let C=c.getRange();if(o.getFormatElement(C.startContainer)===o.getFormatElement(C.endContainer))if(o.isList(m)){l.preventDefault();let S=o.createElement("LI"),V=f.nextElementSibling;S.appendChild(f),m.insertBefore(S,V),c.focus()}else!o.isWysiwygDiv(f)&&!o.isComponent(f)&&(!o.isTable(f)||o.isCell(f))&&c._setDefaultFormat(o.isRangeFormatElement(m)?"DIV":s.defaultTag)!==null?(l.preventDefault(),c.focus()):g._applyTagEffects()}else g._applyTagEffects();c._isBalloon&&h.setTimeout(g._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){g._balloonDelay&&h.clearTimeout(g._balloonDelay),g._balloonDelay=h.setTimeout(function(){h.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}.bind(g),350)},_toggleToolbarBalloon:function(){if(c){c._editorRange();let l=c.getRange();c._bindControllersOff||!c._isBalloonAlways&&l.collapsed?g._hideToolbar():g._showToolbarBalloon(l)}},_showToolbarBalloon:function(l){if(!c._isBalloon)return;let a=l||c.getRange(),d=e.element.toolbar,p=e.element.topArea,f=c.getSelection(),_;if(c._isBalloonAlways&&a.collapsed)_=!0;else if(f.focusNode===f.anchorNode)_=f.focusOffset<f.anchorOffset;else{let Z=o.getListChildNodes(a.commonAncestorContainer,null);_=o.getArrayIndex(Z,f.focusNode)<o.getArrayIndex(Z,f.anchorNode)}let m=a.getClientRects();m=m[_?0:m.length-1];let y=c.getGlobalScrollOffset(),x=y.left,C=y.top,S=p.offsetWidth,V=g._getEditorOffsets(null),D=V.top,O=V.left;if(d.style.top="-10000px",d.style.visibility="hidden",d.style.display="block",!m){let Z=c.getSelectionNode();if(o.isFormatElement(Z)){let Y=o.createTextNode(o.zeroWidthSpace);c.insertNode(Y,null,!1),c.setRange(Y,1,Y,1),c._editorRange(),m=c.getRange().getClientRects(),m=m[_?0:m.length-1]}if(!m){let Y=o.getOffset(Z,e.element.wysiwygFrame);m={left:Y.left,top:Y.top,right:Y.left,bottom:Y.top+Z.offsetHeight,noText:!0},x=0,C=0}_=!0}let P=h.Math.round(e.element._arrow.offsetWidth/2),K=d.offsetWidth,te=d.offsetHeight,X=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;if(X&&(m={left:m.left+X.left,top:m.top+X.top,right:m.right+X.right-X.width,bottom:m.bottom+X.bottom-X.height}),g._setToolbarOffset(_,m,d,O,S,x,C,D,P),(K!==d.offsetWidth||te!==d.offsetHeight)&&g._setToolbarOffset(_,m,d,O,S,x,C,D,P),s.toolbarContainer){let Z=p.parentElement,Y=s.toolbarContainer,W=Y.offsetLeft,j=Y.offsetTop;for(;!Y.parentElement.contains(Z)||!/^(BODY|HTML)$/i.test(Y.parentElement.nodeName);)Y=Y.offsetParent,W+=Y.offsetLeft,j+=Y.offsetTop;d.style.left=d.offsetLeft-W+p.offsetLeft+"px",d.style.top=d.offsetTop-j+p.offsetTop+"px"}d.style.visibility=""},_setToolbarOffset:function(l,a,d,p,f,_,m,y,x){let S=d.offsetWidth,V=a.noText&&!l?0:d.offsetHeight,D=(l?a.left:a.right)-p-S/2+_,O=D+S-f,P=(l?a.top-V-x:a.bottom+x)-(a.noText?0:y)+m,K=D<0?1:O<0?D:D-O-1-1,te=!1,X=P+(l?g._getEditorOffsets(null).top:d.offsetHeight-e.element.wysiwyg.offsetHeight);!l&&X>0&&g._getPageBottomSpace()<X?(l=!0,te=!0):l&&u.documentElement.offsetTop>X&&(l=!1,te=!0),te&&(P=(l?a.top-V-x:a.bottom+x)-(a.noText?0:y)+m),d.style.left=h.Math.floor(K)+"px",d.style.top=h.Math.floor(P)+"px",l?(o.removeClass(e.element._arrow,"se-arrow-up"),o.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=V+"px"):(o.removeClass(e.element._arrow,"se-arrow-down"),o.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-x+"px");let Z=h.Math.floor(S/2+(D-K));e.element._arrow.style.left=(Z+x>d.offsetWidth?d.offsetWidth-x:Z<x?x:Z)+"px"},_showToolbarInline:function(){if(!c._isInline)return;let l=e.element.toolbar;s.toolbarContainer?l.style.position="relative":l.style.position="absolute",l.style.visibility="hidden",l.style.display="block",c._inlineToolbarAttr.width=l.style.width=s.toolbarWidth,c._inlineToolbarAttr.top=l.style.top=(s.toolbarContainer?0:-1-l.offsetHeight)+"px",typeof E.showInline=="function"&&E.showInline(l,e,c),g.onScroll_window(),c._inlineToolbarAttr.isShow=!0,l.style.visibility=""},_hideToolbar:function(){!c._notHideToolbar&&!c._variable.isFullScreen&&(e.element.toolbar.style.display="none",c._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(l){if(/AUDIO/.test(l.target.nodeName))return!1;if(c.isReadOnly||c.isDisabled)return l.preventDefault(),l.stopPropagation(),c.history.go(c.history.getCurrentIndex()),!1;let a=c.getRange(),d=c.getSelectionNode(),p=o.getFormatElement(d,null);if(!p&&a.collapsed&&!o.isComponent(d)&&!o.isList(d)){let _=o.getRangeFormatElement(p,null);c._setDefaultFormat(o.isRangeFormatElement(_)?"DIV":s.defaultTag)}c._editorRange();let f=(l.data===null?"":l.data===void 0?" ":l.data)||"";if(!c._charCount(f))return l.preventDefault(),l.stopPropagation(),!1;typeof E.onInput=="function"&&E.onInput(l,c)===!1||c.history.push(!0)},_isUneditableNode:function(l,a){let d=a?l.startContainer:l.endContainer,p=a?l.startOffset:l.endOffset,f=a?"previousSibling":"nextSibling",_=d.nodeType===1,m;return _?(m=g._isUneditableNode_getSibling(d.childNodes[p],f,d),m&&m.nodeType===1&&m.getAttribute("contenteditable")==="false"):(m=g._isUneditableNode_getSibling(d,f,d),c.isEdgePoint(d,p,a?"start":"end")&&m&&m.nodeType===1&&m.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(l,a,d){if(!l)return null;let p=l[a];if(!p)if(p=o.getFormatElement(d),p=p?p[a]:null,p&&!o.isComponent(p))p=a==="previousSibling"?p.firstChild:p.lastChild;else return null;return p},_onShortcutKey:!1,onKeyDown_wysiwyg:function(l){let a=c.getSelectionNode();if(o.isInputElement(a))return;let d=l.keyCode,p=l.shiftKey,f=l.ctrlKey||l.metaKey||d===91||d===92||d===224,_=l.altKey;if(g._IEisComposing=d===229,!f&&c.isReadOnly&&!g._cursorMoveKeyCode.test(d))return l.preventDefault(),!1;if(c.submenuOff(),c._isBalloon&&g._hideToolbar(),typeof E.onKeyDown=="function"&&E.onKeyDown(l,c)===!1)return;if(f&&g._shortcutCommand(d,p))return g._onShortcutKey=!0,l.preventDefault(),l.stopPropagation(),!1;g._onShortcutKey&&(g._onShortcutKey=!1),d===13&&o.isFormatElement(c.getRange().startContainer)&&(c._resetRangeToTextNode(),a=c.getSelectionNode());let m=c.getRange(),y=!m.collapsed||m.startContainer!==m.endContainer,x=c._fileManager.pluginRegExp.test(c.currentControllerName)?c.currentControllerName:"",C=o.getFormatElement(a,null)||a,S=o.getRangeFormatElement(C,null);if(!(/37|38|39|40/.test(l.keyCode)&&g._onKeyDown_wysiwyg_arrowKey(l)===!1)){switch(d){case 8:if(!y&&x){l.preventDefault(),l.stopPropagation(),c.plugins[x].destroy.call(c);break}if(y&&g._hardDelete()){l.preventDefault(),l.stopPropagation();break}if(!o.isFormatElement(C)&&!e.element.wysiwyg.firstElementChild&&!o.isComponent(a)&&c._setDefaultFormat(s.defaultTag)!==null)return l.preventDefault(),l.stopPropagation(),!1;if(!y&&!C.previousElementSibling&&m.startOffset===0&&!a.previousSibling&&!o.isListCell(C)&&o.isFormatElement(C)&&(!o.isFreeFormatElement(C)||o.isClosureFreeFormatElement(C))){if(o.isClosureRangeFormatElement(C.parentNode))return l.preventDefault(),l.stopPropagation(),!1;if(o.isWysiwygDiv(C.parentNode)&&C.childNodes.length<=1&&(!C.firstChild||o.onlyZeroWidthSpace(C.textContent))){if(l.preventDefault(),l.stopPropagation(),C.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){C.innerHTML="<br>";let L=C.attributes;for(;L[0];)C.removeAttribute(L[0].name)}else{let L=o.createElement(s.defaultTag);L.innerHTML="<br>",C.parentElement.replaceChild(L,C)}return c.nativeFocus(),!1}}let D=m.startContainer;if(C&&!C.previousElementSibling&&m.startOffset===0&&D.nodeType===3&&!o.isFormatElement(D.parentNode)){let L=D.parentNode.previousSibling,G=D.parentNode.nextSibling;L||(G?L=G:(L=o.createElement("BR"),C.appendChild(L)));let B=D;for(;C.contains(B)&&!B.previousSibling;)B=B.parentNode;if(!C.contains(B)){D.textContent="",o.removeItemAllParents(D,null,C);break}}if(g._isUneditableNode(m,!0)){l.preventDefault(),l.stopPropagation();break}!y&&c._isEdgeFormat(m.startContainer,m.startOffset,"start")&&o.isFormatElement(C.previousElementSibling)&&(c._formatAttrsTemp=C.previousElementSibling.attributes);let O=m.commonAncestorContainer;if(C=o.getFormatElement(m.startContainer,null),S=o.getRangeFormatElement(C,null),S&&C&&!o.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){if(o.isListCell(C)&&o.isList(S)&&(o.isListCell(S.parentNode)||C.previousElementSibling)&&(a===C||a.nodeType===3&&(!a.previousSibling||o.isList(a.previousSibling)))&&(o.getFormatElement(m.startContainer,null)!==o.getFormatElement(m.endContainer,null)?S.contains(m.startContainer):m.startOffset===0&&m.collapsed)){if(m.startContainer!==m.endContainer)l.preventDefault(),c.removeNode(),m.startContainer.nodeType===3&&c.setRange(m.startContainer,m.startContainer.textContent.length,m.startContainer,m.startContainer.textContent.length),c.history.push(!0);else{let L=C.previousElementSibling||S.parentNode;if(o.isListCell(L)){l.preventDefault();let G=L;if(!L.contains(C)&&o.isListCell(G)&&o.isList(G.lastElementChild)){for(G=G.lastElementChild.lastElementChild;o.isListCell(G)&&o.isList(G.lastElementChild);)G=G.lastElementChild&&G.lastElementChild.lastElementChild;L=G}let B=L===S.parentNode?S.previousSibling:L.lastChild;B||(B=o.createTextNode(o.zeroWidthSpace),S.parentNode.insertBefore(B,S.parentNode.firstChild));let $=B.nodeType===3?B.textContent.length:1,re=C.childNodes,oe=B,H=re[0];for(;H=re[0];)L.insertBefore(H,oe.nextSibling),oe=H;o.removeItem(C),S.children.length===0&&o.removeItem(S),c.setRange(B,$,B,$),c.history.push(!0)}}break}if(!y&&m.startOffset===0){let L=!0,G=O;for(;G&&G!==S&&!o.isWysiwygDiv(G);){if(G.previousSibling&&(G.previousSibling.nodeType===1||!o.onlyZeroWidthSpace(G.previousSibling.textContent.trim()))){L=!1;break}G=G.parentNode}if(L&&S.parentNode){l.preventDefault(),c.detachRangeFormatElement(S,o.isListCell(C)?[C]:null,null,!1,!1),c.history.push(!0);break}}}if(!y&&C&&(m.startOffset===0||a===C&&C.childNodes[m.startOffset])){let L=a===C?C.childNodes[m.startOffset]:a,G=C.previousSibling,B=(O.nodeType===3||o.isBreak(O))&&!O.previousSibling&&m.startOffset===0;if(L&&!L.previousSibling&&(O&&o.isComponent(O.previousSibling)||B&&o.isComponent(G))){let $=c.getFileComponent(G);$?(l.preventDefault(),l.stopPropagation(),C.textContent.length===0&&o.removeItem(C),c.selectComponent($.target,$.pluginName)===!1&&c.blur()):o.isComponent(G)&&(l.preventDefault(),l.stopPropagation(),o.removeItem(G));break}if(L&&o.isNonEditable(L.previousSibling)){l.preventDefault(),l.stopPropagation(),o.removeItem(L.previousSibling);break}}break;case 46:if(x){l.preventDefault(),l.stopPropagation(),c.plugins[x].destroy.call(c);break}if(y&&g._hardDelete()){l.preventDefault(),l.stopPropagation();break}if(!y&&c._isEdgeFormat(m.endContainer,m.endOffset,"end")&&!C.nextSibling){l.preventDefault(),l.stopPropagation();return}if(g._isUneditableNode(m,!1)){l.preventDefault(),l.stopPropagation();break}if((o.isFormatElement(a)||a.nextSibling===null||o.onlyZeroWidthSpace(a.nextSibling)&&a.nextSibling.nextSibling===null)&&m.startOffset===a.textContent.length){let L=C.nextElementSibling;if(!L)break;if(o.isComponent(L)){if(l.preventDefault(),o.onlyZeroWidthSpace(C)&&(o.removeItem(C),o.isTable(L))){let B=o.getChildElement(L,o.isCell,!1);B=B.firstElementChild||B,c.setRange(B,0,B,0);break}let G=c.getFileComponent(L);G?(l.stopPropagation(),c.selectComponent(G.target,G.pluginName)===!1&&c.blur()):o.isComponent(L)&&(l.stopPropagation(),o.removeItem(L));break}}if(!y&&(c.isEdgePoint(m.endContainer,m.endOffset)||a===C&&C.childNodes[m.startOffset])){let L=a===C&&C.childNodes[m.startOffset]||a;if(L&&o.isNonEditable(L.nextSibling)){l.preventDefault(),l.stopPropagation(),o.removeItem(L.nextSibling);break}else if(o.isComponent(L)){l.preventDefault(),l.stopPropagation(),o.removeItem(L);break}}if(!y&&c._isEdgeFormat(m.endContainer,m.endOffset,"end")&&o.isFormatElement(C.nextElementSibling)&&(c._formatAttrsTemp=C.attributes),C=o.getFormatElement(m.startContainer,null),S=o.getRangeFormatElement(C,null),o.isListCell(C)&&o.isList(S)&&(a===C||a.nodeType===3&&(!a.nextSibling||o.isList(a.nextSibling))&&(o.getFormatElement(m.startContainer,null)!==o.getFormatElement(m.endContainer,null)?S.contains(m.endContainer):m.endOffset===a.textContent.length&&m.collapsed))){m.startContainer!==m.endContainer&&c.removeNode();let L=o.getArrayItem(C.children,o.isList,!1);if(L=L||C.nextElementSibling||S.parentNode.nextElementSibling,L&&(o.isList(L)||o.getArrayItem(L.children,o.isList,!1))){l.preventDefault();let G,B;if(o.isList(L)){let $=L.firstElementChild;for(B=$.childNodes,G=B[0];B[0];)C.insertBefore(B[0],L);o.removeItem($)}else{for(G=L.firstChild,B=L.childNodes;B[0];)C.appendChild(B[0]);o.removeItem(L)}c.setRange(G,0,G,0),c.history.push(!0)}break}break;case 9:if(x||s.tabDisable||(l.preventDefault(),f||_||o.isWysiwygDiv(a)))break;let P=!m.collapsed||c.isEdgePoint(m.startContainer,m.startOffset),K=c.getSelectedElements(null);a=c.getSelectionNode();let te=[],X=[],Z=o.isListCell(K[0]),Y=o.isListCell(K[K.length-1]),W={sc:m.startContainer,so:m.startOffset,ec:m.endContainer,eo:m.endOffset};for(let L=0,G=K.length,B;L<G;L++)if(B=K[L],o.isListCell(B)){if(!B.previousElementSibling&&!p)continue;te.push(B)}else X.push(B);if(te.length>0&&P&&c.plugins.list)W=c.plugins.list.editInsideList.call(c,p,te);else{let L=o.getParentElement(a,o.isCell);if(L&&P){let G=o.getParentElement(L,"table"),B=o.getListChildren(G,o.isCell),$=p?o.prevIdx(B,L):o.nextIdx(B,L);$===B.length&&!p&&($=0),$===-1&&p&&($=B.length-1);let re=B[$];if(!re)break;re=re.firstElementChild||re,c.setRange(re,0,re,0);break}X=X.concat(te),Z=Y=null}if(X.length>0)if(p){let L=X.length-1;for(let $=0,re;$<=L;$++){re=X[$].childNodes;for(let oe=0,H=re.length,v;oe<H&&(v=re[oe],!!v);oe++)if(!o.onlyZeroWidthSpace(v)){/^\s{1,4}$/.test(v.textContent)?o.removeItem(v):/^\s{1,4}/.test(v.textContent)&&(v.textContent=v.textContent.replace(/^\s{1,4}/,""));break}}let G=o.getChildElement(X[0],"text",!1),B=o.getChildElement(X[L],"text",!0);!Z&&G&&(W.sc=G,W.so=0),!Y&&B&&(W.ec=B,W.eo=B.textContent.length)}else{let L=o.createTextNode(new h.Array(c._variable.tabSize+1).join("\xA0"));if(X.length===1){if(!c.insertNode(L,null,!0))return!1;Z||(W.sc=L,W.so=L.length),Y||(W.ec=L,W.eo=L.length)}else{let G=X.length-1;for(let re=0,oe;re<=G;re++)oe=X[re].firstChild,oe&&(o.isBreak(oe)?X[re].insertBefore(L.cloneNode(!1),oe):oe.textContent=L.textContent+oe.textContent);let B=o.getChildElement(X[0],"text",!1),$=o.getChildElement(X[G],"text",!0);!Z&&B&&(W.sc=B,W.so=0),!Y&&$&&(W.ec=$,W.eo=$.textContent.length)}}c.setRange(W.sc,W.so,W.ec,W.eo),c.history.push(!1);break;case 13:let j=o.getFreeFormatElement(a,null);if(c._charTypeHTML){let L="";if(!p&&j||p?L="<br>":L="<"+C.nodeName+"><br></"+C.nodeName+">",!c.checkCharCount(L,"byte-html"))return l.preventDefault(),!1}if(!p&&!x){let L=c._isEdgeFormat(m.endContainer,m.endOffset,"end"),G=c._isEdgeFormat(m.startContainer,m.startOffset,"start");if(L&&(/^H[1-6]$/i.test(C.nodeName)||/^HR$/i.test(C.nodeName))){g._enterPrevent(l);let B=null,$=c.appendFormatTag(C,s.defaultTag);if(L&&L.length>0){B=L.pop();let re=B;for(;L.length>0;)B=B.appendChild(L.pop());$.appendChild(re)}if(B=B?B.appendChild($.firstChild):$.firstChild,o.isBreak(B)){let re=o.createTextNode(o.zeroWidthSpace);B.parentNode.insertBefore(re,B),c.setRange(re,1,re,1)}else c.setRange(B,0,B,0);break}else if(S&&C&&!o.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){let B=c.getRange();if(c.isEdgePoint(B.endContainer,B.endOffset)&&o.isList(a.nextSibling)){g._enterPrevent(l);let $=o.createElement("LI"),re=o.createElement("BR");$.appendChild(re),C.parentNode.insertBefore($,C.nextElementSibling),$.appendChild(a.nextSibling),c.setRange(re,1,re,1);break}if((B.commonAncestorContainer.nodeType!==3||!B.commonAncestorContainer.nextElementSibling)&&o.onlyZeroWidthSpace(C.innerText.trim())&&!o.isListCell(C.nextElementSibling)){g._enterPrevent(l);let $=null;if(o.isListCell(S.parentNode)){let re=C.parentNode.parentNode;S=re.parentNode;let oe=o.createElement("LI");oe.innerHTML="<br>",o.copyTagAttributes(oe,C,s.lineAttrReset),$=oe,S.insertBefore($,re.nextElementSibling)}else{let re=o.isCell(S.parentNode)?"DIV":o.isList(S.parentNode)?"LI":o.isFormatElement(S.nextElementSibling)&&!o.isRangeFormatElement(S.nextElementSibling)?S.nextElementSibling.nodeName:o.isFormatElement(S.previousElementSibling)&&!o.isRangeFormatElement(S.previousElementSibling)?S.previousElementSibling.nodeName:s.defaultTag;$=o.createElement(re),o.copyTagAttributes($,C,s.lineAttrReset);let oe=c.detachRangeFormatElement(S,[C],null,!0,!0);oe.cc.insertBefore($,oe.ec)}$.innerHTML="<br>",o.removeItemAllParents(C,null,null),c.setRange($,1,$,1);break}}if(j){g._enterPrevent(l);let B=a===j,$=c.getSelection(),re=a.childNodes,oe=$.focusOffset,H=a.previousElementSibling,v=a.nextSibling;if(!o.isClosureFreeFormatElement(j)&&re&&(B&&m.collapsed&&re.length-1<=oe+1&&o.isBreak(re[oe])&&(!re[oe+1]||(!re[oe+2]||o.onlyZeroWidthSpace(re[oe+2].textContent))&&re[oe+1].nodeType===3&&o.onlyZeroWidthSpace(re[oe+1].textContent))&&oe>0&&o.isBreak(re[oe-1])||!B&&o.onlyZeroWidthSpace(a.textContent)&&o.isBreak(H)&&(o.isBreak(H.previousSibling)||!o.onlyZeroWidthSpace(H.previousSibling.textContent))&&(!v||!o.isBreak(v)&&o.onlyZeroWidthSpace(v.textContent)))){B?o.removeItem(re[oe-1]):o.removeItem(a);let T=c.appendFormatTag(j,o.isFormatElement(j.nextElementSibling)&&!o.isRangeFormatElement(j.nextElementSibling)?j.nextElementSibling:null);o.copyFormatAttributes(T,j),c.setRange(T,1,T,1);break}if(B){E.insertHTML(m.collapsed&&o.isBreak(m.startContainer.childNodes[m.startOffset-1])?"<br>":"<br><br>",!0,!1);let T=$.focusNode,w=$.focusOffset;j===T&&(T=T.childNodes[w-oe>1?w-1:w]),c.setRange(T,1,T,1)}else{let T=$.focusNode.nextSibling,w=o.createElement("BR");c.insertNode(w,null,!1);let F=w.previousSibling,N=w.nextSibling;!o.isBreak(T)&&!o.isBreak(F)&&(!N||o.onlyZeroWidthSpace(N))?(w.parentNode.insertBefore(w.cloneNode(!1),w),c.setRange(w,1,w,1)):c.setRange(N,0,N,0)}g._onShortcutKey=!0;break}if(m.collapsed&&(G||L)){g._enterPrevent(l);let B=o.createElement("BR"),$=o.createElement(C.nodeName);o.copyTagAttributes($,C,s.lineAttrReset);let re=B;do{if(!o.isBreak(a)&&a.nodeType===1){let oe=a.cloneNode(!1);oe.appendChild(re),re=oe}a=a.parentNode}while(C!==a&&C.contains(a));$.appendChild(re),C.parentNode.insertBefore($,G&&!L?C:C.nextElementSibling),L&&c.setRange(B,1,B,1);break}if(C){l.stopPropagation();let B,$=0;if(m.collapsed)o.onlyZeroWidthSpace(C)?B=c.appendFormatTag(C,C.cloneNode(!1)):B=o.splitElement(m.endContainer,m.endOffset,o.getElementDepth(C));else{let re=o.getFormatElement(m.startContainer,null)!==o.getFormatElement(m.endContainer,null),oe=C.cloneNode(!1);oe.innerHTML="<br>";let H=m.commonAncestorContainer,v=H===m.startContainer&&H===m.endContainer&&o.onlyZeroWidthSpace(H)?m:c.removeNode();if(B=o.getFormatElement(v.container,null),!B){o.isWysiwygDiv(v.container)&&(g._enterPrevent(l),e.element.wysiwyg.appendChild(oe),B=oe,o.copyTagAttributes(B,C,s.lineAttrReset),c.setRange(B,$,B,$));break}let T=o.getRangeFormatElement(v.container);if(B=B.contains(T)?o.getChildElement(T,o.getFormatElement.bind(o)):B,re){if(L&&!G)B.parentNode.insertBefore(oe,!v.prevContainer||v.container===v.prevContainer?B.nextElementSibling:B),B=oe,$=0;else if($=v.offset,G){let w=B.parentNode.insertBefore(oe,B);L&&(B=w,$=0)}}else L&&G?(B.parentNode.insertBefore(oe,v.prevContainer&&v.container===v.prevContainer?B.nextElementSibling:B),B=oe,$=0):B=o.splitElement(v.container,v.offset,o.getElementDepth(C))}g._enterPrevent(l),o.copyTagAttributes(B,C,s.lineAttrReset),c.setRange(B,$,B,$);break}}if(y)break;if(S&&o.getParentElement(S,"FIGCAPTION")&&o.getParentElement(S,o.isList)&&(g._enterPrevent(l),C=c.appendFormatTag(C,null),c.setRange(C,0,C,0)),x){l.preventDefault(),l.stopPropagation(),c.containerOff(),c.controllersOff();let L=e[x],G=L._container,B=G.previousElementSibling||G.nextElementSibling,$=null;o.isListCell(G.parentNode)?$=o.createElement("BR"):($=o.createElement(o.isFormatElement(B)&&!o.isRangeFormatElement(B)?B.nodeName:s.defaultTag),$.innerHTML="<br>"),p?G.parentNode.insertBefore($,G):G.parentNode.insertBefore($,G.nextElementSibling),c.callPlugin(x,function(){c.selectComponent(L._element,x)===!1&&c.blur()},null)}break;case 27:if(x)return l.preventDefault(),l.stopPropagation(),c.controllersOff(),!1;break}if(p&&d===16){l.preventDefault(),l.stopPropagation();let D=c.plugins.table;if(D&&!D._shift&&!D._ref){let O=o.getParentElement(C,o.isCell);if(O){D.onTableCellMultiSelect.call(c,O,!0);return}}}else if(p&&(o.isOSX_IOS?_:f)&&d===32){l.preventDefault(),l.stopPropagation();let D=c.insertNode(o.createTextNode("\xA0"));if(D){c.setRange(D,D.length,D,D.length);return}}if(o.isIE&&!f&&!_&&!y&&!g._nonTextKeyCode.test(d)&&o.isBreak(m.commonAncestorContainer)){let D=o.createTextNode(o.zeroWidthSpace);c.insertNode(D,null,!1),c.setRange(D,1,D,1)}g._directionKeyCode.test(d)&&(h.setTimeout(c._editorRange.bind(c),0),g._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(l){if(l.shiftKey)return;let a=c.getSelectionNode(),d=function(_,m){if(m||(m=0),l.preventDefault(),l.stopPropagation(),!_)return;let y=c.getFileComponent(_);y?c.selectComponent(y.target,y.pluginName):(c.setRange(_,m,_,m),c.controllersOff())},p=o.getParentElement(a,"table");if(p){let _=o.getParentElement(a,"tr"),m=o.getParentElement(a,"td"),y=m,x=m;if(m){for(;y&&y.firstChild;)y=y.firstChild;for(;x&&x.lastChild;)x=x.lastChild}let C=a;for(;C&&C.firstChild;)C=C.firstChild;let S=C===y,V=C===x,D=null,O=0;if(l.keyCode===38&&S){let P=_&&_.previousElementSibling;for(P?D=P.children[m.cellIndex]:D=o.getPreviousDeepestNode(p,c.context.element.wysiwyg);D&&D.lastChild;)D=D.lastChild;D&&(O=D.textContent.length)}else if(l.keyCode===40&&V){let P=_&&_.nextElementSibling;for(P?D=P.children[m.cellIndex]:D=o.getNextDeepestNode(p,c.context.element.wysiwyg);D&&D.firstChild;)D=D.firstChild}if(D)return d(D,O),!1}let f=c.getFileComponent(a);if(f){let _=/37|38/.test(l.keyCode),m=/39|40/.test(l.keyCode);if(_){let y=o.getPreviousDeepestNode(f.target,c.context.element.wysiwyg);d(y,y&&y.textContent.length)}else if(m){let y=o.getNextDeepestNode(f.target,c.context.element.wysiwyg);d(y)}}},onKeyUp_wysiwyg:function(l){if(g._onShortcutKey)return;c._editorRange();let a=l.keyCode,d=l.ctrlKey||l.metaKey||a===91||a===92||a===224,p=l.altKey;if(c.isReadOnly){!d&&g._cursorMoveKeyCode.test(a)&&g._applyTagEffects();return}let f=c.getRange(),_=c.getSelectionNode();if(c._isBalloon&&(c._isBalloonAlways&&a!==27||!f.collapsed))if(c._isBalloonAlways)a!==27&&g._showToolbarBalloonDelay();else{g._showToolbarBalloon();return}let m=_;for(;m&&m.firstChild;)m=m.firstChild;let y=c.getFileComponent(m);if(!(l.keyCode===16||l.shiftKey)&&y?c.selectComponent(y.target,y.pluginName):c.currentFileComponentInfo&&c.controllersOff(),a===8&&o.isWysiwygDiv(_)&&_.textContent===""&&_.children.length===0){l.preventDefault(),l.stopPropagation(),_.innerHTML="";let D=o.createElement(o.isFormatElement(c._variable.currentNodes[0])?c._variable.currentNodes[0]:s.defaultTag);D.innerHTML="<br>",_.appendChild(D),c.setRange(D,0,D,0),g._applyTagEffects(),c.history.push(!1);return}let x=o.getFormatElement(_,null),C=o.getRangeFormatElement(_,null),S=c._formatAttrsTemp;if(S){for(let D=0,O=S.length;D<O;D++){if(a===13&&/^id$/i.test(S[D].name)){x.removeAttribute("id");continue}x.setAttribute(S[D].name,S[D].value)}c._formatAttrsTemp=null}if(!x&&f.collapsed&&!o.isComponent(_)&&!o.isList(_)&&c._setDefaultFormat(o.isRangeFormatElement(C)?"DIV":s.defaultTag)!==null&&(_=c.getSelectionNode()),!d&&!p&&!g._nonTextKeyCode.test(a)&&_.nodeType===3&&o.zeroWidthRegExp.test(_.textContent)&&!(l.isComposing!==void 0?l.isComposing:g._IEisComposing)){let D=f.startOffset,O=f.endOffset,P=(_.textContent.substring(0,O).match(g._frontZeroWidthReg)||"").length;D=f.startOffset-P,O=f.endOffset-P,_.textContent=_.textContent.replace(o.zeroWidthRegExp,""),c.setRange(_,D<0?0:D,_,O<0?0:O)}g._deleteKeyCode.test(a)&&x&&o.onlyZeroWidthSpace(x.textContent)&&!x.previousElementSibling&&(x.innerHTML="<br>",c.setRange(x,0,x,0)),c._charCount(""),!(typeof E.onKeyUp=="function"&&E.onKeyUp(l,c)===!1)&&!d&&!p&&!g._historyIgnoreKeyCode.test(a)&&c.history.push(!0)},onScroll_wysiwyg:function(l){c.controllersOff(),c._isBalloon&&g._hideToolbar(),typeof E.onScroll=="function"&&E.onScroll(l,c)},onFocus_wysiwyg:function(l){c._antiBlur||(c.hasFocus=!0,h.setTimeout(g._applyTagEffects),c._isInline&&g._showToolbarInline(),typeof E.onFocus=="function"&&E.onFocus(l,c))},onBlur_wysiwyg:function(l){c._antiBlur||c._variable.isCodeView||(c.hasFocus=!1,c.effectNode=null,c.controllersOff(),(c._isInline||c._isBalloon)&&g._hideToolbar(),c._setKeyEffect([]),c._variable.currentNodes=[],c._variable.currentNodesMap=[],s.showPathLabel&&(e.element.navigation.textContent=""),typeof E.onBlur=="function"&&E.onBlur(l,c,this))},onMouseDown_resizingBar:function(l){l.stopPropagation(),c.submenuOff(),c.controllersOff(),c._variable.resizeClientY=l.clientY,e.element.resizeBackground.style.display="block";function a(){e.element.resizeBackground.style.display="none",u.removeEventListener("mousemove",g._resize_editor),u.removeEventListener("mouseup",a)}u.addEventListener("mousemove",g._resize_editor),u.addEventListener("mouseup",a)},_resize_editor:function(l){let a=e.element.editorArea.offsetHeight+(l.clientY-c._variable.resizeClientY),d=a<c._variable.minResizingSize?c._variable.minResizingSize:a;e.element.wysiwygFrame.style.height=e.element.code.style.height=d+"px",c._variable.resizeClientY=l.clientY,o.isResizeObserverSupported||c.__callResizeFunction(d,null)},onResize_window:function(){o.isResizeObserverSupported||c.resetResponsiveToolbar();let l=e.element.toolbar,a=l.style.display==="none"||c._isInline&&!c._inlineToolbarAttr.isShow;if(!(l.offsetWidth===0&&!a)){if(e.fileBrowser&&e.fileBrowser.area.style.display==="block"&&(e.fileBrowser.body.style.maxHeight=h.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),c.submenuActiveButton&&c.submenu&&c._setMenuPosition(c.submenuActiveButton,c.submenu),c._variable.isFullScreen){c._variable.innerHeight_fullScreen+=h.innerHeight-l.offsetHeight-c._variable.innerHeight_fullScreen,e.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px";return}if(c._variable.isCodeView&&c._isInline){g._showToolbarInline();return}c._iframeAutoHeight(),c._sticky&&(l.style.width=e.element.topArea.offsetWidth-2+"px",g.onScroll_window())}},onScroll_window:function(){if(c._variable.isFullScreen||e.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;let l=e.element,a=l.editorArea.offsetHeight,d=(this.scrollY||u.documentElement.scrollTop)+s.stickyToolbar,p=g._getEditorOffsets(s.toolbarContainer).top-(c._isInline?l.toolbar.offsetHeight:0),f=c._isInline&&d-p>0?d-p-e.element.toolbar.offsetHeight:0;d<p?g._offStickyToolbar():d+c._variable.minResizingSize>=a+p?(c._sticky||g._onStickyToolbar(f),l.toolbar.style.top=f+a+p+s.stickyToolbar-d-c._variable.minResizingSize+"px"):d>=p&&g._onStickyToolbar(f)},_getEditorOffsets:function(l){let a=l||e.element.topArea,d=0,p=0,f=0;for(;a;)d+=a.offsetTop,p+=a.offsetLeft,f+=a.scrollTop,a=a.offsetParent;return{top:d,left:p,scroll:f}},_getPageBottomSpace:function(){return u.documentElement.scrollHeight-(g._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(l){let a=e.element;!c._isInline&&!s.toolbarContainer&&(a._stickyDummy.style.height=a.toolbar.offsetHeight+"px",a._stickyDummy.style.display="block"),a.toolbar.style.top=s.stickyToolbar+l+"px",a.toolbar.style.width=c._isInline?c._inlineToolbarAttr.width:a.toolbar.offsetWidth+"px",o.addClass(a.toolbar,"se-toolbar-sticky"),c._sticky=!0},_offStickyToolbar:function(){let l=e.element;l._stickyDummy.style.display="none",l.toolbar.style.top=c._isInline?c._inlineToolbarAttr.top:"",l.toolbar.style.width=c._isInline?c._inlineToolbarAttr.width:"",l.editorArea.style.marginTop="",o.removeClass(l.toolbar,"se-toolbar-sticky"),c._sticky=!1},_codeViewAutoHeight:function(){c._variable.isFullScreen||(e.element.code.style.height=e.element.code.scrollHeight+"px")},_hardDelete:function(){let l=c.getRange(),a=l.startContainer,d=l.endContainer,p=o.getRangeFormatElement(a),f=o.getRangeFormatElement(d),_=o.isCell(p),m=o.isCell(f),y=l.commonAncestorContainer;if((_&&!p.previousElementSibling&&!p.parentElement.previousElementSibling||m&&!f.nextElementSibling&&!f.parentElement.nextElementSibling)&&p!==f)if(!_)o.removeItem(o.getParentElement(f,function(S){return y===S.parentNode}));else if(!m)o.removeItem(o.getParentElement(p,function(S){return y===S.parentNode}));else return o.removeItem(o.getParentElement(p,function(S){return y===S.parentNode})),c.nativeFocus(),!0;let x=a.nodeType===1?o.getParentElement(a,".se-component"):null,C=d.nodeType===1?o.getParentElement(d,".se-component"):null;return x&&o.removeItem(x),C&&o.removeItem(C),!1},onPaste_wysiwyg:function(l){let a=o.isIE?h.clipboardData:l.clipboardData;return a?g._dataTransferAction("paste",l,a):!0},_setClipboardComponent:function(l,a,d){l.preventDefault(),l.stopPropagation(),d.setData("text/html",a.component.outerHTML)},onCopy_wysiwyg:function(l){let a=o.isIE?h.clipboardData:l.clipboardData;if(typeof E.onCopy=="function"&&E.onCopy(l,a,c)===!1)return l.preventDefault(),l.stopPropagation(),!1;let d=c.currentFileComponentInfo;d&&!o.isIE&&(g._setClipboardComponent(l,d,a),o.addClass(d.component,"se-component-copy"),h.setTimeout(function(){o.removeClass(d.component,"se-component-copy")},150))},onSave_wysiwyg:function(l){if(typeof E.onSave=="function"){E.onSave(l,c);return}},onCut_wysiwyg:function(l){let a=o.isIE?h.clipboardData:l.clipboardData;if(typeof E.onCut=="function"&&E.onCut(l,a,c)===!1)return l.preventDefault(),l.stopPropagation(),!1;let d=c.currentFileComponentInfo;d&&!o.isIE&&(g._setClipboardComponent(l,d,a),o.removeItem(d.component),c.controllersOff()),h.setTimeout(function(){c.history.push(!1)})},onDrop_wysiwyg:function(l){if(c.isReadOnly||o.isIE)return l.preventDefault(),l.stopPropagation(),!1;let a=l.dataTransfer;return a?(g._setDropLocationSelection(l),c.removeNode(),document.body.contains(c.currentControllerTarget)||c.controllersOff(),g._dataTransferAction("drop",l,a)):!0},_setDropLocationSelection:function(l){let a={startContainer:null,startOffset:null,endContainer:null,endOffset:null},d=null;if(l.rangeParent?(a.startContainer=l.rangeParent,a.startOffset=l.rangeOffset,a.endContainer=l.rangeParent,a.endOffset=l.rangeOffset):c._wd.caretRangeFromPoint?d=c._wd.caretRangeFromPoint(l.clientX,l.clientY):d=c.getRange(),d&&(a.startContainer=d.startContainer,a.startOffset=d.startOffset,a.endContainer=d.endContainer,a.endOffset=d.endOffset),a.startContainer===a.endContainer){let p=o.getParentElement(a.startContainer,o.isComponent);p&&(a.startContainer=p,a.startOffset=0,a.endContainer=p,a.endOffset=0)}c.setRange(a.startContainer,a.startOffset,a.endContainer,a.endOffset)},_dataTransferAction:function(l,a,d){let p,f;if(o.isIE){p=d.getData("Text");let _=c.getRange(),m=o.createElement("DIV"),y={sc:_.startContainer,so:_.startOffset,ec:_.endContainer,eo:_.endOffset};return m.setAttribute("contenteditable",!0),m.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(m),m.focus(),h.setTimeout(function(){f=m.innerHTML,o.removeItem(m),c.setRange(y.sc,y.so,y.ec,y.eo),g._setClipboardData(l,a,p,f,d)}),!0}else if(p=d.getData("text/plain"),f=d.getData("text/html"),g._setClipboardData(l,a,p,f,d)===!1)return a.preventDefault(),a.stopPropagation(),!1},_setClipboardData:function(l,a,d,p,f){let _=/class=["']*Mso(Normal|List)/i.test(p)||/content=["']*Word.Document/i.test(p)||/content=["']*OneNote.File/i.test(p)||/content=["']*Excel.Sheet/i.test(p);!p?p=o._HTMLConvertor(d).replace(/\n/g,"<br>"):(p=p.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),_&&(p=p.replace(/\n/g," "),d=d.replace(/\n/g," ")),p=c.cleanHTML(p,c.pasteTagsWhitelistRegExp,c.pasteTagsBlacklistRegExp));let y=c._charCount(c._charTypeHTML?p:d);if(l==="paste"&&typeof E.onPaste=="function"){let C=E.onPaste(a,p,y,c);if(C===!1)return!1;if(typeof C=="string"){if(!C)return!1;p=C}}if(l==="drop"&&typeof E.onDrop=="function"){let C=E.onDrop(a,p,y,c);if(C===!1)return!1;if(typeof C=="string"){if(!C)return!1;p=C}}let x=f.files;if(x.length>0&&!_)return/^image/.test(x[0].type)&&c.plugins.image&&E.insertImage(x),!1;if(!y)return!1;if(p)return E.insertHTML(p,!0,!1),!1},onMouseMove_wysiwyg:function(l){if(c.isDisabled||c.isReadOnly)return!1;let a=o.getParentElement(l.target,o.isComponent),d=c._lineBreaker.style;if(a&&!c.currentControllerName){let p=e.element,f=0,_=p.wysiwyg;do f+=_.scrollTop,_=_.parentElement;while(_&&!/^(BODY|HTML)$/i.test(_.nodeName));let m=p.wysiwyg.scrollTop,y=g._getEditorOffsets(null),x=o.getOffset(a,p.wysiwygFrame).top+m,C=l.pageY+f+(s.iframe&&!s.toolbarContainer?p.toolbar.offsetHeight:0),S=x+(s.iframe?f:y.top),V=o.isListCell(a.parentNode),D="",O="";if((V?!a.previousSibling:!o.isFormatElement(a.previousElementSibling))&&C<S+20)O=x,D="t";else if((V?!a.nextSibling:!o.isFormatElement(a.nextElementSibling))&&C>S+a.offsetHeight-20)O=x+a.offsetHeight,D="b";else{d.display="none";return}c._variable._lineBreakComp=a,c._variable._lineBreakDir=D,d.top=O-m+"px",c._lineBreakerButton.style.left=o.getOffset(a).left+a.offsetWidth/2-15+"px",d.display="block"}else d.display!=="none"&&(d.display="none")},_enterPrevent:function(l){l.preventDefault(),o.isMobile&&c.__focusTemp.focus()},_onMouseDown_lineBreak:function(l){l.preventDefault()},_onLineBreak:function(l){l.preventDefault();let a=c._variable._lineBreakComp,d=this?this:c._variable._lineBreakDir,p=o.isListCell(a.parentNode),f=o.createElement(p?"BR":o.isCell(a.parentNode)?"DIV":s.defaultTag);if(p||(f.innerHTML="<br>"),c._charTypeHTML&&!c.checkCharCount(f.outerHTML,"byte-html"))return;a.parentNode.insertBefore(f,d==="t"?a:a.nextSibling),c._lineBreaker.style.display="none",c._variable._lineBreakComp=null;let _=p?f:f.firstChild;c.setRange(_,1,_,1),c.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){let l=s.iframe?c._ww:e.element.wysiwyg;o.isResizeObserverSupported&&(this._resizeObserver=new h.ResizeObserver(function(a){c.__callResizeFunction(-1,a[0])})),e.element.toolbar.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",g.onClick_toolbar,!1),l.addEventListener("mousedown",g.onMouseDown_wysiwyg,!1),l.addEventListener("click",g.onClick_wysiwyg,!1),l.addEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg,!1),l.addEventListener("keydown",g.onKeyDown_wysiwyg,!1),l.addEventListener("keyup",g.onKeyUp_wysiwyg,!1),l.addEventListener("paste",g.onPaste_wysiwyg,!1),l.addEventListener("copy",g.onCopy_wysiwyg,!1),l.addEventListener("cut",g.onCut_wysiwyg,!1),l.addEventListener("drop",g.onDrop_wysiwyg,!1),l.addEventListener("scroll",g.onScroll_wysiwyg,!1),l.addEventListener("focus",g.onFocus_wysiwyg,!1),l.addEventListener("blur",g.onBlur_wysiwyg,!1),g._lineBreakerBind={a:g._onLineBreak.bind(""),t:g._onLineBreak.bind("t"),b:g._onLineBreak.bind("b")},l.addEventListener("mousemove",g.onMouseMove_wysiwyg,!1),c._lineBreakerButton.addEventListener("mousedown",g._onMouseDown_lineBreak,!1),c._lineBreakerButton.addEventListener("click",g._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",g._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",g._lineBreakerBind.b,!1),l.addEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),l.addEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.addEventListener("keydown",g._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",g._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",g._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?e.element.resizingBar.addEventListener("mousedown",g.onMouseDown_resizingBar,!1):o.addClass(e.element.resizingBar,"se-resizing-none")),g._setResponsiveToolbar(),o.isResizeObserverSupported&&(this._toolbarObserver=new h.ResizeObserver(c.resetResponsiveToolbar)),h.addEventListener("resize",g.onResize_window,!1),s.stickyToolbar>-1&&h.addEventListener("scroll",g.onScroll_window,!1)},_removeEvent:function(){let l=s.iframe?c._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",g._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",g._buttonsEventHandler),e.element.toolbar.removeEventListener("click",g.onClick_toolbar),l.removeEventListener("mousedown",g.onMouseDown_wysiwyg),l.removeEventListener("click",g.onClick_wysiwyg),l.removeEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg),l.removeEventListener("keydown",g.onKeyDown_wysiwyg),l.removeEventListener("keyup",g.onKeyUp_wysiwyg),l.removeEventListener("paste",g.onPaste_wysiwyg),l.removeEventListener("copy",g.onCopy_wysiwyg),l.removeEventListener("cut",g.onCut_wysiwyg),l.removeEventListener("drop",g.onDrop_wysiwyg),l.removeEventListener("scroll",g.onScroll_wysiwyg),l.removeEventListener("mousemove",g.onMouseMove_wysiwyg),c._lineBreakerButton.removeEventListener("mousedown",g._onMouseDown_lineBreak),c._lineBreakerButton.removeEventListener("click",g._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",g._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",g._lineBreakerBind.b),g._lineBreakerBind=null,l.removeEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),l.removeEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),l.removeEventListener("focus",g.onFocus_wysiwyg),l.removeEventListener("blur",g.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",g._codeViewAutoHeight),e.element.code.removeEventListener("keyup",g._codeViewAutoHeight),e.element.code.removeEventListener("paste",g._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",g.onMouseDown_resizingBar),g._resizeObserver&&(g._resizeObserver.unobserve(e.element.wysiwygFrame),g._resizeObserver=null),g._toolbarObserver&&(g._toolbarObserver.unobserve(e.element._toolbarShadow),g._toolbarObserver=null),h.removeEventListener("resize",g.onResize_window),h.removeEventListener("scroll",g.onScroll_window)},_setResponsiveToolbar:function(){if(r.length===0){r=null;return}g._responsiveCurrentSize="default";let l=g._responsiveButtonSize=[],a=g._responsiveButtons={default:r[0]};for(let d=1,p=r.length,f,_;d<p;d++)_=r[d],f=_[0]*1,l.push(f),a[f]=_[1];l.sort(function(d,p){return d-p}).unshift("default")}},E={core:c,util:o,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(l){c.submenuOff(),c.containerOff(),c.moreLayerOff();let a=Oi._createToolBar(u,l,c.plugins,s);r=a.responsiveButtons,g._setResponsiveToolbar(),e.element.toolbar.replaceChild(a._buttonTray,e.element._buttonTray);let d=Bi(e.element.originElement,c._getConstructed(e.element),s);e.element=d.element,e.tool=d.tool,s.iframe&&(e.element.wysiwyg=c._wd.body),c._recoverButtonStates(),c._cachingButtons(),c.history._resetCachingButton(),c.effectNode=null,c.hasFocus&&g._applyTagEffects(),c.isReadOnly&&o.setDisabledButtons(!0,c.resizingDisabledButtons),typeof E.onSetToolbarButtons=="function"&&E.onSetToolbarButtons(a._buttonTray.querySelectorAll("button"),c)},setOptions:function(l){g._removeEvent(),c._resetComponents(),o.removeClass(c._styleCommandMap.showBlocks,"active"),o.removeClass(c._styleCommandMap.codeView,"active"),c._variable.isCodeView=!1,c._iframeAuto=null,c.plugins=l.plugins||c.plugins;let a=[s,l].reduce(function(_,m){for(let y in m)if(o.hasOwn(m,y))if(y==="plugins"&&m[y]&&_[y]){let x=_[y],C=m[y];x=x.length?x:h.Object.keys(x).map(function(S){return x[S]}),C=C.length?C:h.Object.keys(C).map(function(S){return C[S]}),_[y]=C.filter(function(S){return x.indexOf(S)===-1}).concat(x)}else _[y]=m[y];return _},{}),d=e.element,p=d.wysiwyg.innerHTML,f=Oi._setOptions(a,e,s);f.callButtons&&(t=f.callButtons,c.initPlugins={}),f.plugins&&(c.plugins=i=f.plugins),d._menuTray.children.length===0&&(this._menuTray={}),r=f.toolbar.responsiveButtons,c.options=s=a,c.lang=n=s.lang,s.iframe&&d.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),c._setOptionsInit(d,p)}),d.editorArea.appendChild(d.wysiwygFrame),s.iframe||c._setOptionsInit(d,p)},setDefaultStyle:function(l){let a=s._editorStyles=o._setDefaultOptionStyle(s,l),d=e.element;d.topArea.style.cssText=a.top,d.code.style.cssText=s._editorStyles.frame,d.code.style.display="none",s.height==="auto"?d.code.style.overflow="hidden":d.code.style.overflow="",s.iframe?(d.wysiwygFrame.style.cssText=a.frame,d.wysiwyg.style.cssText=a.editor):d.wysiwygFrame.style.cssText=a.frame+a.editor},noticeOpen:function(l){c.notice.open.call(c,l)},noticeClose:function(){c.notice.close.call(c)},save:function(){let l=c.getContents(!1);e.element.originElement.value=l,g.onSave_wysiwyg(l,c)},getContext:function(){return e},getContents:function(l){return c.getContents(l)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(l){return l=typeof l=="string"?l:s.charCounterType,c.getCharLength(c._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,l)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(l){return e[l]?e[l]._infoList:[]},insertImage:function(l){!c.plugins.image||!l||(c.initPlugins.image?c.plugins.image.submitAction.call(c,l):c.callPlugin("image",c.plugins.image.submitAction.bind(c,l),null),c.focus())},insertHTML:function(l,a,d,p){if(e.element.wysiwygFrame.contains(c.getSelection().focusNode)||c.focus(),typeof l=="string"){a||(l=c.cleanHTML(l,null,null));try{if(o.isListCell(o.getFormatElement(c.getSelectionNode(),null))){let O=u.createRange().createContextualFragment(l).childNodes;c._isFormatData(O)&&(l=c._convertListCell(O))}let _=u.createRange().createContextualFragment(l).childNodes;if(d){let D=c._charTypeHTML?"outerHTML":"textContent",O="";for(let P=0,K=_.length;P<K;P++)O+=_[P][D];if(!c.checkCharCount(O,null))return}let m,y,x,C,S;for(;m=_[0];){if(C&&C.nodeType===3&&y&&y.nodeType===1&&o.isBreak(m)){C=m,o.removeItem(m);continue}x=c.insertNode(m,y,!1),y=x.container||x,S||(S=x),C=m}C.nodeType===3&&y.nodeType===1&&(y=C);let V=y.nodeType===3?x.endOffset||y.textContent.length:y.childNodes.length;p?c.setRange(S.container||S,S.startOffset||0,y,V):c.setRange(y,V,y,V)}catch(f){if(c.isDisabled||c.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+f),c.execCommand("insertHTML",!1,l)}}else if(o.isComponent(l))c.insertComponent(l,!1,d,!1);else{let f=null;(o.isFormatElement(l)||o.isMedia(l))&&(f=o.getFormatElement(c.getSelectionNode(),null)),c.insertNode(l,f,d)}c.effectNode=null,c.focus(),c.history.push(!1)},setContents:function(l){c.setContents(l)},appendContents:function(l){let a=c.convertContentsForEditor(l);if(c._variable.isCodeView)c._setCodeView(c._getCodeView()+`
`+c.convertHTMLForCodeView(a,!1));else{let d=o.createElement("DIV");d.innerHTML=a;let p=e.element.wysiwyg,f=d.children;for(let _=0,m=f.length;_<m;_++)f[_]&&p.appendChild(f[_])}c.history.push(!1)},readOnly:function(l){c.isReadOnly=l,o.setDisabledButtons(!!l,c.resizingDisabledButtons),l?(c.controllersOff(),c.submenuActiveButton&&c.submenuActiveButton.disabled&&c.submenuOff(),c._moreLayerActiveButton&&c._moreLayerActiveButton.disabled&&c.moreLayerOff(),c.containerActiveButton&&c.containerActiveButton.disabled&&c.containerOff(),c.modalForm&&c.plugins.dialog.close.call(c),e.element.code.setAttribute("readOnly","true"),o.addClass(e.element.wysiwygFrame,"se-read-only")):(e.element.code.removeAttribute("readOnly"),o.removeClass(e.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!l)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){let l=e.element.topArea.style;l.display==="none"&&(l.display=s.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){c.submenuOff(),c.containerOff(),c.controllersOff(),c.notice&&c.notice.close.call(c),c.modalForm&&c.plugins.dialog.close.call(c),c.history._destroy(),g._removeEvent(),o.removeItem(e.element.toolbar),o.removeItem(e.element.topArea);for(let l in c.functions)o.hasOwn(c,l)&&delete c.functions[l];for(let l in c)o.hasOwn(c,l)&&delete c[l];for(let l in g)o.hasOwn(g,l)&&delete g[l];for(let l in e)o.hasOwn(e,l)&&delete e[l];for(let l in t)o.hasOwn(t,l)&&delete t[l];for(let l in this)o.hasOwn(this,l)&&delete this[l]},toolbar:{disable:function(){c.submenuOff(),c.moreLayerOff(),c.containerOff(),e.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){e.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){c._isInline?g._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display=""),g.onResize_window()},hide:function(){c._isInline?g._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none"),g.onResize_window()}},wysiwyg:{disable:function(){c.controllersOff(),c.modalForm&&c.plugins.dialog.close.call(c),e.element.wysiwyg.setAttribute("contenteditable",!1),c.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enable:function(){e.element.wysiwyg.setAttribute("contenteditable",!0),c.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")}}};c.functions=E,c.options=s;let M=e.element,I=M.originElement,R=M.topArea;return I.style.display="none",R.style.display="block",s.iframe&&M.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),c._editorInit(!1,s.value),s.value=null}),typeof I.nextElementSibling=="object"?I.parentNode.insertBefore(R,I.nextElementSibling):I.parentNode.appendChild(R),M.editorArea.appendChild(M.wysiwygFrame),M=I=R=null,s.iframe||(c._editorInit(!1,s.value),s.value=null),E}var jl={init:function(e){return{create:function(t,i){return this.create(t,i,e)}.bind(this)}},create:function(e,t,i){Ce._propertiesInit(),typeof t!="object"&&(t={}),i&&(t=[i,t].reduce(function(r,u){for(let h in u)if(Ce.hasOwn(u,h))if(h==="plugins"&&u[h]&&r[h]){let o=r[h],b=u[h];o=o.length?o:Object.keys(o).map(function(c){return o[c]}),b=b.length?b:Object.keys(b).map(function(c){return b[c]}),r[h]=b.filter(function(c){return o.indexOf(c)===-1}).concat(o)}else r[h]=u[h];return r},{}));let n=typeof e=="string"?document.getElementById(e):e;if(!n)throw Error(typeof e=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");let s=Oi.init(n,t);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return Zl(Bi(n,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,t,s._responsiveButtons)}};var Gl={name:"blockquote",display:"command",add:function(e,t){let i=e.context;i.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(!e)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){let e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}};var Yl={name:"align",display:"submenu",add:function(e,t){let i=e.icons,n=e.context;n.align={targetButton:t,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:e.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let s=this.setSubmenu(e),r=n.align._itemMenu=s.querySelector("ul");r.addEventListener("click",this.pickup.bind(e)),n.align._alignList=r.querySelectorAll("li button"),e.initMenuTarget(this.name,t,s),s=null,r=null},setSubmenu:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV"),s=e.options.alignItems,r="";for(let u=0,h,o;u<s.length;u++)h=s[u],o=t.toolbar["align"+h.charAt(0).toUpperCase()+h.slice(1)],r+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+h+'" title="'+o+'" aria-label="'+o+'"><span class="se-list-icon">'+i["align_"+h]+"</span>"+o+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+r+"</ul></div>",n},active:function(e){let t=this.context.align,i=t.targetButton,n=i.firstElementChild;if(!e)this.util.changeElement(n,t.icons[t.defaultDir]),i.removeAttribute("data-focus");else if(this.util.isFormatElement(e)){let s=e.style.textAlign;if(s)return this.util.changeElement(n,t.icons[s]||t.icons[t.defaultDir]),i.setAttribute("data-focus",s),!0}return!1},on:function(){let e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||e.defaultDir;if(i!==e.currentAlign){for(let n=0,s=t.length;n<s;n++)i===t[n].getAttribute("data-value")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentAlign=i}},exchangeDir:function(){let e=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===e)return;this.context.align.defaultDir=e;let t=this.context.align._itemMenu,i=t.querySelector('[data-value="left"]'),n=t.querySelector('[data-value="right"]');if(i&&n){let s=i.parentElement,r=n.parentElement;s.appendChild(n),r.appendChild(i)}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;let n=this.context.align.defaultDir,s=this.getSelectedElements();for(let r=0,u=s.length;r<u;r++)this.util.setStyle(s[r],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}};var Ql={name:"font",display:"submenu",add:function(e,t){let i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.lang,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-family";let n,s,r,u,h=e.options.font,o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(r=0,u=h.length;r<u;r++)n=h[r],s=n.split(",")[0],o+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+n+';">'+s+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},active:function(e){let t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){let n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{let n=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(t,n),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(n?" ("+n+")":""):n)}return!1},on:function(){let e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let n=0,s=t.length;n<s;n++)i===(t[n].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){let i=this.util.createElement("SPAN");/[\s\d\W]/.test(t)&&!/^['"].*['"]$/.test(t)&&(t='"'+t+'"'),i.style.fontFamily=t,this.nodeChange(i,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}};var Xl={name:"fontSize",display:"submenu",add:function(e,t){let i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";let s=t.fontSize?t.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72],r='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let u=0,h=t.fontSizeUnit,o=s.length,b;u<o;u++)b=s[u],r+='<li><button type="button" class="se-btn-list" data-value="'+b+h+'" title="'+b+h+'" aria-label="'+b+h+'" style="font-size:'+b+h+';">'+b+"</button></li>";return r+="</ul></div>",n.innerHTML=r,n},active:function(e){if(!e)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,e.style.fontSize)),!0;return!1},on:function(){let e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let n=0,s=t.length;n<s;n++)i===t[n].getAttribute("data-value")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){let i=this.util.createElement("SPAN");i.style.fontSize=t,this.nodeChange(i,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}};var cs={name:"colorPicker",add:function(e){let t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},t.colorPicker.colorListHTML=this.createColorList(e,this._makeColorList)},createColorList:function(e,t){let i=e.options,n=e.lang,s=!i.colorList||i.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:i.colorList,r=[],u='<div class="se-list-inner">';for(let h=0,o=s.length,b;h<o;h++)b=s[h],b&&(typeof b=="string"&&(r.push(b),h<o-1)||(r.length>0&&(u+='<div class="se-selector-color">'+t(r)+"</div>",r=[]),typeof b=="object"&&(u+='<div class="se-selector-color">'+t(b)+"</div>")));return u+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",u},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i=0,n=e.length,s;i<n;i++)s=e[i],typeof s=="string"&&(t+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return t+="</ul>",t},init:function(e,t){let i=this.plugins.colorPicker,n=t||i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;let s=this.context.colorPicker._colorList;if(s)for(let r=0,u=s.length;r<u;r++)n.toLowerCase()===s[r].getAttribute("data-value").toLowerCase()?this.util.addClass(s[r],"active"):this.util.removeClass(s[r],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="",i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&t.length===0;)e.nodeType===1&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){let t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map(function(n){return parseInt(n,10)});return this.util.removeItem(t),i.length>=3?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1):!1}};var Kl={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([cs]);let i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){let e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput;let i=this.wwComputedStyle.color;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;let t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}};var Jl={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([cs]);let i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){let e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput;let i=this.wwComputedStyle.backgroundColor;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;let t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}};var er={name:"horizontalRule",display:"submenu",add:function(e,t){e.context.horizontalRule={currentHR:null};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.lang,i=e.util.createElement("DIV"),n=e.options.hrItems||[{name:t.toolbar.hr_solid,class:"__se__solid"},{name:t.toolbar.hr_dashed,class:"__se__dashed"},{name:t.toolbar.hr_dotted,class:"__se__dotted"}],s="";for(let r=0,u=n.length;r<u;r++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[r].class+'" title="'+n[r].name+'" aria-label="'+n[r].name+'"><hr'+(n[r].class?' class="'+n[r].class+'"':"")+(n[r].style?' style="'+n[r].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",i},active:function(e){if(!e)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(e.nodeName))return this.context.horizontalRule.currentHR=e,this.util.hasClass(e,"on")||(this.util.addClass(e,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,e,"on"))),!0;return!1},appendHr:function(e){return this.focus(),this.insertComponent(e.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=t.getAttribute("data-command");for(;!i&&!/UL/i.test(t.tagName);)t=t.parentNode,i=t.getAttribute("data-command");if(!i)return;let n=this.plugins.horizontalRule.appendHr.call(this,t.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}};var tr={name:"list",display:"submenu",add:function(e,t){let i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.list._list=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.lang,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+t.toolbar.orderList+'" aria-label="'+t.toolbar.orderList+'">'+e.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+t.toolbar.unorderList+'" aria-label="'+t.toolbar.unorderList+'">'+e.icons.list_bullets+"</button></li></ul></div>",i},active:function(e){let t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(n.isList(e)){let s=e.nodeName;return t.setAttribute("data-focus",s),n.addClass(t,"active"),/UL/i.test(s)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}else t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active");return!1},on:function(){let e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let n=0,s=t.length;n<s;n++)i===t[n].getAttribute("data-command")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),s=t||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(t||(n=this.getRange_addLine(n,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;let r=this.util;r.sortByDepth(s,!0);let u=s[0],h=s[s.length-1],o=(r.isListCell(u)||r.isComponent(u))&&!u.previousElementSibling?u.parentNode.previousElementSibling:u.previousElementSibling,b=(r.isListCell(h)||r.isComponent(h))&&!h.nextElementSibling?h.parentNode.nextElementSibling:h.nextElementSibling,c=n.collapsed,g={sc:n.startContainer,so:n.startContainer===n.endContainer&&r.onlyZeroWidthSpace(n.startContainer)&&n.startOffset===0&&n.endOffset===1?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset},E=null,M=!0;for(let I=0,R=s.length;I<R;I++)if(!r.isList(r.getRangeFormatElement(s[I],function(l){return this.getRangeFormatElement(l)&&l!==s[I]}.bind(r)))){M=!1;break}if(M&&(!o||u.tagName!==o.tagName||e!==o.tagName.toUpperCase())&&(!b||h.tagName!==b.tagName||e!==b.tagName.toUpperCase())){if(i){for(let p=0,f=s.length;p<f;p++)for(let _=p-1;_>=0;_--)if(s[_].contains(s[p])){s.splice(p,1),p--,f--;break}}let I=r.getRangeFormatElement(u),R=I&&I.tagName===e,l,a,d=function(p){return!this.isComponent(p)}.bind(r);R||(a=r.createElement(e));for(let p=0,f=s.length,_,m;p<f;p++)m=r.getRangeFormatElement(s[p],d),!(!m||!r.isList(m))&&(_?_!==m?(i&&r.isListCell(m.parentNode)?this.plugins.list._detachNested.call(this,l.f):E=this.detachRangeFormatElement(l.f[0].parentNode,l.f,a,!1,!0),m=s[p].parentNode,R||(a=r.createElement(e)),_=m,l={r:_,f:[r.getParentElement(s[p],"LI")]}):l.f.push(r.getParentElement(s[p],"LI")):(_=m,l={r:_,f:[r.getParentElement(s[p],"LI")]}),p===f-1&&(i&&r.isListCell(m.parentNode)?this.plugins.list._detachNested.call(this,l.f):E=this.detachRangeFormatElement(l.f[0].parentNode,l.f,a,!1,!0)))}else{let I=o&&o.parentNode,R=b&&b.parentNode;o=I&&!r.isWysiwygDiv(I)&&I.nodeName===e?I:o,b=R&&!r.isWysiwygDiv(R)&&R.nodeName===e?R:b;let l=o&&o.tagName===e,a=b&&b.tagName===e,d=l?o:r.createElement(e),p=null,f=null,_=null,m=null,y=function(x){return!this.isComponent(x)&&!this.isList(x)}.bind(r);for(let x=0,C=s.length,S,V,D,O,P,K,te,X,Z;x<C;x++){if(V=s[x],V.childNodes.length===0&&!r._isIgnoreNodeChange(V)){r.removeItem(V);continue}if(O=s[x+1],P=V.parentNode,K=O?O.parentNode:null,D=r.isListCell(V),Z=r.isRangeFormatElement(P)?P:null,te=D&&!r.isWysiwygDiv(P)?P.parentNode:P,X=D&&!r.isWysiwygDiv(P)?!O||r.isListCell(te)?P:P.nextSibling:V.nextSibling,S=r.createElement("LI"),r.copyFormatAttributes(S,V),x===0&&g.sc===V&&(g.sc=S),x===C-1&&g.ec===V&&(g.ec=S),r.isComponent(V)){let Y=/^HR$/i.test(V.nodeName);Y||(S.innerHTML="<br>"),S.innerHTML+=V.outerHTML,Y&&(S.innerHTML+="<br>")}else{let Y=V.childNodes;for(;Y[0];)S.appendChild(Y[0])}d.appendChild(S),O||(f=d),(!O||te!==K||r.isRangeFormatElement(X))&&(p||(p=d),(!l||!O||te!==K)&&!(O&&r.isList(K)&&K===P)&&d.parentNode!==te&&te.insertBefore(d,X)),r.removeItem(V),l&&_===null&&(_=d.children.length-1),O&&(r.getRangeFormatElement(K,y)!==r.getRangeFormatElement(P,y)||r.isList(K)&&r.isList(P)&&r.getElementDepth(K)!==r.getElementDepth(P))&&(d=r.createElement(e)),Z&&Z.children.length===0&&r.removeItem(Z)}_&&(p=p.children[_]),a&&(m=d.children.length-1,d.innerHTML+=b.innerHTML,f=d.children[m],r.removeItem(b))}return this.effectNode=null,c&&E||g},_detachNested:function(e){let t=e[0],i=e[e.length-1],n=i.nextElementSibling,s=t.parentNode,r=s.parentNode.nextElementSibling,u=s.parentNode.parentNode;for(let o=0,b=e.length;o<b;o++)u.insertBefore(e[o],r);if(n&&s.children.length>0){let o=s.cloneNode(!1),b=s.childNodes,c=this.util.getPositionIndex(n);for(;b[c];)o.appendChild(b[c]);i.appendChild(o)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(u);let h=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:h.sc,ec:h.ec}},editInsideList:function(e,t){t=t||this.getSelectedElements().filter(function(u){return this.isListCell(u)}.bind(this.util));let i=t.length;if(i===0||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,s=t[i-1],r=null;if(e){if(n!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)t.push(s),s=s.nextElementSibling;r=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let u=this.util.createElement(n.nodeName),h=t[0].previousElementSibling,o=s.nextElementSibling,b={s:null,e:null,sl:n,el:n};for(let E=0,M=i,I;E<M;E++)I=t[E],I.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,u,h,o,b),n=I.parentNode,u=this.util.createElement(n.nodeName)),h=I.previousElementSibling,o=I.nextElementSibling,u.appendChild(I);this.plugins.list._insiedList.call(this,n,u,h,o,b);let c=this.util.getNodeFromPath(b.s,b.sl),g=this.util.getNodeFromPath(b.e,b.el);r={sc:c,so:0,ec:g,eo:g.textContent.length}}return r},_insiedList:function(e,t,i,n,s){let r=!1;if(i&&t.tagName===i.tagName){let u=t.children;for(;u[0];)i.appendChild(u[0]);t=i,r=!0}if(n&&t.tagName===n.tagName){let u=n.children;for(;u[0];)t.appendChild(u[0]);let h=n.nextElementSibling;n.parentNode.removeChild(n),n=h}if(!r){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),s.s||(s.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),s.sl=e);let u=e.contains(s.sl)?this.util.getNodePath(s.sl,e):null;s.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),s.el=e,this.util.mergeSameTags(e,[s.s,s.e,u],!1),this.util.mergeNestedTags(e),u&&(s.sl=this.util.getNodeFromPath(u,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;let n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}};var ir={name:"table",display:"submenu",add:function(e,t){let i=e.context,n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:e.options.rtl,cellControllerTop:e.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}},s=this.setSubmenu(e),r=s.querySelector(".se-controller-table-picker");n.tableHighlight=s.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=s.querySelector(".se-table-size-display"),e.options.rtl&&(n.tableHighlight.style.left=10*18-13+"px");let u=this.setController_table(e);n.tableController=u,n.resizeButton=u.querySelector("._se_table_resize"),n.resizeText=u.querySelector("._se_table_resize > span > span"),n.columnFixedButton=u.querySelector("._se_table_fixed_column"),n.headerButton=u.querySelector("._se_table_header");let h=this.setController_tableEditor(e,n.cellControllerTop);n.resizeDiv=h,n.splitMenu=h.querySelector(".se-btn-group-sub"),n.mergeButton=h.querySelector("._se_table_merge_button"),n.splitButton=h.querySelector("._se_table_split_button"),n.insertRowAboveButton=h.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=h.querySelector("._se_table_insert_row_b"),r.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e,n)),r.addEventListener("click",this.appendTable.bind(e)),h.addEventListener("click",this.onClick_tableController.bind(e)),u.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,s),i.element.relative.appendChild(h),i.element.relative.appendChild(u),s=null,r=null,h=null,u=null,n=null},setSubmenu:function(e){let t=e.util.createElement("DIV");return t.className="se-submenu se-selector-table",t.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',t},setController_table:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(e,t){let i=e.lang,n=e.icons,s=e.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(t?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){let e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0],n=this.context.table._tableXY[1],s="<tbody>";for(;n>0;)s+="<tr>"+t.call(this,"td",i)+"</tr>",--n;if(s+="</tbody>",e.innerHTML=s,this.insertComponent(e,!1,!0,!1)){let u=e.querySelector("td div");this.setRange(u,0,u,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){let n=this.util.createElement(e);return n.innerHTML="<div><br></div>",n}else{let n="";for(;t>0;)n+="<"+e+"><div><br></div></"+e+">",t--;return n}},onMouseMove_tablePicker:function(e,t){t.stopPropagation();let i=this._w.Math.ceil(t.offsetX/18),n=this._w.Math.ceil(t.offsetY/18);i=i<1?1:i,n=n<1?1:n,e._rtl&&(e.tableHighlight.style.left=i*18-13+"px",i=11-i),e.tableHighlight.style.width=i+"em",e.tableHighlight.style.height=n+"em",this.util.changeTxt(e.tableDisplay,i+" x "+n),e._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;let e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){let e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){let i=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let n=0,s=i.length;n<s;n++)this.util.removeClass(i[n],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){let t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell){this.controllersOff(),this.util.removeClass(e,"se-table-selected-cell");return}let n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||n.style.width==="100%"||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||n.style.tableLayout==="fixed",t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerTop.call(this,n),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){this.setControllerPosition(this.context.table.tableController,e,"top",{left:0,top:0})},setPositionControllerDiv:function(e,t){let i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,e,t),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,e,"bottom",{left:0,top:0})},setCellInfo:function(e,t){let i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||i._physical_cellCnt===0){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);let s=i._trElements=n.rows,r=e.cellIndex,u=0;for(let c=0,g=s[0].cells,E=s[0].cells.length;c<E;c++)u+=g[c].colSpan;let h=i._rowIndex=i._trElement.rowIndex;i._rowCnt=s.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=u,i._physical_cellIndex=r,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan-i._trElement.cells[r].rowSpan-1;let o=[],b=[];for(let c=0,g,E;c<=h;c++){g=s[c].cells,E=0;for(let M=0,I=g.length,R,l,a,d;M<I;M++){if(R=g[M],l=R.colSpan-1,a=R.rowSpan-1,d=M+E,b.length>0)for(let p=0,f;p<b.length;p++)f=b[p],!(f.row>c)&&(d>=f.index?(E+=f.cs,d+=f.cs,f.rs-=1,f.row=c+1,f.rs<1&&(b.splice(p,1),p--)):M===I-1&&(f.rs-=1,f.row=c+1,f.rs<1&&(b.splice(p,1),p--)));if(c===h&&M===r){i._logical_cellIndex=d;break}a>0&&o.push({index:d,cs:l+1,rs:a,row:-1}),E+=l}b=b.concat(o).sort(function(M,I){return M.index-I.index}),o=[]}o=null,b=null}},editTable:function(e,t){let i=this.plugins.table,n=this.context.table,s=n._element,r=e==="row";if(r){let u=n._trElement.parentNode;if(/^THEAD$/i.test(u.nodeName)){if(t==="up")return;if(!u.nextElementSibling||!/^TBODY$/i.test(u.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(i._ref){let u=n._tdElement,h=i._selectedCells;if(r)if(t)i.setCellInfo.call(this,t==="up"?h[0]:h[h.length-1],!0),i.editRow.call(this,t,u);else{let o=h[0].parentNode,b=[h[0]];for(let c=1,g=h.length,E;c<g;c++)E=h[c],o!==E.parentNode&&(b.push(E),o=E.parentNode);for(let c=0,g=b.length;c<g;c++)i.setCellInfo.call(this,b[c],!0),i.editRow.call(this,t)}else{let o=h[0].parentNode;if(t){let b=null;for(let c=0,g=h.length-1;c<g;c++)if(o!==h[c+1].parentNode){b=h[c];break}i.setCellInfo.call(this,t==="left"?h[0]:b||h[0],!0),i.editCell.call(this,t,u)}else{let b=[h[0]];for(let c=1,g=h.length,E;c<g&&(E=h[c],o===E.parentNode);c++)b.push(E);for(let c=0,g=b.length;c<g;c++)i.setCellInfo.call(this,b[c],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[r?"editRow":"editCell"].call(this,t);if(!t){let u=s.children;for(let h=0;h<u.length;h++)u[h].children.length===0&&(this.util.removeItem(u[h]),h--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(e,t){let i=this.context.table,n=!e,s=e==="up",r=i._rowIndex,u=n||s?r:r+i._current_rowSpan+1,h=n?-1:1,o=i._trElements,b=i._logical_cellCnt;for(let c=0,g=r+(n?-1:0),E;c<=g;c++){if(E=o[c].cells,E.length===0)return;for(let M=0,I=E.length,R,l;M<I;M++)R=E[M].rowSpan,l=E[M].colSpan,!(R<2&&l<2)&&R+c>u&&u>c&&(E[M].rowSpan=R+h,b-=l)}if(n){let c=o[r+1];if(c){let g=[],E=o[r].cells,M=0;for(let I=0,R=E.length,l,a;I<R;I++)l=E[I],a=I+M,M+=l.colSpan-1,l.rowSpan>1&&(l.rowSpan-=1,g.push({cell:l.cloneNode(!1),index:a}));if(g.length>0){let I=g.shift();E=c.cells,M=0;for(let R=0,l=E.length,a,d;R<l&&(a=E[R],d=R+M,M+=a.colSpan-1,!(d>=I.index&&(R--,M--,M+=I.cell.colSpan-1,c.insertBefore(I.cell,a),I=g.shift(),!I)));R++);if(I){c.appendChild(I.cell);for(let R=0,l=g.length;R<l;R++)c.appendChild(g[R].cell)}}}i._element.deleteRow(u)}else{let c=i._element.insertRow(u);c.innerHTML=this.plugins.table.createCells.call(this,"td",b,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){let i=this.context.table,n=this.util,s=!e,r=e==="left",u=i._current_colSpan,h=s||r?i._logical_cellIndex:i._logical_cellIndex+u+1,o=i._trElements,b=[],c=[],g=0,E=[],M=[];for(let I=0,R=i._rowCnt,l,a,d,p,f,_;I<R;I++){l=o[I],a=h,f=!1,d=l.cells,_=0;for(let m=0,y,x=d.length,C,S,V;m<x&&(y=d[m],!!y);m++)if(C=y.rowSpan-1,S=y.colSpan-1,s){if(V=m+_,c.length>0){let D=!d[m+1];for(let O=0,P;O<c.length;O++)P=c[O],!(P.row>I)&&(V>=P.index?(_+=P.cs,V=m+_,P.rs-=1,P.row=I+1,P.rs<1&&(c.splice(O,1),O--)):D&&(P.rs-=1,P.row=I+1,P.rs<1&&(c.splice(O,1),O--)))}C>0&&b.push({rs:C,cs:S+1,index:V,row:-1}),V>=a&&V+S<=a+u?E.push(y):V<=a+u&&V+S>=a?y.colSpan-=n.getOverlapRangeAtIndex(h,h+u,V,V+S):C>0&&(V<a||V+S>a+u)&&M.push({cell:y,i:I,rs:I+C}),_+=S}else{if(m>=a)break;if(S>0){if(g<1&&S+m>=a){y.colSpan+=1,a=null,g=C+1;break}a-=S}if(!f){for(let D=0,O;D<c.length;D++)O=c[D],a-=O.cs,O.rs-=1,O.rs<1&&(c.splice(D,1),D--);f=!0}}if(c=c.concat(b).sort(function(m,y){return m.index-y.index}),b=[],!s){if(g>0){g-=1;continue}a!==null&&d.length>0&&(p=this.plugins.table.createCells.call(this,d[0].nodeName,0,!0),p=l.insertBefore(p,d[a]))}}if(s){let I,R;for(let l=0,a=E.length,d;l<a;l++)d=E[l].parentNode,n.removeItem(E[l]),d.cells.length===0&&(I||(I=n.getArrayIndex(o,d)),R=n.getArrayIndex(o,d),n.removeItem(d));for(let l=0,a=M.length,d;l<a;l++)d=M[l],d.cell.rowSpan=n.getOverlapRangeAtIndex(I,R,d.i,d.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(e){let t=this.util,i=e==="vertical",n=this.context.table,s=n._tdElement,r=n._trElements,u=n._trElement,h=n._logical_cellIndex,o=n._rowIndex,b=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(i){let c=s.colSpan;if(b.rowSpan=s.rowSpan,c>1)b.colSpan=this._w.Math.floor(c/2),s.colSpan=c-b.colSpan,u.insertBefore(b,s.nextElementSibling);else{let g=[],E=[];for(let M=0,I=n._rowCnt,R,l;M<I;M++){R=r[M].cells,l=0;for(let a=0,d=R.length,p,f,_,m;a<d;a++){if(p=R[a],f=p.colSpan-1,_=p.rowSpan-1,m=a+l,E.length>0)for(let y=0,x;y<E.length;y++)x=E[y],!(x.row>M)&&(m>=x.index?(l+=x.cs,m+=x.cs,x.rs-=1,x.row=M+1,x.rs<1&&(E.splice(y,1),y--)):a===d-1&&(x.rs-=1,x.row=M+1,x.rs<1&&(E.splice(y,1),y--)));if(m<=h&&_>0&&g.push({index:m,cs:f+1,rs:_,row:-1}),p!==s&&m<=h&&m+f>=h+c-1){p.colSpan+=1;break}if(m>h)break;l+=f}E=E.concat(g).sort(function(a,d){return a.index-d.index}),g=[]}u.insertBefore(b,s.nextElementSibling)}}else{let c=s.rowSpan;if(b.colSpan=s.colSpan,c>1){b.rowSpan=this._w.Math.floor(c/2);let g=c-b.rowSpan,E=[],M=t.getArrayIndex(r,u)+g;for(let a=0,d,p;a<M;a++){d=r[a].cells,p=0;for(let f=0,_=d.length,m,y,x;f<_&&(x=f+p,!(x>=h));f++)m=d[f],y=m.rowSpan-1,y>0&&y+a>=M&&x<h&&E.push({index:x,cs:m.colSpan}),p+=m.colSpan-1}let I=r[M],R=I.cells,l=E.shift();for(let a=0,d=R.length,p=0,f,_,m,y;a<d;a++){if(m=a+p,f=R[a],_=f.colSpan-1,y=m+_+1,l&&y>=l.index&&(p+=l.cs,y+=l.cs,l=E.shift()),y>=h||a===d-1){I.insertBefore(b,f.nextElementSibling);break}p+=_}s.rowSpan=g}else{b.rowSpan=s.rowSpan;let g=t.createElement("TR");g.appendChild(b);for(let I=0,R;I<o;I++){if(R=r[I].cells,R.length===0)return;for(let l=0,a=R.length;l<a;l++)I+R[l].rowSpan-1>=o&&(R[l].rowSpan+=1)}let E=n._physical_cellIndex,M=u.cells;for(let I=0,R=M.length;I<R;I++)I!==E&&(M[I].rowSpan+=1);u.parentNode.insertBefore(g,u.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){let e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,s=e._selectedCells,r=s[0],u=null,h=null,o=n.ce-n.cs+1,b=n.re-n.rs+1,c="",g=null;for(let E=1,M=s.length,I,R;E<M;E++){I=s[E],g!==I.parentNode&&(g=I.parentNode),R=I.children;for(let l=0,a=R.length;l<a;l++)i.isFormatElement(R[l])&&i.onlyZeroWidthSpace(R[l].textContent)&&i.removeItem(R[l]);c+=I.innerHTML,i.removeItem(I),g.cells.length===0&&(u?h=g:u=g,b-=1)}if(u){let E=t._trElements,M=i.getArrayIndex(E,u),I=i.getArrayIndex(E,h||u),R=[];for(let l=0,a;l<=I;l++){if(a=E[l].cells,a.length===0){R.push(E[l]);continue}for(let d=0,p=a.length,f,_;d<p;d++)f=a[d],_=f.rowSpan-1,_>0&&l+_>=M&&(f.rowSpan-=i.getOverlapRangeAtIndex(M,I,l,l+_))}for(let l=0,a=R.length;l<a;l++)i.removeItem(R[l])}r.innerHTML+=c,r.colSpan=o,r.rowSpan=b,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,r),i.addClass(r,"se-table-selected-cell"),this.focusEdge(r)},toggleHeader:function(){let e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{let s=e.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(s,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){let t=this.context.table,i=t._element,n,s,r,u;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,s=t.resizeText,t._maxWidth?(r=t.icons.reduction,u=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(r=t.icons.expansion,u=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,r),this.util.changeTxt(s,u)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){let i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),!t||e===t?(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0)):(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();let t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),!(!t._fixedCell||!t._selectedTable)&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;let t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}!i||i===t._selectedCell||t._fixedCellName!==i.nodeName||t._selectedTable!==this.util.getParentElement(i,"TABLE")||(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){let i=this.plugins.table,n=i._selectedTable.rows,s=this.util,r=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let c=0,g=r.length;c<g;c++)s.removeClass(r[c],"se-table-selected-cell");if(e===t&&(s.addClass(e,"se-table-selected-cell"),!i._shift))return;let u=!0,h=[],o=[],b=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let c=0,g=n.length,E,M;c<g;c++){E=n[c].cells,M=0;for(let I=0,R=E.length,l,a,d,p;I<R;I++){if(l=E[I],d=l.colSpan-1,p=l.rowSpan-1,a=I+M,h.length>0)for(let f=0,_;f<h.length;f++)_=h[f],!(_.row>c)&&(a>=_.index?(M+=_.cs,a+=_.cs,_.rs-=1,_.row=c+1,_.rs<1&&(h.splice(f,1),f--)):I===R-1&&(_.rs-=1,_.row=c+1,_.rs<1&&(h.splice(f,1),f--)));if(u){if((l===e||l===t)&&(b.cs=b.cs!==null&&b.cs<a?b.cs:a,b.ce=b.ce!==null&&b.ce>a+d?b.ce:a+d,b.rs=b.rs!==null&&b.rs<c?b.rs:c,b.re=b.re!==null&&b.re>c+p?b.re:c+p,b._i+=1),b._i===2){u=!1,h=[],o=[],c=-1;break}}else if(s.getOverlapRangeAtIndex(b.cs,b.ce,a,a+d)&&s.getOverlapRangeAtIndex(b.rs,b.re,c,c+p)){let f=b.cs<a?b.cs:a,_=b.ce>a+d?b.ce:a+d,m=b.rs<c?b.rs:c,y=b.re>c+p?b.re:c+p;if(b.cs!==f||b.ce!==_||b.rs!==m||b.re!==y){b.cs=f,b.ce=_,b.rs=m,b.re=y,c=-1,h=[],o=[];break}s.addClass(l,"se-table-selected-cell")}p>0&&o.push({index:a,cs:d+1,rs:p,row:-1}),M+=l.colSpan-1}h=h.concat(o).sort(function(I,R){return I.index-R.index}),o=[]}},_removeEvents:function(){let e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){let i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");let n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,r=n.length;s<r;s++)this.util.removeClass(n[s],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;let i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),s=t.getAttribute("data-option"),r=this.plugins.table;if(typeof r._closeSplitMenu=="function"&&(r._closeSplitMenu(),i==="onsplit")||!i)return;e.preventDefault();let u=this.context.table;switch(i){case"insert":case"delete":r.editTable.call(this,n,s);break;case"header":r.toggleHeader.call(this);break;case"onsplit":r.openSplitMenu.call(this);break;case"split":r.splitCells.call(this,n);break;case"merge":r.mergeCells.call(this);break;case"resize":u._maxWidth=!u._maxWidth,r.setTableStyle.call(this,"width"),r.setPositionControllerTop.call(this,u._element),r.setPositionControllerDiv.call(this,u._tdElement,r._shift);break;case"layout":u._fixedColumn=!u._fixedColumn,r.setTableStyle.call(this,"column"),r.setPositionControllerTop.call(this,u._element),r.setPositionControllerDiv.call(this,u._tdElement,r._shift);break;case"remove":let h=u._element.parentNode;this.util.removeItem(u._element),this.controllersOff(),h!==this.context.element.wysiwyg&&this.util.removeItemAllParents(h,function(o){return o.childNodes.length===0},null),this.focus()}this.history.push(!1)}};var nr={name:"formatBlock",display:"submenu",add:function(e,t){let i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.options,i=e.lang.toolbar,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";let s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],r=!t.formats||t.formats.length===0?s:t.formats,u='<div class="se-list-inner"><ul class="se-list-basic">';for(let h=0,o=r.length,b,c,g,E,M,I,R;h<o;h++)b=r[h],typeof b=="string"&&s.indexOf(b)>-1?(c=b.toLowerCase(),g=c==="blockquote"?"range":c==="pre"?"free":"replace",M=/^h/.test(c)?c.match(/\d+/)[0]:"",E=i["tag_"+(M?"h":c)]+M,R="",I=""):(c=b.tag.toLowerCase(),g=b.command,E=b.name||c,R=b.class,I=R?' class="'+R+'"':""),u+='<li><button type="button" class="se-btn-list" data-command="'+g+'" data-value="'+c+'" data-class="'+R+'" title="'+E+'" aria-label="'+E+'"><'+c+I+">"+E+"</"+c+"></button></li>";return u+="</ul></div>",n.innerHTML=u,n},active:function(e){let t=this.lang.toolbar.formats,i=this.context.formatBlock.targetText;if(!e)this.util.changeTxt(i,t);else if(this.util.isFormatElement(e)){let s=this.context.formatBlock._formatList,r=e.nodeName.toLowerCase(),u=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let h=0,o=s.length,b;h<o;h++)if(b=s[h],r===b.getAttribute("data-value")&&u===b.getAttribute("data-class")){t=b.title;break}return this.util.changeTxt(i,t),i.setAttribute("data-value",r),i.setAttribute("data-class",u),!0}return!1},on:function(){let e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let s=0,r=t.length,u;s<r;s++)u=t[s],n===u.getAttribute("data-value")+u.getAttribute("data-class")?this.util.addClass(u,"active"):this.util.removeClass(u,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,s=null,r="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),r=t.getAttribute("data-class"),i){s=t.firstChild;break}t=t.parentNode}if(i){if(i==="range"){let u=s.cloneNode(!1);this.applyRangeFormatElement(u)}else{let u=this.getRange(),h=this.getSelectedElementsAndComponents(!1);if(h.length===0&&(u=this.getRange_addLine(u,null),h=this.getSelectedElementsAndComponents(!1),h.length===0))return;let o=u.startOffset,b=u.endOffset,c=this.util,g=h[0],E=h[h.length-1],M=c.getNodePath(u.startContainer,g,null,null),I=c.getNodePath(u.endContainer,E,null,null),R=this.detachList(h,!1);R.sc&&(g=R.sc),R.ec&&(E=R.ec),this.setRange(c.getNodeFromPath(M,g),o,c.getNodeFromPath(I,E),b);let l=this.getSelectedElementsAndComponents(!1);if(i==="free"){let a=l.length-1,d=l[a].parentNode,p=s.cloneNode(!1),f=p;for(let _=a,m,y,x,C,S,V,D=!0;_>=0;_--)if(m=l[_],m!==(l[_+1]?l[_+1].parentNode:null)){if(V=c.isComponent(m),y=V?"":m.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),x=c.getParentElement(m,function(O){return O.parentNode===d}),(d!==m.parentNode||V)&&(c.isFormatElement(d)?(d.parentNode.insertBefore(p,d.nextSibling),d=d.parentNode):(d.insertBefore(p,x?x.nextSibling:null),d=m.parentNode),C=p.nextSibling,C&&p.nodeName===C.nodeName&&c.isSameAttributes(p,C)&&(p.innerHTML+="<BR>"+C.innerHTML,c.removeItem(C)),p=s.cloneNode(!1),D=!0),S=p.innerHTML,p.innerHTML=(D||!y||!S||/<br>$/i.test(y)?y:y+"<BR>")+S,_===0){d.insertBefore(p,m),C=m.nextSibling,C&&p.nodeName===C.nodeName&&c.isSameAttributes(p,C)&&(p.innerHTML+="<BR>"+C.innerHTML,c.removeItem(C));let O=p.previousSibling;O&&p.nodeName===O.nodeName&&c.isSameAttributes(p,O)&&(O.innerHTML+="<BR>"+p.innerHTML,c.removeItem(p))}V||c.removeItem(m),y&&(D=!1)}this.setRange(f,0,f,0)}else{for(let a=0,d=l.length,p,f;a<d;a++)p=l[a],(p.nodeName.toLowerCase()!==n.toLowerCase()||(p.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==r)&&!c.isComponent(p)&&(f=s.cloneNode(!1),c.copyFormatAttributes(f,p),f.innerHTML=p.innerHTML,p.parentNode.replaceChild(f,p)),a===0&&(g=f||p),a===d-1&&(E=f||p),f=null;this.setRange(c.getNodeFromPath(M,g),o,c.getNodeFromPath(I,E),b)}this.history.push(!1)}this.submenuOff()}}};var sr={name:"lineHeight",display:"submenu",add:function(e,t){let i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer";let s=t.lineHeights?t.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}],r='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let u=0,h=s.length,o;u<h;u++)o=s[u],r+='<li><button type="button" class="se-btn-list" data-value="'+o.value+'" title="'+o.text+'" aria-label="'+o.text+'">'+o.text+"</button></li>";return r+="</ul></div>",n.innerHTML=r,n},on:function(){let e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let s=0,r=t.length;s<r;s++)n===t[s].getAttribute("data-value")?this.util.addClass(t[s],"active"):this.util.removeClass(t[s],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,s=i.length;n<s;n++)i[n].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}};var or={name:"template",display:"submenu",add:function(e,t){let i=e.context;i.template={selectedIndex:-1};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.options.templates;if(!t||t.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');let i=e.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,r=t.length,u;s<r;s++)u=t[s],n+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+u.name+'" aria-label="'+u.name+'">'+u.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation(),this.context.template.selectedIndex=e.target.getAttribute("data-value")*1;let t=this.options.templates[this.context.template.selectedIndex];if(t.html)this.setContents(t.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}};var lr={name:"paragraphStyle",display:"submenu",add:function(e,t){let i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";let n=e.lang.menu,s={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},r=!t.paragraphStyles||t.paragraphStyles.length===0?["spaced","bordered","neon"]:t.paragraphStyles,u='<div class="se-list-inner"><ul class="se-list-basic">';for(let h=0,o=r.length,b,c,g,E;h<o;h++){if(b=r[h],typeof b=="string"){let M=s[b.toLowerCase()];if(!M)continue;b=M}c=b.name,g=b.class?' class="'+b.class+'"':"",E=b._class,u+='<li><button type="button" class="se-btn-list'+(E?" "+E:"")+'" data-value="'+b.class+'" title="'+c+'" aria-label="'+c+'"><div'+g+">"+c+"</div></button></li>"}return u+="</ul></div>",i.innerHTML=u,i},on:function(){let t=this.context.paragraphStyle._classList,i=this.util.getFormatElement(this.getSelectionNode());for(let n=0,s=t.length;n<s;n++)this.util.hasClass(i,t[n].getAttribute("data-value"))?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(n.length===0&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),n.length===0))return;let s=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let r=0,u=n.length;r<u;r++)s(n[r],i);this.submenuOff(),this.history.push(!1)}};var rr={name:"textStyle",display:"submenu",add:function(e,t){let i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){let t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";let n={code:{name:e.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:e.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:e.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=t.textStyles?t.textStyles:e._w.Object.keys(n),r='<div class="se-list-inner"><ul class="se-list-basic">';for(let u=0,h=s.length,o,b,c,g,E,M,I;u<h;u++){if(o=s[u],g="",M="",E=[],typeof o=="string"){let R=n[o.toLowerCase()];if(!R)continue;o=R}c=o.name,b=o.tag||"span",I=o._class,o.style&&(g+=' style="'+o.style+'"',M+=o.style.replace(/:[^;]+(;|$)\s*/g,","),E.push("style")),o.class&&(g+=' class="'+o.class+'"',M+="."+o.class.trim().replace(/\s+/g,",."),E.push("class")),M=M.replace(/,$/,""),r+='<li><button type="button" class="se-btn-list'+(I?" "+I:"")+'" data-command="'+b+'" data-value="'+M+'" title="'+c+'" aria-label="'+c+'"><'+b+g+">"+c+"</"+b+"></button></li>"}return r+="</ul></div>",i.innerHTML=r,i},on:function(){let e=this.util,i=this.context.textStyle._styleList,n=this.getSelectionNode();for(let s=0,r=i.length,u,h,o;s<r;s++){u=i[s],h=u.getAttribute("data-value").split(",");for(let b=0,c,g;b<h.length;b++){for(c=n,o=!1;c&&!e.isFormatElement(c)&&!e.isComponent(c);){if(c.nodeName.toLowerCase()===u.getAttribute("data-command").toLowerCase()&&(g=h[b],/^\./.test(g)?e.hasClass(c,g.replace(/^\./,"")):c.style[g])){o=!0;break}c=c.parentNode}if(!o)break}o?e.addClass(u,"active"):e.removeClass(u,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;let s=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();let r=n.classList;for(let o=0,b=r.length;o<b;o++)s.push("."+r[o]);let u=this.util.hasClass(t,"active")?null:n.cloneNode(!1),h=u?null:[n.nodeName];this.nodeChange(u,s,h,!0),this.submenuOff()}};var ur=Xe(mi());var cr={name:"selectMenu",add:function(e){e.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(e,t,i){e.form.innerHTML="<ul>"+i+"</ul>",e.items=t,e.menus=e.form.querySelectorAll("li")},initEvent:function(e,t){let i=t.querySelector(".se-select-list"),n=this.context.selectMenu.caller[e]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:e};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(e){e.preventDefault(),e.stopPropagation()},onMouseMove_list:function(e,t){this.util.addClass(e.form,"__se_select-menu-mouse-move");let i=t.target.getAttribute("data-index");i&&(e.index=i*1)},onClick_list:function(e,t){let i=t.target.getAttribute("data-index");i&&e.clickMethod.call(this,e.items[i])},moveItem:function(e,t){this.util.removeClass(e.form,"__se_select-menu-mouse-move"),t=e.index+t;let i=e.menus,n=i.length,s=e.index=t>=n?0:t<0?n-1:t;for(let r=0;r<n;r++)r===s?this.util.addClass(i[r],"active"):this.util.removeClass(i[r],"active");e.item=e.items[s]},getItem:function(e,t){return t=!t||t<0?e.index:t,e.items[t]},on:function(e,t){let i=this.context.selectMenu.caller[e];this.context.selectMenu.callerContext=i,i.clickMethod=t,i.callerName=e},open:function(e,t){let i=e.form;i.style.visibility="hidden",i.style.display="block",t(i),i.style.visibility=""},close:function(e){e.form.style.display="none",e.items=[],e.menus=[],e.index=-1,e.item=null},init:function(e){e&&(e.items=[],e.menus=[],e.index=-1,e.item=null,e.callerName="",this.context.selectMenu.callerContext=null)}};var ds={name:"anchor",add:function(e){e.addModule([cr]),e.context.anchor={caller:{},forms:this.setDialogForm(e),host:(e._w.location.origin+e._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(e){let t=e.lang,i=e.options.linkRel,n=(e.options.linkRelDefault.default||"").split(" "),s=e.icons,r=e.util.createElement("DIV"),u='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(e.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+t.dialogBox.linkBox.bookmark+'" aria-label="'+t.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+e.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+t.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){u+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let h=0,o=i.length,b;h<o;h++)b=i[h],u+='<li><button type="button" class="se-btn-list'+(n.indexOf(b)>-1?" se-checked":"")+'" data-command="'+b+'" title="'+b+'" aria-label="'+b+'"><span class="se-svg">'+s.checked+"</span>"+b+"</button></li>";u+="</ul></div></div></div>"}return u+="</div></div>",r.innerHTML=u,r},initEvent:function(e,t){let i=this.plugins.anchor,n=this.context.anchor.caller[e]={modal:t,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:e};typeof n.linkDefaultRel.default=="string"&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),typeof n.linkDefaultRel.check_new_window=="string"&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),typeof n.linkDefaultRel.check_bookmark=="string"&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=t.querySelector(".se-input-url"),n.anchorText=t.querySelector("._se_anchor_text"),n.newWindowCheck=t.querySelector("._se_anchor_check"),n.downloadCheck=t.querySelector("._se_anchor_download"),n.download=t.querySelector("._se_anchor_download_icon"),n.preview=t.querySelector(".se-link-preview"),n.bookmark=t.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=t.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,e,t);let s=this.context.selectMenu.caller[e];this.options.linkRel.length>0&&(n.relButton=t.querySelector(".se-anchor-rel-btn"),n.relList=t.querySelector(".se-list-layer"),n.relPreview=t.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,s)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,s)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,s)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(e,t){let i=this.plugins.anchor;if(!t)i.init.call(this,e),e.anchorText.value=this.getSelection().toString().trim(),e.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(e.linkAnchor){this.context.dialog.updateModal=!0;let n=e.linkAnchor.getAttribute("href");e.linkValue=e.preview.textContent=e.urlInput.value=i.selfPathBookmark.call(this,n)?n.substr(n.lastIndexOf("#")):n,e.anchorText.value=e.linkAnchor.textContent,e.newWindowCheck.checked=!!/_blank/i.test(e.linkAnchor.target),e.downloadCheck.checked=e.linkAnchor.download}this.context.anchor.callerContext=e,i.setRel.call(this,e,t&&e.linkAnchor?e.linkAnchor.rel:e.defaultRel),i.setLinkPreview.call(this,e,e.linkValue),this.plugins.selectMenu.on.call(this,e.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(e){let t=this._w.location.href.replace(/\/$/,"");return e.indexOf("#")===0||e.indexOf(t)===0&&e.indexOf("#")===(t.indexOf("#")===-1?t.length:t.substr(0,t.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(e,t){if(!t)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{let i=e.relButton,n=e.relList;this.util.addClass(i,"active"),n.style.visibility="hidden",n.style.display="block",this.options.rtl?n.style.left=i.offsetLeft-n.offsetWidth-1+"px":n.style.left=i.offsetLeft+i.offsetWidth+1+"px",n.style.top=i.offsetTop+i.offsetHeight/2-n.offsetHeight/2+"px",n.style.visibility="",this.plugins.anchor._closeRelMenu=function(s,r,u){u&&(s.relButton.contains(u.target)||s.relList.contains(u.target))||(this.util.removeClass(r,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}.bind(this,e,i),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(e,t){this.plugins.anchor.toggleRelList.call(this,e,!this.util.hasClass(t.target,"active"))},onClick_relList:function(e,t){let i=t.target,n=i.getAttribute("data-command");if(!n)return;let s=e.currentRel,r=this.util.toggleClass(i,"se-checked"),u=s.indexOf(n);r?u===-1&&s.push(n):u>-1&&s.splice(u,1),e.relPreview.title=e.relPreview.textContent=s.join(" ")},setRel:function(e,t){let i=e.relList,n=e.currentRel=t?t.split(" "):[];if(!i)return;let s=i.querySelectorAll("button");for(let r=0,u=s.length,h;r<u;r++)h=s[r].getAttribute("data-command"),n.indexOf(h)>-1?this.util.addClass(s[r],"se-checked"):this.util.removeClass(s[r],"se-checked");e.relPreview.title=e.relPreview.textContent=n.join(" ")},createHeaderList:function(e,t,i){let n=this.util.getListChildren(this.context.element.wysiwyg,function(h){return/h[1-6]/i.test(h.nodeName)});if(n.length===0)return;let s=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),r=[],u="";for(let h=0,o=n.length,b;h<o;h++)b=n[h],s.test(b.textContent)&&(r.push(b),u+='<li class="se-select-item" data-index="'+h+'">'+b.textContent+"</li>");r.length===0?this.plugins.selectMenu.close.call(this,t):(this.plugins.selectMenu.createList(t,r,u),this.plugins.selectMenu.open.call(this,t,this.plugins.anchor._setMenuListPosition.bind(this,e)))},_setMenuListPosition:function(e,t){t.style.top=e.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(e,t){switch(t.keyCode){case 38:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,-1);break;case 40:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,1);break;case 13:e.index>-1&&(t.preventDefault(),t.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(e,null)));break}},setHeaderBookmark:function(e){let t=this.context.anchor.callerContext,i=e.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");e.id=i,t.urlInput.value="#"+i,(!t.anchorText.value.trim()||!t._change)&&(t.anchorText.value=e.textContent),this.plugins.anchor.setLinkPreview.call(this,t,t.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(e,t){e._change=!!t.target.value.trim()},onChangeUrlInput:function(e,t){let i=t.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,e,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(e,t){let i=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,e,t,i)},onBlurUrlInput:function(e){this.plugins.selectMenu.close.call(this,e)},setLinkPreview:function(e,t){let i=e.preview,n=this.options.linkProtocol,s=this.options.linkNoPrefix,r=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(t)||t.indexOf(n)===0,u=n?this._w.RegExp("^"+this.util.escapeStringRegexp(t.substr(0,n.length))).test(n):!1;t=e.linkValue=i.textContent=t?s?t:n&&!r&&!u?n+t:r?t:/^www\./.test(t)?"http://"+t:this.context.anchor.host+(/^\//.test(t)?"":"/")+t:"",this.plugins.anchor.selfPathBookmark.call(this,t)?(e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active")):(e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,t)&&e.downloadCheck.checked?e.download.style.display="block":e.download.style.display="none"},setCtx:function(e,t){e&&(t.linkAnchor=e,t.linkValue=e.href,t.currentRel=e.rel.split(" "))},updateAnchor:function(e,t,i,n,s){!this.plugins.anchor.selfPathBookmark.call(this,t)&&n.downloadCheck.checked?e.setAttribute("download",i||t):e.removeAttribute("download"),n.newWindowCheck.checked?e.target="_blank":e.removeAttribute("target");let r=n.currentRel.join(" ");r?e.rel=r:e.removeAttribute("rel"),e.href=t,s?e.children.length===0&&(e.textContent=""):e.textContent=i},createAnchor:function(e,t){if(e.linkValue.length===0)return null;let i=e.linkValue,n=e.anchorText,s=n.value.length===0?i:n.value,r=e.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,r,i,s,e,t),e.linkValue=e.preview.textContent=e.urlInput.value=e.anchorText.value="",r},onClick_bookmarkButton:function(e){let t=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,t)?(t=t.substr(1),e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(t="#"+t,e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active"),e.downloadCheck.checked=!1,e.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,t)),e.urlInput.value=t,this.plugins.anchor.setLinkPreview.call(this,e,t),e.urlInput.focus()},onChange_newWindowCheck:function(e,t){typeof e.linkDefaultRel.check_new_window=="string"&&(t.target.checked?this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(e,t){t.target.checked?(e.download.style.display="block",e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),e.linkValue=e.preview.textContent=e.urlInput.value=e.urlInput.value.replace(/^\#+/,""),typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_bookmark))):(e.download.style.display="none",typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_bookmark)))},_relMerge:function(e,t){let i=e.currentRel;if(!t)return i.join(" ");if(/^only\:/.test(t))return t=t.replace(/^only\:/,"").trim(),e.currentRel=t.split(" "),t;let n=t.split(" ");for(let s=0,r=n.length,u;s<r;s++)u=i.indexOf(n[s]),u===-1&&i.push(n[s]);return i.join(" ")},_relDelete:function(e,t){if(!t)return e.currentRel.join(" ");/^only\:/.test(t)&&(t=t.replace(/^only\:/,"").trim());let i=e.currentRel.join(" ").replace(this._w.RegExp(t+"\\s*"),"");return e.currentRel=i.split(" "),i},init:function(e){e.linkAnchor=null,e.linkValue=e.preview.textContent=e.urlInput.value="",e.anchorText.value="",e.newWindowCheck.checked=!1,e.downloadCheck.checked=!1,e._change=!1,this.plugins.anchor.setRel.call(this,e,e.defaultRel),e.relList&&this.plugins.anchor.toggleRelList.call(this,e,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}};var dr={name:"link",display:"dialog",add:function(e){e.addModule([ur.default,ds]);let t=e.context,i=t.link={focusElement:null,_linkAnchor:null,anchorCtx:null},n=this.setDialog(e);i.modal=n;let s=this.setController_LinkButton(e);i.linkController=s,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),s.addEventListener("click",this.onClick_linkController.bind(e)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(s),e.plugins.anchor.initEvent.call(e,"link",n),i.focusElement=t.anchor.caller.link.urlInput,n=null,s=null},setDialog:function(e){let t=e.lang,i=e.util.createElement("DIV"),n=e.icons;i.className="se-dialog-content",i.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+t.dialogBox.linkBox.title+"</span></div>"+e.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=s,i},setController_LinkButton:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();try{let t=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(t===null)return;if(this.context.dialog.updateModal){let i=this.context.link._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{let i=this.getSelectedElements();if(i.length>1){let n=this.util.createElement(i[0].nodeName);if(n.appendChild(t),!this.insertNode(n,null,!0))return}else if(!this.insertNode(t,null,!0))return;this.setRange(t.childNodes[0],0,t.childNodes[0],t.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(e)&&e.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0;return!1},on:function(e){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,e)},call_controller:function(e){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=e;let t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent,this.util.addClass(e,"on"),this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(t)){let i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(i,0,n,n.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var mr=Xe(mi());var gr=Xe(ps()),_r=Xe(qs()),br=Xe(gs()),vr={name:"image",display:"dialog",add:function(e){e.addModule([mr.default,ds,gr.default,_r.default,br.default]);let t=e.options,i=e.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:t.imageWidth==="auto"?"":t.imageWidth,_origin_h:t.imageHeight==="auto"?"":t.imageHeight,_proportionChecked:!0,_resizing:t.imageResizing,_resizeDotHide:!t.imageHeightShow,_rotation:t.imageRotation,_alignHide:!t.imageAlignShow,_onlyPercentage:t.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null},s=this.setDialog(e);n.modal=s,n.imgInputFile=s.querySelector("._se_image_file"),n.imgUrlFile=s.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=s.querySelector("._se_image_alt"),n.captionCheckEl=s.querySelector("._se_image_check_caption"),n.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,t.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));let r=s.querySelector(".__se__gallery");r&&r.addEventListener("click",this._openGallery.bind(e)),n.proportion={},n.inputX={},n.inputY={},t.imageResizing&&(n.proportion=s.querySelector("._se_image_check_proportion"),n.inputX=s.querySelector("._se_image_size_x"),n.inputY=s.querySelector("._se_image_size_y"),n.inputX.value=t.imageWidth,n.inputY.value=t.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(s),e.plugins.anchor.initEvent.call(e,"image",s.querySelector("._se_tab_content_url")),n.anchorCtx=e.context.anchor.caller.image,s=null},setDialog:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(t.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+t.imageAccept+'"'+(t.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(t.imageGalleryUrl&&e.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+e.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',t.imageResizing){let r=t.imageSizeOnlyPercentage,u=r?' style="display: none !important;"':"",h=t.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',r||!t.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(r?' type="number" min="1"':'type="text"')+(r?' max="100"':"")+' /><label class="se-dialog-size-x"'+h+">"+(r?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+u+(r?' max="100"':"")+h+"/><label"+u+h+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+e.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(t.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.getAttribute("data-value")||e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){let n=i.target.value.trim();e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){let t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=t.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(t,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling,r=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),r!==this.context.element.wysiwyg&&this.util.removeItemAllParents(r,function(u){return u.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){let t=this.context.image;e?t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=t._origin_h=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,t.anchorCtx,e)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(e){let t=this.context.image.modal,i=e==="init"?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;let n=i.getAttribute("data-tab-link"),s="_se_tab_content",r,u,h;for(u=t.getElementsByClassName(s),r=0;r<u.length;r++)u[r].style.display="none";for(h=t.getElementsByClassName("_se_tab_link"),r=0;r<h.length;r++)this.util.removeClass(h[r],"active");return t.querySelector("."+s+"_"+n).style.display="block",this.util.addClass(i,"active"),n==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():n==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(e){let t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,t._v_src._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let h=0,o=e.length;h<o;h++)/image/i.test(e[h].type)&&(i.push(e[h]),t+=e[h].size);let n=this.options.imageUploadSizeLimit;if(n>0){let h=0,o=this.context.image._infoList;for(let b=0,c=o.length;b<c;b++)h+=o[b].size*1;if(t+h>n){this.closeLoading();let b="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(b,{limitSize:n,currentSize:h,uploadSize:t},this))&&this.functions.noticeOpen(b);return}}let s=this.context.image;s._uploadFileLength=i.length;let u={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){let h=this.functions.onImageUploadBefore(i,u,this,function(o){o&&this._w.Array.isArray(o.result)?this.plugins.image.register.call(this,u,o):this.plugins.image.upload.call(this,u,o)}.bind(this));if(typeof h>"u")return;if(!h){this.closeLoading();return}this._w.Array.isArray(h)&&h.length>0&&(i=h)}this.plugins.image.upload.call(this,u,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.image.error.call(this,t,null);return}let i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(typeof i=="string"&&i.length>0){let s=new FormData;for(let r=0;r<n;r++)s.append("file-"+r,t[r]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.anchor,e.inputWidth,e.inputHeight,e.align,e.alt,n,e.isUpdate)},callBack_imgUpload:function(e,t){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(t,e,this);else{let i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){let i=t.result;for(let n=0,s=i.length,r;n<s;n++)if(r={name:i[n].name,size:i[n].size},e.isUpdate){this.plugins.image.update_src.call(this,i[n].url,e.element,r);break}else this.plugins.image.create_image.call(this,i[n].url,e.anchor,e.inputWidth,e.inputHeight,e.align,r,e.alt);this.closeLoading()},setup_reader:function(e,t,i,n,s,r,u,h){try{if(u===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=u;let o=this._w.FileReader,b=[u];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let c=0,g,E;c<u;c++)g=new o,E=e[c],g.onload=function(M,I,R,l,a){b[a]={result:M.result,file:l},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,I,b,R,t,i,n,s,r),this.closeLoading())}.bind(this,g,h,this.context.image._element,E,c),g.readAsDataURL(E)}catch(o){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+o.message+'"')}},onRender_imgBase64:function(e,t,i,n,s,r,u,h){let o=this.plugins.image.update_src,b=this.plugins.image.create_image;for(let c=0,g=t.length;c<g;c++)e?(this.context.image._element.setAttribute("data-file-name",t[c].file.name),this.context.image._element.setAttribute("data-file-size",t[c].file.size),o.call(this,t[c].result,i,t[c].file)):b.call(this,t[c].result,n,s,r,u,t[c].file,h)},onRender_imgUrl:function(e){if(e||(e=this.context.image._v_src._linkValue),!e)return!1;let t=this.context.image;try{let i={name:e.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e,t._element,i):this.plugins.image.create_image.call(this,e,this.plugins.anchor.createAnchor.call(this,t.anchorCtx,!0),t.inputX.value,t.inputY.value,t._align,i,t._altText)}catch(i){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+i.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t){return t?(t.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t.href),t.appendChild(e),t):e},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){let e=this.plugins.image,t=this.context.image,i=function(n){e.onModifyMode.call(this,n,null),e.openModify.call(this,!0),t.inputX.value=t._origin_w,t.inputY.value=t._origin_h;let s=this.util.getFormatElement(n);s&&(t._align=s.style.textAlign||s.style.float),this.util.isAnchor(n.parentNode)&&!t.anchorCtx.linkValue&&(t.anchorCtx.linkValue=" "),e.update_image.call(this,!0,!1,!0),e.init.call(this)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,s,r,u){let h=this.plugins.image,o=this.context.image;this.context.resizing._resize_plugin="image";let b=this.util.createElement("IMG");b.src=e,b.alt=u,b.setAttribute("data-rotate","0"),t=h.onRender_link.call(this,b,t?t.cloneNode(!1):null),o._resizing&&b.setAttribute("data-proportion",o._proportionChecked);let c=this.plugins.component.set_cover.call(this,t),g=this.plugins.component.set_container.call(this,c,"se-image-container");o._captionChecked&&(o._caption=this.plugins.component.create_caption.call(this),c.appendChild(o._caption)),o._element=b,o._cover=c,o._container=g,h.applySize.call(this,i,n),h.setAlign.call(this,s,b,c,g),b.onload=h._image_create_onload.bind(this,b,o.svgDefaultSize,g),this.insertComponent(g,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",b,this.functions.onImageUpload,r,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t,i){if(e.offsetWidth===0&&this.plugins.image.applySize.call(this,t,""),this.options.mediaAutoSelect)this.selectComponent(e,"image");else{let n=this.appendFormatTag(i,null);n&&this.setRange(n,0,n,0)}this.history.push(!1)},update_image:function(e,t,i){let n=this.context.image,s=n._element,r=n._cover,u=n._container,h=!1;r===null&&(h=!0,s=n._element.cloneNode(!0),r=this.plugins.component.set_cover.call(this,s)),u===null?(r=r.cloneNode(!0),s=r.querySelector("img"),h=!0,u=this.plugins.component.set_container.call(this,r,"se-image-container")):h&&(u.innerHTML="",u.appendChild(r),n._cover=r,n._element=s,h=!1);let o,b=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,c=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;/%$/.test(s.style.width)?o=b!==u.style.width||c!==u.style.height:o=b!==s.style.width||c!==s.style.height,s.alt=n._altText;let g=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),r.appendChild(n._caption),g=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,g=!0);let E=null,M=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(M)n._linkElement!==M||h&&!u.contains(M)?(n._linkElement=M.cloneNode(!1),r.insertBefore(this.plugins.image.onRender_link.call(this,s,n._linkElement),n._caption),E=n._element):n._linkElement.setAttribute("data-image-link","image");else if(n._linkElement!==null){let R=s;if(R.setAttribute("data-image-link",""),r.contains(n._linkElement)){let l=R.cloneNode(!0);r.removeChild(n._linkElement),r.insertBefore(l,n._caption),n._element=s=l}}let I=null;if(h){if(I=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:this.util.isAnchor(n._element.parentNode)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))I=E?M:n._element,I.parentNode.replaceChild(u,I);else if(this.util.isListCell(I)){let R=this.util.getParentElement(n._element,function(l){return l.parentNode===I});I.insertBefore(u,R),this.util.removeItem(n._element),this.util.removeEmptyNode(R,null,!0)}else if(this.util.isFormatElement(I)){let R=this.util.getParentElement(n._element,function(l){return l.parentNode===I});I=this.util.splitElement(I,R),I.parentNode.insertBefore(u,I),this.util.removeItem(n._element),this.util.removeEmptyNode(I,null,!0),I.children.length===0&&(I.innerHTML=this.util.htmlRemoveWhiteSpace(I.innerHTML))}else if(this.util.isFormatElement(I.parentNode)){let R=I.parentNode;R.parentNode.insertBefore(u,I.previousSibling?R.nextElementSibling:R),n.__updateTags.map(function(l){return I.contains(l)}).length===0&&this.util.removeItem(I)}else I=this.util.isFigures(I.parentNode)?I.parentNode:I,I.parentNode.replaceChild(u,I);s=u.querySelector("img"),n._element=s,n._cover=r,n._container=u}E&&(h?(this.util.removeItem(E),this.util.getListChildren(M,function(R){return/IMG/i.test(R.tagName)}).length===0&&this.util.removeItem(M)):this.util.removeItem(M)),(g||!n._onlyPercentage&&o)&&!e&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),o&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),t&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;let i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(e.parentNode)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.getAttribute("data-align")||e.style.float||"none",e.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,r;n?(n=n.split(","),s=n[0],r=n[1]):t&&(s=t.w,r=t.h),i._origin_w=s||e.style.width||e.width||"",i._origin_h=r||e.style.height||e.height||""},openModify:function(e){let t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,(t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(e,t){let i=this.context.image;return e||(e=i.inputX.value||this.options.imageWidth),t||(t=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,e,t,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(e,t,i,n){let s=this.context.image,r=/^(rw|lw)$/.test(n)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(e)?e+s.sizeUnit:e,this.plugins.image.cancelPercentAttr.call(this)),r||(s._element.style.height=this.util.isNumber(t)?t+s.sizeUnit:/%$/.test(t)?"":t),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){let e=this.context.image;e._caption&&(e._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){let e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);let t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){let i=this.context.image;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+i.sizeUnit:t||"";let n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="",i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){let e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){let s=this.context.image;e||(e=s._align),t||(t=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(t.style.width)&&e==="center"?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:!t.style.width||t.style.width==="auto"?"":t.style.width||"100%"),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){let e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1),this.plugins.anchor.init.call(this,e.anchorCtx)}};var yr=Xe(mi()),Cr=Xe(ps()),wr=Xe(qs()),xr=Xe(gs()),Tr={name:"video",display:"dialog",add:function(e){e.addModule([yr.default,Cr.default,wr.default,xr.default]);let t=e.options,i=e.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.youtubeQuery,_vimeoQuery:t.vimeoQuery,_videoRatio:t.videoRatio*100+"%",_defaultRatio:t.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:t.videoRatio*100+"%",_origin_w:t.videoWidth==="100%"?"":t.videoWidth,_origin_h:t.videoHeight==="56.25%"?"":t.videoHeight,_proportionChecked:!0,_resizing:t.videoResizing,_resizeDotHide:!t.videoHeightShow,_rotation:t.videoRotation,_alignHide:!t.videoAlignShow,_onlyPercentage:t.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1},s=this.setDialog(e);n.modal=s,n.videoInputFile=s.querySelector("._se_video_file"),n.videoUrlFile=s.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,t.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},t.videoResizing&&(n.proportion=s.querySelector("._se_video_check_proportion"),n.videoRatioOption=s.querySelector(".se-video-ratio"),n.inputX=s.querySelector("._se_video_size_x"),n.inputY=s.querySelector("._se_video_size_y"),n.inputX.value=t.videoWidth,n.inputY.value=t.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(s),s=null},setDialog:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(t.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+t.videoAccept+'"'+(t.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),t.videoResizing){let r=t.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],u=t.videoRatio,h=t.videoSizeOnlyPercentage,o=h?' style="display: none !important;"':"",b=t.videoHeightShow?"":' style="display: none !important;"',c=t.videoRatioShow?"":' style="display: none !important;"',g=!h&&!t.videoHeightShow&&!t.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+b+">"+i.dialogBox.height+'</label><label class="size-h"'+c+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(h?' type="number" min="1"':'type="text"')+(h?' max="100"':"")+'/><label class="se-dialog-size-x"'+g+">"+(h?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+t.videoRatio*100+'%"'+(h?' type="number" min="1"':'type="text"')+(h?' max="100"':"")+b+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+c+">",b||(s+='<option value=""> - </option>');for(let E=0,M=r.length;E<M;E++)s+='<option value="'+r[E].value+'"'+(u.toString()===r[E].value.toString()?" selected":"")+">"+r[E].name+"</option>";s+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+o+g+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(t.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){let n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);let t=this.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){let e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;let t=this.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){let e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){let t=e||this.context.video._element,i=this.context.video._container,n=t.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(t,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling,r=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),r!==this.context.element.wysiwyg&&this.util.removeItemAllParents(r,function(u){return u.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){let t=this.context.video;e?t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=t._origin_h=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(e){let t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?i*100+"%":t._defaultSizeY,t.inputY.placeholder=i?i*100+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}let i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),e==="y"&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){let t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,t._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let u=0,h=e.length;u<h;u++)/video/i.test(e[u].type)&&(i.push(e[u]),t+=e[u].size);let n=this.options.videoUploadSizeLimit;if(n>0){let u=0,h=this.context.video._infoList;for(let o=0,b=h.length;o<b;o++)u+=h[o].size*1;if(t+u>n){this.closeLoading();let o="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(o,{limitSize:n,currentSize:u,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}let s=this.context.video;s._uploadFileLength=i.length;let r={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){let u=this.functions.onVideoUploadBefore(i,r,this,function(h){h&&this._w.Array.isArray(h.result)?this.plugins.video.register.call(this,r,h):this.plugins.video.upload.call(this,r,h)}.bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}typeof u=="object"&&u.length>0&&(i=u)}this.plugins.video.upload.call(this,r,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.video.error.call(this,t,null);return}let i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(typeof i=="string"&&i.length>0){let s=new FormData;for(let r=0;r<n;r++)s.append("file-"+r,t[r]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(e,t){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(t,e,this);else{let i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){let i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let s=0,r=i.length,u;s<r;s++)u={name:i[s].name,size:i[s].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[s].url,e.inputWidth,e.inputHeight,e.align,u,e.isUpdate);this.closeLoading()},setup_url:function(e){try{let t=this.context.video;if(e||(e=t._linkValue),!e||/^<iframe.*\/iframe>$/.test(e)&&(e=new this._w.DOMParser().parseFromString(e,"text/html").querySelector("iframe").src,e.length===0))return!1;if(/youtu\.?be/.test(e)){if(/^http/.test(e)||(e="https://"+e),e=e.replace("watch?v=",""),/^\/\/.+\/embed\//.test(e)||(e=e.replace(e.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),t._youtubeQuery.length>0)if(/\?/.test(e)){let i=e.split("?");e=i[0]+"?"+t._youtubeQuery+"&"+i[1]}else e+="?"+t._youtubeQuery}else if(/vimeo\.com/.test(e)&&(e.endsWith("/")&&(e=e.slice(0,-1)),e="https://player.vimeo.com/video/"+e.slice(e.lastIndexOf("/")+1),t._vimeoQuery.length>0))if(/\?/.test(e)){let i=e.split("?");e=i[0]+"?"+t._vimeoQuery+"&"+i[1]}else e+="?"+t._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(e)&&!/vimeo\.com/.test(e)?"createVideoTag":"createIframeTag"].call(this),e,t.inputX.value,t.inputY.value,t._align,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,s,r,u){this.context.resizing._resize_plugin="video";let h=this.context.video,o=null,b=null,c=!1;if(u){if(e=h._element,e.src!==t){c=!0;let R=/youtu\.?be/.test(t),l=/vimeo\.com/.test(t);if((R||l)&&!/^iframe$/i.test(e.nodeName)){let a=this.plugins.video.createIframeTag.call(this);a.src=t,e.parentNode.replaceChild(a,e),h._element=e=a}else if(!R&&!l&&!/^video$/i.test(e.nodeName)){let a=this.plugins.video.createVideoTag.call(this);a.src=t,e.parentNode.replaceChild(a,e),h._element=e=a}else e.src=t}b=h._container,o=this.util.getParentElement(e,"FIGURE")}else c=!0,e.src=t,h._element=e,o=this.plugins.component.set_cover.call(this,e),b=this.plugins.component.set_container.call(this,o,"se-video-container");h._cover=o,h._container=b;let g=this.plugins.resizing._module_getSizeX.call(this,h)!==(i||h._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,h)!==(n||h._videoRatio),E=!u||g;h._resizing&&(this.context.video._proportionChecked=h.proportion.checked,e.setAttribute("data-proportion",h._proportionChecked));let M=!1;E&&(M=this.plugins.video.applySize.call(this)),M&&s==="center"||this.plugins.video.setAlign.call(this,null,e,o,b);let I=!0;if(u)h._resizing&&this.context.resizing._rotateVertical&&E&&this.plugins.resizing.setTransformSize.call(this,e,null,null);else if(I=this.insertComponent(b,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){let R=this.appendFormatTag(b,null);R&&this.setRange(R,0,R,0)}I&&(c&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,r,!0),u&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;let t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,n=e;t._element=e=e.cloneNode(!0);let s=t._cover=this.plugins.component.set_cover.call(this,e),r=t._container=this.plugins.component.set_container.call(this,s,"se-video-container");try{let u=i.querySelector("figcaption"),h=null;u&&(h=this.util.createElement("DIV"),h.innerHTML=u.innerHTML,this.util.removeItem(u));let o=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,o[0]||n.style.width||n.width||"",o[1]||n.style.height||n.height||"");let b=this.util.getFormatElement(n);if(b&&(t._align=b.style.textAlign||b.style.float),this.plugins.video.setAlign.call(this,null,e,s,r),this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(r,n);else if(this.util.isListCell(i)){let c=this.util.getParentElement(n,function(g){return g.parentNode===i});i.insertBefore(r,c),this.util.removeItem(n),this.util.removeEmptyNode(c,null,!0)}else if(this.util.isFormatElement(i)){let c=this.util.getParentElement(n,function(g){return g.parentNode===i});i=this.util.splitElement(i,c),i.parentNode.insertBefore(r,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),i.children.length===0&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(r,i);h&&i.parentNode.insertBefore(h,r.nextElementSibling)}catch(u){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(e,t){let i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,r;n?(n=n.split(","),s=n[0],r=n[1]):t&&(s=t.w,r=t.h),i._origin_w=s||e.style.width||e.width||"",i._origin_h=r||e.style.height||e.height||""},openModify:function(e){let t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),(t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);let i=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,i)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(i,2):i)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1,i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||e*1>=1)&&(e=""),i.inputY.placeholder="";for(let s=0,r=n.length;s<r;s++)n[s].value===e?(t=n[s].selected=!0,i.inputY.placeholder=e?e*100+"%":""):n[s].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(e,t){let i=this.context.video;return e||(e=i.inputX.value||this.options.videoWidth),t||(t=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(e,t,i,n){let s=this.context.video,r=/^(rw|lw)$/.test(n),u=/^(th|bh)$/.test(n);u||(e=this.util.getNumber(e,0)),r||(t=this.util.isNumber(t)?t+s.sizeUnit:t||""),e=e?e+s.sizeUnit:"",u||(s._element.style.width=e),r||(s._cover.style.paddingBottom=s._cover.style.height=t),!u&&!/%$/.test(e)&&(s._cover.style.width=e,s._container.style.width=""),!r&&!/%$/.test(t)?s._element.style.height=t:s._element.style.height="",i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){let t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);let i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){let n=i[0],s=i[1];t._onlyPercentage||/%$/.test(n)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,n,s):this.plugins.video.setSize.call(this,n,s),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){let i=this.context.video;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="",i._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){let e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){let s=this.context.video;e||(e=s._align),t||(t=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(t.style.width)&&e==="center"?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){let e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.options.videoWidth,e._origin_h=this.options.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}};var Sr=Xe(mi()),Er=Xe(ps()),kr=Xe(gs()),Dr={name:"audio",display:"dialog",add:function(e){e.addModule([Sr.default,Er.default,kr.default]);let t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:e.options.audioWidth,_origin_h:e.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null},n=this.setDialog(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let s=this.setController(e);i.controller=s,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),s.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,e.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(s),n=null,s=null},setDialog:function(e){let t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return t.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+t.audioAccept+'"'+(t.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},setController:function(e){let t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){let e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);let t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);let t=this.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){let n=i.target.value.trim();e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;let t=this.util.getParentElement(e,this.util.isComponent)||e,i=e.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(e,t,i,this)===!1)return;let n=t.previousElementSibling||t.nextElementSibling,s=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(r){return r.childNodes.length===0},null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){let t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(e){let t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let u=0,h=e.length;u<h;u++)/audio/i.test(e[u].type)&&(i.push(e[u]),t+=e[u].size);let n=this.options.audioUploadSizeLimit;if(n>0){let u=0,h=this.context.audio._infoList;for(let o=0,b=h.length;o<b;o++)u+=h[o].size*1;if(t+u>n){this.closeLoading();let o="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(o,{limitSize:n,currentSize:u,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}let s=this.context.audio;s._uploadFileLength=i.length;let r={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){let u=this.functions.onAudioUploadBefore(i,r,this,function(h){h&&this._w.Array.isArray(h.result)?this.plugins.audio.register.call(this,r,h):this.plugins.audio.upload.call(this,r,h)}.bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}typeof u=="object"&&u.length>0&&(i=u)}this.plugins.audio.upload.call(this,r,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.audio.error.call(this,t,null);return}let i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,s=new FormData;for(let r=0;r<n;r++)s.append("file-"+r,t[r]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(t,e,this);else{let i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){let i=t.result;for(let n=0,s=i.length,r,u;n<s;n++)e.isUpdate?u=e.element:u=this.plugins.audio._createAudioTag.call(this),r={name:i[n].name,size:i[n].size},this.plugins.audio.create_audio.call(this,u,i[n].url,r,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(e.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){let s=this.context.audio;if(n)if(s._element&&(e=s._element),e&&e.src!==t)e.src=t,this.selectComponent(e,"audio");else{this.selectComponent(e,"audio");return}else{e.src=t;let r=this.plugins.component.set_cover.call(this,e),u=this.plugins.component.set_container.call(this,r,"");if(!this.insertComponent(u,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){let h=this.appendFormatTag(u,null);h&&this.setRange(h,0,h,0)}}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(e){let t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,n=e;t._element=e=e.cloneNode(!1);let s=this.plugins.component.set_cover.call(this,e),r=this.plugins.component.set_container.call(this,s,"se-audio-container");try{if(this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(r,n);else if(this.util.isListCell(i)){let u=this.util.getParentElement(n,function(h){return h.parentNode===i});i.insertBefore(r,u),this.util.removeItem(n),this.util.removeEmptyNode(u,null,!0)}else if(this.util.isFormatElement(i)){let u=this.util.getParentElement(n,function(h){return h.parentNode===i});i=this.util.splitElement(i,u),i.parentNode.insertBefore(r,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),i.children.length===0&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(r,i)}catch(u){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(e){let t=this.context.audio;this.setControllerPosition(t.controller,e,"bottom",{left:0,top:0}),this.controllersOn(t.controller,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){let t=this.context.audio;t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;let e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}};var Lr=Xe(mi()),Mr="https://katex.org/docs/supported.html",Ir={name:"math",display:"dialog",add:function(e){e.addModule([Lr.default]);let t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener("paste",function(s){typeof e.functions.onPasteMath=="function"&&e.functions.onPasteMath(s,e)},!1),t.math.focusElement.addEventListener(e.util.isIE?"textinput":"input",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",function(s){this.fontSize=s.target.value}.bind(t.math.previewElement.style),!1);let n=this.setController_MathButton(e);t.math.mathController=n,t.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.math.previewElement.style.fontSize=t.math.defaultFontSize,t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(e){let t=e.lang,i=e.util.createElement("DIV"),n=e.options.mathFontSize,s=n[0].value;i.className="se-dialog-content",i.style.display="none";let r='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.inputLabel+' (<a href="'+Mr+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let u=0,h=n.length,o;u<h;u++)o=n[u],o.default&&(s=o.value),r+='<option value="'+o.value+'"'+(o.default?" selected":"")+">"+o.text+"</option>";return r+='</select></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",e.context.math.defaultFontSize=s,i.innerHTML=r,i},setController_MathButton:function(e){let t=e.lang,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+e.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+e.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp")||!this.options.katex)return;let t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML,e.setAttribute("contenteditable",!1)}}},_renderer:function(e){let t="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),t=this.options.katex.src.renderToString(e,{throwOnError:!0,displayMode:!0})}catch(i){this.util.addClass(this.context.math.focusElement,"se-error"),t='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+Mr+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",i)}return t},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();let t=function(){if(this.context.math.focusElement.value.trim().length===0)return!1;let i=this.context.math,n=i.focusElement.value,s=i.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(n)),s.setAttribute("data-font-size",i.fontSizeElement.value),s.style.fontSize=i.fontSizeElement.value,this.context.dialog.updateModal){let r=this.util.getParentElement(i._mathExp,".katex");r.parentNode.replaceChild(s,r),this.setRange(s,0,s,1)}else{let r=this.getSelectedElements();if(r.length>1){let h=this.util.createElement(r[0].nodeName);if(h.appendChild(s),!this.insertNode(h,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;let u=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(u,s.nextSibling),this.setRange(s,0,s,1)}return i.focusElement.value="",i.fontSizeElement.value="1em",i.previewElement.style.fontSize="1em",i.previewElement.innerHTML="",!0}.bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0;return!1},on:function(e){if(!e)this.plugins.math.init.call(this);else{let t=this.context.math;if(t._mathExp){let i=this.util.HTMLDecoder(t._mathExp.getAttribute("data-exp")),n=t._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,t.focusElement.value=i,t.fontSizeElement.value=n,t.previewElement.innerHTML=this.plugins.math._renderer.call(this,i),t.previewElement.style.fontSize=n}}},call_controller:function(e){this.context.math._mathExp=e;let t=this.context.math.mathController;this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){let e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}};var Or=Xe(Fr()),Br={name:"imageGallery",add:function(e){e.addModule([Or.default]);let t=e.context;t.imageGallery={title:e.lang.toolbar.imageGallery,directData:e.options.imageGalleryData,url:e.options.imageGalleryUrl,header:e.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){let t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(e.thumbnail||e.src)+'" alt="'+(e.alt||t)+'" data-command="pick" data-value="'+(e.src||e.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e,t){this.callPlugin("image",function(){let i={name:t,size:0};this.plugins.image.create_image.call(this,e.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,e.alt)}.bind(this),null)}};var Ar={blockquote:Gl,align:Yl,font:Ql,fontSize:Xl,fontColor:Kl,hiliteColor:Jl,horizontalRule:er,list:tr,table:ir,formatBlock:nr,lineHeight:sr,template:or,paragraphStyle:lr,textStyle:rr,link:dr,image:vr,video:Tr,audio:Dr,math:Ir,imageGallery:Br};var td=["inputForWysiwyg"];function id(e,t){if(e&1&&(z(0,"label",8),J(1),ee(2,"transloco"),z(3,"span",9),J(4,"*"),q()()),e&2){let i=de();ie("htmlFor",i.componentId()),A(),se(" ",ae(2,3,i.componentLabel())," "),A(2),ie("hidden",!i._isRequired())}}function nd(e,t){if(e&1&&(z(0,"small",10),J(1),ee(2,"transloco"),q()),e&2){let i=de();ie("hidden",i._showSuccess()||i._showErrors()),A(),se(" ",ae(2,2,i.helpMessage())," ")}}var Vr=(()=>{class e extends kt{constructor(){super(...arguments),this._inputForWysiwyg=Ke("inputForWysiwyg"),this.minHeight=ne("200px"),this.font=ne(!0),this.fontSize=ne(!0),this.formatBlock=ne(!0),this.paragraphStyle=ne(!0),this.blockquote=ne(!0),this.bold=ne(!0),this.underline=ne(!0),this.italic=ne(!0),this.strike=ne(!0),this.fontColor=ne(!0),this.highlightColor=ne(!0),this.textStyle=ne(!0),this.removeFormat=ne(!0),this.align=ne(!0),this.list=ne(!0),this.table=ne(!0),this.link=ne(!0),this.image=ne(!0),this.fullScreen=ne(!0),this.showBlocks=ne(!0),this.onImageUploadError=ne(),this.onFileDrop=ne(),this.wysiwygOptions=ne(void 0),this._sunEditorWysiwygInstance=he(void 0),this._sunEditorWysiwygInstance$=et(this._sunEditorWysiwygInstance),this.changeDetectorRef=he(Se(ei)),this._generateSunEditorWysiwygEffect=Nt(()=>{try{let i=this._inputForWysiwyg()?.nativeElement;if(i){let n=We({plugins:Ar,defaultTag:"div",buttonList:this._ngControl()?.control?.enabled&&!this.isReadonly()?[this.getButtonList()]:[],minHeight:this.minHeight(),width:"100%"},this.wysiwygOptions()??{}),s=this._sunEditorWysiwygInstance(),r=this._ngControl();s?(r?.control?.enabled&&s.enable(),s.setOptions(n)):(s=jl.create(i,n),this._sunEditorWysiwygInstance.set(s));let u=this.onImageUploadError(),h=this.onFileDrop();u&&s&&(s.onImageUploadError=u),h&&s&&(s.onDrop=h),this.registerEvents()}}catch{}}),this.STRIP_HTML_REGEX=/<[^>]*>/g}registerEvents(){let i=this._sunEditorWysiwygInstance();i&&(i.onChange=n=>{this.onChangedHandler(n),this.changeDetectorRef().markForCheck()},i.onBlur=()=>{this.onBlurHandler()},this._isDisabled()&&i.disable())}writeValue(i){super.writeValue(i),this._sunEditorWysiwygInstance$.pipe(Ne(this.destroyRef),_i(n=>!!n),Qs(1)).subscribe(n=>{if(console.log("ciao sunEditorWysiwygInstance",n),n)try{n.setContents(i)}catch{}})}validate(i){return i.hasValidator(fe.required)&&i.value?.replace(this.STRIP_HTML_REGEX,"")===""?{required:!0}:null}onChangedHandler(i){super.onChangedHandler(i);let n=this._ngControl();n?.control&&this.validate(n.control)&&n.control.setErrors(this.validate(n.control))}getButtonList(){let i=[];return this.font()&&i.push("font"),this.fontSize()&&i.push("fontSize"),this.formatBlock()&&i.push("formatBlock"),this.paragraphStyle()&&i.push("paragraphStyle"),this.blockquote()&&i.push("blockquote"),this.bold()&&i.push("bold"),this.underline()&&i.push("underline"),this.italic()&&i.push("italic"),this.strike()&&i.push("strike"),this.fontColor()&&i.push("fontColor"),this.highlightColor()&&i.push("hiliteColor"),this.textStyle()&&i.push("textStyle"),this.removeFormat()&&i.push("removeFormat"),this.align()&&i.push("align"),this.list()&&i.push("list"),this.table()&&i.push("table"),this.link()&&i.push("link"),this.image()&&i.push("image"),this.fullScreen()&&i.push("fullScreen"),this.showBlocks()&&i.push("showBlocks"),i}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ut(e)))(s||e)}})()}static{this.\u0275cmp=ke({type:e,selectors:[["quang-wysiwyg"]],viewQuery:function(n,s){n&1&&Je(s._inputForWysiwyg,td,5),n&2&&mt()},inputs:{minHeight:[1,"minHeight"],font:[1,"font"],fontSize:[1,"fontSize"],formatBlock:[1,"formatBlock"],paragraphStyle:[1,"paragraphStyle"],blockquote:[1,"blockquote"],bold:[1,"bold"],underline:[1,"underline"],italic:[1,"italic"],strike:[1,"strike"],fontColor:[1,"fontColor"],highlightColor:[1,"highlightColor"],textStyle:[1,"textStyle"],removeFormat:[1,"removeFormat"],align:[1,"align"],list:[1,"list"],table:[1,"table"],link:[1,"link"],image:[1,"image"],fullScreen:[1,"fullScreen"],showBlocks:[1,"showBlocks"],onImageUploadError:[1,"onImageUploadError"],onFileDrop:[1,"onFileDrop"],wysiwygOptions:[1,"wysiwygOptions"]},features:[st([{provide:at,useExisting:nt(()=>e),multi:!0}]),$e],decls:13,vars:22,consts:[["inputForWysiwyg",""],[1,"mb-3"],["class","form-label",3,"htmlFor",4,"ngIf"],[1,"input-wysiwyg-container","is-invalid"],[1,"form-control",3,"disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive","class","form-text text-muted",3,"hidden",4,"ngIf"],[1,"form-label",3,"htmlFor"],[3,"hidden"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"]],template:function(n,s){n&1&&(z(0,"div",1),ve(1,id,5,5,"label",2),z(2,"div",3),xe(3,"textarea",4,0),ee(5,"transloco"),q(),z(6,"div",5),J(7),ee(8,"transloco"),q(),z(9,"div",6),J(10),ee(11,"transloco"),q(),ve(12,nd,3,4,"small",7),q()),n&2&&(A(),ie("ngIf",s.componentLabel()),A(),Ve("is-invalid",s._showErrors())("is-valid",s._showSuccess()),A(),ie("disabled",s._isDisabled())("id",s.componentId())("ngClass",s.componentClass())("placeholder",ae(5,15,s.componentPlaceholder()))("readOnly",s.isReadonly())("tabIndex",s.componentTabIndex())("value",s._value()),A(4),se(" ",ae(8,17,s.successMessage())," "),A(3),se(" ",ye(11,19,s._currentErrorMessage(),s._currentErrorMessageExtraData())," "),A(2),ie("ngIf",s.helpMessage()))},dependencies:[De,lt,ot],styles:[`[_nghost-%COMP%]{display:block}  .se-toolbar{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important;z-index:unset!important}  .se-wrapper-inner{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .se-btn{color:var(--bs-body-color)!important}  .se-btn:enabled.active{color:var(--bs-primary)!important}  .se-btn:hover{background-color:var(--bs-secondary-bg)!important}  .se-resizing-bar{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .se-navigation{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .sun-editor input{display:none}  .sun-editor .se-container{border-radius:var(--bs-border-radius)}  .se-wrapper{z-index:unset!important}  .se-wrapper textarea:disabled+.se-wrapper-wysiwyg{background-color:var(--bs-secondary-bg)}  .se-wrapper .se-wrapper-inner{border-top:1px solid var(--bs-border-color)}  .is-invalid .sun-editor .se-container .se-toolbar{border-bottom:1px solid var(--bs-danger)}  .is-invalid .sun-editor .se-container .se-wrapper .se-wrapper-inner{--bs-form-bg-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");border:1px solid var(--bs-danger);padding-right:3rem;background-position:right .75rem center,center right 2.25rem;background-size:1.5rem,calc(.75em + .375rem) calc(.75em + .375rem);background-image:var(--bs-form-bg-icon);background-repeat:no-repeat}  .is-valid .sun-editor .se-container .se-toolbar{border-bottom:1px solid var(--bs-success)}  .is-valid .sun-editor .se-container .se-wrapper .se-wrapper-inner{--bs-form-bg-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");border:1px solid var(--bs-success);padding-right:3rem;background-position:right .75rem center,center right 2.25rem;background-size:1.5rem,calc(.75em + .375rem) calc(.75em + .375rem);background-image:var(--bs-form-bg-icon);background-repeat:no-repeat}`],changeDetection:0})}}return e})();var sd=e=>({enabled:e}),od=e=>({required:e}),ld=e=>({readonly:e}),rd=e=>({value:e}),ad=e=>({valid:e});function cd(e,t){if(e&1&&(z(0,"div",4),xe(1,"quang-wysiwyg",9),q()),e&2){let i=de();A(),ie("errorMap",i.errors())("highlightColor",i.highlightColor())("isReadonly",i.isReadonly())("minHeight",i.wysiwygHeight())("onImageUploadError",i.onImageUploadError)("wysiwygOptions",i.wysiwygOptions)}}function ud(e,t){if(e&1&&(z(0,"div",8)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),q(),z(5,"span"),J(6),ee(7,"transloco"),q()()),e&2){let i=de();A(2),se(" ",ye(4,4,"form.label.formValue",we(10,rd,ae(3,2,i.testForm.value)))," "),A(4),se(" ",ye(7,7,"form.label.formValidity",we(12,ad,i.testForm.valid))," ")}}var Rr=(()=>{class e{constructor(){this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Se(ct),this.highlightColor=he(!0),this.wysiwygHeight=he("200px"),this.errors=he([{error:fe.required.name,message:"form.errors.required"},{error:fe.minLength.name,message:"form.errors.minLength"},{error:fe.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control({value:"gagagagagagagaga",disabled:!1},[fe.required,fe.minLength(10),fe.maxLength(100)])}),this.showInput=he(!0),this.wysiwygOptions={iframe:!0,iframeCSSFileName:".+",minHeight:void 0,height:void 0},this.onImageUploadError=(i,n,s)=>(console.log("onImageUploadError",i,n,s),!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(fe.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(fe.required):this.testForm.controls.testInput.addValidators(fe.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("New form created",[fe.required])})}setFormValues(){this.testForm.controls.testInput.patchValue("ciao!")}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}flipButton(){this.highlightColor.set(!this.highlightColor())}changeHeight(){this.wysiwygHeight.set(`${Math.random()*500}px`)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ke({type:e,selectors:[["playground-wysiwyg-test"]],decls:38,vars:42,consts:[[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","gap-3","mt-3"],[1,"d-flex","flex-column","mt-3","ms-3"],["componentLabel","form.label.wysiwyg","formControlName","testInput","successMessage","form.label.success",3,"errorMap","highlightColor","isReadonly","minHeight","onImageUploadError","wysiwygOptions"]],template:function(n,s){n&1&&(z(0,"h3"),J(1),ee(2,"transloco"),q(),z(3,"form",0)(4,"div",1),xe(5,"div",2),z(6,"div",3),ve(7,cd,2,6,"div",4),z(8,"div",5)(9,"button",6),le("click",function(){return s.changeFormEnabled()}),J(10),ee(11,"transloco"),q(),z(12,"button",6),le("click",function(){return s.changeFormInputRequired()}),J(13),ee(14,"transloco"),q(),z(15,"button",6),le("click",function(){return s.changeVisibility()}),J(16),ee(17,"transloco"),q(),z(18,"button",6),le("click",function(){return s.recreateForm()}),J(19),ee(20,"transloco"),q(),z(21,"button",6),le("click",function(){return s.setFormValues()}),J(22),ee(23,"transloco"),q(),z(24,"button",6),le("click",function(){return s.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),q(),z(27,"button",6),le("click",function(){return s.setReadonly()}),J(28),ee(29,"transloco"),q()(),z(30,"div",7)(31,"button",6),le("click",function(){return s.flipButton()}),J(32),ee(33,"transloco"),q(),z(34,"button",6),le("click",function(){return s.changeHeight()}),J(35),ee(36,"transloco"),q()()()()(),ve(37,ud,8,14,"div",8)),n&2&&(A(),Ze(ae(2,13,"title.components.wysiwyg")),A(2),ie("formGroup",s.testForm),A(4),Ge(s.showInput()?7:-1),A(3),se(" ",ye(11,15,"form.buttons.enabled",we(36,sd,s.testForm.enabled))," "),A(3),se(" ",ye(14,18,"form.buttons.required",we(38,od,s.getIsRequiredInput()))," "),A(3),se(" ",ae(17,21,"form.buttons.changeVisibility")," "),A(3),se(" ",ae(20,23,"form.buttons.recreateForm")," "),A(3),se(" ",ae(23,25,"form.buttons.setForm")," "),A(3),se(" ",ae(26,27,"form.buttons.checkForm")," "),A(3),se(" ",ye(29,29,"form.buttons.readonly",we(40,ld,s.isReadonly()))," "),A(4),se(" ",ae(33,32,"form.buttons.flipButton")," "),A(3),se(" ",ae(36,34,"form.buttons.changeHeight")," "),A(2),Ge(s.showValueAndValidity()?37:-1))},dependencies:[bt,Et,_t,St,gt,ut,wt,xt,De,Vr],encapsulation:2,changeDetection:0})}}return e})();var dd=[{path:"autocomplete",component:Go},{path:"date",component:Ll},{path:"input",component:Nl},{path:"paginator",component:Bl},{path:"select",component:Al},{path:"table",component:Pl},{path:"toggle",component:zl},{path:"wysiwyg",component:Rr},{path:"loader",component:Fl},{path:"**",pathMatch:"full",redirectTo:"input"}],ty=dd;export{ty as default};
