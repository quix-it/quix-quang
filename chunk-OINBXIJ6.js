import{a as lt,c as Es}from"./chunk-BZX5FSGL.js";import{a as xs}from"./chunk-44MUFFH6.js";import{a as St,b as me,c as Ts,d as pt,e as kt,f as Ss,g as Et,h as Mi,i as Lt,j as Mt,k as st,l as mt,m as ot,n as it}from"./chunk-QNWRRYJZ.js";import{h as Xe}from"./chunk-OMTGTXZX.js";import{a as Ls}from"./chunk-PN6JLL4Q.js";import{c as ks}from"./chunk-JSQMH3GC.js";import{L as Ie,N as Qt,P as Li,g as tt,h as ki,i as ws,k as ht,t as Ei,y as Ae,z as Qe}from"./chunk-XVSGCTAE.js";import"./chunk-W4BNGQYG.js";import{$b as Ve,Bc as we,C as _i,Cb as ut,Cc as vt,Db as ye,Eb as ve,Ec as dt,F as yi,Fb as Pt,Fc as ie,Ga as wi,Gb as ds,Gc as Me,Hb as bt,Hc as Si,Ib as _t,Jb as se,K as vi,Kb as H,Lb as U,M as ss,Mb as Ce,Nb as hs,O as os,Ob as ps,P as ls,Pb as Yt,Qb as He,Tb as ae,Ub as re,Vb as ms,Wb as fs,_b as Le,a as ct,ab as cs,ac as yt,b as Wt,bb as N,bc as Ue,cc as gs,d as At,dc as J,e as Ke,ea as Ct,ec as je,f as es,fa as as,fc as ne,gc as xi,hc as bs,ic as _s,jc as ys,ka as Se,l as ts,nb as Ne,nc as vs,pa as be,pb as us,pc as xt,qa as _e,ra as gt,rb as wt,rc as Te,sa as Ci,sb as Zt,sc as Ti,ta as rs,tc as Cs,u as is,uc as ee,va as Rt,vc as ce,wc as xe,x as ns,xc as Tt,za as he}from"./chunk-TKD4T2JR.js";var Ds=At((li,Vn)=>{"use strict";(function(e,t){typeof li=="object"&&typeof Vn=="object"?Vn.exports=t():typeof define=="function"&&define.amd?define([],t):typeof li=="object"?li.AirDatepicker=t():e.AirDatepicker=t()})(li,function(){return function(){"use strict";var e={d:function(z,y){for(var T in y)e.o(y,T)&&!e.o(z,T)&&Object.defineProperty(z,T,{enumerable:!0,get:y[T]})},o:function(z,y){return Object.prototype.hasOwnProperty.call(z,y)}},t={};e.d(t,{default:function(){return le}});var n={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},i={classes:"",inline:!1,locale:{days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u043E\u0441","\u041F\u043E\u043D","\u0412\u0442\u043E","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041F\u044F\u0442","\u0421\u0443\u0431"],daysMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:n.days,minView:n.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function s(z){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof z=="string"?y.querySelector(z):z}function l(){let{tagName:z="div",className:y="",innerHtml:T="",id:w="",attrs:O={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=document.createElement(z);return y&&B.classList.add(...y.split(" ")),w&&(B.id=w),T&&(B.innerHTML=T),O&&c(B,O),B}function c(z,y){for(let[T,w]of Object.entries(y))w!==void 0&&z.setAttribute(T,w);return z}function h(z){return new Date(z.getFullYear(),z.getMonth()+1,0).getDate()}function o(z){let y=z.getHours(),{hours:T,dayPeriod:w}=_(y);return{year:z.getFullYear(),month:z.getMonth(),fullMonth:z.getMonth()+1<10?"0"+(z.getMonth()+1):z.getMonth()+1,date:z.getDate(),fullDate:z.getDate()<10?"0"+z.getDate():z.getDate(),day:z.getDay(),hours:y,fullHours:u(y),hours12:T,dayPeriod:w,fullHours12:u(T),minutes:z.getMinutes(),fullMinutes:z.getMinutes()<10?"0"+z.getMinutes():z.getMinutes()}}function _(z){return{dayPeriod:z>11?"pm":"am",hours:z%12==0?12:z%12}}function u(z){return z<10?"0"+z:z}function g(z){let y=10*Math.floor(z.getFullYear()/10);return[y,y+9]}function k(){let z=[];for(var y=arguments.length,T=new Array(y),w=0;w<y;w++)T[w]=arguments[w];return T.forEach(O=>{if(typeof O=="object")for(let B in O)O[B]&&z.push(B);else O&&z.push(O)}),z.join(" ")}function M(z,y){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.days;if(!z||!y)return!1;let w=o(z),O=o(y);return{[n.days]:w.date===O.date&&w.month===O.month&&w.year===O.year,[n.months]:w.month===O.month&&w.year===O.year,[n.years]:w.year===O.year}[T]}function I(z,y,T){let w=a(z,!1).getTime(),O=a(y,!1).getTime();return T?w>=O:w>O}function P(z,y){return!I(z,y,!0)}function a(z){let y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],T=new Date(z.getTime());return typeof y!="boolean"||y||function(w){w.setHours(0,0,0,0)}(T),T}function r(z,y,T){z.length?z.forEach(w=>{w.addEventListener(y,T)}):z.addEventListener(y,T)}function d(z,y){return!(!z||z===document||z instanceof DocumentFragment)&&(z.matches(y)?z:d(z.parentNode,y))}function p(z,y,T){return z>T?T:z<y?y:z}function m(z){for(var y=arguments.length,T=new Array(y>1?y-1:0),w=1;w<y;w++)T[w-1]=arguments[w];return T.filter(O=>O).forEach(O=>{for(let[B,E]of Object.entries(O))if(E!==void 0&&E.toString()==="[object Object]"){let q=z[B]!==void 0?z[B].toString():void 0,G=E.toString(),ue=Array.isArray(E)?[]:{};z[B]=z[B]?q!==G?ue:z[B]:ue,m(z[B],E)}else z[B]=E}),z}function b(z){let y=z;return z instanceof Date||(typeof z=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(z)&&(z+="T00:00:00"),y=new Date(z)),isNaN(y.getTime())&&(console.log(`Unable to convert value "${z}" to Date object`),y=!1),y}function f(z){let y="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+y+")("+z+")($|<|"+y+")","g")}function v(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class x{constructor(){let{type:y,date:T,dp:w,opts:O,body:B}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),v(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),v(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),v(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),v(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),v(this,"onChangeFocusDate",E=>{if(!E)return void(this.focused&&this.removeFocus());let q=M(E,this.date,this.type);q?this.focus():!q&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),v(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell)),this.type=y,this.singleType=this.type.slice(0,-1),this.date=T,this.dp=w,this.opts=O,this.body=B,this.customData=!1,this.init()}init(){var y,T;let{onRenderCell:w}=this.opts;w&&(this.customData=w({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),(y=this.customData)!==null&&y!==void 0&&y.disabled?this.dp.disableDate(this.date):((T=this.customData)===null||T===void 0?void 0:T.disabled)===!1&&this.dp.enableDate(this.date)}_bindDatepickerEvents(){this.dp.on(n.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(n.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(n.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(n.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var y;let{year:T,month:w,fullMonth:O,date:B,fullDate:E}=o(this.date),q=((y=this.customData)===null||y===void 0?void 0:y.attrs)||{};this.$cell=l({attrs:ct({"data-year":T,"data-month":w,"data-date":B,"data-iso-date":`${T}-${O}-${E}`},q)}),this.$cell.adpCell=this}_getClassName(){var y;let T=new Date,{selectOtherMonths:w,selectOtherYears:O}=this.opts,{minDate:B,maxDate:E,isDateDisabled:q}=this.dp,{day:G}=o(this.date),ue=this._isOutOfMinMaxRange(),de=q(this.date),fe=k("air-datepicker-cell",`-${this.singleType}-`,{"-current-":M(T,this.date,this.type),"-min-date-":B&&M(B,this.date,this.type),"-max-date-":E&&M(E,this.date,this.type)}),pe="";switch(this.type){case n.days:pe=k({"-weekend-":this.dp.isWeekend(G),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!w||ue||de});break;case n.months:pe=k({"-disabled-":ue});break;case n.years:pe=k({"-other-decade-":this.isOtherDecade,"-disabled-":ue||this.isOtherDecade&&!O})}return k(fe,pe,(y=this.customData)===null||y===void 0?void 0:y.classes).split(" ")}_getHtml(){var y;let{year:T,month:w,date:O}=o(this.date),{showOtherMonths:B,showOtherYears:E}=this.opts;if((y=this.customData)!==null&&y!==void 0&&y.html)return this.customData.html;switch(this.type){case n.days:return!B&&this.isOtherMonth?"":O;case n.months:return this.dp.locale[this.opts.monthsField][w];case n.years:return!E&&this.isOtherDecade?"":T}}_isOutOfMinMaxRange(){let{minDate:y,maxDate:T}=this.dp,{type:w,date:O}=this,{month:B,year:E,date:q}=o(O),G=w===n.days,ue=w===n.years,de=!!y&&new Date(E,ue?y.getMonth():B,G?q:y.getDate()),fe=!!T&&new Date(E,ue?T.getMonth():B,G?q:T.getDate());return y&&T?P(de,y)||I(fe,T):y?P(de,y):T?I(fe,T):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{selectedDates:y,focusDate:T,rangeDateTo:w,rangeDateFrom:O}=this.dp,B=y.length;if(this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),!B)return;let E=O,q=w;if(B===1&&T){let pe=I(T,y[0]);E=pe?y[0]:T,q=pe?T:y[0]}let G=k({"-in-range-":E&&q&&(ue=this.date,de=E,fe=q,I(ue,de)&&P(ue,fe)),"-range-from-":E&&M(this.date,E,this.type),"-range-to-":q&&M(this.date,q,this.type)});var ue,de,fe;G&&this.$cell.classList.add(...G.split(" "))}_handleSelectedStatus(){let y=this.dp._checkIfDateIsSelected(this.date,this.type);y?this.select():!y&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){M(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function C(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}let S={[n.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${n.days}-"></div>`,[n.months]:`<div class="air-datepicker-body--cells -${n.months}-"></div>`,[n.years]:`<div class="air-datepicker-body--cells -${n.years}-"></div>`},R=".air-datepicker-cell";class L{constructor(y){let{dp:T,type:w,opts:O}=y;C(this,"handleClick",B=>{let E=B.target.closest(R).adpCell;if(E.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let q=this.dp._checkIfDateIsSelected(E.date,E.type);q?this.dp._handleAlreadySelectedDates(q,E.date):this.dp.selectDate(E.date)}),C(this,"handleDayNameClick",B=>{let E=B.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(E),datepicker:this.dp})}),C(this,"onChangeCurrentView",B=>{B!==this.type?this.hide():(this.show(),this.render())}),C(this,"onMouseOverCell",B=>{let E=d(B.target,R);this.dp.setFocusDate(!!E&&E.adpCell.date)}),C(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),C(this,"onClickBody",B=>{let{onClickDayName:E}=this.opts,q=B.target;q.closest(R)&&this.handleClick(B),E&&q.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(B)}),C(this,"onMouseDown",B=>{this.pressed=!0;let E=d(B.target,R),q=E&&E.adpCell;M(q.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),M(q.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),C(this,"onMouseMove",B=>{if(!this.pressed||!this.dp.isMinViewReached)return;B.preventDefault();let E=d(B.target,R),q=E&&E.adpCell,{selectedDates:G,rangeDateTo:ue,rangeDateFrom:de}=this.dp;if(!q||q.isDisabled)return;let{date:fe}=q;if(G.length===2){if(this.rangeFromFocused&&!I(fe,ue)){let{hours:pe,minutes:ze}=o(de);fe.setHours(pe),fe.setMinutes(ze),this.dp.rangeDateFrom=fe,this.dp.replaceDate(de,fe)}if(this.rangeToFocused&&!P(fe,de)){let{hours:pe,minutes:ze}=o(ue);fe.setHours(pe),fe.setMinutes(ze),this.dp.rangeDateTo=fe,this.dp.replaceDate(ue,fe)}}}),C(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),C(this,"onChangeViewDate",(B,E)=>{if(!this.isVisible)return;let q=g(B),G=g(E);switch(this.dp.currentView){case n.days:if(M(B,E,n.months))return;break;case n.months:if(M(B,E,n.years))return;break;case n.years:if(q[0]===G[0]&&q[1]===G[1])return}this.render()}),C(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(B=>{this.$cells.appendChild(B.render())})}),this.dp=T,this.type=w,this.opts=O,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===n.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:y,dynamicRange:T}=this.opts;r(this.$el,"mouseover",this.onMouseOverCell),r(this.$el,"mouseout",this.onMouseOutCell),r(this.$el,"click",this.onClickBody),y&&T&&(r(this.$el,"mousedown",this.onMouseDown),r(this.$el,"mousemove",this.onMouseMove),r(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(n.eventChangeViewDate,this.onChangeViewDate),this.dp.on(n.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=l({className:`air-datepicker-body -${this.type}-`,innerHtml:S[this.type]}),this.$names=s(".air-datepicker-body--day-names",this.$el),this.$cells=s(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,T="",w=this.dp.isWeekend,{onClickDayName:O}=this.opts,B=y,E=0;for(;E<7;){let q=B%7;T+=`<div class="${k("air-datepicker-body--day-name",{[n.cssClassWeekend]:w(q),"-clickable-":!!O})}" data-day-index='${q}'>${this.dp.locale.daysMin[q]}</div>`,E++,B++}return T}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(y){let{type:T,dp:w,opts:O}=this;return new x({type:T,dp:w,opts:O,date:y,body:this})}_generateCells(){L.getDatesFunction(this.type)(this.dp,y=>{this.cells.push(this._generateCell(y))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(y=>y.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(n.eventChangeViewDate,this.onChangeViewDate),this.dp.off(n.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(y,T){let{viewDate:w,opts:{fixedHeight:O},locale:{firstDay:B}}=y,E=h(w),{year:q,month:G}=o(w),ue=new Date(q,G,1),de=new Date(q,G,E),fe=ue.getDay()-B,pe=6-de.getDay()+B;fe=fe<0?fe+7:fe,pe=pe>6?pe-7:pe;let ze=function(Ge,Ye){let{year:et,month:nt,date:$t}=o(Ge);return new Date(et,nt,$t-Ye)}(ue,fe),qe=E+fe+pe,$e=ze.getDate(),{year:Ze,month:Fe}=o(ze),Ft=0;O&&(qe=42);let rt=[];for(;Ft<qe;){let Ge=new Date(Ze,Fe,$e+Ft);T&&T(Ge),rt.push(Ge),Ft++}return rt}static getMonthsDates(y,T){let{year:w}=y.parsedViewDate,O=0,B=[];for(;O<12;){let E=new Date(w,O);B.push(E),T&&T(E),O++}return B}static getYearsDates(y,T){let w=g(y.viewDate),O=w[0]-1,B=w[1]+1,E=O,q=[];for(;E<=B;){let G=new Date(E,0);q.push(G),T&&T(G),E++}return q}static getDatesFunction(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.days;return{[n.days]:L.getDaysDates,[n.months]:L.getMonthsDates,[n.years]:L.getYearsDates}[y]}}function F(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class V{constructor(y){let{dp:T,opts:w}=y;F(this,"onClickNav",O=>{let B=d(O.target,".air-datepicker-nav--action");if(!B)return;let E=B.dataset.action;this.dp[E]()}),F(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),F(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),F(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),F(this,"update",()=>{let{prevHtml:O,nextHtml:B}=this.opts;this.$prev.innerHTML=O,this.$next.innerHTML=B,this._resetNavStatus(),this.render(),this.handleNavStatus()}),F(this,"renderDelay",()=>{setTimeout(this.render)}),F(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(O,B){for(let E in B)B[E]?O.classList.add(E):O.classList.remove(E)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=T,this.opts=w,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=s(".air-datepicker-nav--title",this.$el),this.$prev=s('[data-action="prev"]',this.$el),this.$next=s('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(n.eventChangeViewDate,this.onChangeViewDate),this.dp.on(n.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(n.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(n.eventChangeTime,this.render))}destroy(){this.dp.off(n.eventChangeViewDate,this.onChangeViewDate),this.dp.off(n.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(n.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(n.eventChangeTime,this.render))}_createElement(){this.$el=l({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:y,opts:T}=this,w=T.navTitles[y.currentView];return typeof w=="function"?w(y):y.formatDate(y.viewDate,w)}handleNavStatus(){let{disableNavWhenOutOfRange:y}=this.opts,{minDate:T,maxDate:w}=this.dp;if(!T&&!w||!y)return;let{year:O,month:B}=this.dp.parsedViewDate,E=!!T&&o(T),q=!!w&&o(w);switch(this.dp.currentView){case n.days:T&&E.month>=B&&E.year>=O&&this._disableNav("prev"),w&&q.month<=B&&q.year<=O&&this._disableNav("next");break;case n.months:T&&E.year>=O&&this._disableNav("prev"),w&&q.year<=O&&this._disableNav("next");break;case n.years:{let G=g(this.dp.viewDate);T&&E.year>=G[0]&&this._disableNav("prev"),w&&q.year<=G[1]&&this._disableNav("next");break}}}_disableNav(y){s('[data-action="'+y+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(y){for(var T=arguments.length,w=new Array(T>1?T-1:0),O=1;O<T;O++)w[O-1]=arguments[O];y.length?y.forEach(B=>{B.classList.remove(...w)}):y.classList.remove(...w)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:y,nextHtml:T}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${y}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${T}</div>`}get isNavIsFunction(){let{navTitles:y}=this.opts;return Object.keys(y).find(T=>typeof y[T]=="function")}}var K={today:{content:z=>z.locale.today,onClick:z=>z.setViewDate(new Date)},clear:{content:z=>z.locale.clear,onClick:z=>z.clear()}};class te{constructor(y){let{dp:T,opts:w}=y;this.dp=T,this.opts=w,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=l({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:y}=this.opts;Array.isArray(y)||(y=[y]),y.forEach(T=>{let w=T;typeof T=="string"&&K[T]&&(w=K[T]);let O=this.createButton(w);w.onClick&&this.attachEventToButton(O,w.onClick),this.$el.appendChild(O)})}attachEventToButton(y,T){y.addEventListener("click",()=>{T(this.dp)})}createButton(y){let{content:T,className:w,tagName:O="button",attrs:B={}}=y;return l({tagName:O,innerHtml:`<span tabindex='-1'>${typeof T=="function"?T(this.dp):T}</span>`,className:k("air-datepicker-button",w),attrs:B})}render(){this.generateButtons()}}function X(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class Z{constructor(){let{opts:y,dp:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,"toggleTimepickerIsActive",O=>{this.dp.timepickerIsActive=O}),X(this,"onChangeSelectedDate",O=>{let{date:B,updateTime:E=!1}=O;B&&(this.setMinMaxTime(B),this.setCurrentTime(!!E&&B),this.addTimeToDate(B))}),X(this,"onChangeLastSelectedDate",O=>{O&&(this.setTime(O),this.render())}),X(this,"onChangeInputRange",O=>{let B=O.target;this[B.getAttribute("name")]=B.value,this.updateText(),this.dp.trigger(n.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),X(this,"onMouseEnterLeave",O=>{let B=O.target.getAttribute("name"),E=this.$minutesText;B==="hours"&&(E=this.$hoursText),E.classList.toggle("-focus-")}),X(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),X(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=y,this.dp=T;let{timeFormat:w}=this.dp.locale;w&&(w.match(f("h"))||w.match(f("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(n.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(n.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let y="input";navigator.userAgent.match(/trident/gi)&&(y="change"),r(this.$ranges,y,this.onChangeInputRange),r(this.$ranges,"mouseenter",this.onMouseEnterLeave),r(this.$ranges,"mouseleave",this.onMouseEnterLeave),r(this.$ranges,"focus",this.onFocus),r(this.$ranges,"mousedown",this.onFocus),r(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=l({className:k("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(n.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(n.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:y,hours:T,displayHours:w,minutes:O,minHours:B,minMinutes:E,maxHours:q,maxMinutes:G,dayPeriod:ue,opts:{hoursStep:de,minutesStep:fe}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${u(w)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${u(O)}</span>   `+(y?`<span class='air-datepicker-time--current-ampm'>${ue}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${T}" min="${B}" max="${q}" step="${de}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${O}" min="${E}" max="${G}" step="${fe}"/>   </div></div>`}defineDOM(){let y=T=>s(T,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=y('[name="hours"]'),this.$minutes=y('[name="minutes"]'),this.$hoursText=y(".air-datepicker-time--current-hours"),this.$minutesText=y(".air-datepicker-time--current-minutes"),this.$ampm=y(".air-datepicker-time--current-ampm")}setTime(y){this.setMinMaxTime(y),this.setCurrentTime(y)}addTimeToDate(y){y&&(y.setHours(this.hours),y.setMinutes(this.minutes))}setMinMaxTime(y){if(this.setMinMaxTimeFromOptions(),y){let{minDate:T,maxDate:w}=this.dp;T&&M(y,T)&&this.setMinTimeFromMinDate(T),w&&M(y,w)&&this.setMaxTimeFromMaxDate(w)}}setCurrentTime(y){let{hours:T,minutes:w}=y?o(y):this;this.hours=p(T,this.minHours,this.maxHours),this.minutes=p(w,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:y,minMinutes:T,maxHours:w,maxMinutes:O}=this.opts;this.minHours=p(y,0,23),this.minMinutes=p(T,0,59),this.maxHours=p(w,0,23),this.maxMinutes=p(O,0,59)}setMinTimeFromMinDate(y){let{lastSelectedDate:T}=this.dp;this.minHours=y.getHours(),T&&T.getHours()>y.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=y.getMinutes()}setMaxTimeFromMaxDate(y){let{lastSelectedDate:T}=this.dp;this.maxHours=y.getHours(),T&&T.getHours()<y.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=y.getMinutes()}updateSliders(){c(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,c(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=u(this.displayHours),this.$minutesText.innerHTML=u(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(y){this._hours=y;let{hours:T,dayPeriod:w}=_(y);this.displayHours=this.ampm?T:y,this.dayPeriod=w}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function j(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}class W{constructor(y){let{dp:T,opts:w}=y;j(this,"pressedKeys",new Set),j(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],O=>O.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],O=>O.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],O=>O.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],O=>O.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],O=>O.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],O=>O.year-=10],[["Control","Shift","ArrowUp"],(O,B)=>B.up()]])),j(this,"handleHotKey",O=>{let B=this.hotKeys.get(O),E=o(this.getInitialFocusDate());B(E,this.dp);let{year:q,month:G,date:ue}=E,de=h(new Date(q,G));de<ue&&(ue=de);let fe=this.dp.getClampedDate(new Date(q,G,ue));this.dp.setFocusDate(fe,{viewDateTransition:!0})}),j(this,"isHotKeyPressed",()=>{let O=!1,B=this.pressedKeys.size,E=q=>this.pressedKeys.has(q);for(let[q]of this.hotKeys){if(O)break;if(Array.isArray(q[0]))q.forEach(G=>{O||B!==G.length||(O=G.every(E)&&q)});else{if(B!==q.length)continue;O=q.every(E)&&q}}return O}),j(this,"isArrow",O=>O>=37&&O<=40),j(this,"onKeyDown",O=>{if(!this.dp.visible&&!this.dp.treatAsInline)return;let{key:B,which:E}=O,{dp:q,dp:{focusDate:G},opts:ue}=this;this.registerKey(B);let de=this.isHotKeyPressed();if(de)return O.preventDefault(),void this.handleHotKey(de);if(this.isArrow(E))return O.preventDefault(),void this.focusNextCell(B);if(B==="Enter"){if(q.currentView!==ue.minView)return void q.down();if(G){let fe=q._checkIfDateIsSelected(G);return void(fe?q._handleAlreadySelectedDates(fe,G):q.selectDate(G))}}B==="Escape"&&this.dp.hide()}),j(this,"onKeyUp",O=>{this.removeKey(O.key)}),this.dp=T,this.opts=w,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:y}=this.dp;y.addEventListener("keydown",this.onKeyDown),y.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:y}=this.dp;y.removeEventListener("keydown",this.onKeyDown),y.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:y,currentView:T,selectedDates:w,parsedViewDate:{year:O,month:B}}=this.dp,E=y||w[w.length-1];if(!E)switch(T){case n.days:E=new Date(O,B,new Date().getDate());break;case n.months:E=new Date(O,B,1);break;case n.years:E=new Date(O,0,1)}return E}focusNextCell(y){let T=this.getInitialFocusDate(),{currentView:w}=this.dp,{days:O,months:B,years:E}=n,q=o(T),G=q.year,ue=q.month,de=q.date;switch(y){case"ArrowLeft":w===O&&(de-=1),w===B&&(ue-=1),w===E&&(G-=1);break;case"ArrowUp":w===O&&(de-=7),w===B&&(ue-=3),w===E&&(G-=4);break;case"ArrowRight":w===O&&(de+=1),w===B&&(ue+=1),w===E&&(G+=1);break;case"ArrowDown":w===O&&(de+=7),w===B&&(ue+=3),w===E&&(G+=4)}let fe=this.dp.getClampedDate(new Date(G,ue,de));this.dp.setFocusDate(fe,{viewDateTransition:!0})}registerKey(y){this.pressedKeys.add(y)}removeKey(y){this.pressedKeys.delete(y)}}let Y={on(z,y){this.__events||(this.__events={}),this.__events[z]?this.__events[z].push(y):this.__events[z]=[y]},off(z,y){this.__events&&this.__events[z]&&(this.__events[z]=this.__events[z].filter(T=>T!==y))},removeAllEvents(){this.__events={}},trigger(z){for(var y=arguments.length,T=new Array(y>1?y-1:0),w=1;w<y;w++)T[w-1]=arguments[w];this.__events&&this.__events[z]&&this.__events[z].forEach(O=>{O(...T)})}};function D(z,y,T){return(y=function(w){var O=function(B,E){if(typeof B!="object"||B===null)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var G=q.call(B,"string");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(w);return typeof O=="symbol"?O:String(O)}(y))in z?Object.defineProperty(z,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[y]=T,z}let Q="",A="",$=!1;class le{static buildGlobalContainer(y){$=!0,Q=l({className:y,id:y}),s("body").appendChild(Q)}constructor(y,T){var w=this;if(D(this,"viewIndexes",[n.days,n.months,n.years]),D(this,"next",()=>{let{year:E,month:q}=this.parsedViewDate;switch(this.currentView){case n.days:this.setViewDate(new Date(E,q+1,1));break;case n.months:this.setViewDate(new Date(E+1,q,1));break;case n.years:this.setViewDate(new Date(E+10,0,1))}}),D(this,"prev",()=>{let{year:E,month:q}=this.parsedViewDate;switch(this.currentView){case n.days:this.setViewDate(new Date(E,q-1,1));break;case n.months:this.setViewDate(new Date(E-1,q,1));break;case n.years:this.setViewDate(new Date(E-10,0,1))}}),D(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),D(this,"setPosition",function(E){let q=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(E=E||w.opts.position)=="function")return void(w.customHide=E({$datepicker:w.$datepicker,$target:w.$el,$pointer:w.$pointer,isViewChange:q,done:w._finishHide}));let G,ue,{isMobile:de}=w.opts,fe=w.$el.getBoundingClientRect(),pe=w.$el.getBoundingClientRect(),ze=w.$datepicker.offsetParent,qe=w.$el.offsetParent,$e=w.$datepicker.getBoundingClientRect(),Ze=E.split(" "),Fe=window.scrollY,Ft=window.scrollX,rt=w.opts.offset,Ge=Ze[0],Ye=Ze[1];if(de)w.$datepicker.style.cssText="left: 50%; top: 50%";else{if(ze===qe&&ze!==document.body&&(pe={top:w.$el.offsetTop,left:w.$el.offsetLeft,width:fe.width,height:w.$el.offsetHeight},Fe=0,Ft=0),ze!==qe&&ze!==document.body){let et=ze.getBoundingClientRect();pe={top:fe.top-et.top,left:fe.left-et.left,width:fe.width,height:fe.height},Fe=0,Ft=0}switch(Ge){case"top":G=pe.top-$e.height-rt;break;case"right":ue=pe.left+pe.width+rt;break;case"bottom":G=pe.top+pe.height+rt;break;case"left":ue=pe.left-$e.width-rt}switch(Ye){case"top":G=pe.top;break;case"right":ue=pe.left+pe.width-$e.width;break;case"bottom":G=pe.top+pe.height-$e.height;break;case"left":ue=pe.left;break;case"center":/left|right/.test(Ge)?G=pe.top+pe.height/2-$e.height/2:ue=pe.left+pe.width/2-$e.width/2}w.$datepicker.style.cssText=`left: ${ue+Ft}px; top: ${G+Fe}px`}}),D(this,"_setInputValue",()=>{let{opts:E,$altField:q,locale:{dateFormat:G}}=this,{altFieldDateFormat:ue,altField:de}=E;de&&q&&(q.value=this._getInputValue(ue)),this.$el.value=this._getInputValue(G),this.$el.dispatchEvent(new Event("change"))}),D(this,"_getInputValue",E=>{let{selectedDates:q,opts:G}=this,{multipleDates:ue,multipleDatesSeparator:de}=G;if(!q.length)return"";let fe=typeof E=="function",pe=fe?E(ue?q:q[0]):q.map(ze=>this.formatDate(ze,E));return pe=fe?pe:pe.join(de),pe}),D(this,"_checkIfDateIsSelected",function(E){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.days,G=!1;return w.selectedDates.some(ue=>{let de=M(E,ue,q);return G=de&&ue,de}),G}),D(this,"_scheduleCallAfterTransition",E=>{this._cancelScheduledCall(),E&&E(!1),this._onTransitionEnd=()=>{E&&E(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),D(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),D(this,"setViewDate",E=>{if(!((E=b(E))instanceof Date)||M(E,this.viewDate))return;let q=this.viewDate;this.viewDate=E;let{onChangeViewDate:G}=this.opts;if(G){let{month:ue,year:de}=this.parsedViewDate;G({month:ue,year:de,decade:this.curDecade})}this.trigger(n.eventChangeViewDate,E,q)}),D(this,"setFocusDate",function(E){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!E||(E=b(E))instanceof Date)&&(w.focusDate=E,w.trigger(n.eventChangeFocusDate,E,q))}),D(this,"setCurrentView",function(E){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w.viewIndexes.includes(E)){if(w.currentView=E,w.elIsInput&&w.visible&&w.setPosition(void 0,!0),w.trigger(n.eventChangeCurrentView,E),!w.views[E]){let G=w.views[E]=new L({dp:w,opts:w.opts,type:E});w.shouldUpdateDOM&&w.$content.appendChild(G.$el)}w.opts.onChangeView&&!q.silent&&w.opts.onChangeView(E)}}),D(this,"_updateLastSelectedDate",E=>{this.lastSelectedDate=E,this.trigger(n.eventChangeLastSelectedDate,E)}),D(this,"destroy",()=>{if(this.isDestroyed)return;let{showEvent:E,isMobile:q}=this.opts,G=this.$datepicker.parentNode;G&&G.removeChild(this.$datepicker),this.$el.removeEventListener(E,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),q&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0}),D(this,"update",function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=m({},w.opts),{silent:ue}=q;m(w.opts,E);let{timepicker:de,buttons:fe,range:pe,selectedDates:ze,isMobile:qe}=w.opts,$e=w.visible||w.treatAsInline;w._createMinMaxDates(),w._limitViewDateByMaxMinDates(),w._handleLocale(),ze&&(w.selectedDates=[],w.selectDate(ze,{silent:ue})),E.view&&w.setCurrentView(E.view,{silent:ue}),w._setInputValue(),G.range&&!pe?(w.rangeDateTo=!1,w.rangeDateFrom=!1):!G.range&&pe&&w.selectedDates.length&&(w.rangeDateFrom=w.selectedDates[0],w.rangeDateTo=w.selectedDates[1]),G.timepicker&&!de?($e&&w.timepicker.destroy(),w.timepicker=!1,w.$timepicker.parentNode.removeChild(w.$timepicker)):!G.timepicker&&de&&w._addTimepicker(),!G.buttons&&fe?w._addButtons():G.buttons&&!fe?(w.buttons.destroy(),w.$buttons.parentNode.removeChild(w.$buttons)):$e&&G.buttons&&fe&&w.buttons.clearHtml().render(),!G.isMobile&&qe?(w.treatAsInline||A||w._createMobileOverlay(),w._addMobileAttributes(),w.visible&&w._showMobileOverlay()):G.isMobile&&!qe&&(w._removeMobileAttributes(),w.visible&&(A.classList.remove("-active-"),typeof w.opts.position!="function"&&w.setPosition())),$e&&(w.nav.update(),w.views[w.currentView].render(),w.currentView===n.days&&w.views[w.currentView].renderDayNames())}),D(this,"disableDate",(E,q)=>{(Array.isArray(E)?E:[E]).forEach(G=>{let ue=b(G);if(!ue)return;let de=q?"delete":"add";this.disabledDates[de](this.formatDate(ue,"yyyy-MM-dd"));let fe=this.getCell(ue,this.currentViewSingular);fe&&fe.adpCell.render()},[])}),D(this,"enableDate",E=>{this.disableDate(E,!0)}),D(this,"isDateDisabled",E=>{let q=b(E);return this.disabledDates.has(this.formatDate(q,"yyyy-MM-dd"))}),D(this,"isOtherMonth",E=>{let{month:q}=o(E);return q!==this.parsedViewDate.month}),D(this,"isOtherYear",E=>{let{year:q}=o(E);return q!==this.parsedViewDate.year}),D(this,"isOtherDecade",E=>{let{year:q}=o(E),[G,ue]=g(this.viewDate);return q<G||q>ue}),D(this,"_onChangeSelectedDate",E=>{let{silent:q}=E;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!q&&this._triggerOnSelect()})}),D(this,"_onChangeFocusedDate",function(E){let{viewDateTransition:q}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!E)return;let G=!1;q&&(G=w.isOtherMonth(E)||w.isOtherYear(E)||w.isOtherDecade(E)),G&&w.setViewDate(E),w.opts.onFocus&&w.opts.onFocus({datepicker:w,date:E})}),D(this,"_onChangeTime",E=>{let{hours:q,minutes:G}=E,ue=new Date,{lastSelectedDate:de,opts:{onSelect:fe}}=this,pe=de;de||(pe=ue);let ze=this.getCell(pe,this.currentViewSingular),qe=ze&&ze.adpCell;qe&&qe.isDisabled||(pe.setHours(q),pe.setMinutes(G),de?(this._setInputValue(),fe&&this._triggerOnSelect()):this.selectDate(pe))}),D(this,"_onFocus",E=>{this.visible||this.show()}),D(this,"_onBlur",E=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),D(this,"_onMouseDown",E=>{this.inFocus=!0}),D(this,"_onMouseUp",E=>{this.inFocus=!1,this.$el.focus()}),D(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),D(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),D(this,"getViewDates",function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.days;return L.getDatesFunction(E)(w)}),D(this,"isWeekend",E=>this.opts.weekends.includes(E)),D(this,"getClampedDate",E=>{let{minDate:q,maxDate:G}=this,ue=E;return G&&I(E,G)?ue=G:q&&P(E,q)&&(ue=q),ue}),this.$el=s(y),!this.$el)return;this.$datepicker=l({className:"air-datepicker"}),this.opts=m({},i,T),this.$customContainer=!!this.opts.container&&s(this.opts.container),this.$altField=s(this.opts.altField||!1);let{view:O,startDate:B}=this.opts;B||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=b(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=O,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:y,treatAsInline:T,opts:{inline:w,isMobile:O,selectedDates:B,keyboardNav:E,onlyTimepicker:q}}=this,G=s("body");(!$||$&&Q&&!G.contains(Q))&&!w&&this.elIsInput&&!this.$customContainer&&le.buildGlobalContainer(le.defaultGlobalContainerId),!O||A||T||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(w||this._bindEvents(),E&&!q&&(this.keyboardNav=new W({dp:this,opts:y}))),B&&this.selectDate(B,{silent:!0}),this.opts.visible&&!T&&this.show(),O&&!T&&this.$el.setAttribute("readonly",!0),T&&this._createComponents()}_createMobileOverlay(){A=l({className:"air-datepicker-overlay"}),Q.appendChild(A)}_createComponents(){let{opts:y,treatAsInline:T,opts:{inline:w,buttons:O,timepicker:B,position:E,classes:q,onlyTimepicker:G,isMobile:ue}}=this;this._buildBaseHtml(),this.elIsInput&&(w||this._setPositionClasses(E)),!w&&this.elIsInput||this.$datepicker.classList.add("-inline-"),q&&this.$datepicker.classList.add(...q.split(" ")),G&&this.$datepicker.classList.add("-only-timepicker-"),ue&&!T&&this._addMobileAttributes(),this.views[this.currentView]=new L({dp:this,type:this.currentView,opts:y}),this.nav=new V({dp:this,opts:y}),B&&this._addTimepicker(),O&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let y in this.views)this.views[y].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){A.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){A.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:y,maxDate:T}=this.opts;this.minDate=!!y&&b(y),this.maxDate=!!T&&b(T)}_addTimepicker(){this.$timepicker=l({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new Z({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=l({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new te({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(n.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(n.eventChangeFocusDate,this._onChangeFocusedDate),this.on(n.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:y}=this.opts;var T,w;this.elIsInput?y?(T=this.$datepicker,(w=this.$el).parentNode.insertBefore(T,w.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=s(".air-datepicker--content",this.$datepicker),this.$pointer=s(".air-datepicker--pointer",this.$datepicker),this.$nav=s(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:y,dateFormat:T,firstDay:w,timepicker:O,onlyTimepicker:B,timeFormat:E,dateTimeSeparator:q}=this.opts;var G;this.locale=(G=y,JSON.parse(JSON.stringify(G))),T&&(this.locale.dateFormat=T),E!==void 0&&E!==""&&(this.locale.timeFormat=E);let{timeFormat:ue}=this.locale;if(w!==""&&(this.locale.firstDay=w),O&&typeof T!="function"){let de=ue?q:"";this.locale.dateFormat=[this.locale.dateFormat,ue||""].join(de)}B&&typeof T!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(y){if(typeof y=="function")return void this.$datepicker.classList.add("-custom-position-");let T=(y=y.split(" "))[0],w=`air-datepicker -${T}-${y[1]}- -from-${T}-`;this.$datepicker.classList.add(...w.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:y,minDate:T,maxDate:w}=this;w&&I(y,w)&&this.setViewDate(w),T&&P(y,T)&&this.setViewDate(T)}formatDate(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,T=arguments.length>1?arguments[1]:void 0;if(y=b(y),!(y instanceof Date))return;let w=T,O=this.locale,B=o(y),E=B.dayPeriod,q=g(y),G=le.replacer,ue={T:y.getTime(),m:B.minutes,mm:B.fullMinutes,h:B.hours12,hh:B.fullHours12,H:B.hours,HH:B.fullHours,aa:E,AA:E.toUpperCase(),E:O.daysShort[B.day],EEEE:O.days[B.day],d:B.date,dd:B.fullDate,M:B.month+1,MM:B.fullMonth,MMM:O.monthsShort[B.month],MMMM:O.months[B.month],yy:B.year.toString().slice(-2),yyyy:B.year,yyyy1:q[0],yyyy2:q[1]};for(let[de,fe]of Object.entries(ue))w=G(w,f(de),fe);return w}down(y){this._handleUpDownActions(y,"down")}up(y){this._handleUpDownActions(y,"up")}selectDate(y){let T,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:O,parsedViewDate:B,selectedDates:E}=this,{updateTime:q,silent:G}=w,{moveToOtherMonthsOnSelect:ue,moveToOtherYearsOnSelect:de,multipleDates:fe,range:pe,autoClose:ze,onBeforeSelect:qe}=this.opts,$e=E.length;if(Array.isArray(y))return y.forEach(Ze=>{this.selectDate(Ze,w)}),new Promise(Ze=>{setTimeout(Ze)});if((y=b(y))instanceof Date){if(qe&&!G&&!qe({date:y,datepicker:this}))return Promise.resolve();if(O===n.days&&y.getMonth()!==B.month&&ue&&(T=new Date(y.getFullYear(),y.getMonth(),1)),O===n.years&&y.getFullYear()!==B.year&&de&&(T=new Date(y.getFullYear(),0,1)),T&&this.setViewDate(T),fe&&!pe){if($e===fe)return;this._checkIfDateIsSelected(y)||E.push(y)}else if(pe)switch($e){case 1:E.push(y),this.rangeDateTo||(this.rangeDateTo=y),I(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=y),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[y],this.rangeDateFrom=y,this.rangeDateTo="";break;default:this.selectedDates=[y],this.rangeDateFrom=y}else this.selectedDates=[y];return this.trigger(n.eventChangeSelectedDate,{action:n.actionSelectDate,silent:w?.silent,date:y,updateTime:q}),this._updateLastSelectedDate(y),ze&&!this.timepickerIsActive&&this.visible&&(fe||pe?pe&&$e===1&&this.hide():this.hide()),new Promise(Ze=>{setTimeout(Ze)})}}unselectDate(y){let T=this.selectedDates,w=this;if((y=b(y))instanceof Date)return T.some((O,B)=>{if(M(O,y))return T.splice(B,1),w.selectedDates.length?(w.rangeDateTo="",w.rangeDateFrom=T[0],w._updateLastSelectedDate(w.selectedDates[w.selectedDates.length-1])):(w.rangeDateFrom="",w.rangeDateTo="",w._updateLastSelectedDate(!1)),this.trigger(n.eventChangeSelectedDate,{action:n.actionUnselectDate,date:y}),!0})}replaceDate(y,T){let w=this.selectedDates.find(B=>M(B,y,this.currentView)),O=this.selectedDates.indexOf(w);O<0||M(this.selectedDates[O],T,this.currentView)||(this.selectedDates[O]=T,this.trigger(n.eventChangeSelectedDate,{action:n.actionSelectDate,date:T,updateTime:!0}),this._updateLastSelectedDate(T))}clear(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(n.eventChangeSelectedDate,{action:n.actionUnselectDate,silent:y.silent}),new Promise(T=>{setTimeout(T)})}show(){let{onShow:y,isMobile:T}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,y&&this._scheduleCallAfterTransition(y),T&&this._showMobileOverlay()}hide(){let{onHide:y,isMobile:T}=this.opts,w=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(O=>{!this.customHide&&(O&&w||!O&&!w)&&this._finishHide(),y&&y(O)}),T&&A.classList.remove("-active-")}_triggerOnSelect(){let y=[],T=[],{selectedDates:w,locale:O,opts:{onSelect:B,multipleDates:E,range:q}}=this,G=E||q,ue=typeof O.dateFormat=="function";w.length&&(y=w.map(a),T=ue?E?O.dateFormat(y):y.map(de=>O.dateFormat(de)):y.map(de=>this.formatDate(de,O.dateFormat))),B({date:G?y:y[0],formattedDate:G?T:T[0],datepicker:this})}_handleAlreadySelectedDates(y,T){let{selectedDates:w,rangeDateFrom:O,rangeDateTo:B}=this,{range:E,toggleSelected:q}=this.opts,G=w.length,ue=typeof q=="function"?q({datepicker:this,date:T}):q,de=!!(E&&G===1&&y),fe=de?a(T):T;E&&!ue&&(G!==2&&this.selectDate(fe),G===2&&M(O,B))||(ue?this.unselectDate(fe):this._updateLastSelectedDate(de?fe:y))}_handleUpDownActions(y,T){if(!((y=b(y||this.focusDate||this.viewDate))instanceof Date))return;let w=T==="up"?this.viewIndex+1:this.viewIndex-1;w>2&&(w=2),w<0&&(w=0),this.setViewDate(new Date(y.getFullYear(),y.getMonth(),1)),this.setCurrentView(this.viewIndexes[w])}getCell(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.day;if(!((y=b(y))instanceof Date))return;let{year:w,month:O,date:B}=o(y),E=`[data-year="${w}"]`,q=`[data-month="${O}"]`,G={[n.day]:`${E}${q}[data-date="${B}"]`,[n.month]:`${E}${q}`,[n.year]:`${E}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(G[T]):void 0}_showMobileOverlay(){A.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((y,T)=>parseFloat(T)+y,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return o(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return g(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===n.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===n.days}get $container(){return this.$customContainer||Q}static replacer(y,T,w){return y.replace(T,function(O,B,E,q){return B+w+q})}}var oe;return D(le,"defaults",i),D(le,"version","3.6.0"),D(le,"defaultGlobalContainerId","air-datepicker-global-container"),oe=le.prototype,Object.assign(oe,Y),t.default}()})});var Bs=At(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=void 0;var zl={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};Ni.default=zl});var Os=At(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.default=void 0;var Vl={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],monthsShort:["Jan","F\xE9v","Mars","Avr","Mai","Juin","Juil","Ao\xFBt","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1};Ii.default=Vl});var Fs=At(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.default=void 0;var Wl={days:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1};Bi.default=Wl});var Co=At((vo,Mn)=>{"use strict";(function(e,t){typeof Mn=="object"&&typeof Mn.exports=="object"?Mn.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:vo,function(e,t){let n={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})});var oi=At((zo,Nn)=>{"use strict";(function(e,t){typeof Nn=="object"&&typeof Nn.exports=="object"?Nn.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:zo,function(e,t){let n={name:"dialog",add:function(i){let s=i.context;s.dialog={kind:"",updateModal:!1,_closeSignal:!1};let l=i.util.createElement("DIV");l.className="se-dialog sun-editor-common";let c=i.util.createElement("DIV");c.className="se-dialog-back",c.style.display="none";let h=i.util.createElement("DIV");h.className="se-dialog-inner",h.style.display="none",l.appendChild(c),l.appendChild(h),s.dialog.modalArea=l,s.dialog.back=c,s.dialog.modal=h,s.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(i)),s.dialog.modal.addEventListener("click",this._onClick_dialog.bind(i)),s.element.relative.appendChild(l),l=null,c=null,h=null},_onMouseDown_dialog:function(i){/se-dialog-inner/.test(i.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(i){(/close/.test(i.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(i,s){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=(function(c){/27/.test(c.keyCode)&&this.plugins.dialog.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=s,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=i,this.modalForm=this.context[i].modal;let l=this.context[i].focusElement;typeof this.plugins[i].on=="function"&&this.plugins[i].on.call(this,s),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",l&&l.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);let i=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[i].init=="function"&&this.plugins[i].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})});var On=At((Uo,Bn)=>{"use strict";(function(e,t){typeof Bn=="object"&&typeof Bn.exports=="object"?Bn.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:Uo,function(e,t){let n={name:"component",set_container:function(i,s){let l=this.util.createElement("DIV");return l.className="se-component "+s,l.appendChild(i),l},set_cover:function(i){let s=this.util.createElement("FIGURE");return s.appendChild(i),s},create_caption:function(){let i=this.util.createElement("FIGCAPTION");return i.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",i}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})});var Kn=At(($o,Fn)=>{"use strict";(function(e,t){typeof Fn=="object"&&typeof Fn.exports=="object"?Fn.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:$o,function(e,t){let n={name:"resizing",add:function(i){let s=i.icons,l=i.context;l.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:s.align_justify,left:s.align_left,right:s.align_right,center:s.align_center}};let c=this.setController_resize(i);l.resizing.resizeContainer=c,l.resizing.resizeDiv=c.querySelector(".se-modal-resize"),l.resizing.resizeDot=c.querySelector(".se-resize-dot"),l.resizing.resizeDisplay=c.querySelector(".se-resize-display");let h=this.setController_button(i);l.resizing.resizeButton=h;let o=l.resizing.resizeHandles=l.resizing.resizeDot.querySelectorAll("span");l.resizing.resizeButtonGroup=h.querySelector("._se_resizing_btn_group"),l.resizing.rotationButtons=h.querySelectorAll("._se_resizing_btn_group ._se_rotation"),l.resizing.percentageButtons=h.querySelectorAll("._se_resizing_btn_group ._se_percentage"),l.resizing.alignMenu=h.querySelector(".se-resizing-align-list"),l.resizing.alignMenuList=l.resizing.alignMenu.querySelectorAll("button"),l.resizing.alignButton=h.querySelector("._se_resizing_align_button"),l.resizing.autoSizeButton=h.querySelector("._se_resizing_btn_group ._se_auto_size"),l.resizing.captionButton=h.querySelector("._se_resizing_caption_button"),c.addEventListener("mousedown",function(_){_.preventDefault()}),o[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),o[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),h.addEventListener("click",this.onClick_resizeButton.bind(i)),l.element.relative.appendChild(c),l.element.relative.appendChild(h),c=null,h=null,o=null},setController_resize:function(i){let s=i.util.createElement("DIV");return s.className="se-controller se-resizing-container",s.style.display="none",s.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',s},setController_button:function(i){let s=i.lang,l=i.icons,c=i.util.createElement("DIV");return c.className="se-controller se-controller-resizing",c.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+l.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+l.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+l.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+l.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+l.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+l.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+l.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+l.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+l.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+l.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+l.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+l.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+l.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+l.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+s.controller.remove+"</span></span></button></div>",c},_module_getSizeX:function(i,s,l,c){return s||(s=i._element),l||(l=i._cover),c||(c=i._container),s?/%$/.test(s.style.width)?(c&&this.util.getNumber(c.style.width,2)||100)+"%":s.style.width:""},_module_getSizeY:function(i,s,l,c){return s||(s=i._element),l||(l=i._cover),c||(c=i._container),!c||!l?s&&s.style.height||"":this.util.getNumber(l.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?l.style.height:!/%$/.test(s.style.height)||!/%$/.test(s.style.width)?s.style.height:(c&&this.util.getNumber(c.style.height,2)||100)+"%"},_module_setModifyInputSize:function(i,s){let l=i._onlyPercentage&&this.context.resizing._rotateVertical;i.proportion.checked=i._proportionChecked=i._element.getAttribute("data-proportion")!=="false";let c=l?"":this.plugins.resizing._module_getSizeX.call(this,i);if(c===i._defaultSizeX&&(c=""),i._onlyPercentage&&(c=this.util.getNumber(c,2)),i.inputX.value=c,s.setInputSize.call(this,"x"),!i._onlyPercentage){let h=l?"":this.plugins.resizing._module_getSizeY.call(this,i);h===i._defaultSizeY&&(h=""),i._onlyPercentage&&(h=this.util.getNumber(h,2)),i.inputY.value=h}i.inputX.disabled=!!l,i.inputY.disabled=!!l,i.proportion.disabled=!!l,s.setRatio.call(this)},_module_setInputSize:function(i,s){if(i._onlyPercentage){s==="x"&&i.inputX.value>100&&(i.inputX.value=100);return}if(i.proportion.checked&&i._ratio&&/\d/.test(i.inputX.value)&&/\d/.test(i.inputY.value)){let l=i.inputX.value.replace(/\d+|\./g,"")||i.sizeUnit,c=i.inputY.value.replace(/\d+|\./g,"")||i.sizeUnit;if(l!==c)return;let h=l==="%"?2:0;s==="x"?i.inputY.value=this.util.getNumber(i._ratioY*this.util.getNumber(i.inputX.value,h),h)+c:i.inputX.value=this.util.getNumber(i._ratioX*this.util.getNumber(i.inputY.value,h),h)+l}},_module_setRatio:function(i){let s=i.inputX.value,l=i.inputY.value;if(i.proportion.checked&&/\d+/.test(s)&&/\d+/.test(l)){let c=s.replace(/\d+|\./g,"")||i.sizeUnit,h=l.replace(/\d+|\./g,"")||i.sizeUnit;if(c!==h)i._ratio=!1;else if(!i._ratio){let o=this.util.getNumber(s,0),_=this.util.getNumber(l,0);i._ratio=!0,i._ratioX=o/_,i._ratioY=_/o}}else i._ratio=!1},_module_sizeRevert:function(i){i._onlyPercentage?i.inputX.value=i._origin_w>100?100:i._origin_w:(i.inputX.value=i._origin_w,i.inputY.value=i._origin_h)},_module_saveCurrentSize:function(i){let s=this.plugins.resizing._module_getSizeX.call(this,i),l=this.plugins.resizing._module_getSizeY.call(this,i);i._element.setAttribute("width",s.replace("px","")),i._element.setAttribute("height",l.replace("px","")),i._element.setAttribute("data-size",s+","+l),i._videoRatio&&(i._videoRatio=l)},call_controller_resize:function(i,s){let l=this.context.resizing,c=this.context[s];l._resize_plugin=s;let h=l.resizeContainer,o=l.resizeDiv,_=this.util.getOffset(i,this.context.element.wysiwygFrame),u=l._rotateVertical=/^(90|270)$/.test(Math.abs(i.getAttribute("data-rotate")).toString()),g=u?i.offsetHeight:i.offsetWidth,k=u?i.offsetWidth:i.offsetHeight,M=_.top,I=_.left-this.context.element.wysiwygFrame.scrollLeft;h.style.top=M+"px",h.style.left=I+"px",h.style.width=g+"px",h.style.height=k+"px",o.style.top="0px",o.style.left="0px",o.style.width=g+"px",o.style.height=k+"px";let P=i.getAttribute("data-align")||"basic";P=P==="none"?"basic":P;let a=this.util.getParentElement(i,this.util.isComponent),r=this.util.getParentElement(i,"FIGURE"),d=this.plugins.resizing._module_getSizeX.call(this,c,i,r,a)||"auto",p=c._onlyPercentage&&s==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,c,i,r,a)||"auto");this.util.changeTxt(l.resizeDisplay,this.lang.dialogBox[P]+" ("+d+p+")"),l.resizeButtonGroup.style.display=c._resizing?"":"none";let m=c._resizing&&!c._resizeDotHide&&!c._onlyPercentage?"flex":"none",b=l.resizeHandles;for(let R=0,L=b.length;R<L;R++)b[R].style.display=m;if(c._resizing){let R=l.rotationButtons;R[0].style.display=R[1].style.display=c._rotation?"":"none"}if(c._alignHide)l.alignButton.style.display="none";else{l.alignButton.style.display="";let R=l.alignMenuList;this.util.changeElement(l.alignButton.firstElementChild,l.alignIcons[P]);for(let L=0,F=R.length;L<F;L++)R[L].getAttribute("data-value")===P?this.util.addClass(R[L],"on"):this.util.removeClass(R[L],"on")}let f=l.percentageButtons,v=/%$/.test(i.style.width)&&/%$/.test(a.style.width)?this.util.getNumber(a.style.width,0)/100+"":"";for(let R=0,L=f.length;R<L;R++)f[R].getAttribute("data-value")===v?this.util.addClass(f[R],"active"):this.util.removeClass(f[R],"active");c._captionShow?(l.captionButton.style.display="",this.util.getChildElement(i.parentNode,"figcaption")?(this.util.addClass(l.captionButton,"active"),c._captionChecked=!0):(this.util.removeClass(l.captionButton,"active"),c._captionChecked=!1)):l.captionButton.style.display="none",h.style.display="block";let x={left:0,top:50};this.options.iframe&&(x.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,x.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(l.resizeButton,h,"bottom",x);let C=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(h,l.resizeButton,C.bind(this),i,s),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),l._resize_w=g,l._resize_h=k;let S=(i.getAttribute("origin-size")||"").split(",");return l._origin_w=S[0]||i.naturalWidth,l._origin_h=S[1]||i.naturalHeight,{w:g,h:k,t:M,l:I}},_closeAlignMenu:null,openAlignMenu:function(){let i=this.context.resizing.alignButton;this.util.addClass(i,"on"),this.context.resizing.alignMenu.style.top=i.offsetTop+i.offsetHeight+"px",this.context.resizing.alignMenu.style.left=i.offsetLeft-i.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=(function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}).bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(i){i.stopPropagation();let s=i.target,l=s.getAttribute("data-command")||s.parentNode.getAttribute("data-command");if(!l)return;let c=s.getAttribute("data-value")||s.parentNode.getAttribute("data-value"),h=this.context.resizing._resize_plugin,o=this.context[h],_=o._element,u=this.plugins[h];if(i.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),l==="onalign"))){switch(l){case"auto":this.plugins.resizing.resetTransform.call(this,_),u.setAutoSize.call(this),this.selectComponent(_,h);break;case"percent":let g=this.plugins.resizing._module_getSizeY.call(this,o);if(this.context.resizing._rotateVertical){let m=_.getAttribute("data-percentage");m&&(g=m.split(",")[1])}this.plugins.resizing.resetTransform.call(this,_),u.setPercentSize.call(this,c*100,this.util.getNumber(g,0)===null||!/%$/.test(g)?"":g),this.selectComponent(_,h);break;case"mirror":let k=_.getAttribute("data-rotate")||"0",M=_.getAttribute("data-rotateX")||"",I=_.getAttribute("data-rotateY")||"";c==="h"&&!this.context.resizing._rotateVertical||c==="v"&&this.context.resizing._rotateVertical?I=I?"":"180":M=M?"":"180",_.setAttribute("data-rotateX",M),_.setAttribute("data-rotateY",I),this.plugins.resizing._setTransForm(_,k,M,I);break;case"rotate":let P=this.context.resizing,a=_.getAttribute("data-rotate")*1+c*1,r=this._w.Math.abs(a)>=360?0:a;_.setAttribute("data-rotate",r),P._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(r).toString()),this.plugins.resizing.setTransformSize.call(this,_,null,null),this.selectComponent(_,h);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":let d=c==="basic"?"none":c;u.setAlign.call(this,d,null,null,null),this.selectComponent(_,h);break;case"caption":let p=!o._captionChecked;if(u.openModify.call(this,!0),o._captionChecked=o.captionCheckEl.checked=p,u.update_image.call(this,!1,!1,!1),p){let m=this.util.getChildElement(o._caption,function(b){return b.nodeType===3});m?this.setRange(m,0,m,m.textContent.length):o._caption.focus(),this.controllersOff()}else this.selectComponent(_,h),u.openModify.call(this,!0);break;case"revert":u.setOriginSize.call(this),this.selectComponent(_,h);break;case"update":u.openModify.call(this),this.controllersOff();break;case"delete":u.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(i){let s=(i.getAttribute("data-size")||i.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,i.style.maxWidth="",i.style.transform="",i.style.transformOrigin="",i.setAttribute("data-rotate",""),i.setAttribute("data-rotateX",""),i.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,s[0]?s[0]:"auto",s[1]?s[1]:"",!0)},setTransformSize:function(i,s,l){let c=i.getAttribute("data-percentage"),h=this.context.resizing._rotateVertical,o=i.getAttribute("data-rotate")*1,_="";if(c&&!h)c=c.split(","),c[0]==="auto"&&c[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,c[0],c[1]);else{let u=this.util.getParentElement(i,"FIGURE"),g=s||i.offsetWidth,k=l||i.offsetHeight,M=(h?k:g)+"px",I=(h?g:k)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,g+"px",k+"px",!0),u.style.width=M,u.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":I,h){let P=g/2+"px "+g/2+"px 0",a=k/2+"px "+k/2+"px 0";_=o===90||o===-270?a:P}}i.style.transformOrigin=_,this.plugins.resizing._setTransForm(i,o.toString(),i.getAttribute("data-rotateX")||"",i.getAttribute("data-rotateY")||""),h?i.style.maxWidth="none":i.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,i)},_setTransForm:function(i,s,l,c){let h=(i.offsetWidth-i.offsetHeight)*(/-/.test(s)?1:-1),o="";if(/[1-9]/.test(s)&&(l||c))switch(o=l?"Y":"X",s){case"90":o=l&&c?"X":c?o:"";break;case"270":h*=-1,o=l&&c?"Y":l?o:"";break;case"-90":o=l&&c?"Y":l?o:"";break;case"-270":h*=-1,o=l&&c?"X":c?o:"";break;default:o=""}s%180===0&&(i.style.maxWidth=""),i.style.transform="rotate("+s+"deg)"+(l?" rotateX("+l+"deg)":"")+(c?" rotateY("+c+"deg)":"")+(o?" translate"+o+"("+h+"px)":"")},setCaptionPosition:function(i){let s=this.util.getChildElement(this.util.getParentElement(i,"FIGURE"),"FIGCAPTION");s&&(s.style.marginTop=(this.context.resizing._rotateVertical?i.offsetWidth-i.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(i){i.stopPropagation(),i.preventDefault();let s=this.context.resizing,l=s._resize_direction=i.target.classList[0];s._resizeClientX=i.clientX,s._resizeClientY=i.clientY,this.context.element.resizeBackground.style.display="block",s.resizeButton.style.display="none",s.resizeDiv.style.float=/l/.test(l)?"right":/r/.test(l)?"left":"none";let c=(function(_){if(_.type==="keydown"&&_.keyCode!==27)return;let u=s._isChange;s._isChange=!1,this.removeDocEvent("mousemove",h),this.removeDocEvent("mouseup",c),this.removeDocEvent("keydown",c),_.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,l),u&&this.history.push(!1))}).bind(this),h=this.plugins.resizing.resizing_element.bind(this,s,l,this.context[s._resize_plugin]);this.addDocEvent("mousemove",h),this.addDocEvent("mouseup",c),this.addDocEvent("keydown",c)},resizing_element:function(i,s,l,c){let h=c.clientX,o=c.clientY,_=l._element_w,u=l._element_h,g=l._element_w+(/r/.test(s)?h-i._resizeClientX:i._resizeClientX-h),k=l._element_h+(/b/.test(s)?o-i._resizeClientY:i._resizeClientY-o),M=l._element_h/l._element_w*g;/t/.test(s)&&(i.resizeDiv.style.top=l._element_h-(/h/.test(s)?k:M)+"px"),/l/.test(s)&&(i.resizeDiv.style.left=l._element_w-g+"px"),/r|l/.test(s)&&(i.resizeDiv.style.width=g+"px",_=g),/^(t|b)[^h]$/.test(s)?(i.resizeDiv.style.height=M+"px",u=M):/^(t|b)h$/.test(s)&&(i.resizeDiv.style.height=k+"px",u=k),i._resize_w=_,i._resize_h=u,this.util.changeTxt(i.resizeDisplay,this._w.Math.round(_)+" x "+this._w.Math.round(u)),i._isChange=!0},cancel_controller_resize:function(i){let s=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let l=this._w.Math.round(s?this.context.resizing._resize_h:this.context.resizing._resize_w),c=this._w.Math.round(s?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!s&&!/%$/.test(l)){let _=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(l,0)>_&&(c=this._w.Math.round(c/l*_),l=_)}let h=this.context.resizing._resize_plugin;this.plugins[h].setSize.call(this,l,c,!1,i),s&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,l,c),this.selectComponent(this.context[h]._element,h)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})});var Rn=At((Zo,An)=>{"use strict";(function(e,t){typeof An=="object"&&typeof An.exports=="object"?An.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:Zo,function(e,t){let n={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(i){return/IMG/i.test(i)?!/FIGURE/i.test(i.parentElement.nodeName)||!/FIGURE/i.test(i.parentElement.parentElement.nodeName):!0},upload:function(i,s,l,c,h){this.showLoading();let o=this.plugins.fileManager,_=o._xmlHttp=this.util.getXMLHttpRequest();if(_.onreadystatechange=o._callBackUpload.bind(this,_,c,h),_.open("post",i,!0),s!==null&&typeof s=="object"&&this._w.Object.keys(s).length>0)for(let u in s)_.setRequestHeader(u,s[u]);_.send(l)},_callBackUpload:function(i,s,l){if(i.readyState===4)if(i.status===200)try{s(i)}catch(c){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+c.message+'"')}finally{this.closeLoading()}else{this.closeLoading();let c=i.responseText?JSON.parse(i.responseText):i;if(typeof l!="function"||l("",c,this)){let h="[SUNEDITOR.fileManager.upload.serverException] status: "+i.status+", response: "+(c.errorMessage||i.responseText);throw this.functions.noticeOpen(h),Error(h)}}},checkInfo:function(i,s,l,c,h){let o=[];for(let a=0,r=s.length;a<r;a++)o=o.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(s[a]+':not([data-se-embed="true"])')));let _=this.plugins.fileManager,u=this.context[i],g=u._infoList,k=_.setInfo.bind(this);if(o.length===g.length)if(this._componentsInfoReset){for(let a=0,r=o.length;a<r;a++)k(i,o[a],l,null,h);return}else{let a=!1;for(let r=0,d=g.length,p;r<d;r++)if(p=g[r],o.filter(function(m){return p.src===m.src&&p.index.toString()===m.getAttribute("data-index")}).length===0){a=!0;break}if(!a)return}let M=h?this.context.resizing._resize_plugin:"";h&&(this.context.resizing._resize_plugin=i);let I=[],P=[];for(let a=0,r=g.length;a<r;a++)P[a]=g[a].index;for(u.__updateTags=o;o.length>0;){let a=o.shift();!this.util.getParentElement(a,this.util.isMediaComponent)||!_._checkMediaComponent(a)?(I.push(u._infoIndex),c(a)):!a.getAttribute("data-index")||P.indexOf(a.getAttribute("data-index")*1)<0?(I.push(u._infoIndex),a.removeAttribute("data-index"),k(i,a,l,null,h)):I.push(a.getAttribute("data-index")*1)}for(let a=0,r;a<g.length;a++)r=g[a].index,!(I.indexOf(r)>-1)&&(g.splice(a,1),typeof l=="function"&&l(null,r,"delete",null,0,this),a--);h&&(this.context.resizing._resize_plugin=M)},setInfo:function(i,s,l,c,h){let o=h?this.context.resizing._resize_plugin:"";h&&(this.context.resizing._resize_plugin=i);let _=this.plugins[i],u=this.context[i],g=u._infoList,k=s.getAttribute("data-index"),M=null,I="";if(c||(c={name:s.getAttribute("data-file-name")||(typeof s.src=="string"?s.src.split("/").pop():""),size:s.getAttribute("data-file-size")||0}),!k||this._componentsInfoInit)I="create",k=u._infoIndex++,s.setAttribute("data-index",k),s.setAttribute("data-file-name",c.name),s.setAttribute("data-file-size",c.size),M={src:s.src,index:k*1,name:c.name,size:c.size},g.push(M);else{I="update",k*=1;for(let P=0,a=g.length;P<a;P++)if(k===g[P].index){M=g[P];break}M||(k=u._infoIndex++,M={index:k},g.push(M)),M.src=s.src,M.name=s.getAttribute("data-file-name"),M.size=s.getAttribute("data-file-size")*1}if(M.element=s,M.delete=_.destroy.bind(this,s),M.select=(function(P){P.scrollIntoView(!0),this._w.setTimeout(_.select.bind(this,P))}).bind(this,s),h){if(!s.getAttribute("origin-size")&&s.naturalWidth&&s.setAttribute("origin-size",s.naturalWidth+","+s.naturalHeight),!s.getAttribute("data-origin")){let P=this.util.getParentElement(s,this.util.isMediaComponent),a=this.util.getParentElement(s,"FIGURE"),r=this.plugins.resizing._module_getSizeX.call(this,u,s,a,P),d=this.plugins.resizing._module_getSizeY.call(this,u,s,a,P);s.setAttribute("data-origin",r+","+d),s.setAttribute("data-size",r+","+d)}if(!s.style.width){let P=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");_.onModifyMode.call(this,s,null),_.applySize.call(this,P[0],P[1])}this.context.resizing._resize_plugin=o}typeof l=="function"&&l(s,k,I,M,--u._uploadFileLength<0?0:u._uploadFileLength,this)},deleteInfo:function(i,s,l){if(s>=0){let c=this.context[i]._infoList;for(let h=0,o=c.length;h<o;h++)if(s===c[h].index){c.splice(h,1),typeof l=="function"&&l(null,s,"delete",null,0,this);return}}},resetInfo:function(i,s){let l=this.context[i];if(typeof s=="function"){let c=l._infoList;for(let h=0,o=c.length;h<o;h++)s(null,c[h].index,"delete",null,0,this)}l._infoList=[],l._infoIndex=0}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})});var dl=At((ul,Hn)=>{"use strict";(function(e,t){typeof Hn=="object"&&typeof Hn.exports=="object"?Hn.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:ul,function(e,t){let n={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(i){let s=i.context;s.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let l=i.util.createElement("DIV");l.className="se-file-browser sun-editor-common";let c=i.util.createElement("DIV");c.className="se-file-browser-back";let h=i.util.createElement("DIV");h.className="se-file-browser-inner",h.innerHTML=this.set_browser(i),l.appendChild(c),l.appendChild(h),this._loading=l.querySelector(".se-loading-box"),s.fileBrowser.area=l,s.fileBrowser.header=h.querySelector(".se-file-browser-header"),s.fileBrowser.titleArea=h.querySelector(".se-file-browser-title"),s.fileBrowser.tagArea=h.querySelector(".se-file-browser-tags"),s.fileBrowser.body=h.querySelector(".se-file-browser-body"),s.fileBrowser.list=h.querySelector(".se-file-browser-list"),s.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(i)),s.fileBrowser.list.addEventListener("click",this.onClickFile.bind(i)),h.addEventListener("mousedown",this._onMouseDown_browser.bind(i)),h.addEventListener("click",this._onClick_browser.bind(i)),s.element.relative.appendChild(l),l=null,c=null,h=null},set_browser:function(i){let s=i.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+s.dialogBox.close+'" aria-label="'+s.dialogBox.close+'">'+i.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(i){/se-file-browser-inner/.test(i.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(i){i.stopPropagation(),(/close/.test(i.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(i,s){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=(function(o){/27/.test(o.keyCode)&&this.plugins.fileBrowser.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);let l=this.context.fileBrowser;l.contextPlugin=i,l.selectorHandler=s;let c=this.context[i],h=c.listClass;this.util.hasClass(l.list,h)||(l.list.className="se-file-browser-list "+h),this.options.popupDisplay==="full"?l.area.style.position="fixed":l.area.style.position="absolute",l.titleArea.textContent=c.title,l.area.style.display="block",this.context[i].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[i].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[i].url,this.context[i].header)},_bindClose:null,close:function(){let i=this.plugins.fileBrowser;i._xmlHttp&&i._xmlHttp.abort(),i._bindClose&&(this._d.removeEventListener("keydown",i._bindClose),i._bindClose=null);let s=this.context.fileBrowser;s.area.style.display="none",s.selectorHandler=null,s.selectedTags=[],s.items=[],s.list.innerHTML=s.tagArea.innerHTML=s.titleArea.textContent="",typeof this.plugins[s.contextPlugin].init=="function"&&this.plugins[s.contextPlugin].init.call(this),s.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(i,s){let l=this.plugins.fileBrowser,c=l._xmlHttp=this.util.getXMLHttpRequest();if(c.onreadystatechange=l._callBackGet.bind(this,c),c.open("get",i,!0),s!==null&&typeof s=="object"&&this._w.Object.keys(s).length>0)for(let h in s)c.setRequestHeader(h,s[h]);c.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(i){if(i.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,i.status===200)try{let s=JSON.parse(i.responseText);s.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,s.result,!0):s.nullMessage&&(this.context.fileBrowser.list.innerHTML=s.nullMessage)}catch(s){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+s.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),i.status!==0){let s=i.responseText?JSON.parse(i.responseText):i,l="[SUNEDITOR.fileBrowser.get.serverException] status: "+i.status+", response: "+(s.errorMessage||i.responseText);throw Error(l)}}},_drawListItem:function(i,s){let l=this.context.fileBrowser,c=this.context[l.contextPlugin],h=[],o=i.length,_=c.columnSize||l.columnSize,u=_<=1?1:Math.round(o/_)||1,g=c.itemTemplateHandler,k="",M='<div class="se-file-item-column">',I=1;for(let P=0,a,r;P<o;P++)if(a=i[P],r=a.tag?typeof a.tag=="string"?a.tag.split(","):a.tag:[],r=a.tag=r.map(function(d){return d.trim()}),M+=g(a),(P+1)%u===0&&I<_&&P+1<o&&(I++,M+='</div><div class="se-file-item-column">'),s&&r.length>0)for(let d=0,p=r.length,m;d<p;d++)m=r[d],m&&h.indexOf(m)===-1&&(h.push(m),k+='<a title="'+m+'" aria-label="'+m+'">'+m+"</a>");M+="</div>",l.list.innerHTML=M,s&&(l.items=i,l.tagArea.innerHTML=k,l.tagElements=l.tagArea.querySelectorAll("A"))},onClickTag:function(i){let s=i.target;if(!this.util.isAnchor(s))return;let l=s.textContent,c=this.plugins.fileBrowser,h=this.context.fileBrowser,o=h.tagArea.querySelector('a[title="'+l+'"]'),_=h.selectedTags,u=_.indexOf(l);u>-1?(_.splice(u,1),this.util.removeClass(o,"on")):(_.push(l),this.util.addClass(o,"on")),c._drawListItem.call(this,_.length===0?h.items:h.items.filter(function(g){return g.tag.some(function(k){return _.indexOf(k)>-1})}),!1)},onClickFile:function(i){i.preventDefault(),i.stopPropagation();let s=this.context.fileBrowser,l=s.list,c=i.target,h=null;if(c===l)return;for(;l!==c.parentNode&&(h=c.getAttribute("data-command"),!h);)c=c.parentNode;if(!h)return;(s.selectorHandler||this.context[s.contextPlugin].selectorHandler)(c,c.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})});var Di=e=>{let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*i));return t};var Dt=(()=>{let t=class t{constructor(){this.componentId=ie(Di(10)),this.isReadonly=ie(!1),this.isReadonly$=Qe(this.isReadonly),this.componentTabIndex=ie(0),this.componentClass=ie(""),this.componentLabel=ie(""),this.componentPlaceholder=ie(""),this.errorMap=ie([]),this._errorMessagesByKey=we(()=>new Map((this.errorMap()??[]).map(i=>[i.error,i.message]))),this.successMessage=ie(""),this.helpMessage=ie(""),this.formControl=ie(),this.componentBlur=dt(),this._value=he(null),this._isRequired=he(!1),this._isDisabled=he(!1),this._isTouched=he(!1),this._isValid=he(!1),this._showSuccess=we(()=>this.successMessage()&&this._isValid()&&this._isTouched()&&!this._isDisabled()),this._showErrors=we(()=>this.errorMap()?.length>0&&!this._isValid()&&this._isTouched()&&!this._isDisabled()),this._currentErrorMessage=he(""),this._currentErrorMessageExtraData=he({}),this._ngControl=he(null),this._injector=he(Se(rs)),this.getIsRequiredControl=we(()=>!!this._ngControl()?.control?._rawValidators?.find(i=>i.name==="required")),this.destroyRef=Se(Rt),this.onChangeIsReadonly=this.isReadonly$.pipe(Ae()).subscribe(i=>{this._isDisabled.set(i||this._ngControl()?.disabled||!1)}),Qe(this.formControl).pipe(Ae(this.destroyRef)).subscribe(i=>{i&&this.setupFormControl()})}registerOnChange(i){this.onChange=i}writeValue(i){this._value.set(i)}registerOnTouched(i){this.onTouched=()=>{this._isTouched.set(!0),i()}}onChangedEventHandler(i){let s=i.target;this.onChangedHandler(s.value)}onChangedHandler(i){this._value.set(i),this.onChange&&this.onChange(i),this.onTouched&&this.onTouched()}onBlurHandler(){this.onTouched&&this.onTouched(),this.componentBlur.emit()}setupFormControl(){this._statusChange$&&(this._statusChange$.unsubscribe(),this._statusChange$=void 0),this._ngControl.set(this._injector().get(Ts)),this._statusChange$=this._ngControl()?.control?.statusChanges.pipe(Ae(this.destroyRef)).subscribe(()=>{this.checkFormErrors()}),this._isTouched.set(this._ngControl()?.touched??!1),this._isDisabled.set(this.isReadonly()||this._ngControl()?.disabled||!1),this.checkFormErrors()}setDisabledState(i){this._isDisabled.set(i)}checkFormErrors(){let i=this._ngControl()?.control;this._isValid.set(i?.valid??!1),this._isTouched.set(!i?.pristine);let s=i?.errors;this._isRequired.set(s?.[me.required.name]);let l="",c="",h=!0;for(let[o,_]of Object.entries(s??{})){let u=this._errorMessagesByKey().get(o);u&&(l=o,c=u,h=_)}this._currentErrorMessage.set(c),this._currentErrorMessageExtraData.set({[l]:h})}ngAfterViewInit(){this.setupFormControl()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=us({type:t,inputs:{componentId:[1,"componentId"],isReadonly:[1,"isReadonly"],componentTabIndex:[1,"componentTabIndex"],componentClass:[1,"componentClass"],componentLabel:[1,"componentLabel"],componentPlaceholder:[1,"componentPlaceholder"],errorMap:[1,"errorMap"],successMessage:[1,"successMessage"],helpMessage:[1,"helpMessage"],formControl:[1,"formControl"]},outputs:{componentBlur:"componentBlur"}});let e=t;return e})();var gl=["optionListContainer"],bl=(e,t,n,i)=>({"max-height":e,"--option-list-width":t,"--option-list-top":n,"--option-list-bottom":i});function _l(e,t){if(e&1){let n=He();H(0,"li",4),ae("mousedown",function(s){let l=be(n).$implicit,c=re();return s.stopImmediatePropagation(),_e(c.onSelectItem(l))}),H(1,"input",5,1),ae("blur",function(s){be(n);let l=re();return _e(l.onBlurHandler(s))}),U(),H(3,"label",6),J(4),ee(5,"transloco"),U()()}if(e&2){let n=t.$implicit,i=t.$index,s=t.$count,l=re();Ue("m-0",i===s-1)("selected",l.selectionMode()==="single"?l.getSelected(n):null),se("id","item-"+i),N(),Ue("d-none",l.selectionMode()==="single"||!(n!=null&&n.value)),se("checked",l.getSelected(n))("disabled",!0)("id",i+"-"+n.value+"-checkbox")("name",i+"-"+n.value+"-checkbox")("ngClass",l.componentClass())("tabIndex",l.componentTabIndex())("value",l.getSelected(n)),N(2),Ue("ms-3",l.selectionMode()==="multiple"&&(n==null?null:n.value)),se("for",i+"-"+n.value+"-checkbox"),N(),ne(" ",l.translateValue()?ce(5,18,n.label):n.label," ")}}var Ht=function(e){return e.SELECT="select",e.AUTOCOMPLETE="autocomplete",e}(Ht||{}),jt=(()=>{let t=class t{constructor(){this.logLevel=Se(xs,{optional:!0}),this.selectionMode=ie("single"),this.optionListMaxHeight=ie("201px"),this.selectOptions=ie([]),this.selectButtonRef=ie.required(),this._value=ie(),this._isDisabled=ie(),this.componentClass=ie(""),this.componentLabel=ie(""),this.componentTabIndex=ie(0),this.translateValue=ie(!1),this.nullOption=ie(!0),this.elementWidth=he("0px"),this.elementTop=he("0px"),this.elementBottom=he("0px"),this.scrollBehaviorOnOpen=ie("smooth"),this.changedHandler=dt(),this.blurHandler=dt(),this.optionListContainer=Me("optionListContainer"),this.destroyRef=Se(Rt),this.parentType=ie.required(),this.parentID=ie(""),this.searchString=he(""),this.searchResetTimer=null,this.selectButtonRef$=Qe(this.selectButtonRef).pipe(Ae(this.destroyRef)).subscribe(()=>{this.getOptionListWidth(),this.getOptionListTop(),this.getScrollParent(this.selectButtonRef())?.addEventListener("scroll",()=>{this.getOptionListWidth(),this.getOptionListTop()})}),this.selectOptionsList=we(()=>this.nullOption()&&this.selectionMode()==="single"?[{label:"",value:null},...this.selectOptions()]:[...this.selectOptions()]),this.onKeyDown=null,this.selectedElementIndex=we(()=>this.selectOptionsList()?.findIndex(i=>i?.value===this._value())??0),this.optionList$=vt(()=>{let i=this.optionListContainer();if(i&&this.parentType()===Ht.SELECT){i?.nativeElement.focus();let h=i?.nativeElement;if(h){let _=h?.children[0]?.children.item(this.selectedElementIndex());_&&setTimeout(()=>{_.scrollIntoView({behavior:this.scrollBehaviorOnOpen()})},0)}}let l=i?.nativeElement?.children[0]?.children??[],c=this.selectedElementIndex();l?.[c]?.classList.add("selected"),this.onKeyDown&&this.onKeyDown.unsubscribe(),this.onKeyDown=_i(document,"keydown",{capture:!0}).pipe(Ae(this.destroyRef)).subscribe(h=>{switch(h.key){case"ArrowDown":{this.parentType()===Ht.AUTOCOMPLETE&&i?.nativeElement.focus(),c!==this.selectedElementIndex()&&l[c]?.classList.remove("selected"),c===l.length-1?c=l.length-1:c+=1,c===0&&(h.preventDefault(),i?.nativeElement?.scroll(0,0));let o=i?.nativeElement?.getBoundingClientRect()?.bottom??0,_=i?.nativeElement?.children?.[0]?.children?.item(c)?.getBoundingClientRect()?.height,u=i?.nativeElement?.children?.[0]?.children?.item(c)?.getBoundingClientRect()?.bottom;o>(u??0)+(_??0)&&h.preventDefault(),l[c]?.classList.add("selected"),(i?.nativeElement?.scrollTop??0)>=(i?.nativeElement?.scrollHeight??0)-(i?.nativeElement?.offsetHeight??0)&&h.preventDefault();break}case"ArrowUp":{this.parentType()===Ht.AUTOCOMPLETE&&i?.nativeElement.focus(),c!==this.selectedElementIndex()&&l[c]?.classList.remove("selected"),c!==0&&(c-=1);let o=i?.nativeElement?.getBoundingClientRect()?.top??0,_=i?.nativeElement?.children?.[0]?.children?.item(c)?.getBoundingClientRect()?.height,u=i?.nativeElement?.children?.[0]?.children?.item(c)?.getBoundingClientRect()?.top;o<(u??0)-(_??0)&&h.preventDefault(),l[c]?.classList.add("selected"),i?.nativeElement?.scrollTop||h.preventDefault();break}case"Enter":{this.onSelectItem(this.selectOptionsList()[c]);break}default:{if((h?.key?.length===1||h?.key==="Backspace")&&this.parentType()===Ht.AUTOCOMPLETE&&document.activeElement?.id===i?.nativeElement?.id)c=0,document.getElementById(this.parentID())?.focus(),document.getElementById(this.parentID())?.click();else if(h?.key?.length===1&&this.parentType()===Ht.SELECT){let o=h.key;c=this.handleSearch(o,l,c),h.preventDefault()}break}}})})}handleSearch(i,s,l){this.searchResetTimer&&clearTimeout(this.searchResetTimer),this.searchString.update(o=>o+i),this.searchResetTimer=setTimeout(()=>{this.searchString.set(""),this.searchResetTimer=null},500);let c=this.searchString().toLowerCase(),h=this.selectOptionsList().findIndex(o=>o.label.toLowerCase().includes(c));return h!==-1&&h!==l?(s[l]?.classList.remove("selected"),s[h]?.classList.add("selected"),s[h]?.scrollIntoView({behavior:this.scrollBehaviorOnOpen()}),h):l}changePosition(){this.getOptionListWidth(),this.getOptionListTop()}isScrollable(i){if(!i)return!1;let s=!1;try{let l=i.scrollHeight>i.clientHeight,h=window.getComputedStyle(i).overflowY.includes("hidden");s=l&&!h}catch(l){this.logLevel==="verbose"&&console.error("captured error isScrollable",l)}return s}getScrollParent(i){return!i||i===document.body||!(i instanceof Element)?document.body:this.isScrollable(i)?i:this.getScrollParent(i.parentNode)}onSelectItem(i){if(this.selectionMode()==="single")this.changedHandler.emit(i?.value??null);else{let s=this._value();!Array.isArray(s)&&s&&(s=[s]);let l=s;l?l.some(c=>c===i?.value)?this.changedHandler.emit(l.filter(c=>c!==i?.value)):i?this.changedHandler.emit([...l,i.value]):this.changedHandler.emit([...l]):i?.value?this.changedHandler.emit([i.value]):this.changedHandler.emit(null)}this.getOptionListTop()}getSelected(i){return this.selectionMode()==="single"||!Array.isArray(this._value())?this._value()===i.value:this._value()?.some(s=>s===i?.value)}onBlurHandler(i){this.blurHandler.emit(i)}getOptionListWidth(){this.elementWidth.set(`${this.selectButtonRef()?.offsetWidth}px`)}getOptionListTop(){let i=this.optionListContainer()?.nativeElement;setTimeout(()=>{let s=window.innerHeight-(i?.getBoundingClientRect()?.height??0)-(this.selectButtonRef()?.getBoundingClientRect()?.top??0)-(this.selectButtonRef()?.getBoundingClientRect()?.height??0),l="unset",c="unset",h=s>=0;h?l=`${(this.selectButtonRef()?.getBoundingClientRect()?.top??0)+(this.selectButtonRef()?.getBoundingClientRect()?.height??0)}px`:c=`${window.innerHeight-(this.selectButtonRef()?.getBoundingClientRect()?.bottom??0)+(this.selectButtonRef()?.getBoundingClientRect()?.height??0)}px`,i?.classList.toggle("option-list-top",!h),this.elementTop.set(l),this.elementBottom.set(c)})}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-option-list"]],viewQuery:function(s,l){s&1&&Le(l.optionListContainer,gl,5),s&2&&Ve()},hostBindings:function(s,l){s&1&&ae("scroll",function(){return l.changePosition()},cs)},inputs:{selectionMode:[1,"selectionMode"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],selectButtonRef:[1,"selectButtonRef"],_value:[1,"_value"],_isDisabled:[1,"_isDisabled"],componentClass:[1,"componentClass"],componentLabel:[1,"componentLabel"],componentTabIndex:[1,"componentTabIndex"],translateValue:[1,"translateValue"],nullOption:[1,"nullOption"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],parentType:[1,"parentType"],parentID:[1,"parentID"]},outputs:{changedHandler:"changedHandler",blurHandler:"blurHandler"},decls:5,vars:6,consts:[["optionListContainer",""],["inputCheckbox",""],["id","optionList","tabindex","1",1,"option-list",3,"blur","ngStyle"],[1,"item",3,"m-0","selected","id"],[1,"item",3,"mousedown","id"],["type","checkbox",1,"form-check-input","opacity-100",3,"blur","checked","disabled","id","name","ngClass","tabIndex","value"],[1,"form-check-label","checkbox-label","w-100","opacity-100",3,"for"]],template:function(s,l){if(s&1){let c=He();H(0,"div",2,0),ae("blur",function(o){return be(c),_e(l.onBlurHandler(o))}),H(2,"ul"),bt(3,_l,6,20,"li",3,Pt),U()()}s&2&&(se("ngStyle",Cs(1,bl,l.optionListMaxHeight(),l.elementWidth(),l.elementTop(),l.elementBottom())),N(3),_t(l.selectOptionsList()))},dependencies:[ki,tt,Ie],styles:["[_nghost-%COMP%]{display:block;z-index:999}.option-list[_ngcontent-%COMP%]{--option-list-width: 100%;--option-list-top: 10px;--option-list-bottom: unset;border:1px solid var(--bs-border-color);border-top:0;border-radius:var(--bs-border-radius);overflow:auto;position:fixed;width:var(--option-list-width);top:var(--option-list-top);bottom:var(--option-list-bottom);z-index:999}.option-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.option-list[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);filter:brightness(95%)}.option-list.option-list-top[_ngcontent-%COMP%]{border-top:1px solid var(--bs-border-color);border-bottom:0}.option-list[_ngcontent-%COMP%]:focus-visible{outline:none}.item[_ngcontent-%COMP%]{display:flex;background-color:var(--bs-body-bg);z-index:1;padding:0 .5rem;min-height:2.5rem}.item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:.5rem 0}.item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--bs-body-bg);filter:brightness(95%)}.item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:hover{cursor:pointer}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{align-self:center}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{border-color:var(--bs-border-color);box-shadow:unset}.item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--bs-primary);border-color:var(--bs-border-color)}"],changeDetection:0});let e=t;return e})();var yl=["optionList"],vl=["selectInput"],Cl=["chipContainer"],wl=["autocompleteContainer"],xl=e=>({"--chip-max-length":e}),Tl=e=>({"m-0":e});function Sl(e,t){if(e&1&&(H(0,"label",5),J(1),ee(2,"transloco"),H(3,"span",12),J(4,"*"),U()()),e&2){let n=re();se("htmlFor",n.componentId()),N(),ne(" ",ce(2,3,n.componentLabel())," "),N(2),se("hidden",!n._isRequired())}}function kl(e,t){if(e&1){let n=He();H(0,"button",16),ae("click",function(){be(n);let s=re(2).$implicit,l=re(2);return _e(l.deleteChip(s))}),gt(),H(1,"svg",17),Ce(2,"path",18),U()()}if(e&2){let n=re(2).$index;se("tabIndex",n+1)}}function El(e,t){if(e&1&&(H(0,"div",13)(1,"p",14),J(2),U(),ye(3,kl,3,1,"button",15),U()),e&2){let n=re().$implicit,i=re(2);se("quangTooltip",i.chipMaxLength()?i.getDescription(n):""),N(),se("ngClass",Te(4,Tl,i.isReadonly()||i._isDisabled())),N(),ne(" ",i.getDescription(n)," "),N(),ve(!i.isReadonly()&&!i._isDisabled()?3:-1)}}function Ll(e,t){if(e&1&&ye(0,El,4,6,"div",13),e&2){let n=t.$implicit,i=re(2);ve(i.getDescription(n)?0:-1)}}function Ml(e,t){if(e&1&&bt(0,Ll,1,1,null,null,Pt),e&2){let n=re();_t(n._chipList())}}function Dl(e,t){if(e&1){let n=He();H(0,"quang-option-list",19,3),ae("blurHandler",function(s){be(n);let l=re();return _e(l.onBlurOptionList(s))})("changedHandler",function(s){be(n);let l=re();return _e(l.onValueChange(s))}),U()}if(e&2){let n=re(),i=yt(1);se("_isDisabled",n._isDisabled())("_value",n._value())("componentClass",n.componentClass())("componentLabel",n.componentLabel())("componentTabIndex",n.componentTabIndex())("nullOption",!1)("optionListMaxHeight",n.optionListMaxHeight())("parentID",n.componentId())("parentType",n.ParentType)("scrollBehaviorOnOpen",n.scrollBehaviorOnOpen())("selectButtonRef",i)("selectOptions",n._filteredOptions())("translateValue",n.translateValue())}}function Nl(e,t){if(e&1&&(H(0,"small",11),J(1),ee(2,"transloco"),U()),e&2){let n=re();se("hidden",n._showSuccess()||n._showErrors()),N(),ne(" ",ce(2,2,n.helpMessage())," ")}}var zn=(()=>{let t=class t extends Dt{constructor(){super(),this.syncFormWithText=ie(!1),this.optionListMaxHeight=ie("200px"),this.selectOptions=ie.required(),this.translateValue=ie(!0),this.scrollBehaviorOnOpen=ie("smooth"),this.emitOnly=ie(!1),this.multiple=ie(!1),this.chipMaxLength=ie(0),this.multiSelectDisplayMode=ie("vertical"),this.optionList=Me("optionList"),this._showOptions=he(null),this._inputValue=he(""),this._optionHideTimeout=he(void 0),this._chipList=he([]),this._selectedOptions=he([]),this.inputValue$=new ts,this.selectOptionsChange=Qe(this.selectOptions).pipe(Ae()).subscribe(()=>{this._inputValue()||this.setInputValue()}),this._filteredOptions=we(()=>{let i=this._inputValue();return this.multiple()?this.filterOptions(i).filter(s=>!this._chipList().some(l=>l===s.value)):i?.length?this.filterOptions(i):this.selectOptions()}),this.selectedOption=dt(),this.searchTextChange=dt(),this.searchTextDebounce=ie(300),this.internalFilterOptions=ie(!0),this.ParentType=Ht.AUTOCOMPLETE,this.formValueChange$=void 0,this.selectInput=Me("selectInput"),this.chipContainer=Me("chipContainer"),this.autocompleteContainer=Me("autocompleteContainer"),this.inputHeight=he(0),this.onChangeSelectInput=vt(()=>{let i=this.selectInput();i&&(this.inputHeight.set(i?.nativeElement?.getBoundingClientRect().height),i.nativeElement.addEventListener("keydown",s=>{if(this.multiple()&&this._chipList().length>0&&!this._inputValue()?.length&&s.key==="Backspace"){s.preventDefault();let l=this.chipContainer()?.nativeElement;if(l){let c=l.querySelectorAll(".chip button.btn-chip");if(c.length>0){let h=c[c.length-1];h.focus(),h.addEventListener("keydown",o=>{o.key==="Backspace"?(o.preventDefault(),this.deleteChip(this._chipList()[this._chipList().length-1]),i.nativeElement.focus()):o.preventDefault()})}}}}))}),this.inputValue$.pipe(Ae(),vi(this.searchTextDebounce()),ls()).subscribe(i=>{i!==this._inputValue()&&(this.searchTextChange.emit(i?.toString()||""),this.syncFormWithText()&&this.onValueChange(i,!1)),this._inputValue.set(i?.toString()||""),!this._inputValue()?.length&&!this.emitOnly()&&!this.multiple()&&this._ngControl()?.control?.patchValue(null)}),Qe(this._showOptions).pipe(Ae()).subscribe(i=>{!i&&i!==null&&this.checkInputValue()})}setupFormControl(){super.setupFormControl();let i=this._ngControl()?.control;this.formValueChange$&&(this.formValueChange$.unsubscribe(),this.formValueChange$=void 0),i&&(this.formValueChange$=i.valueChanges.pipe(Ae(this.destroyRef)).subscribe(s=>{!this.syncFormWithText()&&!s&&this._inputValue.set("")}))}showOptionVisibility(){this._optionHideTimeout()&&(clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(null)),this._showOptions.set(!0)}hideOptionVisibility(i=!1){this._optionHideTimeout()&&clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(setTimeout(()=>{this._showOptions.set(!1)},i?0:50))}onChangeInput(i){this.showOptionVisibility(),this.inputValue$.next(i.target?.value)}filterOptions(i){let s=this.selectOptions();return this.internalFilterOptions()?s.filter(l=>l.label.toLowerCase().includes(i.toLowerCase())):s}onChangedHandler(i){super.onChangedHandler(i),this.setInputValue()}onValueChange(i,s=!0){this.multiple()?(this.onSelectValue(i),this.onChangedHandler(this._chipList()),this._chipList().some(l=>l===i)&&this.inputValue$.next("")):(this.onChangedHandler(i),s&&this.hideOptionVisibility(),this.selectedOption.emit(i))}checkInputValue(){let i=this.selectOptions().find(s=>s.label.toLowerCase()===this._inputValue()?.toLowerCase());if(!this.multiple()){if(i?.value===this._value())return;i?this.onChangedHandler(i.value??""):this.syncFormWithText()||this.onChangedHandler("")}}writeValue(i){super.writeValue(i),this.setInputValue(!0),Array.isArray(i)&&i.forEach(s=>{this.onSelectValue(s)})}onBlurInput(i){i?.relatedTarget?.id!==this.optionList()?.optionListContainer()?.nativeElement?.id&&this.onBlurHandler()}onBlurHandler(){setTimeout(()=>{this.hideOptionVisibility(),!this._inputValue()?.length&&!this.emitOnly()&&!this.multiple()&&this._ngControl()?.control?.patchValue(null),super.onBlurHandler()},100)}onBlurOptionList(i){i&&this.hideOptionVisibility()}setInputValue(i=!1){this._inputValue.set(this.selectOptions().find(s=>s.value===this._value())?.label??(i?"":this._inputValue())),this.syncFormWithText()||this.inputValue$.next(this._inputValue()??"")}getDescription(i){let s=this.selectOptions().find(l=>l.value===i);return s?s.label.toString():""}onSelectValue(i){let s=this.selectOptions().find(l=>l.value===i);s&&!this._chipList().some(l=>l===s?.value)&&(this.createChipList(s),this._selectedOptions.update(l=>[...l,s]))}deleteChip(i){let s=i?.toString(),l=this._chipList()?.findIndex(c=>c.toString()===s);if(l>=0){let c=this._chipList();Array.isArray(c)&&c.length>0&&(this._chipList.update(h=>h.filter((o,_)=>_!==l)),this.onChangedHandler(this._chipList()))}}createChipList(i){i&&this._chipList.update(s=>[...s,i.value])}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-autocomplete"]],viewQuery:function(s,l){s&1&&(Le(l.optionList,yl,5),Le(l.selectInput,vl,5),Le(l.chipContainer,Cl,5),Le(l.autocompleteContainer,wl,5)),s&2&&Ve(4)},inputs:{syncFormWithText:[1,"syncFormWithText"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],translateValue:[1,"translateValue"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],emitOnly:[1,"emitOnly"],multiple:[1,"multiple"],chipMaxLength:[1,"chipMaxLength"],multiSelectDisplayMode:[1,"multiSelectDisplayMode"],searchTextDebounce:[1,"searchTextDebounce"],internalFilterOptions:[1,"internalFilterOptions"]},outputs:{selectedOption:"selectedOption",searchTextChange:"searchTextChange"},features:[xt([{provide:St,useExisting:Ct(()=>t),multi:!0},{provide:jt,multi:!1}]),wt],decls:17,vars:30,consts:[["autocompleteContainer",""],["chipContainer",""],["selectInput",""],["optionList",""],[1,"autocomplete-container",3,"ngStyle"],[1,"form-label",3,"htmlFor"],[1,"container-wrap",3,"ngClass"],["autocomplete","off","type","text",3,"blur","input","mousedown","disabled","id","ngClass","placeholder","tabIndex","value"],["selectionMode","single",3,"_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentID","parentType","scrollBehaviorOnOpen","selectButtonRef","selectOptions","translateValue"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"],[1,"chip","chip-hover",3,"quangTooltip"],[3,"ngClass"],["type","button",1,"btn","btn-chip",3,"tabIndex"],["type","button",1,"btn","btn-chip",3,"click","tabIndex"],["fill","currentColor","height","24","viewBox","0 0 512 512","width","24","xmlns","http://www.w3.org/2000/svg",1,"ionicon"],["d","M368 368L144 144M368 144L144 368","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","32"],["selectionMode","single",3,"blurHandler","changedHandler","_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentID","parentType","scrollBehaviorOnOpen","selectButtonRef","selectOptions","translateValue"]],template:function(s,l){if(s&1){let c=He();H(0,"div",4,0),ye(2,Sl,5,5,"label",5),H(3,"div",6,1),ye(5,Ml,2,0),H(6,"input",7,2),ee(8,"transloco"),ae("blur",function(o){return be(c),_e(l.onBlurInput(o))})("input",function(o){return be(c),_e(l.onChangeInput(o))})("mousedown",function(){return be(c),_e(l.showOptionVisibility())}),U()(),ye(9,Dl,2,13,"quang-option-list",8),H(10,"div",9),J(11),ee(12,"transloco"),U(),H(13,"div",10),J(14),ee(15,"transloco"),U(),ye(16,Nl,3,4,"small",11),U()}s&2&&(se("ngStyle",Te(28,xl,l.chipMaxLength()?l.chipMaxLength()+"ch":"none")),N(2),ve(l.componentLabel()?2:-1),N(),se("ngClass",l.multiSelectDisplayMode()==="horizontal"?"horizontal form-control":""),N(2),ve(l.multiple()&&l._chipList().length>0?5:-1),N(),Ue("form-control",l.multiSelectDisplayMode()!=="horizontal")("is-invalid",l._showErrors())("is-valid",l._showSuccess()),se("disabled",l._isDisabled()||l.isReadonly())("id",l.componentId())("ngClass",l.componentClass())("placeholder",ce(8,21,l.componentPlaceholder()))("tabIndex",l.componentTabIndex())("value",l._inputValue()),ut("required",l.getIsRequiredControl()),N(3),ve(l._showOptions()?9:-1),N(2),ne(" ",ce(12,23,l.successMessage())," "),N(3),ne(" ",xe(15,25,l._currentErrorMessage(),l._currentErrorMessageExtraData())," "),N(2),ve(l.helpMessage()?16:-1))},dependencies:[Ie,tt,jt,ki,ks],styles:["[_nghost-%COMP%]{display:block;--chip-max-length: none}.autocomplete-container[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative}.chip[_ngcontent-%COMP%]:has(.btn-chip:disabled):hover{filter:unset;cursor:unset}.container-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.container-wrap.horizontal[_ngcontent-%COMP%]{display:flex}.container-wrap.horizontal[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{max-width:70%;margin-bottom:0;margin-left:.5rem;flex-wrap:nowrap;white-space:nowrap;overflow-x:auto;position:absolute;align-items:center}.container-wrap.horizontal[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{white-space:nowrap}.container-wrap.horizontal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:30%;flex:1 1 0;width:auto;border:none}.container-wrap.horizontal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}.chip[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.25rem .5rem;border-radius:16px;color:var(--bs-btn-color);background-color:rgba(var(--bs-primary-rgb),.1);border-width:1px;border-style:solid;border-color:var(--bs-primary-border-subtle);height:2rem}.chip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;max-width:var(--chip-max-length);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]{text-align:end;padding:0;min-width:unset}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]:hover{opacity:80%}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]:active{border-color:transparent}.chip[_ngcontent-%COMP%]   .btn-chip[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--bs-primary);vertical-align:sub}.chip[_ngcontent-%COMP%]:has(.btn-chip:focus-visible){border-width:2px;filter:brightness(80%)}"],changeDetection:0});let e=t;return e})();var Il=["testComponent"],Bl=e=>({enabled:e}),Ol=e=>({required:e}),Fl=e=>({readonly:e}),Al=e=>({value:e}),Rl=e=>({valid:e});function Hl(e,t){if(e&1){let n=He();H(0,"div",5)(1,"quang-autocomplete",11,0),ae("searchTextChange",function(s){be(n);let l=re();return _e(l.changeTextTest(s))}),U(),Ce(3,"quang-autocomplete",12),H(4,"quang-autocomplete",13),ae("searchTextChange",function(s){be(n);let l=re();return _e(l.changeTextTestFixed(s))}),U(),Ce(5,"quang-autocomplete",14)(6,"quang-autocomplete",15)(7,"quang-autocomplete",16),U()}if(e&2){let n=re();N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())("searchTextDebounce",500)("selectOptions",n.stringListFiltered()),N(2),se("errorMap",n.errors())("isReadonly",n.isReadonly())("searchTextDebounce",500)("selectOptions",n.stringListFiltered())("syncFormWithText",!0),N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())("searchTextDebounce",500)("selectOptions",n.textEqualValueStringListFiltered())("syncFormWithText",!0),N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())("searchTextDebounce",500)("selectOptions",n.textEqualValueStringListFiltered())("syncFormWithText",!0),N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())("multiple",!0)("searchTextDebounce",500)("selectOptions",n.stringListFiltered())("syncFormWithText",!0),N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())("multiple",!0)("searchTextDebounce",500)("selectOptions",n.stringListFiltered())("syncFormWithText",!0)}}function Pl(e,t){if(e&1&&(H(0,"div",8)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let n=re();N(2),ne(" ",xe(4,4,"form.label.formValue",Te(10,Al,ce(3,2,n.testForm.value)))," "),N(4),ne(" ",xe(7,7,"form.label.formValidity",Te(12,Rl,n.testForm.valid))," ")}}var Ms=(()=>{let t=class t{constructor(){this.quangTranslationService=Se(Xe),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/autocomplete.md":"./assets/docs/autocomplete.it.md"),this.QuangAutocompleteComponent=zn,this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.stringList=[{code:"required",description:"This field is required."},{code:"minLength",description:"This field must be at least 10 characters long."},{code:"maxLength",description:"This field must be at most 30 characters long."},{code:"pattern",description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:"email",description:"This field must be a valid email address."},{code:"min",description:"This field must be greater than or equal to 10."},{code:"max",description:"This field must be less than or equal to 30."},{code:"unique",description:"This field must be unique."},{code:"custom",description:"This field does not meet the custom validation rule."},{code:"async",description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.textEqualValueStringList=he(this.stringList.map(i=>({label:i.label,value:i.label}))),this.textEqualValueStringListFiltered=he(this.stringList.map(i=>({label:i.label,value:i.label}))),this.fixedStringList=he([...this.stringList]),this.stringListFiltered=he([...this.stringList]),this.numberList=[{code:1,description:"This field is required."},{code:2,description:"This field must be at least 10 characters long."},{code:3,description:"This field must be at most 30 characters long."},{code:4,description:"This field must match the following pattern: [a-zA-Z0-9]+"},{code:5,description:"This field must be a valid email address."},{code:6,description:"This field must be greater than or equal to 10."},{code:7,description:"This field must be less than or equal to 30."},{code:8,description:"This field must be unique."},{code:9,description:"This field does not meet the custom validation rule."},{code:10,description:"This field does not meet the async validation rule."}].map(i=>({label:i.description,value:i.code})),this.formBuilder=Se(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput1:this.formBuilder.control(null,[me.required]),testInput2:this.formBuilder.control("",[me.required]),testInput3:this.formBuilder.control(null,[me.required]),testInput4:this.formBuilder.control(null,[me.required]),testInputMultiple:this.formBuilder.control([],[me.required]),testInputMultipleHorizontal:this.formBuilder.control([],[me.required])}),this.showInput=he(!0),this.destroyRef=Se(Rt),setTimeout(()=>{this.testForm.patchValue({testInput1:"required",testInput2:"minLength"})},2e3)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput1.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput1.removeValidators(me.required):this.testForm.controls.testInput1.addValidators(me.required),this.testForm.controls.testInput1.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput1:this.formBuilder.control(this.stringList[2].value,[me.required]),testInput2:this.formBuilder.control(this.stringList[2].value,[me.required]),testInput3:this.formBuilder.control(this.stringList[2].value,[me.required]),testInput4:this.formBuilder.control(this.stringList[2].value,[me.required]),testInputMultiple:this.formBuilder.control([1,2],[me.required]),testInputMultipleHorizontal:this.formBuilder.control([1,2],[me.required])})}setFormValues(){this.testForm.patchValue({testInput1:"min",testInputMultiple:[3,4]})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0)}setReadonly(){this.isReadonly.set(!this.isReadonly())}changeTextTest(i){setTimeout(()=>{this.stringListFiltered.set(this.stringList.filter(s=>s.label.toLowerCase().includes(i.toLowerCase())))},500)}changeTextTestFixed(i){setTimeout(()=>{this.textEqualValueStringListFiltered.set(this.fixedStringList().filter(s=>s.label.toLowerCase().includes(i.toLowerCase())).map(s=>({label:s.label,value:s.label})))},500)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-autocomplete-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,Il,5),s&2&&Ve()},decls:33,vars:39,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.autocompleteAsync","formControlName","testInput1","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",1,"col-6",3,"searchTextChange","errorMap","isReadonly","searchTextDebounce","selectOptions"],["componentLabel","form.label.autocompleteNotAsync","componentPlaceholder","form.placeholder.autocompleteNotAsync","formControlName","testInput2","multiSelectDisplayMode","horizontal","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteSuggestionAsync","formControlName","testInput3","successMessage","form.label.success",1,"col-6",3,"searchTextChange","errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteSuggestionNotAsync","formControlName","testInput4","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteMultiple","componentPlaceholder","form.placeholder.autocompleteMultiple","formControlName","testInputMultiple","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","multiple","searchTextDebounce","selectOptions","syncFormWithText"],["componentLabel","form.label.autocompleteMultipleHorizontal","componentPlaceholder","form.placeholder.autocompleteMultipleHorizontal","formControlName","testInputMultipleHorizontal","multiSelectDisplayMode","horizontal","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly","multiple","searchTextDebounce","selectOptions","syncFormWithText"]],template:function(s,l){s&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1)(4,"div",2),Ce(5,"div",3),H(6,"div",4),ye(7,Hl,8,31,"div",5),H(8,"div",6)(9,"button",7),ae("click",function(){return l.changeFormEnabled()}),J(10),ee(11,"transloco"),U(),H(12,"button",7),ae("click",function(){return l.changeFormInputRequired()}),J(13),ee(14,"transloco"),U(),H(15,"button",7),ae("click",function(){return l.changeVisibility()}),J(16),ee(17,"transloco"),U(),H(18,"button",7),ae("click",function(){return l.recreateForm()}),J(19),ee(20,"transloco"),U(),H(21,"button",7),ae("click",function(){return l.setFormValues()}),J(22),ee(23,"transloco"),U(),H(24,"button",7),ae("click",function(){return l.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),U(),H(27,"button",7),ae("click",function(){return l.setReadonly()}),J(28),ee(29,"transloco"),U()()()()(),ye(30,Pl,8,14,"div",8),H(31,"div",9),Ce(32,"playground-component-documentation",10),U()),s&2&&(N(),je(ce(2,14,"title.components.autocomplete")),N(2),se("formGroup",l.testForm),N(4),ve(l.showInput()?7:-1),N(3),ne(" ",xe(11,16,"form.buttons.enabled",Te(33,Bl,l.testForm.enabled))," "),N(3),ne(" ",xe(14,19,"form.buttons.required",Te(35,Ol,l.getIsRequiredInput()))," "),N(3),ne(" ",ce(17,22,"form.buttons.changeVisibility")," "),N(3),ne(" ",ce(20,24,"form.buttons.recreateForm")," "),N(3),ne(" ",ce(23,26,"form.buttons.setForm")," "),N(3),ne(" ",ce(26,28,"form.buttons.checkForm")," "),N(3),ne(" ",xe(29,30,"form.buttons.readonly",Te(37,Fl,l.isReadonly()))," "),N(2),ve(l.showValueAndValidity()?30:-1),N(2),se("componentType",l.QuangAutocompleteComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[mt,Et,pt,kt,ht,ot,Lt,Mt,Ie,zn,it,lt],encapsulation:2,changeDetection:0});let e=t;return e})();var Ns=Ke(Ds()),Is=Ns.default;var di=Ke(Bs()),Un=Ke(Os()),$n=Ke(Fs());function De(e){let t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Be(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Oi(e,t){let n=De(e);return isNaN(t)?Be(e,NaN):(t&&n.setDate(n.getDate()+t),n)}var ql=Math.pow(10,8)*24*60*60*1e3,Su=-ql,Fi=6048e5,As=864e5,Rs=6e4,Hs=36e5,Ps=1e3;var Ul=3600;var zs=Ul*24,ku=zs*7,$l=zs*365.2425,Zl=$l/12,Eu=Zl*3;var Yl={};function Nt(){return Yl}function ft(e,t){let n=Nt(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=De(e),l=s.getDay(),c=(l<i?7:0)+l-i;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Ot(e){return ft(e,{weekStartsOn:1})}function Ai(e){let t=De(e),n=t.getFullYear(),i=Be(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let s=Ot(i),l=Be(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);let c=Ot(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Wn(e){let t=De(e);return t.setHours(0,0,0,0),t}function qt(e){let t=De(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Vs(e,t){let n=Wn(e),i=Wn(t),s=+n-qt(n),l=+i-qt(i);return Math.round((s-l)/As)}function Ws(e){let t=Ai(e),n=Be(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ot(n)}function qs(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ri(e){if(!qs(e)&&typeof e!="number")return!1;let t=De(e);return!isNaN(Number(t))}function Us(e){let t=De(e),n=Be(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var Ql={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$s=(e,t,n)=>{let i,s=Ql[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Hi(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var jl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zs={date:Hi({formats:jl,defaultWidth:"full"}),time:Hi({formats:Gl,defaultWidth:"full"}),dateTime:Hi({formats:Xl,defaultWidth:"full"})};var Kl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ys=(e,t,n,i)=>Kl[e];function Xt(e){return(t,n)=>{let i=n?.context?String(n.context):"standalone",s;if(i==="formatting"&&e.formattingValues){let c=e.defaultFormattingWidth||e.defaultWidth,h=n?.width?String(n.width):c;s=e.formattingValues[h]||e.formattingValues[c]}else{let c=e.defaultWidth,h=n?.width?String(n.width):e.defaultWidth;s=e.values[h]||e.values[c]}let l=e.argumentCallback?e.argumentCallback(t):t;return s[l]}}var Jl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ea={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ta={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ia={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},na={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oa=(e,t)=>{let n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Qs={ordinalNumber:oa,era:Xt({values:Jl,defaultWidth:"wide"}),quarter:Xt({values:ea,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xt({values:ta,defaultWidth:"wide"}),day:Xt({values:ia,defaultWidth:"wide"}),dayPeriod:Xt({values:na,defaultWidth:"wide",formattingValues:sa,defaultFormattingWidth:"wide"})};function Kt(e){return(t,n={})=>{let i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],l=t.match(s);if(!l)return null;let c=l[0],h=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(h)?aa(h,g=>g.test(c)):la(h,g=>g.test(c)),_;_=e.valueCallback?e.valueCallback(o):o,_=n.valueCallback?n.valueCallback(_):_;let u=t.slice(c.length);return{value:_,rest:u}}}function la(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function aa(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function js(e){return(t,n={})=>{let i=t.match(e.matchPattern);if(!i)return null;let s=i[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;let h=t.slice(s.length);return{value:c,rest:h}}}var ra=/^(\d+)(th|st|nd|rd)?/i,ca=/\d+/i,ua={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},da={any:[/^b/i,/^(a|c)/i]},ha={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pa={any:[/1/i,/2/i,/3/i,/4/i]},ma={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ga={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ba={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_a={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ya={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gs={ordinalNumber:js({matchPattern:ra,parsePattern:ca,valueCallback:e=>parseInt(e,10)}),era:Kt({matchPatterns:ua,defaultMatchWidth:"wide",parsePatterns:da,defaultParseWidth:"any"}),quarter:Kt({matchPatterns:ha,defaultMatchWidth:"wide",parsePatterns:pa,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kt({matchPatterns:ma,defaultMatchWidth:"wide",parsePatterns:fa,defaultParseWidth:"any"}),day:Kt({matchPatterns:ga,defaultMatchWidth:"wide",parsePatterns:ba,defaultParseWidth:"any"}),dayPeriod:Kt({matchPatterns:_a,defaultMatchWidth:"any",parsePatterns:ya,defaultParseWidth:"any"})};var ai={code:"en-US",formatDistance:$s,formatLong:Zs,formatRelative:Ys,localize:Qs,match:Gs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xs(e){let t=De(e);return Vs(t,Us(t))+1}function Pi(e){let t=De(e),n=+Ot(t)-+Ws(t);return Math.round(n/Fi)+1}function Jt(e,t){let n=De(e),i=n.getFullYear(),s=Nt(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Be(e,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);let h=ft(c,t),o=Be(e,0);o.setFullYear(i,0,l),o.setHours(0,0,0,0);let _=ft(o,t);return n.getTime()>=h.getTime()?i+1:n.getTime()>=_.getTime()?i:i-1}function Ks(e,t){let n=Nt(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=Jt(e,t),l=Be(e,0);return l.setFullYear(s,0,i),l.setHours(0,0,0,0),ft(l,t)}function zi(e,t){let n=De(e),i=+ft(n,t)-+Ks(n,t);return Math.round(i/Fi)+1}function Pe(e,t){let n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}var zt={y(e,t){let n=e.getFullYear(),i=n>0?n:1-n;return Pe(t==="yy"?i%100:i,t.length)},M(e,t){let n=e.getMonth();return t==="M"?String(n+1):Pe(n+1,2)},d(e,t){return Pe(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Pe(e.getHours()%12||12,t.length)},H(e,t){return Pe(e.getHours(),t.length)},m(e,t){return Pe(e.getMinutes(),t.length)},s(e,t){return Pe(e.getSeconds(),t.length)},S(e,t){let n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Pe(s,t.length)}};var ei={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qn={G:function(e,t,n){let i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){let i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return zt.y(e,t)},Y:function(e,t,n,i){let s=Jt(e,i),l=s>0?s:1-s;if(t==="YY"){let c=l%100;return Pe(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Pe(l,t.length)},R:function(e,t){let n=Ai(e);return Pe(n,t.length)},u:function(e,t){let n=e.getFullYear();return Pe(n,t.length)},Q:function(e,t,n){let i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Pe(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){let i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Pe(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){let i=e.getMonth();switch(t){case"M":case"MM":return zt.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){let i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Pe(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){let s=zi(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Pe(s,t.length)},I:function(e,t,n){let i=Pi(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Pe(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):zt.d(e,t)},D:function(e,t,n){let i=Xs(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Pe(i,t.length)},E:function(e,t,n){let i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){let s=e.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Pe(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){let s=e.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Pe(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){let i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Pe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){let s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){let i=e.getHours(),s;switch(i===12?s=ei.noon:i===0?s=ei.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){let i=e.getHours(),s;switch(i>=17?s=ei.evening:i>=12?s=ei.afternoon:i>=4?s=ei.morning:s=ei.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return zt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):zt.H(e,t)},K:function(e,t,n){let i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Pe(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Pe(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):zt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):zt.s(e,t)},S:function(e,t){return zt.S(e,t)},X:function(e,t,n){let i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return eo(i);case"XXXX":case"XX":return Ut(i);case"XXXXX":case"XXX":default:return Ut(i,":")}},x:function(e,t,n){let i=e.getTimezoneOffset();switch(t){case"x":return eo(i);case"xxxx":case"xx":return Ut(i);case"xxxxx":case"xxx":default:return Ut(i,":")}},O:function(e,t,n){let i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Js(i,":");case"OOOO":default:return"GMT"+Ut(i,":")}},z:function(e,t,n){let i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Js(i,":");case"zzzz":default:return"GMT"+Ut(i,":")}},t:function(e,t,n){let i=Math.trunc(e.getTime()/1e3);return Pe(i,t.length)},T:function(e,t,n){let i=e.getTime();return Pe(i,t.length)}};function Js(e,t=""){let n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),l=i%60;return l===0?n+String(s):n+String(s)+t+Pe(l,2)}function eo(e,t){return e%60===0?(e>0?"-":"+")+Pe(Math.abs(e)/60,2):Ut(e,t)}function Ut(e,t=""){let n=e>0?"-":"+",i=Math.abs(e),s=Pe(Math.trunc(i/60),2),l=Pe(i%60,2);return n+s+t+l}var to=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},io=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},va=(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return to(e,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",to(i,t)).replace("{{time}}",io(s,t))},ri={p:io,P:va};var Ca=/^D+$/,wa=/^Y+$/,xa=["D","DD","YY","YYYY"];function Vi(e){return Ca.test(e)}function Wi(e){return wa.test(e)}function ci(e,t,n){let i=Ta(e,t,n);if(console.warn(i),xa.includes(e))throw new RangeError(i)}function Ta(e,t,n){let i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Sa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ka=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ea=/^'([^]*?)'?$/,La=/''/g,Ma=/[a-zA-Z]/;function qi(e,t,n){let i=Nt(),s=n?.locale??i.locale??ai,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=De(e);if(!Ri(h))throw new RangeError("Invalid time value");let o=t.match(ka).map(u=>{let g=u[0];if(g==="p"||g==="P"){let k=ri[g];return k(u,s.formatLong)}return u}).join("").match(Sa).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let g=u[0];if(g==="'")return{isToken:!1,value:Da(u)};if(qn[g])return{isToken:!0,value:u};if(g.match(Ma))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(o=s.localize.preprocessor(h,o));let _={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return o.map(u=>{if(!u.isToken)return u.value;let g=u.value;(!n?.useAdditionalWeekYearTokens&&Wi(g)||!n?.useAdditionalDayOfYearTokens&&Vi(g))&&ci(g,t,String(e));let k=qn[g[0]];return k(h,g,s.localize,_)}).join("")}function Da(e){let t=e.match(Ea);return t?t[1].replace(La,"'"):e}function no(){return Object.assign({},Nt())}function so(e){let n=De(e).getDay();return n===0&&(n=7),n}function oo(e,t){let n=t instanceof Date?Be(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}var Na=10,Ui=class{subPriority=0;validate(t,n){return!0}},$i=class extends Ui{constructor(t,n,i,s,l){super(),this.value=t,this.validateValue=n,this.setValue=i,this.priority=s,l&&(this.subPriority=l)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,i){return this.setValue(t,n,this.value,i)}},Zi=class extends Ui{priority=Na;subPriority=-1;set(t,n){return n.timestampIsSet?t:Be(t,oo(t,Date))}};var ge=class{run(t,n,i,s){let l=this.parse(t,n,i,s);return l?{setter:new $i(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,n,i){return!0}};var Yi=class extends ge{priority=140;parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]};var Re={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},It={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function We(e,t){return e&&{value:t(e.value),rest:e.rest}}function Oe(e,t){let n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Bt(e,t){let n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};let i=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:i*(s*Hs+l*Rs+c*Ps),rest:t.slice(n[0].length)}}function Qi(e){return Oe(Re.anyDigitsSigned,e)}function Ee(e,t){switch(e){case 1:return Oe(Re.singleDigit,t);case 2:return Oe(Re.twoDigits,t);case 3:return Oe(Re.threeDigits,t);case 4:return Oe(Re.fourDigits,t);default:return Oe(new RegExp("^\\d{1,"+e+"}"),t)}}function ti(e,t){switch(e){case 1:return Oe(Re.singleDigitSigned,t);case 2:return Oe(Re.twoDigitsSigned,t);case 3:return Oe(Re.threeDigitsSigned,t);case 4:return Oe(Re.fourDigitsSigned,t);default:return Oe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ii(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ji(e,t){let n=t>0,i=n?t:1-t,s;if(i<=50)s=e||100;else{let l=i+50,c=Math.trunc(l/100)*100,h=e>=l%100;s=e+c-(h?100:0)}return n?s:1-s}function Gi(e){return e%400===0||e%4===0&&e%100!==0}var Xi=class extends ge{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,i){let s=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return We(Ee(4,t),s);case"yo":return We(i.ordinalNumber(t,{unit:"year"}),s);default:return We(Ee(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){let s=t.getFullYear();if(i.isTwoDigitYear){let c=ji(i.year,s);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}let l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}};var Ki=class extends ge{priority=130;parse(t,n,i){let s=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return We(Ee(4,t),s);case"Yo":return We(i.ordinalNumber(t,{unit:"year"}),s);default:return We(Ee(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,s){let l=Jt(t,s);if(i.isTwoDigitYear){let h=ji(i.year,l);return t.setFullYear(h,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),ft(t,s)}let c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),ft(t,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var Ji=class extends ge{priority=130;parse(t,n){return n==="R"?ti(4,t):ti(n.length,t)}set(t,n,i){let s=Be(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Ot(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var en=class extends ge{priority=130;parse(t,n){return n==="u"?ti(4,t):ti(n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var tn=class extends ge{priority=120;parse(t,n,i){switch(n){case"Q":case"QQ":return Ee(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var nn=class extends ge{priority=120;parse(t,n,i){switch(n){case"q":case"qq":return Ee(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var sn=class extends ge{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,i){let s=l=>l-1;switch(n){case"M":return We(Oe(Re.month,t),s);case"MM":return We(Ee(2,t),s);case"Mo":return We(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}};var on=class extends ge{priority=110;parse(t,n,i){let s=l=>l-1;switch(n){case"L":return We(Oe(Re.month,t),s);case"LL":return We(Ee(2,t),s);case"Lo":return We(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function lo(e,t,n){let i=De(e),s=zi(i,n)-t;return i.setDate(i.getDate()-s*7),i}var ln=class extends ge{priority=100;parse(t,n,i){switch(n){case"w":return Oe(Re.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Ee(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,s){return ft(lo(t,i,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function ao(e,t){let n=De(e),i=Pi(n)-t;return n.setDate(n.getDate()-i*7),n}var an=class extends ge{priority=100;parse(t,n,i){switch(n){case"I":return Oe(Re.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Ee(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Ot(ao(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var Ia=[31,28,31,30,31,30,31,31,30,31,30,31],Ba=[31,29,31,30,31,30,31,31,30,31,30,31],rn=class extends ge{priority=90;subPriority=1;parse(t,n,i){switch(n){case"d":return Oe(Re.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Ee(n.length,t)}}validate(t,n){let i=t.getFullYear(),s=Gi(i),l=t.getMonth();return s?n>=1&&n<=Ba[l]:n>=1&&n<=Ia[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var cn=class extends ge{priority=90;subpriority=1;parse(t,n,i){switch(n){case"D":case"DD":return Oe(Re.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Ee(n.length,t)}}validate(t,n){let i=t.getFullYear();return Gi(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function ni(e,t,n){let i=Nt(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=De(e),c=l.getDay(),o=(t%7+7)%7,_=7-s,u=t<0||t>6?t-(c+_)%7:(o+_)%7-(c+_)%7;return Oi(l,u)}var un=class extends ge{priority=90;parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,s){return t=ni(t,i,s),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]};var dn=class extends ge{priority=90;parse(t,n,i,s){let l=c=>{let h=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return We(Ee(n.length,t),l);case"eo":return We(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,s){return t=ni(t,i,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var hn=class extends ge{priority=90;parse(t,n,i,s){let l=c=>{let h=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return We(Ee(n.length,t),l);case"co":return We(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,s){return t=ni(t,i,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function ro(e,t){let n=De(e),i=so(n),s=t-i;return Oi(n,s)}var pn=class extends ge{priority=90;parse(t,n,i){let s=l=>l===0?7:l;switch(n){case"i":case"ii":return Ee(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return We(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return We(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return We(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return We(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=ro(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var mn=class extends ge{priority=80;parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ii(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]};var fn=class extends ge{priority=80;parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ii(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]};var gn=class extends ge{priority=80;parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(ii(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]};var bn=class extends ge{priority=70;parse(t,n,i){switch(n){case"h":return Oe(Re.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ee(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){let s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]};var _n=class extends ge{priority=70;parse(t,n,i){switch(n){case"H":return Oe(Re.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ee(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]};var yn=class extends ge{priority=70;parse(t,n,i){switch(n){case"K":return Oe(Re.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ee(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]};var vn=class extends ge{priority=70;parse(t,n,i){switch(n){case"k":return Oe(Re.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ee(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){let s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]};var Cn=class extends ge{priority=60;parse(t,n,i){switch(n){case"m":return Oe(Re.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Ee(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]};var wn=class extends ge{priority=50;parse(t,n,i){switch(n){case"s":return Oe(Re.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Ee(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]};var xn=class extends ge{priority=30;parse(t,n){let i=s=>Math.trunc(s*Math.pow(10,-n.length+3));return We(Ee(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]};var Tn=class extends ge{priority=10;parse(t,n){switch(n){case"X":return Bt(It.basicOptionalMinutes,t);case"XX":return Bt(It.basic,t);case"XXXX":return Bt(It.basicOptionalSeconds,t);case"XXXXX":return Bt(It.extendedOptionalSeconds,t);case"XXX":default:return Bt(It.extended,t)}}set(t,n,i){return n.timestampIsSet?t:Be(t,t.getTime()-qt(t)-i)}incompatibleTokens=["t","T","x"]};var Sn=class extends ge{priority=10;parse(t,n){switch(n){case"x":return Bt(It.basicOptionalMinutes,t);case"xx":return Bt(It.basic,t);case"xxxx":return Bt(It.basicOptionalSeconds,t);case"xxxxx":return Bt(It.extendedOptionalSeconds,t);case"xxx":default:return Bt(It.extended,t)}}set(t,n,i){return n.timestampIsSet?t:Be(t,t.getTime()-qt(t)-i)}incompatibleTokens=["t","T","X"]};var kn=class extends ge{priority=40;parse(t){return Qi(t)}set(t,n,i){return[Be(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var En=class extends ge{priority=20;parse(t){return Qi(t)}set(t,n,i){return[Be(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"};var co={G:new Yi,y:new Xi,Y:new Ki,R:new Ji,u:new en,Q:new tn,q:new nn,M:new sn,L:new on,w:new ln,I:new an,d:new rn,D:new cn,E:new un,e:new dn,c:new hn,i:new pn,a:new mn,b:new fn,B:new gn,h:new bn,H:new _n,K:new yn,k:new vn,m:new Cn,s:new wn,S:new xn,X:new Tn,x:new Sn,t:new kn,T:new En};var Oa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Aa=/^'([^]*?)'?$/,Ra=/''/g,Ha=/\S/,Pa=/[a-zA-Z]/;function Ln(e,t,n,i){let s=no(),l=i?.locale??s.locale??ai,c=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(t==="")return e===""?De(n):Be(n,NaN);let o={firstWeekContainsDate:c,weekStartsOn:h,locale:l},_=[new Zi],u=t.match(Fa).map(P=>{let a=P[0];if(a in ri){let r=ri[a];return r(P,l.formatLong)}return P}).join("").match(Oa),g=[];for(let P of u){!i?.useAdditionalWeekYearTokens&&Wi(P)&&ci(P,t,e),!i?.useAdditionalDayOfYearTokens&&Vi(P)&&ci(P,t,e);let a=P[0],r=co[a];if(r){let{incompatibleTokens:d}=r;if(Array.isArray(d)){let m=g.find(b=>d.includes(b.token)||b.token===a);if(m)throw new RangeError(`The format string mustn't contain \`${m.fullToken}\` and \`${P}\` at the same time`)}else if(r.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);g.push({token:a,fullToken:P});let p=r.run(e,P,l.match,o);if(!p)return Be(n,NaN);_.push(p.setter),e=p.rest}else{if(a.match(Pa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");if(P==="''"?P="'":a==="'"&&(P=za(P)),e.indexOf(P)===0)e=e.slice(P.length);else return Be(n,NaN)}}if(e.length>0&&Ha.test(e))return Be(n,NaN);let k=_.map(P=>P.priority).sort((P,a)=>a-P).filter((P,a,r)=>r.indexOf(P)===a).map(P=>_.filter(a=>a.priority===P).sort((a,r)=>r.subPriority-a.subPriority)).map(P=>P[0]),M=De(n);if(isNaN(M.getTime()))return Be(n,NaN);let I={};for(let P of k){if(!P.validate(M,o))return Be(n,NaN);let a=P.set(M,I,o);Array.isArray(a)?(M=a[0],Object.assign(I,a[1])):M=a}return Be(n,M)}function za(e){return e.match(Aa)[1].replace(Ra,"'")}function ui(e,t,n){return Ri(Ln(e,t,new Date,n))}var Va=["inputForDate"],Wa=["calendarButton"],qa=["*"];function Ua(e,t){if(e&1&&(H(0,"label",3),J(1),ee(2,"transloco"),H(3,"span",10),J(4,"*"),U()()),e&2){let n=re();se("htmlFor",n.componentId()),N(),ne(" ",ce(2,3,n.componentLabel())," "),N(2),se("hidden",!n._isRequired())}}function $a(e,t){if(e&1&&(H(0,"small",9),J(1),ee(2,"transloco"),U()),e&2){let n=re();se("hidden",n._showSuccess()||n._showErrors()),N(),ne(" ",ce(2,2,n.helpMessage())," ")}}var Zn=(()=>{let t=class t extends Dt{constructor(){super(),this.dateFormat=ie("dd/MM/yyyy"),this.timeFormat=ie("HH:mm"),this.activeLanguageOverride=ie(void 0),this.timepicker=ie(!1),this.invalidDateMessage=ie(""),this.showOnlyTimepicker=ie(!1),this.minHour=ie(0),this.maxHour=ie(24),this.minMinute=ie(0),this.maxMinute=ie(59),this.minDate=ie(void 0),this.maxDate=ie(void 0),this.showInline=ie(!1),this.calendarClasses=ie(""),this.buttonClass=ie(""),this.datepickerOptions=ie(void 0),this._inputForDate=Me("inputForDate"),this.contentTemplate=Me.required("calendarButton"),this.hasNoContent=we(()=>this.contentTemplate()?.nativeElement.children.length===0),this._quangTranslationService=he(Se(Xe)),this._quangTranslationActiveLang=we(()=>this._quangTranslationService()?.activeLang()??null),this.multipleDatesSeparator=ie(" - "),this.rangeSelection=ie(!1),this._activeLanguage=we(()=>this.activeLanguageOverride()?this.activeLanguageOverride():this._quangTranslationService()?this._quangTranslationActiveLang():navigator.language),this._airDatepickerInstance=he(void 0),this.searchTextDebounce=ie(500),this.targetPosition=he("bottom left"),this._generateAirDatepickerEffect=vt(()=>{this.setupCalendar()},{allowSignalWrites:!0}),this.valueFormat=we(()=>this.showOnlyTimepicker()?this.timeFormat():this.dateFormat()+(this.showTimepicker()?` ${this.timeFormat()}`:"")),this.inputValueString=we(()=>this.formatDate(this._value())),this.showTimepicker=we(()=>!this.rangeSelection()&&(this.timepicker()||this.showOnlyTimepicker())),this.isMouseInsideCalendar=he(!1),this.isMouseOutsideCalendar=we(()=>!this.isMouseInsideCalendar()),_i(document,"scroll",{capture:!0}).pipe(Ae(),vi(250)).subscribe(()=>{this._airDatepickerInstance()?.visible&&this.setupCalendar()})}setupCalendar(){if(this._inputForDate()?.nativeElement){let i=this._value(),s;i&&typeof i=="string"?s=[i]:i&&typeof i=="object"&&(s=[],i.dateFrom&&s.push(i.dateFrom),i.dateTo&&s.push(i.dateTo)),this.setCalendarPosition();let l=Wt(ct({autoClose:!0,classes:this.calendarClasses(),dateFormat:this.dateFormat(),inline:this.showInline(),isMobile:!1,multipleDatesSeparator:this.multipleDatesSeparator(),range:this.rangeSelection(),timepicker:this.showTimepicker(),onlyTimepicker:this.showOnlyTimepicker(),timeFormat:this.timeFormat(),minHours:this.minHour(),maxHours:this.maxHour(),minMinutes:this.minMinute(),maxMinutes:this.maxMinute(),minDate:this.minDate(),maxDate:this.maxDate(),toggleSelected:!1,multipleDates:!1,selectedDates:s,position:this.targetPosition(),locale:this.getLocale(),onSelect:({date:c})=>{if(!Array.isArray(c)){let h=c;this.showTimepicker()||(h=this.dateToUtc(c)),this.onChangedHandler(h.toISOString())}this.showInline()&&this.onHideCalendar()},onHide:c=>{c&&this.onHideCalendar()}},this.datepickerOptions()??{}),{onShow:c=>{let h=this._airDatepickerInstance()?.$datepicker;h&&(h.onmouseenter=()=>{this.isMouseInsideCalendar.set(!0)},h.onmouseleave=()=>{this.isMouseInsideCalendar.set(!1)}),!(c||!this.showTimepicker())&&this.setupTimepicker()}});this._airDatepickerInstance()?(this._airDatepickerInstance()?.visible?this._airDatepickerInstance()?.update(l):this._airDatepickerInstance()?.update(l,{silent:!0}),s?this._airDatepickerInstance()?.selectDate(s,{updateTime:!0}):(this._airDatepickerInstance()?.setFocusDate(!1),this._airDatepickerInstance()?.clear({silent:!0}))):this._airDatepickerInstance.set(new Is(this._inputForDate()?.nativeElement,l)),this.showInline()&&this.setupTimepicker()}}onChangeText(i){let s=i.target?.value;s?s.length===this.valueFormat().length&&ui(s,this.valueFormat())&&this.onChangedHandler(this.setupInputStringToDate(s).toISOString()):this.onChangedHandler(s)}onBlurHandler(){super.onBlurHandler(),this.isMouseOutsideCalendar()&&this._airDatepickerInstance()?.visible&&this._airDatepickerInstance()?.hide()}setupInputStringToDate(i){let s=Ln(i,this.valueFormat(),new Date);return this.showTimepicker()||(s=this.dateToUtc(s)),s}onChangedHandler(i){let s=i,l=this._value();typeof s=="string"&&(!l||typeof l=="string")?!this.showTimepicker()&&s?s=`${s.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&l&&s&&(s=`${l.split("T")[0]}T${s.split("T")[1]}`):this.rangeSelection()&&typeof s=="object"&&(l===null||typeof l=="object")&&(!this.showTimepicker()&&s?.dateFrom?s.dateFrom=`${s.dateFrom.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&l?.dateFrom&&s?.dateFrom&&(s.dateFrom=`${l?.dateFrom.split("T")[0]}T${s.dateFrom.split("T")[1]}`),!this.showTimepicker()&&s?.dateTo?s.dateTo=`${s.dateTo.split("T")[0]}T00:00:00.000Z`:this.showOnlyTimepicker()&&l?.dateTo&&s?.dateTo&&(s.dateTo=`${l?.dateTo.split("T")[0]}T${s.dateTo.split("T")[1]}`)),JSON.stringify(l)!==JSON.stringify(s)&&this._value.set(s)}onHideCalendar(){let i=this._inputForDate()?.nativeElement.value,s=i;if(this.rangeSelection()){s={dateFrom:"",dateTo:""};let[l,c]=i.split(this.multipleDatesSeparator());s.dateFrom=l??"",s.dateTo=c??"",!s.dateFrom||!ui(s.dateFrom,this.valueFormat())?s.dateFrom=null:s.dateFrom=this.setupInputStringToDate(s.dateFrom).toISOString(),!s.dateTo||!ui(s.dateTo,this.valueFormat())?s.dateTo=null:s.dateTo=this.setupInputStringToDate(s.dateTo).toISOString(),this.onChangedHandler(s)}else ui(s,this.valueFormat())?this.onChangedHandler(this.setupInputStringToDate(s).toISOString()):this.onChangedHandler(null);this.formControl()?.getRawValue()!==this._value()?super.onChangedHandler(this._value()):this.onTouched&&this.onTouched(),this.onBlurHandler()}formatDate(i){if(i&&typeof i=="string")return qi(i,this.valueFormat());if(i&&typeof i=="object"){let s="",l="";return i.dateFrom&&(s=qi(i.dateFrom,this.valueFormat())),i.dateTo&&(l=qi(i.dateTo,this.valueFormat())),`${s}${this.multipleDatesSeparator()}${l}`}return""}openDatePicker(){this._inputForDate()?.nativeElement&&this._inputForDate()?.nativeElement.focus()}interceptInputInteraction(i){this.isReadonly()&&(i.stopPropagation(),i.stopImmediatePropagation(),i.preventDefault())}getLocale(){switch(this._activeLanguage()?.toLowerCase()){case"en":return di.default.default||di.default;case"it":return $n.default.default||$n.default;case"fr":return Un.default.default||Un.default;default:return di.default.default||di.default}}onCancel(){this._inputForDate()?.nativeElement.blur()}dateToUtc(i){return new Date(i.getTime()-i.getTimezoneOffset()*6e4)}setCalendarPosition(){let i=window.innerHeight,s=this._inputForDate()?.nativeElement.getBoundingClientRect();i-s.height-s.top-239>=0?this.targetPosition.set("bottom left"):this.targetPosition.set("top left")}setupTimepicker(){let i=document.getElementsByClassName("air-datepicker-time")?.[0];if(i){let s=i.getElementsByTagName("input");for(let l of Array.from(s))l.setAttribute("type","number"),l.setAttribute("maxLength","2"),l.className="form-control",l.onmouseup=c=>{c.stopImmediatePropagation()},l.onblur=()=>{this.isMouseOutsideCalendar()&&this._airDatepickerInstance()?.hide()}}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-date"]],viewQuery:function(s,l){s&1&&(Le(l._inputForDate,Va,5),Le(l.contentTemplate,Wa,5)),s&2&&Ve(2)},inputs:{dateFormat:[1,"dateFormat"],timeFormat:[1,"timeFormat"],activeLanguageOverride:[1,"activeLanguageOverride"],timepicker:[1,"timepicker"],invalidDateMessage:[1,"invalidDateMessage"],showOnlyTimepicker:[1,"showOnlyTimepicker"],minHour:[1,"minHour"],maxHour:[1,"maxHour"],minMinute:[1,"minMinute"],maxMinute:[1,"maxMinute"],minDate:[1,"minDate"],maxDate:[1,"maxDate"],showInline:[1,"showInline"],calendarClasses:[1,"calendarClasses"],buttonClass:[1,"buttonClass"],datepickerOptions:[1,"datepickerOptions"],multipleDatesSeparator:[1,"multipleDatesSeparator"],rangeSelection:[1,"rangeSelection"],searchTextDebounce:[1,"searchTextDebounce"]},features:[xt([{provide:St,useExisting:Ct(()=>t),multi:!0}]),wt],ngContentSelectors:qa,decls:16,vars:38,consts:[["inputForDate",""],["calendarButton",""],[1,"mb-3"],[1,"form-label",3,"htmlFor"],[1,"input-date-container"],["type","search",1,"form-control",3,"blur","focus","input","mouseenter","mouseleave","search","autocomplete","disabled","hidden","id","ngClass","placeholder","readOnly","tabIndex","value"],["aria-label","calendar-button","type","button",1,"btn","btn-outline-secondary","btn-outline-calendar",3,"click","hidden","ngClass"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"]],template:function(s,l){if(s&1){let c=He();ms(),H(0,"div",2),ye(1,Ua,5,5,"label",3),H(2,"div",4)(3,"input",5,0),ee(5,"transloco"),ae("blur",function(){return be(c),_e(l.onBlurHandler())})("focus",function(o){return be(c),_e(l.interceptInputInteraction(o))})("input",function(o){return be(c),_e(l.onChangeText(o))})("mouseenter",function(){return be(c),_e(l.isMouseInsideCalendar.set(!0))})("mouseleave",function(){return be(c),_e(l.isMouseInsideCalendar.set(!1))})("search",function(){return be(c),_e(l.onCancel())}),U(),H(6,"button",6,1),ae("click",function(){let o;return be(c),_e((o=l._ngControl())!=null&&o.disabled?null:l.openDatePicker())}),fs(8),U()(),H(9,"div",7),J(10),ee(11,"transloco"),U(),H(12,"div",8),J(13),ee(14,"transloco"),U(),ye(15,$a,3,4,"small",9),U()}s&2&&(N(),ve(l.componentLabel()?1:-1),N(),Ue("is-invalid",l._showErrors())("is-valid",l._showSuccess()),N(),Ue("is-invalid",l._showErrors())("is-valid",l._showSuccess())("with-button-calendar",!l.hasNoContent()),se("autocomplete","off")("disabled",l._isDisabled())("hidden",l.showInline())("id",l.componentId())("ngClass",l.componentClass())("placeholder",ce(5,31,l.componentPlaceholder()))("readOnly",l.isReadonly())("tabIndex",l.componentTabIndex())("value",l.inputValueString()),ut("required",l.getIsRequiredControl()),N(3),Ue("border-danger",l._showErrors())("border-success",l._showSuccess()),se("hidden",l.showInline()||l.hasNoContent()||l._isDisabled())("ngClass",l.buttonClass()),ut("required",l.getIsRequiredControl()),N(4),ne(" ",ce(11,33,l.successMessage())," "),N(3),ne(" ",xe(14,35,l._currentErrorMessage(),l._currentErrorMessageExtraData())," "),N(2),ve(l.helpMessage()?15:-1))},dependencies:[Ie,tt],styles:[`input[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none;height:.75rem;width:.75rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 3 1024 1024' width='12' height='12' fill='currentColor'%3E%3Cpath d='M9 1018q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5l459-459 459 459q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5 9-9 9-22 0-13-9-22l-459-459 459-459q9-9 9-22 0-13-9-22-9-9-22-9-13 0-22 9l-459 459-459-459q-9-9-22-9-13 0-22 9-9 9-9 22 0 13 9 22l459 459-459 459q-9 9-9 22 0 13 9 22l0 0z'/%3E%3C/svg%3E%0A");cursor:pointer}  .air-datepicker{z-index:99999}  .air-datepicker .air-datepicker--pointer{display:none}  .air-datepicker .air-datepicker-time{display:block}  .air-datepicker .air-datepicker-time .air-datepicker-time--current{display:none}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders{display:flex;justify-content:center;padding-top:.25rem;gap:1rem}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row{width:100%;position:relative}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row:first-child:after{content:":";display:inline;font-size:1rem;position:absolute;right:-.65rem}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row input{width:100%;text-align:center;padding:0;padding-left:1rem;border-color:var(--bs-border-color)}  .air-datepicker .air-datepicker-time .air-datepicker-time--sliders .air-datepicker-time--row .form-control:focus{box-shadow:unset!important}  .air-datepicker.-inline-.-only-timepicker-{border:0}  .air-datepicker.-inline-.-only-timepicker- .air-datepicker--time{border:0}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .input-date-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   input.with-button-calendar[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:disabled{border-radius:var(--bs-border-radius)}[_nghost-%COMP%]   .btn-outline-calendar[_ngcontent-%COMP%]{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;min-width:unset;display:flex;border-color:var(--bs-border-color)}[_nghost-%COMP%]   .border-danger[_ngcontent-%COMP%]{border-color:var(--bs-form-invalid-border-color)}[_nghost-%COMP%]   .border-success[_ngcontent-%COMP%]{border-color:var(--bs-form-valid-border-color)}`],changeDetection:0});let e=t;return e})();var Za=["testComponent"],Ya=e=>({enabled:e}),Qa=e=>({required:e}),ja=e=>({readonly:e}),Ga=e=>({value:e}),Xa=e=>({valid:e});function Ka(e,t){if(e&1){let n=He();H(0,"div",2),Ce(1,"div",6),H(2,"div",7)(3,"div",8)(4,"quang-date",9,0),Ce(6,"svg-icon",10),U(),H(7,"quang-date",11),Ce(8,"svg-icon",10),U()(),H(9,"div",12)(10,"button",13),ae("click",function(){be(n);let s=re();return _e(s.changeFormEnabled())}),J(11),ee(12,"transloco"),U(),H(13,"button",13),ae("click",function(){be(n);let s=re();return _e(s.changeFormInputRequired())}),J(14),ee(15,"transloco"),U(),H(16,"button",13),ae("click",function(){be(n);let s=re();return _e(s.changeVisibility())}),J(17),ee(18,"transloco"),U(),H(19,"button",14),ae("click",function(){be(n);let s=re();return _e(s.resetForm())}),J(20),ee(21,"transloco"),U(),H(22,"button",13),ae("click",function(){be(n);let s=re();return _e(s.recreateForm())}),J(23),ee(24,"transloco"),U(),H(25,"button",13),ae("click",function(){be(n);let s=re();return _e(s.setFormValues())}),J(26),ee(27,"transloco"),U(),H(28,"button",13),ae("click",function(){be(n);let s=re();return _e(s.checkCurrentFormValueAndValidity())}),J(29),ee(30,"transloco"),U(),H(31,"button",13),ae("click",function(){be(n);let s=re();return _e(s.changeDateFormat())}),J(32),ee(33,"transloco"),U(),H(34,"button",13),ae("click",function(){be(n);let s=re();return _e(s.setReadonly())}),J(35),ee(36,"transloco"),U()()()()}if(e&2){let n=re();N(4),se("dateFormat",n.dateFormat())("errorMap",n.errors())("formControl",n.testForm.controls.testInput)("isReadonly",n.isReadonly())("timepicker",!0),N(3),se("dateFormat",n.dateFormat())("errorMap",n.errors())("isReadonly",n.isReadonly()),N(4),ne(" ",xe(12,17,"form.buttons.enabled",Te(38,Ya,n.testForm.enabled))," "),N(3),ne(" ",xe(15,20,"form.buttons.required",Te(40,Qa,n.getIsRequiredInput()))," "),N(3),ne(" ",ce(18,23,"form.buttons.changeVisibility")," "),N(3),ne(" ",ce(21,25,"form.buttons.resetForm")," "),N(3),ne(" ",ce(24,27,"form.buttons.recreateForm")," "),N(3),ne(" ",ce(27,29,"form.buttons.setForm")," "),N(3),ne(" ",ce(30,31,"form.buttons.checkForm")," "),N(3),ne(" ",ce(33,33,"form.buttons.changeDateFormat")," "),N(3),ne(" ",xe(36,35,"form.buttons.readonly",Te(42,ja,n.isReadonly()))," ")}}function Ja(e,t){if(e&1&&(H(0,"div",3)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let n=re();N(2),ne(" ",xe(4,4,"form.label.formValue",Te(10,Ga,ce(3,2,n.testForm.value)))," "),N(4),ne(" ",xe(7,7,"form.label.formValidity",Te(12,Xa,n.testForm.valid))," ")}}var uo=(()=>{let t=class t{changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}constructor(){this.quangTranslationService=Se(Xe),this.QuangDateComponent=Zn,this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/date.md":"./assets/docs/date.it.md"),this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.formBuilder=Se(st),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.dateFormat=he("dd/MM/yyyy"),this.errors=he([{error:me.required.name,message:"form.errors.required"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[me.required]),testInputNoTime:this.formBuilder.control("",[me.required])}),this.changeDetection=Se(Si),this.onChangeValue$=this.testForm.controls.testInput.valueChanges.subscribe(i=>{console.log(i),this.changeDetection.markForCheck()}),this.showInput=he(!0),setTimeout(()=>{this.testForm.controls.testInput.setValue(new Date().toISOString())},2e3)}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}resetForm(){this.testForm.reset()}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control(new Date().toISOString(),[me.required]),testInputNoTime:this.formBuilder.control(new Date().toISOString(),[me.required])})}setFormValues(){let i=new Date;i.setMonth(0),this.testForm.patchValue({testInput:i.toISOString(),testInputNoTime:i.toISOString()})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0)}changeDateFormat(){this.isReadonly.set(!this.isReadonly()),this.dateFormat.set("yyyy/MM/dd")}setReadonly(){this.isReadonly.set(!this.isReadonly())}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-date-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,Za,5),s&2&&Ve()},decls:8,vars:9,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],[1,"card-header"],[1,"card-body"],[1,"row"],["componentLabel","form.label.date","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",1,"col-6",3,"dateFormat","errorMap","formControl","isReadonly","timepicker"],["src","./assets/icons/svg/calendar.svg"],["componentLabel","form.label.date","formControlName","testInputNoTime","successMessage","form.label.success",1,"col-6",3,"dateFormat","errorMap","isReadonly"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(s,l){s&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1),ye(4,Ka,37,44,"div",2),U(),ye(5,Ja,8,14,"div",3),H(6,"div",4),Ce(7,"playground-component-documentation",5),U()),s&2&&(N(),je(ce(2,7,"title.components.date")),N(2),se("formGroup",l.testForm),N(),ve(l.showInput()?4:-1),N(),ve(l.showValueAndValidity()?5:-1),N(2),se("componentType",l.QuangDateComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[mt,Et,pt,kt,ht,ot,Mi,Lt,Mt,Ie,Zn,Qt,it,lt],encapsulation:2,changeDetection:0});let e=t;return e})();function er(e,t){if(e&1&&(H(0,"label",1),J(1),ee(2,"transloco"),H(3,"span",7),J(4,"*"),U()()),e&2){let n=re(2);se("htmlFor",n.componentId()),N(),ne(" ",ce(2,3,n.componentLabel())," "),N(2),se("hidden",!n._isRequired())}}function tr(e,t){if(e&1){let n=He();H(0,"input",8),ee(1,"transloco"),ae("blur",function(){be(n);let s=re(2);return _e(s.onBlurHandler())})("input",function(s){be(n);let l=re(2);return _e(l.onChangedEventHandler(s))}),U()}if(e&2){let n=re(2);Ue("is-invalid",n._showErrors())("is-valid",n._showSuccess()),se("disabled",n._isDisabled())("id",n.componentId())("max",n.maxNumber())("min",n.minNumber())("ngClass",n.componentClass())("placeholder",ce(1,18,n.componentPlaceholder()))("readOnly",n.isReadonly())("step",n.componentStep())("tabIndex",n.componentTabIndex())("type",n.componentType())("value",n._value()),ut("maxLength",n.maxLengthText())("minLength",n.minLengthText())("required",n.getIsRequiredControl())}}function ir(e,t){if(e&1){let n=He();H(0,"textarea",9),ee(1,"transloco"),ae("blur",function(){be(n);let s=re(2);return _e(s.onBlurHandler())})("input",function(s){be(n);let l=re(2);return _e(l.onChangedEventHandler(s))}),U()}if(e&2){let n=re(2);Ue("is-invalid",n._showErrors())("is-valid",n._showSuccess())("no-resize",!n.resizable()),se("disabled",n._isDisabled())("id",n.componentId())("ngClass",n.componentClass())("placeholder",ce(1,15,n.componentPlaceholder()))("readOnly",n.isReadonly())("tabIndex",n.componentTabIndex())("value",n._value()),ut("maxLength",n.maxLengthText())("minLength",n.minLengthText())}}function nr(e,t){if(e&1&&(H(0,"small",6),J(1),ee(2,"transloco"),U()),e&2){let n=re(2);se("hidden",n._showSuccess()||n._showErrors()),N(),ne(" ",ce(2,2,n.helpMessage())," ")}}function sr(e,t){if(e&1&&(H(0,"div",0),ye(1,er,5,5,"label",1),ye(2,tr,2,20,"input",2),ye(3,ir,2,17,"textarea",3),H(4,"div",4),J(5),ee(6,"transloco"),U(),H(7,"div",5),J(8),ee(9,"transloco"),U(),ye(10,nr,3,4,"small",6),U()),e&2){let n=re();N(),ve(n.componentLabel()?1:-1),N(),ve(n.componentType()!=="textarea"?2:-1),N(),ve(n.componentType()==="textarea"?3:-1),N(2),ne(" ",ce(6,6,n.successMessage())," "),N(3),ne(" ",xe(9,8,n._currentErrorMessage(),n._currentErrorMessageExtraData())," "),N(2),ve(n.helpMessage()?10:-1)}}var Yn=(()=>{let t=class t extends Dt{constructor(){super(),this.componentType=ie.required(),this.maxLengthText=ie(null),this.minLengthText=ie(null),this.minNumber=ie(void 0),this.maxNumber=ie(void 0),this.componentStep=ie(1),this.resizable=ie(!0),Qe(this.componentType).pipe(Ae(this.destroyRef)).subscribe(()=>{this.setupFormControl()})}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-input"]],inputs:{componentType:[1,"componentType"],maxLengthText:[1,"maxLengthText"],minLengthText:[1,"minLengthText"],minNumber:[1,"minNumber"],maxNumber:[1,"maxNumber"],componentStep:[1,"componentStep"],resizable:[1,"resizable"]},features:[xt([{provide:St,useExisting:Ct(()=>t),multi:!0}]),wt],decls:1,vars:1,consts:[[1,"mb-3"],[1,"form-label",3,"htmlFor"],["autocomplete","off",1,"form-control",3,"is-invalid","is-valid","disabled","id","max","min","ngClass","placeholder","readOnly","step","tabIndex","type","value"],[1,"form-control",3,"is-invalid","is-valid","no-resize","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"],["autocomplete","off",1,"form-control",3,"blur","input","disabled","id","max","min","ngClass","placeholder","readOnly","step","tabIndex","type","value"],[1,"form-control",3,"blur","input","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"]],template:function(s,l){s&1&&ye(0,sr,11,11,"div",0),s&2&&ve(l.componentType()?0:-1)},dependencies:[Ie,tt],styles:[`input[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none;height:.75rem;width:.75rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 3 1024 1024' width='12' height='12' fill='currentColor'%3E%3Cpath d='M9 1018q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5l459-459 459 459q5 4 10.5 6.5 5.5 2.5 11.5 2.5 6 0 11.5-2.5 5.5-2.5 10.5-6.5 9-9 9-22 0-13-9-22l-459-459 459-459q9-9 9-22 0-13-9-22-9-9-22-9-13 0-22 9l-459 459-459-459q-9-9-22-9-13 0-22 9-9 9-9 22 0 13 9 22l459 459-459 459q-9 9-9 22 0 13 9 22l0 0z'/%3E%3C/svg%3E%0A");cursor:pointer}[_nghost-%COMP%]{display:block}.no-resize[_ngcontent-%COMP%]{resize:none}`],changeDetection:0});let e=t;return e})();var or=["selectButton"],lr=(e,t)=>t.value;function ar(e,t){if(e&1&&(H(0,"label",3),J(1),ee(2,"transloco"),H(3,"span",11),J(4,"*"),U()()),e&2){let n=re();se("htmlFor",n.componentId()),N(),ne(" ",ce(2,3,n.componentLabel())," "),N(2),se("hidden",!n._isRequired())}}function rr(e,t){if(e&1&&(J(0),ee(1,"transloco")),e&2){let n=t.$implicit,i=t.$index,s=t.$count,l=re(2);xi(" ",l.translateValue()?ce(1,2,n.label):n.label,"",i!==s-1?", ":""," ")}}function cr(e,t){if(e&1&&bt(0,rr,2,4,null,null,lr),e&2){let n=re();_t(n._selectedItems())}}function ur(e,t){if(e&1&&(hs(0),J(1),ee(2,"transloco"),ps()),e&2){let n=re();N(),je(ce(2,1,n.componentPlaceholder()))}}function dr(e,t){if(e&1){let n=He();H(0,"quang-option-list",12,1),ae("blurHandler",function(){be(n);let s=re();return _e(s.onBlurHandler())})("changedHandler",function(s){be(n);let l=re();return _e(l.onChangedHandler(s))}),U()}if(e&2){let n=re(),i=yt(4);se("_isDisabled",n._isDisabled())("_value",n._value())("componentClass",n.componentClass())("componentLabel",n.componentLabel())("componentTabIndex",n.componentTabIndex())("nullOption",n.nullOption())("optionListMaxHeight",n.optionListMaxHeight())("parentType",n.ParentType)("scrollBehaviorOnOpen",n.scrollBehaviorOnOpen())("selectButtonRef",i)("selectionMode",n.selectionMode())("selectOptions",n.selectOptions())("translateValue",n.translateValue())}}function hr(e,t){if(e&1&&(H(0,"small",10),J(1),ee(2,"transloco"),U()),e&2){let n=re();se("hidden",n._showSuccess()||n._showErrors()),N(),ne(" ",ce(2,2,n.helpMessage())," ")}}var hi=(()=>{let t=class t extends Dt{constructor(){super(),this.selectionMode=ie("single"),this.optionListMaxHeight=ie("18rem"),this.selectOptions=ie.required(),this.scrollBehaviorOnOpen=ie("smooth"),this.selectButton=Me("selectButton"),this._showOptions=he(!1),this._optionHideTimeout=he(void 0),this._selectedItems=we(()=>{if(this._value()!==null){let i=this._value();return this.selectOptions().filter(s=>Array.isArray(i)?i.some(l=>l===s.value):i===s.value)}return null}),this.translateValue=ie(!0),this.nullOption=ie(!0),this.autoSelectSingleOption=ie(!1),this.ParentType=Ht.SELECT,ns([Qe(this.autoSelectSingleOption),Qe(this.selectOptions)]).pipe(Ae(this.destroyRef),yi(([i,s])=>i===!0&&s.length===1)).subscribe(([i,s])=>{(this._value()===null||this._value()===void 0||this._value()==="")&&this.onChangedHandler(s[0].value)})}changeOptionsVisibility(i=!1){this.isReadonly()||(this._showOptions()?this._showOptions.set(i):this.showOptionVisibility())}showOptionVisibility(){this._optionHideTimeout()&&(clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(null)),this._showOptions.set(!0)}hideOptionVisibility(i=!1){this._optionHideTimeout()&&clearTimeout(this._optionHideTimeout()),this._optionHideTimeout.set(setTimeout(()=>{this._showOptions.set(!1)},i?0:50))}onBlurHandler(){this.selectionMode()==="single"&&setTimeout(()=>{this.hideOptionVisibility(),super.onBlurHandler()},100)}onChangedHandler(i){super.onChangedHandler(i),this.selectionMode()==="single"&&this.hideOptionVisibility()}onMouseLeaveCallback(){this.selectionMode()==="multiple"&&this.hideOptionVisibility()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-select"]],viewQuery:function(s,l){s&1&&Le(l.selectButton,or,5),s&2&&Ve()},inputs:{selectionMode:[1,"selectionMode"],optionListMaxHeight:[1,"optionListMaxHeight"],selectOptions:[1,"selectOptions"],scrollBehaviorOnOpen:[1,"scrollBehaviorOnOpen"],translateValue:[1,"translateValue"],nullOption:[1,"nullOption"],autoSelectSingleOption:[1,"autoSelectSingleOption"]},features:[xt([{provide:St,useExisting:Ct(()=>t),multi:!0},{provide:jt,multi:!1}]),wt],decls:16,vars:24,consts:[["selectButton",""],["optionList",""],[1,"mb-3",3,"mouseleave"],[1,"form-label","w-100",3,"htmlFor"],[1,"option-list-container"],["type","button",1,"form-select",3,"click","disabled","id","ngClass","tabIndex"],[1,"content"],[3,"_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentType","scrollBehaviorOnOpen","selectButtonRef","selectionMode","selectOptions","translateValue"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"],[3,"blurHandler","changedHandler","_isDisabled","_value","componentClass","componentLabel","componentTabIndex","nullOption","optionListMaxHeight","parentType","scrollBehaviorOnOpen","selectButtonRef","selectionMode","selectOptions","translateValue"]],template:function(s,l){if(s&1){let c=He();H(0,"div",2),ae("mouseleave",function(){return be(c),_e(l.onMouseLeaveCallback())}),ye(1,ar,5,5,"label",3),H(2,"div",4)(3,"button",5,0),ae("click",function(){return be(c),_e(l.changeOptionsVisibility())}),H(5,"div",6),ye(6,cr,2,0)(7,ur,3,3,"ng-container"),U()(),ye(8,dr,2,13,"quang-option-list",7),U(),H(9,"div",8),J(10),ee(11,"transloco"),U(),H(12,"div",9),J(13),ee(14,"transloco"),U(),ye(15,hr,3,4,"small",10),U()}if(s&2){let c,h,o,_,u;N(),ve(l.componentLabel()?1:-1),N(),Ue("is-invalid",((c=l._ngControl())==null?null:c.invalid)&&(((c=l._ngControl())==null?null:c.dirty)||((c=l._ngControl())==null?null:c.touched))&&l.errorMap().length)("is-valid",((h=l._ngControl())==null?null:h.valid)&&(((h=l._ngControl())==null?null:h.dirty)||((h=l._ngControl())==null?null:h.touched))&&l.successMessage()),N(),Ue("is-invalid",((o=l._ngControl())==null?null:o.invalid)&&(((o=l._ngControl())==null?null:o.dirty)||((o=l._ngControl())==null?null:o.touched))&&l.errorMap().length)("is-valid",((_=l._ngControl())==null?null:_.valid)&&(((_=l._ngControl())==null?null:_.dirty)||((_=l._ngControl())==null?null:_.touched))&&l.successMessage()),se("disabled",l._isDisabled())("id",l.componentId())("ngClass",l.componentClass())("tabIndex",l.componentTabIndex()),ut("required",l.getIsRequiredControl()),N(3),ve((u=l._selectedItems())!=null&&u.length?6:7),N(2),ve(l._showOptions()?8:-1),N(2),ne(" ",ce(11,19,l.successMessage())," "),N(3),ne(" ",xe(14,21,l._currentErrorMessage(),l._currentErrorMessageExtraData())," "),N(2),ve(l.helpMessage()?15:-1)}},dependencies:[Ie,tt,jt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .option-list-container[_ngcontent-%COMP%]{position:relative}.form-select[_ngcontent-%COMP%]{height:2.375rem}.form-select[_ngcontent-%COMP%]:disabled{background-image:unset}.content[_ngcontent-%COMP%]{text-align:left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"],changeDetection:0});let e=t;return e})();var pr=["testComponent"],mr=e=>({enabled:e}),fr=e=>({required:e}),gr=e=>({readonly:e}),br=e=>({value:e}),_r=e=>({valid:e});function yr(e,t){if(e&1&&(H(0,"div",9),Ce(1,"quang-input",15,0),U()),e&2){let n=re();N(),se("componentType",n.inputType())("errorMap",n.errors())("isReadonly",n.isReadonly())("maxNumber",10)("minNumber",0)}}function vr(e,t){if(e&1&&(H(0,"div",12)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let n=re();N(2),ne(" ",xe(4,4,"form.label.formValue",Te(10,br,ce(3,2,n.testForm.value)))," "),N(4),ne(" ",xe(7,7,"form.label.formValidity",Te(12,_r,n.testForm.valid))," ")}}var ho=(()=>{let t=class t{constructor(){this.quangTranslationService=Se(Xe),this.QuangInputComponent=Yn,this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/input.md":"./assets/docs/input.it.md"),this.inputTypesList=["number","url","tel","color","email","password","search","text","textarea"],this.inputTypes=we(()=>this.inputTypesList.map(i=>({label:i,value:i}))),this.inputType=he("text"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Se(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"},{error:"noMatch",message:"form.errors.noMatch"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[me.required,me.minLength(1),me.maxLength(30)])}),this.testFormChange=this.testForm.controls.testInput.valueChanges.pipe(Ae()).subscribe(i=>{i&&i==="ciao"||i&&(console.log("ciaoni"),console.log("this.testForm.controls.testInput",this.testForm.controls.testInput.errors))}),this.showInput=he(!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("New form created",[me.required,me.minLength(10),me.maxLength(30)])})}setFormValues(){this.testForm.patchValue({testInput:"ciao!"})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-input-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,pr,5),s&2&&Ve()},decls:36,vars:41,consts:[["testComponent",""],[1,"d-flex","gap-4"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","w-50"],["componentLabel","form.buttons.selectInputType","selectionMode","single",3,"ngModelChange","selectOptions","ngModel"],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.input","formControlName","testInput","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",3,"componentType","errorMap","isReadonly","maxNumber","minNumber"]],template:function(s,l){s&1&&(H(0,"div",1)(1,"h3",2),J(2),ee(3,"transloco"),U(),H(4,"div",3)(5,"quang-select",4),ys("ngModelChange",function(h){return _s(l.inputType,h)||(l.inputType=h),h}),U()()(),H(6,"form",5)(7,"div",6),Ce(8,"div",7),H(9,"div",8),ye(10,yr,3,5,"div",9),H(11,"div",10)(12,"button",11),ae("click",function(){return l.changeFormEnabled()}),J(13),ee(14,"transloco"),U(),H(15,"button",11),ae("click",function(){return l.changeFormInputRequired()}),J(16),ee(17,"transloco"),U(),H(18,"button",11),ae("click",function(){return l.changeVisibility()}),J(19),ee(20,"transloco"),U(),H(21,"button",11),ae("click",function(){return l.recreateForm()}),J(22),ee(23,"transloco"),U(),H(24,"button",11),ae("click",function(){return l.setFormValues()}),J(25),ee(26,"transloco"),U(),H(27,"button",11),ae("click",function(){return l.checkCurrentFormValueAndValidity()}),J(28),ee(29,"transloco"),U(),H(30,"button",11),ae("click",function(){return l.setReadonly()}),J(31),ee(32,"transloco"),U()()()()(),ye(33,vr,8,14,"div",12),H(34,"div",13),Ce(35,"playground-component-documentation",14),U()),s&2&&(N(2),je(ce(3,16,"title.components.input")),N(3),se("selectOptions",l.inputTypes()),bs("ngModel",l.inputType),N(),se("formGroup",l.testForm),N(4),ve(l.showInput()?10:-1),N(3),ne(" ",xe(14,18,"form.buttons.enabled",Te(35,mr,l.testForm.enabled))," "),N(3),ne(" ",xe(17,21,"form.buttons.required",Te(37,fr,l.getIsRequiredInput()))," "),N(3),ne(" ",ce(20,24,"form.buttons.changeVisibility")," "),N(3),ne(" ",ce(23,26,"form.buttons.recreateForm")," "),N(3),ne(" ",ce(26,28,"form.buttons.setForm")," "),N(3),ne(" ",ce(29,30,"form.buttons.checkForm")," "),N(3),ne(" ",xe(32,32,"form.buttons.readonly",Te(39,gr,l.isReadonly()))," "),N(2),ve(l.showValueAndValidity()?33:-1),N(2),se("componentType",l.QuangInputComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[mt,Et,pt,kt,Ss,ht,ot,Lt,Mt,Yn,Ie,hi,it,lt],encapsulation:2,changeDetection:0});let e=t;return e})();var po=(()=>{let t=class t{constructor(){this.http=Se(Ei)}testHttpGet(){this.http.get("https://httpbin.org/get").subscribe()}testHttpUnauthorized(){this.http.get("https://httpbin.org/status/401").subscribe()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=as({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wr=["testComponent"],mo=(()=>{let t=class t{constructor(){this.LoaderTestPageComponent=t,this.http=Se(Ei),this.appService=Se(po),this.testComponent=Me("testComponent"),this.quangTranslationService=Se(Xe),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/loader.md":"./assets/docs/loader.it.md")}showLoader(){return es(this,null,function*(){for(let i=0;i<20;i++){let s=yield is(this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe(os(300)));console.log("call",s)}})}testApiCall(){this.appService.testHttpGet()}testUnauthorized(){this.appService.testHttpUnauthorized()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-loader-test-page"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,wr,5),s&2&&Ve()},decls:15,vars:13,consts:[[1,"d-flex","gap-4","flex-wrap"],[1,"btn","btn-secondary","d-flex","gap-2",3,"click"],["src","assets/icons/svg/reload.svg",2,"width","20px",3,"applyClass"],[1,"btn","btn-outline-secondary",3,"click"],[3,"componentType","customReadmePath","readmeOnly"]],template:function(s,l){s&1&&(H(0,"p"),J(1,"loader-test-page works!"),U(),H(2,"div",0)(3,"button",1),ae("click",function(){return l.showLoader()}),Ce(4,"svg-icon",2),H(5,"span"),J(6),ee(7,"transloco"),U()(),H(8,"button",3),ae("click",function(){return l.testApiCall()}),J(9),ee(10,"transloco"),U(),H(11,"button",3),ae("click",function(){return l.testUnauthorized()}),J(12),ee(13,"transloco"),U()(),Ce(14,"playground-component-documentation",4)),s&2&&(N(4),se("applyClass",!0),N(2),je(ce(7,7,"buttons.loader")),N(3),ne(" ",ce(10,9,"buttons.apiCall")," "),N(3),ne(" ",ce(13,11,"buttons.unauthorized")," "),N(2),se("componentType",l.LoaderTestPageComponent)("customReadmePath",l.componentsReadmePath())("readmeOnly",!0))},dependencies:[Li,Qt,Ie,it],encapsulation:2});let e=t;return e})();var xr=(e,t)=>({page:e,amountPages:t});function Tr(e,t){if(e&1&&(H(0,"div",6),J(1),ee(2,"transloco"),U()),e&2){let n=re();N(),xi("",ce(2,2,n.totalItemsText())," ",n.totalItems())}}function Sr(e,t){if(e&1&&(H(0,"option",18),J(1),U()),e&2){let n=t.$implicit,i=re(2);se("selected",n===i._pageSize()),N(),ne(" ",n," ")}}function kr(e,t){if(e&1){let n=He();H(0,"div",7)(1,"label",16),J(2),ee(3,"transloco"),U(),H(4,"select",17,4),ae("change",function(s){be(n);let l=re();return _e(l.onChangeSize(s))}),bt(6,Sr,2,2,"option",18,ds),U()()}if(e&2){let n=re();N(2),ne(" ",ce(3,3,n.sizeText())," "),N(2),se("id",n.componentId()+"-quang-page-size")("tabIndex",n.componentTabIndex()),N(2),_t(n.sizeList())}}function Er(e,t){e&1&&(gt(),H(0,"svg",19),Ce(1,"path",20),U())}function Lr(e,t){e&1&&(gt(),H(0,"svg",19),Ce(1,"path",21),U())}function Mr(e,t){e&1&&(gt(),H(0,"svg",19),Ce(1,"path",22),U())}function Dr(e,t){e&1&&(gt(),H(0,"svg",19),Ce(1,"path",23),U())}var Qn=(()=>{let t=class t{constructor(){this.componentId=ie(Di(10)),this.componentTabIndex=ie(0),this.componentClass=ie(""),this.page=ie.required(),this.pageSize=ie.required(),this.sizeList=ie([]),this.totalItems=ie.required(),this.showTotalElementsCount=ie(!0),this.totalItemsText=ie("quangPaginator.totalItems"),this.sizeText=ie("quangPaginator.size"),this.pageRangeText=ie("quangPaginator.pageRange"),this._currentPage=he(1),this.page$=Qe(this.page).pipe(Ae()).subscribe(i=>{this._currentPage.set(i)}),this._pageSize=he(0),this.pageSize$=Qe(this.pageSize).pipe(Ae()).subscribe(i=>{this._pageSize.set(i)}),this._totalPages=we(()=>Math.ceil(this.totalItems()/this._pageSize())),this.changePage=dt(),this.changeSize=dt()}ngOnInit(){this._currentPage.set(this.page()),this._pageSize.set(this.pageSize())}onChangeSize(i){this._pageSize.set(parseInt(i.target.value)),this.changeSize.emit(this._pageSize()),this.goToFirstPage()}goToNextPage(){this._currentPage.update(i=>i+1),this.changePage.emit(this._currentPage())}goToPreviousPage(){this._currentPage.update(i=>i-1),this.changePage.emit(this._currentPage())}goToFirstPage(){this._currentPage.set(1),this.changePage.emit(this._currentPage())}goToLastPage(){this._currentPage.set(this._totalPages()),this.changePage.emit(this._currentPage())}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-paginator"]],inputs:{componentId:[1,"componentId"],componentTabIndex:[1,"componentTabIndex"],componentClass:[1,"componentClass"],page:[1,"page"],pageSize:[1,"pageSize"],sizeList:[1,"sizeList"],totalItems:[1,"totalItems"],showTotalElementsCount:[1,"showTotalElementsCount"],totalItemsText:[1,"totalItemsText"],sizeText:[1,"sizeText"],pageRangeText:[1,"pageRangeText"]},outputs:{changePage:"changePage",changeSize:"changeSize"},decls:32,vars:15,consts:[["nextTemplate",""],["prevTemplate",""],["lastTemplate",""],["firstTemplate",""],["input",""],[1,"paginatorContainer",3,"id","ngClass"],[1,"me-3","pagination-label"],[1,"me-3"],[1,"pagination-label","text-center"],[1,"pagination"],["type","button",1,"page-link",3,"click","disabled"],["fill","currentColor","height","24","stroke","currentColor","viewBox","0 -960 960 960","width","24","xmlns","http://www.w3.org/2000/svg"],["d","M240-240v-480h80v480h-80Zm440 0L440-480l240-240 56 56-184 184 184 184-56 56Z","fill","currentColor","stroke","currentColor"],["d","M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z","fill","currentColor","stroke","currentColor"],["d","M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z","fill","currentColor","stroke","currentColor"],["d","m280-240-56-56 184-184-184-184 56-56 240 240-240 240Zm360 0v-480h80v480h-80Z","fill","currentColor","stroke","currentColor"],["for","pageSize",1,"form-label","pagination-label","mb-0","text-center"],["autocomplete","off","id","pageSize","name","pageSize",1,"form-select","page-size",3,"change","id","tabIndex"],[3,"selected"],["fill","currentColor","fill","currentColor","height","48","stroke","currentColor","viewBox","0 -960 960 960","width","48","xmlns","http://www.w3.org/2000/svg"],["d","M530-481 332-679l43-43 241 241-241 241-43-43 198-198Z","fill","currentColor","stroke","currentColor"],["d","M561-240 320-481l241-241 43 43-198 198 198 198-43 43Z","fill","currentColor","stroke","currentColor"],["d","m272-245-43-43 192-192-192-192 43-43 235 235-235 235Zm388 5v-480h60v480h-60Z","fill","currentColor","stroke","currentColor"],["d","M240-240v-480h60v480h-60Zm447-3L453-477l234-234 43 43-191 191 191 191-43 43Z","fill","currentColor","stroke","currentColor"]],template:function(s,l){if(s&1){let c=He();H(0,"div",5),ye(1,Tr,3,4,"div",6),ye(2,kr,8,5,"div",7),H(3,"div",8),J(4),ee(5,"transloco"),U(),H(6,"div",9)(7,"ul")(8,"li")(9,"button",10),ae("click",function(){return be(c),_e(l.goToFirstPage())}),gt(),H(10,"svg",11),Ce(11,"path",12),U()()(),Ci(),H(12,"li")(13,"button",10),ae("click",function(){return be(c),_e(l.goToPreviousPage())}),gt(),H(14,"svg",11),Ce(15,"path",13),U()()(),Ci(),H(16,"li")(17,"button",10),ae("click",function(){return be(c),_e(l.goToNextPage())}),gt(),H(18,"svg",11),Ce(19,"path",14),U()()(),Ci(),H(20,"li")(21,"button",10),ae("click",function(){return be(c),_e(l.goToLastPage())}),gt(),H(22,"svg",11),Ce(23,"path",15),U()()()()()(),Zt(24,Er,2,0,"ng-template",null,0,Tt)(26,Lr,2,0,"ng-template",null,1,Tt)(28,Mr,2,0,"ng-template",null,2,Tt)(30,Dr,2,0,"ng-template",null,3,Tt)}s&2&&(se("id",l.componentId())("ngClass",l.componentClass()),N(),ve(l.showTotalElementsCount()?1:-1),N(),ve(l.sizeList().length>0?2:-1),N(2),ne(" ",xe(5,9,l.pageRangeText(),Ti(12,xr,l.page(),l._totalPages()))," "),N(5),se("disabled",l._currentPage()<=1),N(4),se("disabled",l._currentPage()<=1),N(4),se("disabled",l._currentPage()>=l._totalPages()),N(4),se("disabled",l._currentPage()>=l._totalPages()))},dependencies:[Ie,tt],styles:["[_nghost-%COMP%]{display:block}.paginatorContainer[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-wrap:wrap}@media (min-width: 576px){.paginatorContainer[_ngcontent-%COMP%]{flex-wrap:nowrap;order:2}}.paginatorContainer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem;order:2;min-width:80px}@media (min-width: 576px){.paginatorContainer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{order:1}}.pagination[_ngcontent-%COMP%]{margin-bottom:.5rem}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;display:flex}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pagination-page[_ngcontent-%COMP%]{display:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border-radius:50%;padding:.375rem;border:none;gap:1.5rem;padding:.25rem;background-color:transparent;color:var(--bs-body-color)}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{opacity:40%}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:unset}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;width:30px;height:30px}.pagination-label[_ngcontent-%COMP%]{margin:0;margin-bottom:1rem;font-size:.75rem}"],changeDetection:0});let e=t;return e})();var Nr=["testComponent"],fo=(()=>{let t=class t{constructor(){this.PaginatorTestComponent=Qn,this.quangTranslationService=Se(Xe),this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/paginator.md":"./assets/docs/paginator.it.md"),this.formBuilder=Se(st),this.sizeList=[10,20,30,40,50],this.testForm=this.formBuilder.group({page:1,pageSize:10})}onChangePage(i){this.testForm.controls.page.patchValue(i),console.log(i)}onChangePageSize(i){this.testForm.controls.pageSize.patchValue(i),console.log(i)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-paginator-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,Nr,5),s&2&&Ve()},decls:13,vars:13,consts:[["testComponent",""],[1,"card"],[1,"card-header"],[1,"card-body"],["id","testComponent","playgroundSourceCode","",3,"changePage","changeSize","page","pageSize","sizeList","totalItems"],[1,"mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"]],template:function(s,l){if(s&1){let c=He();H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"div",1),Ce(4,"div",2),H(5,"div",3)(6,"quang-paginator",4,0),ae("changePage",function(o){return be(c),_e(l.onChangePage(o))})("changeSize",function(o){return be(c),_e(l.onChangePageSize(o))}),U()()(),H(8,"div",5),J(9),ee(10,"json"),U(),H(11,"div",6),Ce(12,"playground-component-documentation",7),U()}s&2&&(N(),je(ce(2,9,"title.components.paginator")),N(5),se("page",l.testForm.controls.page.value)("pageSize",l.testForm.controls.pageSize.value)("sizeList",l.sizeList)("totalItems",30),N(3),ne(" ",ce(10,11,l.testForm.value),`
`),N(3),se("componentType",l.PaginatorTestComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[Qn,mt,ot,ht,Ie,it,lt],encapsulation:2,changeDetection:0});let e=t;return e})();var Ir=["testComponent"],Br=e=>({enabled:e}),Or=e=>({required:e}),Fr=e=>({readonly:e}),Ar=e=>({value:e}),Rr=e=>({valid:e});function Hr(e,t){if(e&1&&(H(0,"div",5),Ce(1,"quang-select",11,0)(3,"quang-select",12)(4,"quang-select",13),U()),e&2){let n=re();N(),se("autoSelectSingleOption",!0)("errorMap",n.errors())("isReadonly",n.isReadonly())("selectOptions",n.singleList),N(2),se("errorMap",n.errors())("isReadonly",n.isReadonly())("selectOptions",n.stringList),N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())("selectOptions",n.numberList)}}function Pr(e,t){if(e&1&&(H(0,"div",8)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let n=re();N(2),ne(" ",xe(4,4,"form.label.formValue",Te(10,Ar,ce(3,2,n.testForm.value)))," "),N(4),ne(" ",xe(7,7,"form.label.formValidity",Te(12,Rr,n.testForm.valid))," ")}}var go=(()=>{let t=class t{changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control(this.stringList[2].value,[me.required]),testInputMultiple:this.formBuilder.control([1,2],[me.required])})}setFormValues(){this.testForm.patchValue({testInput:"min",testInputMultiple:[3,4]})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}constructor(){this.QuangSelectComponent=hi,this.quangTranslationService=Se(Xe),this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/select.md":"./assets/docs/select.it.md"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.singleList=[{value:"required",label:"This field is required."}],this.stringList=[{value:"required",label:"This field is required."},{value:"minLength",label:"This field must be at least 10 characters long."},{value:"maxLength",label:"This field must be at most 30 characters long."},{value:"pattern",label:"This field must match the following pattern: [a-zA-Z0-9]+"},{value:"email",label:"This field must be a valid email address."},{value:"min",label:"This field must be greater than or equal to 10."},{value:"max",label:"This field must be less than or equal to 30."},{value:"unique",label:"This field must be unique."},{value:"custom",label:"This field does not meet the custom validation rule."},{value:"async",label:"This field does not meet the async validation rule."}],this.numberList=[{value:1,label:"This field is required."},{value:2,label:"This field must be at least 10 characters long."},{value:3,label:"This field must be at most 30 characters long."},{value:4,label:"This field must match the following pattern: [a-zA-Z0-9]+"},{value:5,label:"This field must be a valid email address."},{value:6,label:"This field must be greater than or equal to 10."},{value:7,label:"This field must be less than or equal to 30."},{value:8,label:"This field must be unique."},{value:9,label:"This field does not meet the custom validation rule."},{value:10,label:"This field does not meet the async validation rule."}],this.formBuilder=Se(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("",[me.required]),testInputMultiple:this.formBuilder.control([],[me.required])}),this.showInput=he(!0),this.onChangeTestInput=this.testForm.controls.testInput.valueChanges.pipe(Ae()).subscribe(i=>{console.log(i)}),this.onChangeTestInputMultiple=this.testForm.controls.testInputMultiple.valueChanges.pipe(Ae()).subscribe(i=>{console.log(i)}),setTimeout(()=>{console.log("\xE8 il momento dei pocci"),this.testForm.controls.testInputMultiple.patchValue(1)},5e3)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-select-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,Ir,5),s&2&&Ve()},decls:33,vars:39,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.select","componentPlaceholder","Placeholder select singola scelta","formControlName","testInput","id","testComponent","playgroundSourceCode","","selectionMode","single","successMessage","form.label.success",1,"col-4",3,"autoSelectSingleOption","errorMap","isReadonly","selectOptions"],["componentLabel","form.label.select","componentPlaceholder","Placeholder select singola scelta","formControlName","testInput","selectionMode","single","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"],["componentLabel","form.label.multipleSelect","componentPlaceholder","Placeholder select scelta multipla","formControlName","testInputMultiple","selectionMode","multiple","successMessage","form.label.success",1,"col-4",3,"errorMap","isReadonly","selectOptions"]],template:function(s,l){s&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1)(4,"div",2),Ce(5,"div",3),H(6,"div",4),ye(7,Hr,5,10,"div",5),H(8,"div",6)(9,"button",7),ae("click",function(){return l.changeFormEnabled()}),J(10),ee(11,"transloco"),U(),H(12,"button",7),ae("click",function(){return l.changeFormInputRequired()}),J(13),ee(14,"transloco"),U(),H(15,"button",7),ae("click",function(){return l.changeVisibility()}),J(16),ee(17,"transloco"),U(),H(18,"button",7),ae("click",function(){return l.recreateForm()}),J(19),ee(20,"transloco"),U(),H(21,"button",7),ae("click",function(){return l.setFormValues()}),J(22),ee(23,"transloco"),U(),H(24,"button",7),ae("click",function(){return l.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),U(),H(27,"button",7),ae("click",function(){return l.setReadonly()}),J(28),ee(29,"transloco"),U()()()()(),ye(30,Pr,8,14,"div",8),H(31,"div",9),Ce(32,"playground-component-documentation",10),U()),s&2&&(N(),je(ce(2,14,"title.components.select")),N(2),se("formGroup",l.testForm),N(4),ve(l.showInput()?7:-1),N(3),ne(" ",xe(11,16,"form.buttons.enabled",Te(33,Br,l.testForm.enabled))," "),N(3),ne(" ",xe(14,19,"form.buttons.required",Te(35,Or,l.getIsRequiredInput()))," "),N(3),ne(" ",ce(17,22,"form.buttons.changeVisibility")," "),N(3),ne(" ",ce(20,24,"form.buttons.recreateForm")," "),N(3),ne(" ",ce(23,26,"form.buttons.setForm")," "),N(3),ne(" ",ce(26,28,"form.buttons.checkForm")," "),N(3),ne(" ",xe(29,30,"form.buttons.readonly",Te(37,Fr,l.isReadonly()))," "),N(2),ve(l.showValueAndValidity()?30:-1),N(2),se("componentType",l.QuangSelectComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[mt,Et,pt,kt,ht,ot,Lt,Mt,Ie,hi,it,lt],encapsulation:2,changeDetection:0});let e=t;return e})();var zr=(e,t)=>({"mb-3":e,"form-check":t}),Vr=e=>({"cursor-pointer":e});function Wr(e,t){if(e&1&&(H(0,"label",1),J(1),ee(2,"transloco"),H(3,"span",6),J(4,"*"),U()()),e&2){let n=re();se("htmlFor",n.componentId())("ngClass",Te(6,Vr,!n._isDisabled())),N(),ne(" ",ce(2,4,n.componentLabel())," "),N(2),se("hidden",!n._isRequired())}}function qr(e,t){if(e&1&&(H(0,"small",5),J(1),ee(2,"transloco"),U()),e&2){let n=re();se("hidden",n._showSuccess()||n._showErrors()),N(),ne(" ",ce(2,2,n.helpMessage())," ")}}var pi=(()=>{let t=class t extends Dt{constructor(){super(...arguments),this.labelPosition=ie("top"),this.checkType=ie.required(),this.removeMargin=ie(!1)}onChangedEventHandler(i){let s=i.target;this.onChangedHandler(s.checked)}};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=wi(t)))(l||t)}})(),t.\u0275cmp=Ne({type:t,selectors:[["quang-checkbox"]],inputs:{labelPosition:[1,"labelPosition"],checkType:[1,"checkType"],removeMargin:[1,"removeMargin"]},features:[xt([{provide:St,useExisting:Ct(()=>t),multi:!0}]),wt],decls:11,vars:46,consts:[[3,"ngClass"],[1,"form-label",3,"htmlFor","ngClass"],["type","checkbox",3,"blur","input","checked","disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"]],template:function(s,l){s&1&&(H(0,"div",0),ye(1,Wr,5,8,"label",1),H(2,"input",2),ee(3,"transloco"),ae("blur",function(){return l.onBlurHandler()})("input",function(h){return l.onChangedEventHandler(h)}),U(),H(4,"div",3),J(5),ee(6,"transloco"),U(),H(7,"div",4),J(8),ee(9,"transloco"),U(),ye(10,qr,3,4,"small",5),U()),s&2&&(Ue("form-check-reverse",l.labelPosition()==="left"&&l.checkType()==="checkbox")("form-switch",l.checkType()==="toggle")("label-bottom",l.labelPosition()==="bottom")("label-left",l.labelPosition()==="left"&&l.checkType()==="toggle")("label-right",l.labelPosition()==="right"&&l.checkType()==="toggle")("label-top",l.labelPosition()==="top")("toggle-wrapper",l.checkType()==="toggle"),se("ngClass",Ti(43,zr,!l.removeMargin(),!l.removeMargin())),N(),ve(l.componentLabel()?1:-1),N(),gs(vs("form-check-input ",l._isDisabled()?"":"cursor-pointer")),Ue("is-invalid",l._showErrors())("is-valid",l._showSuccess()),se("checked",l._value())("disabled",l._isDisabled())("id",l.componentId())("ngClass",l.componentClass())("placeholder",ce(3,36,l.componentPlaceholder()))("readOnly",l.isReadonly())("tabIndex",l.componentTabIndex())("value",l._value()),ut("required",l.getIsRequiredControl())("role",l.checkType()==="checkbox"?"checkbox":"switch"),N(3),ne(" ",ce(6,38,l.successMessage())," "),N(3),ne(" ",xe(9,40,l._currentErrorMessage(),l._currentErrorMessageExtraData())," "),N(2),ve(l.helpMessage()?10:-1))},dependencies:[Ie,tt],styles:["[_nghost-%COMP%]{display:block}.label-top[_ngcontent-%COMP%]{display:flex;flex-direction:column}.label-top[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset;float:unset}.label-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.label-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset;float:unset}.label-right[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:start}.label-right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.5rem;margin-bottom:0;align-self:center}.label-left[_ngcontent-%COMP%]{flex-direction:row}.label-left[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;align-self:center}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;padding-left:unset}.toggle-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.toggle-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:unset;width:3em;height:1.5em}.direction-row[_ngcontent-%COMP%]{flex-direction:row}.direction-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-right:.5rem}.direction-reverse-row[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:start}.direction-reverse-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.direction-column[_ngcontent-%COMP%]{flex-direction:column}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0});let e=t;return e})();var bo=["tableHeader"],Ur=["fakeTableHeader"],mi=e=>({$implicit:e});function $r(e,t){if(e&1&&(H(0,"div",17),Yt(1,16),U()),e&2){let n=re().$implicit;re(2);let i=yt(4);N(),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Te(2,mi,n.sort))}}function Zr(e,t){if(e&1){let n=He();H(0,"th",14),ae("click",function(){let s=be(n).$implicit,l=re(2);return _e(s!=null&&s.sort?l.onSortColumn(s.sort):null)}),H(1,"div",15),J(2),ee(3,"transloco"),Yt(4,16),ye(5,$r,2,4,"div",17),U()()}if(e&2){let n=t.$implicit;Ue("sort-btn",n==null?null:n.sort),N(),se("ngClass",n==null?null:n.css),N(),ne(" ",n.renderer?null:ce(3,7,n.text)," "),N(2),se("ngTemplateOutlet",(n==null?null:n.renderer)??null)("ngTemplateOutletContext",Te(9,mi,n.payload)),N(),ve(n.sort!=null&&n.sort.key?5:-1)}}function Yr(e,t){if(e&1&&(H(0,"div",17),Yt(1,16),U()),e&2){let n=re().$implicit;re(2);let i=yt(4);N(),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Te(2,mi,n.sort))}}function Qr(e,t){if(e&1){let n=He();H(0,"th",14),ae("click",function(){let s=be(n).$implicit,l=re(2);return _e(s!=null&&s.sort?l.onSortColumn(s.sort):null)}),H(1,"div",15),J(2),ee(3,"transloco"),Yt(4,16),ye(5,Yr,2,4,"div",17),U()()}if(e&2){let n=t.$implicit;Ue("sort-btn",n==null?null:n.sort),N(),se("ngClass",n==null?null:n.css),N(),ne(" ",n.renderer?null:ce(3,7,n.text)," "),N(2),se("ngTemplateOutlet",(n==null?null:n.renderer)??null)("ngTemplateOutletContext",Te(9,mi,n.payload)),N(),ve(n.sort!=null&&n.sort.key?5:-1)}}function jr(e,t){if(e&1&&(H(0,"td",19),J(1),Yt(2,16),U()),e&2){let n=t.$implicit,i=re(3);se("ngClass",n.css),ut("colspan",n!=null&&n.fullWidth?i._tableConfigurations().headers.length:void 0),N(),ne(" ",n.renderer?null:n.text," "),N(),se("ngTemplateOutlet",(n==null?null:n.renderer)??null)("ngTemplateOutletContext",Te(5,mi,n.payload))}}function Gr(e,t){if(e&1){let n=He();H(0,"tr",18),ae("click",function(){let s=be(n).$implicit,l=re(2);return _e(l.clickableRow()?l.onClickRow(s):null)}),bt(1,jr,3,7,"td",19,Pt),U()}if(e&2){let n=t.$implicit,i=re(2);Ue("hover-table",i.clickableRow())("selectedRow",n!=null&&n.rowId?i.isSelected(n.rowId):null),se("ngClass",n.css),N(),_t(n.cellData)}}function Xr(e,t){if(e&1){let n=He();H(0,"div",7,1),ae("scroll",function(){be(n);let s=yt(1),l=yt(9);return _e(l.scrollLeft=s.scrollLeft)}),H(2,"table",8,2)(4,"thead")(5,"tr"),bt(6,Zr,6,11,"th",9,Pt),U()()()(),H(8,"div",10,3),ae("scroll",function(){be(n);let s=yt(1),l=yt(9);return _e(s.scrollLeft=l.scrollLeft)}),H(10,"table",11)(11,"thead",12,4)(13,"tr"),bt(14,Qr,6,11,"th",9,Pt),U()(),H(16,"tbody"),bt(17,Gr,3,5,"tr",13,Pt),U()()()}if(e&2){let n=re();N(6),_t(n._tableConfigurations().headers),N(8),_t(n._tableConfigurations().headers),N(3),_t(n._tableConfigurations().rows)}}function Kr(e,t){if(e&1&&(H(0,"h6",6),J(1),ee(2,"transloco"),U()),e&2){let n=re();N(),ne(" ",ce(2,1,n.noResultsText())," ")}}function Jr(e,t){if(e&1&&(H(0,"div",20),gt(),H(1,"svg",21),Ce(2,"path",22),U(),H(3,"svg",23),Ce(4,"path",24),U()()),e&2){let n=t.$implicit,i=re();Ue("sort-asc",n.sort===i.SortTable.ASC)("sort-default",n.sort===i.SortTable.DEFAULT)("sort-desc",n.sort===i.SortTable.DESC)}}var at=function(e){return e.DEFAULT="DEFAULT",e.ASC="ASC",e.DESC="DESC",e}(at||{}),jn=(()=>{let t=class t{constructor(){this.clickableRow=ie(!1),this.selectedRows=ie(),this.stickyTable=ie(!0),this.selectedRow=dt(),this.sortChanged=dt(),this.SortTable=at,this.destroyRef=Se(Rt),this._resizeObservableService=Se(Ls),this._tableHeader=Me("tableHeader"),this._tableHeaderElement=Me("tableHeader"),this.noResultsText=ie("quangTable.noResults"),this._tableHeaderEffect=vt(()=>{this._tableHeader()&&this.fixTableHeaderWidth()}),this._tableHeaderElementEffect=vt(()=>{this._tableHeaderElement()&&this.fixTableHeaderWidth()}),this._fakeTableHeader=Me("fakeTableHeader"),this._fakeTableHeaderEffect=vt(()=>{this._fakeTableHeader()&&this.fixTableHeaderWidth()}),this.tableConfigurations=ie.required(),this._tableConfigurations=he({headers:[],rows:[]}),this.tableConfigurations$=Qe(this.tableConfigurations).pipe(Ae()).subscribe(i=>{let s=[],l=[];for(let c of i.headers)s.push(ct({},c));for(let c of i.rows)l.push(ct({},c));this._tableConfigurations.set({headers:s,rows:l})}),this.effectTableConfigurations=vt(()=>{this._tableConfigurations()&&this.fixTableHeaderWidth()}),this.hiddenColumnsObservable=void 0,this.lastWidth=-1}onClickRow(i){this.clickableRow()&&this.selectedRow.emit(i)}isSelected(i){return!!this.selectedRows()?.some(s=>s===i)}fixTableHeaderWidth(){setTimeout(()=>{let i=this._tableHeader()?.nativeElement?.querySelectorAll("th"),s=this._fakeTableHeader()?.nativeElement?.querySelectorAll("th");if(i?.length>0&&s?.length>0){this.hiddenColumnsObservable&&this.hiddenColumnsObservable.unsubscribe(),this.hiddenColumnsObservable=this._resizeObservableService.widthResizeObservable(s[0]).pipe(Ae(this.destroyRef)).subscribe(l=>{l!==this.lastWidth&&(this.lastWidth=l,this.fixTableHeaderWidth())});for(let l=0;l<s?.length;l++){let c=s[l];i[l].style.minWidth=`${c.offsetWidth}px`,i[l].style.maxWidth=`${c.offsetWidth}px`}}})}onSortColumn(i){let s=[];for(let l of this._tableConfigurations().headers)s.push(ct({},l));s.forEach(l=>{if(l.sort?.key)if(l.sort?.key===i.key)switch(i.sort){case at.ASC:l.sort.sort=at.DESC;break;case at.DESC:l.sort.sort=at.DEFAULT;break;case at.DEFAULT:default:l.sort.sort=at.ASC;break}else l.sort=Wt(ct({},l.sort),{sort:at.DEFAULT})}),this._tableConfigurations.set(Wt(ct({},this._tableConfigurations()),{headers:s})),this.sortChanged.emit([i])}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["quang-table"]],viewQuery:function(s,l){s&1&&(Le(l._tableHeader,bo,5),Le(l._tableHeaderElement,bo,5),Le(l._fakeTableHeader,Ur,5)),s&2&&Ve(3)},inputs:{clickableRow:[1,"clickableRow"],selectedRows:[1,"selectedRows"],stickyTable:[1,"stickyTable"],noResultsText:[1,"noResultsText"],tableConfigurations:[1,"tableConfigurations"]},outputs:{selectedRow:"selectedRow",sortChanged:"sortChanged"},decls:5,vars:4,consts:[["orderBtns",""],["tableHeaderContainer",""],["tableHeader",""],["tableContainer",""],["fakeTableHeader",""],[1,"table-responsive"],[1,"text-center","mt-3"],["id","tableHeaderContainer",1,"table-header-container",3,"scroll"],["id","tableHeader"],[1,"align-bottom",3,"sort-btn"],[1,"table-container",3,"scroll"],["id","table-content",1,"table"],["id","fakeTableHeader",1,"fake-table-header"],[3,"hover-table","selectedRow","ngClass"],[1,"align-bottom",3,"click"],[1,"align-self-end","d-flex","gap-1",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-between"],[3,"click","ngClass"],[3,"ngClass"],[1,"sort-arrows"],["fill","currentColor","height","10","stroke","currentColor","viewBox","279.5 -600.5 401 201","width","10","xmlns","http://www.w3.org/2000/svg",1,"arrow-up"],["d","m280-400 200-200 200 200H280Z","fill","currentColor","stroke","currentColor"],["fill","currentColor","height","10","stroke","currentColor","viewBox","279.5 -560.5 401 201","width","10","xmlns","http://www.w3.org/2000/svg",1,"arrow-down"],["d","M480-360 280-560h400L480-360Z","fill","currentColor","stroke","currentColor"]],template:function(s,l){s&1&&(H(0,"div",5),ye(1,Xr,19,0),ye(2,Kr,3,3,"h6",6),U(),Zt(3,Jr,5,6,"ng-template",null,0,Tt)),s&2&&(Ue("sticky-table",l.stickyTable()),N(),ve(l._tableConfigurations().rows.length?1:-1),N(),ve(l._tableConfigurations().rows.length?-1:2))},dependencies:[Ie,tt,ws],styles:["[_nghost-%COMP%]{display:block;--table-header-container-top: 0;--table-header-bg: var(--bs-body-bg);--table-header-border-color: var(--bs-border-color);--table-header-border-width: 4px;--table-row-hover-brightness: 90%;--table-row-selected-brightness: 95%}.table-responsive[_ngcontent-%COMP%]{overflow:initial}.table-responsive[_ngcontent-%COMP%]   .fake-table-header[_ngcontent-%COMP%]{height:0!important;overflow:hidden!important;line-height:0!important;visibility:collapse!important}.table-responsive[_ngcontent-%COMP%]   .fake-table-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0!important;margin:0!important;background-color:var(--table-header-bg);border:unset!important;height:0!important;overflow:hidden!important;line-height:0!important;visibility:collapse!important}.table-responsive[_ngcontent-%COMP%]   .table-header-container[_ngcontent-%COMP%]{overflow-x:hidden;z-index:1}.table-responsive[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;font-size:16px;overflow-y:auto;margin-bottom:unset}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{text-transform:uppercase}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem .5rem;z-index:999;background-color:var(--table-header-bg);box-shadow:inset 0 calc(var(--table-header-border-width) * -1) 0 0 var(--table-header-border-color)}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.hover-table[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(var(--table-row-hover-brightness))}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selectedRow[_ngcontent-%COMP%]{filter:brightness(var(--table-row-selected-brightness))}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;font-weight:300;vertical-align:middle}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:transparent}.table-responsive.sticky-table[_ngcontent-%COMP%]{position:relative}.table-responsive.sticky-table[_ngcontent-%COMP%]   .table-header-container[_ngcontent-%COMP%]{position:sticky;top:var(--table-header-container-top, 0)}.sort-arrows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.sort-default[_ngcontent-%COMP%]{opacity:30%}.sort-asc[_ngcontent-%COMP%]   .arrow-up[_ngcontent-%COMP%]{opacity:100%}.sort-asc[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%], .sort-desc[_ngcontent-%COMP%]   .arrow-up[_ngcontent-%COMP%]{display:none}.sort-desc[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{opacity:100%}.sort-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"],changeDetection:0});let e=t;return e})();var ec=["checkboxRenderer"],tc=["name3"],ic=["actions"],nc=["testComponent"];function sc(e,t){if(e&1){let n=He();H(0,"div",9)(1,"button",10),ae("click",function(){let s=be(n).$implicit,l=re();return _e(l.onEditPerson(s.id))}),Ce(2,"svg-icon",11),U(),H(3,"button",12),ae("click",function(){let s=be(n).$implicit,l=re();return _e(l.onDeletePerson(s.id))}),Ce(4,"svg-icon",13),U()()}e&2&&(N(2),se("applyClass",!0),N(2),se("applyClass",!0))}function oc(e,t){if(e&1&&(H(0,"div",14),J(1),U()),e&2){let n=t.$implicit;re();let i=yt(12);se("quangOverlayPayload",n)("quangPopover",i),N(),ne(" ",n," ")}}function lc(e,t){if(e&1&&(H(0,"div",15),J(1),U()),e&2){let n=t.$implicit;N(),ne(" ",n," ")}}function ac(e,t){e&1&&(H(0,"div",16),Ce(1,"quang-checkbox",17),U()),e&2&&(N(),se("formControl",t)("removeMargin",!0))}function rc(e,t){if(e&1&&ye(0,ac,2,2,"div",16),e&2){let n,i=t.$implicit,s=re();ve((n=(n=s.selectFormMap())==null?null:n.get(i.toString()))?0:-1,n)}}var _o=(()=>{let t=class t{constructor(){this.TableTestComponent=jn,this.quangTranslationService=Se(Xe),this.checkboxRenderer=Me("checkboxRenderer"),this.name3=Me("name3"),this.actions=Me("actions"),this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?(console.log("testComponent",document.getElementById("testComponent")),document.getElementById("testComponent")?.getAttribute("data-source")??""):""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/table.md":"./assets/docs/table.it.md"),this.people=[{name:"John Doewe",age:30,gender:"Male",id:1},{name:"Jane Doe",age:25,gender:"Female",id:2},{name:"Peter Parker",age:20,gender:"Male",id:3},{name:"Mary Jane",age:22,gender:"Female",id:4},{name:"Bruce Wayne",age:35,gender:"Male",id:5},{name:"Clark Kent",age:30,gender:"Male",id:6},{name:"Diana Prince",age:28,gender:"Female",id:7},{name:"Barry Allen",age:25,gender:"Male",id:8},{name:"Kara Zor-El",age:23,gender:"Female",id:9},{name:"Hal Jordan",age:32,gender:"Male",id:10},{name:"Tony Stark",age:40,gender:"Male",id:11},{name:"Steve Rogers",age:35,gender:"Male",id:12},{name:"Natasha Romanoff",age:30,gender:"Female",id:13},{name:"Bruce Banner",age:35,gender:"Male",id:14},{name:"Thor Odinson",age:1e3,gender:"Male",id:15},{name:"Loki Laufeyson",age:1e3,gender:"Male",id:16},{name:"Heimdall",age:500,gender:"Male",id:17},{name:"Sif",age:500,gender:"Female",id:18},{name:"Volstagg",age:500,gender:"Male",id:19},{name:"Fandral",age:500,gender:"Male",id:20},{name:"Hogun",age:500,gender:"Male",id:21}],this.peopleList=he(this.people),this.tableHeaders=he([{renderer:this.checkboxRenderer(),payload:"header"},{text:"Name",sort:{key:"name",sort:at.DEFAULT}},{text:"Name2",sort:{key:"name2",sort:at.DEFAULT}},{text:"Name3",css:["justify-content-end"],sort:{key:"name3",sort:at.DEFAULT}},{text:"Age",sort:{key:"age",sort:at.DESC}},{text:"Gender",sort:{key:"gender",sort:at.DEFAULT}},{text:""}]),this.tableRows=he(this.peopleList()?.map(i=>({css:void 0,rowId:`person-${i.id}`,payload:i,cellData:[{renderer:this.checkboxRenderer(),payload:i.id},{text:i.name},{text:i.name},{renderer:this.name3(),payload:i.name},{text:i.age.toString()},{text:i.gender,css:["bg-light"]},{renderer:this.actions(),payload:i}]}))??[]),this.tableConfig=we(()=>({headers:this.tableHeaders(),rows:this.tableRows()})),this.selectedRows=[],this.destroyRef=Se(Rt),this.selectFormMap=he(void 0),this.formBuilder=Se(st),this.checkboxForm=this.formBuilder.control(!1),this.peopleList$=Qe(this.peopleList).pipe(Ae()).subscribe(i=>{let s=new Map,l=this.formBuilder.control(!1);if(l.valueChanges.pipe(Ae(this.destroyRef)).subscribe(c=>{console.log("header",c);for(let[h,o]of s)h!=="header"&&o.setValue(c)}),s.set("header",l),i)for(let c of i)s.set(c.id.toString(),this.formBuilder.control(!1));this.selectFormMap.set(s)})}onEditPerson(i){let s=this.tableConfig().rows.find(l=>l.payload?.id===i);s&&(s.css=s?.css?.length?void 0:["hover-table"])}addPerson(){this.peopleList.set([...this.peopleList(),{name:"New Person",age:0,gender:"Male",id:1e3}])}onDeletePerson(i){this.tableConfig().rows=this.tableConfig().rows.filter(s=>s.payload?.id!==i)}onClickRow(i){i?.rowId&&(this.selectedRows.some(s=>s===i.rowId)?this.selectedRows=this.selectedRows.filter(s=>s!==i.rowId):this.selectedRows.push(i.rowId.toString()),this.selectedRows=[...this.selectedRows])}onChangeSort(i){this.tableHeaders.update(s=>s.map(l=>Wt(ct({},l),{sort:l.sort?Wt(ct({},l.sort),{sort:i[0].key===l.sort.key?i[0].sort:at.DEFAULT}):void 0})))}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-table-test"]],viewQuery:function(s,l){s&1&&(Le(l.checkboxRenderer,ec,5),Le(l.name3,tc,5),Le(l.actions,ic,5),Le(l.testComponent,nc,5)),s&2&&Ve(4)},decls:17,vars:8,consts:[["testComponent",""],["actions",""],["name3",""],["namePop",""],["checkboxRenderer",""],["type","button",1,"btn","me-3","btn-primary",3,"click"],["id","testComponent","playgroundSourceCode","",3,"sortChanged","stickyTable","tableConfigurations"],[1,"mt-5","border-top","pt-4"],[3,"componentType","customReadmePath","exampleHtml"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","me-3",3,"click"],["src","assets/icons/svg/edit.svg",3,"applyClass"],["type","button",1,"btn",3,"click"],["src","assets/icons/svg/trash.svg",3,"applyClass"],["overlayPosition","bottom",3,"quangOverlayPayload","quangPopover"],[1,"p-2"],[2,"padding-bottom","0.25rem"],["checkType","checkbox",3,"formControl","removeMargin"]],template:function(s,l){if(s&1){let c=He();H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"button",5),ae("click",function(){return be(c),_e(l.addPerson())}),J(4,` Add person
`),U(),H(5,"quang-table",6,0),ae("sortChanged",function(o){return be(c),_e(l.onChangeSort(o))}),U(),Zt(7,sc,5,2,"ng-template",null,1,Tt)(9,oc,2,3,"ng-template",null,2,Tt)(11,lc,2,1,"ng-template",null,3,Tt)(13,rc,1,1,"ng-template",null,4,Tt),H(15,"div",7),Ce(16,"playground-component-documentation",8),U()}s&2&&(N(),je(ce(2,6,"title.components.table")),N(4),se("stickyTable",!0)("tableConfigurations",l.tableConfig()),N(11),se("componentType",l.TableTestComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[jn,Es,Ie,Li,Qt,pi,ot,pt,Mi,it,lt],styles:[".edited-row[_ngcontent-%COMP%]{color:green}quang-table[_ngcontent-%COMP%]{--table-header-border-width: 2px}"],changeDetection:0});let e=t;return e})();var cc=["testComponent"],uc=e=>({enabled:e}),dc=e=>({required:e}),hc=e=>({readonly:e}),pc=e=>({value:e}),mc=e=>({valid:e});function fc(e,t){if(e&1&&(H(0,"div",3)(1,"div",4),Ce(2,"quang-checkbox",12,0),U(),H(4,"div",13),Ce(5,"quang-checkbox",14)(6,"quang-checkbox",15),U()()),e&2){let n=re();N(2),se("errorMap",n.errors())("isReadonly",n.isReadonly()),N(3),se("errorMap",n.errors())("isReadonly",n.isReadonly()),N(),se("errorMap",n.errors())("isReadonly",n.isReadonly())}}function gc(e,t){if(e&1&&(H(0,"div",10)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let n=re();N(2),ne(" ",xe(4,4,"form.label.formValue",Te(10,pc,ce(3,2,n.testForm.value)))," "),N(4),ne(" ",xe(7,7,"form.label.formValidity",Te(12,mc,n.testForm.valid))," ")}}var yo=(()=>{let t=class t{constructor(){this.ToggleTestComponent=pi,this.quangTranslationService=Se(Xe),this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/checkbox.md":"./assets/docs/checkbox.it.md"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Se(st),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({toggle:this.formBuilder.control(!1,[me.required]),checkbox:this.formBuilder.control(!0,[me.required])}),this.showInput=he(!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.toggle.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?(this.testForm.controls.toggle.removeValidators(me.required),this.testForm.controls.checkbox.removeValidators(me.required)):(this.testForm.controls.toggle.addValidators(me.required),this.testForm.controls.checkbox.addValidators(me.required)),this.testForm.controls.toggle.updateValueAndValidity(),this.testForm.controls.checkbox.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({toggle:this.formBuilder.control(!1,[me.required]),checkbox:this.formBuilder.control(!1,[me.required])})}setFormValues(){this.testForm.patchValue({toggle:!0,checkbox:!0})}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-toggle-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,cc,5),s&2&&Ve()},decls:39,vars:42,consts:[["testComponent",""],[3,"formGroup"],[1,"d-flex","flex-column","w-100"],[1,"row"],[1,"col-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","gap-3","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","flex-column","mt-3","ms-3"],[3,"componentType","customReadmePath","exampleHtml"],["checkType","toggle","componentLabel","form.label.toggle","formControlName","toggle","id","testComponent","labelPosition","top","playgroundSourceCode","","successMessage","form.label.success",1,"col-3",3,"errorMap","isReadonly"],[1,"col-6","row"],["checkType","checkbox","componentLabel","form.label.checkbox","formControlName","checkbox","labelPosition","left","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly"],["checkType","checkbox","componentLabel","form.label.checkbox","formControlName","checkbox","labelPosition","right","successMessage","form.label.success",1,"col-6",3,"errorMap","isReadonly"]],template:function(s,l){s&1&&(H(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),J(5),ee(6,"transloco"),U()(),H(7,"div",4)(8,"h3"),J(9),ee(10,"transloco"),U()()(),H(11,"div",5),Ce(12,"div",6),H(13,"div",7),ye(14,fc,7,6,"div",3),H(15,"div",8)(16,"button",9),ae("click",function(){return l.changeFormEnabled()}),J(17),ee(18,"transloco"),U(),H(19,"button",9),ae("click",function(){return l.changeFormInputRequired()}),J(20),ee(21,"transloco"),U(),H(22,"button",9),ae("click",function(){return l.changeVisibility()}),J(23),ee(24,"transloco"),U(),H(25,"button",9),ae("click",function(){return l.recreateForm()}),J(26),ee(27,"transloco"),U(),H(28,"button",9),ae("click",function(){return l.setFormValues()}),J(29),ee(30,"transloco"),U(),H(31,"button",9),ae("click",function(){return l.checkCurrentFormValueAndValidity()}),J(32),ee(33,"transloco"),U(),H(34,"button",9),ae("click",function(){return l.setReadonly()}),J(35),ee(36,"transloco"),U()()()()()(),ye(37,gc,8,14,"div",10),Ce(38,"playground-component-documentation",11)),s&2&&(se("formGroup",l.testForm),N(5),je(ce(6,15,"title.components.toggle")),N(4),je(ce(10,17,"title.components.checkbox")),N(5),ve(l.showInput()?14:-1),N(3),ne(" ",xe(18,19,"form.buttons.enabled",Te(36,uc,l.testForm.enabled))," "),N(3),ne(" ",xe(21,22,"form.buttons.required",Te(38,dc,l.getIsRequiredInput()))," "),N(3),ne(" ",ce(24,25,"form.buttons.changeVisibility")," "),N(3),ne(" ",ce(27,27,"form.buttons.recreateForm")," "),N(3),ne(" ",ce(30,29,"form.buttons.setForm")," "),N(3),ne(" ",ce(33,31,"form.buttons.checkForm")," "),N(3),ne(" ",xe(36,33,"form.buttons.readonly",Te(40,hc,l.isReadonly()))," "),N(2),ve(l.showValueAndValidity()?37:-1),N(),se("componentType",l.ToggleTestComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[mt,Et,pt,kt,ht,ot,Lt,Mt,pi,Ie,it,lt],styles:["form[_ngcontent-%COMP%]{display:flex}"],changeDetection:0});let e=t;return e})();var Gn={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var wo=Ke(Co());var si={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(e){let t={"&":"&amp;","\xA0":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,function(n){return typeof t[n]=="string"?t[n]:n})},zeroWidthSpace:"\u200B",zeroWidthRegExp:new RegExp("\u200B","g"),onlyZeroWidthRegExp:new RegExp("^\u200B+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(e){return e==null?!1:(typeof e!="string"&&(e=e.textContent),e===""||this.onlyZeroWidthRegExp.test(e))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(e){return e?this._w.Object.keys(e).map(function(t){return e[t]}):[]},camelToKebabCase:function(e){return typeof e=="string"?e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}):e.map(function(t){return si.camelToKebabCase(t)})},kebabToCamelCase:function(e){return typeof e=="string"?e.replace(/-[a-zA-Z]/g,function(t){return t.replace("-","").toUpperCase()}):e.map(function(t){return si.camelToKebabCase(t)})},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){let t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,function(n){return typeof t[n]=="string"?t[n]:n})},HTMLDecoder:function(e){let t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,function(n){return typeof t[n]=="string"?t[n]:n})},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let n="",i=[],s=t==="js"?"script":"link",l=t==="js"?"src":"href",c="(?:";for(let _=0,u=e.length;_<u;_++)c+=e[_]+(_<u-1?"|":")");let h=new this._w.RegExp("(^|.*[\\/])"+c+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),o=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let _=this._d.getElementsByTagName(s),u=0;u<_.length;u++)o.test(_[u][l])&&i.push(_[u]);for(let _=0;_<i.length;_++){let u=i[_][l].match(h);if(u){n=u[0];break}}if(n===""&&(n=i.length>0?i[0][l]:""),n.indexOf(":/")===-1&&n.slice(0,2)!=="//"&&(n=n.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+n:location.href.match(/^[^\?]*\/(?:)/)[0]+n),!n)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return n},getPageStyle:function(e){let t="",n=(e||this._d).styleSheets;for(let i=0,s=n.length,l;i<s;i++){try{l=n[i].cssRules}catch{continue}if(l)for(let c=0,h=l.length;c<h;c++)t+=l[c].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";let n=e.attributes,i="";for(let s=0,l=n.length;s<l;s++)t&&t.indexOf(n[s].name)>-1||(i+=n[s].name+'="'+n[s].value+'" ');return i},getByteLength:function(e){if(!e||!e.toString)return 0;e=e.toString();let t=this._w.encodeURIComponent,n,i;return this.isIE_Edge?(i=this._w.unescape(t(e)).length,n=0,t(e).match(/(%0A|%0D)/gi)!==null&&(n=t(e).match(/(%0A|%0D)/gi).length),i+n):(i=new this._w.TextEncoder("utf-8").encode(e).length,n=0,t(e).match(/(%0A|%0D)/gi)!==null&&(n=t(e).match(/(%0A|%0D)/gi).length),i+n)},isWysiwygDiv:function(e){return e&&e.nodeType===1&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&e.nodeType===1&&e.getAttribute("contenteditable")==="false"},isTextStyleElement:function(e){return e&&e.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(e.nodeName)},isInputElement:function(e){return e&&e.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&e.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&e.nodeType===1&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&e.nodeType===1&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isUneditableComponent:function(e){return e&&this.hasClass(e,"__se__uneditable")},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t,n){if(t.style.cssText){let s=t.style;for(let l=0,c=s.length;l<c;l++)e.style[s[l]]=s[s[l]]}let i=t.attributes;for(let s=0,l=i.length,c;s<l;s++)c=i[s].name.toLowerCase(),n&&n.indexOf(c)>-1||!i[s].value?e.removeAttribute(c):c!=="style"&&e.setAttribute(i[s].name,i[s].value)},copyFormatAttributes:function(e,t){t=t.cloneNode(!1),t.className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,n){if(!e||e.length===0)return null;t=t||function(){return!0};let i=[];for(let s=0,l=e.length,c;s<l;s++)if(c=e[s],t(c))if(n)i.push(c);else return c;return n?i:null},arrayIncludes:function(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},getArrayIndex:function(e,t){let n=-1;for(let i=0,s=e.length;i<s;i++)if(e[i]===t){n=i;break}return n},nextIdx:function(e,t){let n=this.getArrayIndex(e,t);return n===-1?-1:n+1},prevIdx:function(e,t){let n=this.getArrayIndex(e,t);return n===-1?-1:n-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,n){let i=[],s=!0;return this.getParentElement(e,(function(l){if(l===t&&(s=!1),s&&!this.isWysiwygDiv(l)){if(n&&l.nodeType===3){let c=null,h=null;n.s=n.e=0;let o=l.previousSibling;for(;o&&o.nodeType===3;)h=o.textContent.replace(this.zeroWidthRegExp,""),n.s+=h.length,l.textContent=h+l.textContent,c=o,o=o.previousSibling,this.removeItem(c);let _=l.nextSibling;for(;_&&_.nodeType===3;)h=_.textContent.replace(this.zeroWidthRegExp,""),n.e+=h.length,l.textContent+=h,c=_,_=_.nextSibling,this.removeItem(c)}i.push(l)}return!1}).bind(this)),i.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let n=t,i;for(let s=0,l=e.length;s<l&&(i=n.childNodes,i.length!==0);s++)i.length<=e[s]?n=i[i.length-1]:n=i[e[s]];return n},isSameAttributes:function(e,t){if(e.nodeType===3&&t.nodeType===3)return!0;if(e.nodeType===3||t.nodeType===3)return!1;let n=e.style,i=t.style,s=0;for(let _=0,u=n.length;_<u;_++)n[n[_]]===i[n[_]]&&s++;let l=e.classList,c=t.classList,h=this._w.RegExp,o=0;for(let _=0,u=l.length;_<u;_++)h("(s|^)"+l[_]+"(s|$)").test(c.value)&&o++;return s===i.length&&s===n.length&&o===c.length&&o===l.length},isEmptyLine:function(e){return!e||!e.parentNode||!e.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&e.children.length===0&&this.onlyZeroWidthSpace(e.textContent)},isSpanWithoutAttr:function(e){return!!e&&e.nodeType===1&&/^SPAN$/i.test(e.nodeName)&&!e.className&&!e.style.cssText},isList:function(e){return e&&/^(OL|UL)$/i.test(typeof e=="string"?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test(typeof e=="string"?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof e=="string"?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test(typeof e=="string"?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test(typeof e=="string"?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test(typeof e=="string"?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof e=="string"?e:e.nodeName)},isFigures:function(e){return e&&(this.isMedia(e)||/^(FIGURE)$/i.test(typeof e=="string"?e:e.nodeName))},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let n=(e+"").match(/-?\d+(\.\d+)?/);return!n||!n[0]?0:(n=n[0],t<0?n*1:t===0?this._w.Math.round(n*1):(n*1).toFixed(t)*1)},getListChildren:function(e,t){let n=[];return!e||!e.children||e.children.length===0||(t=t||function(){return!0},function i(s){if(e!==s&&t(s)&&n.push(s),s.children)for(let l=0,c=s.children.length;l<c;l++)i(s.children[l])}(e)),n},getListChildNodes:function(e,t){let n=[];return!e||e.childNodes.length===0||(t=t||function(){return!0},function i(s){e!==s&&t(s)&&n.push(s);for(let l=0,c=s.childNodes.length;l<c;l++)i(s.childNodes[l])}(e)),n},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let n=e,i=t;for(;n&&i&&n.parentNode!==i.parentNode;)n=n.parentNode,i=i.parentNode;if(!n||!i)return{ancestor:null,a:e,b:t,result:0};let s=n.parentNode.childNodes,l=this.getArrayIndex(s,n),c=this.getArrayIndex(s,i);return{ancestor:n.parentNode,a:n,b:i,result:l>c?1:l<c?-1:0}},getParentElement:function(e,t){let n;if(typeof t=="function")n=t;else{let i;/^\./.test(t)?(i="className",t=t.split(".")[1]):/^#/.test(t)?(i="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(i="name",t="^"+t.split(":")[1]+"$"):(i="nodeName",t="^"+t+"$");let s=new this._w.RegExp(t,"i");n=function(l){return s.test(l[i])}}for(;e&&!n(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getPreviousDeepestNode:function(e,t){let n=e.previousSibling;if(!n){for(let i=e.parentNode;i;i=i.parentNode){if(i===t)return null;if(i.previousSibling){n=i.previousSibling;break}}if(!n)return null}for(;n.lastChild;)n=n.lastChild;return n},getNextDeepestNode:function(e,t){let n=e.nextSibling;if(!n){for(let i=e.parentNode;i;i=i.parentNode){if(i===t)return null;if(i.nextSibling){n=i.nextSibling;break}}if(!n)return null}for(;n.firstChild;)n=n.firstChild;return n},getChildElement:function(e,t,n){let i;if(typeof t=="function")i=t;else{let l;/^\./.test(t)?(l="className",t=t.split(".")[1]):/^#/.test(t)?(l="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(l="name",t="^"+t.split(":")[1]+"$"):(l="nodeName",t="^"+(t==="text"?"#"+t:t)+"$");let c=new this._w.RegExp(t,"i");i=function(h){return c.test(h[l])}}let s=this.getListChildNodes(e,function(l){return i(l)});return s[n?s.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let n=0,i=0,s=e.nodeType===3?e.parentElement:e,l=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==l;)n+=s.offsetLeft,i+=s.offsetTop,s=s.offsetParent;let c=t&&/iframe/i.test(t.nodeName);return{left:n+(c?t.parentElement.offsetLeft:0),top:i-(l?l.scrollTop:0)+(c?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,n,i){if(e<=i?t<n:t>n)return 0;let s=(e>n?e:n)-(t<i?t:i);return(s<0?s*-1:s)+1},changeTxt:function(e,t){!e||!t||(e.textContent=t)},changeElement:function(e,t){if(typeof t=="string")if(e.outerHTML)e.outerHTML=t;else{let n=this.createElement("DIV");n.innerHTML=t,t=n.firstChild,e.parentNode.replaceChild(t,e)}else t.nodeType===1&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,n){e.style[t]=n,!n&&!e.style.cssText&&e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){!e||new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t)},removeClass:function(e,t){if(!e)return;let n=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;let n=!1,i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");return i.test(e.className)?e.className=e.className.replace(i," ").trim():(e.className+=" "+t,n=!0),e.className.trim()||e.removeAttribute("class"),n},isImportantDisabled:function(e){return e.hasAttribute("data-important-disabled")},setDisabledButtons:function(e,t,n){for(let i=0,s=t.length;i<s;i++){let l=t[i];(n||!this.isImportantDisabled(l))&&(l.disabled=e),n&&(e?l.setAttribute("data-important-disabled",""):l.removeAttribute("data-important-disabled"))}},removeItem:function(e){e&&(typeof e.remove=="function"?e.remove():e.parentNode&&e.parentNode.removeChild(e))},removeItemAllParents:function(e,t,n){if(!e)return null;let i=null;return t||(t=(function(s){if(s===n||this.isComponent(s))return!1;let l=s.textContent.trim();return l.length===0||/^(\n|\u200B)+$/.test(l)}).bind(this)),function s(l){if(!si.isWysiwygDiv(l)){let c=l.parentNode;c&&t(l)&&(i={sc:l.previousElementSibling,ec:l.nextElementSibling},si.removeItem(l),s(c))}}(e),i},detachNestedList:function(e,t){let n=this._deleteNestedList(e),i,s;if(n){i=n.cloneNode(!1),s=n.childNodes;let c=this.getPositionIndex(e);for(;s[c];)i.appendChild(s[c])}else i=e;let l;if(t)l=this.getListChildren(i,(function(c){return this.isListCell(c)&&!c.previousElementSibling}).bind(this));else{let c=this.getElementDepth(e)+2;l=this.getListChildren(e,(function(h){return this.isListCell(h)&&!h.previousElementSibling&&this.getElementDepth(h)===c}).bind(this))}for(let c=0,h=l.length;c<h;c++)this._deleteNestedList(l[c]);return n&&(n.parentNode.insertBefore(i,n.nextSibling),s&&s.length===0&&this.removeItem(n)),i===e?i.parentNode:i},_deleteNestedList:function(e){let t=e.parentNode,n=t,i=n.parentNode,s,l,c,h,o;for(;this.isListCell(i);){for(h=this.getPositionIndex(e),s=i.nextElementSibling,l=i.parentNode,c=n;c;){if(n=n.nextSibling,this.isList(c)){for(o=c.childNodes;o[h];)l.insertBefore(o[h],s);o.length===0&&this.removeItem(c)}else l.appendChild(c);c=n}n=l,i=l.parentNode}return t.children.length===0&&this.removeItem(t),l},splitElement:function(e,t,n){if(this.isWysiwygDiv(e))return e;if(t&&!this.isNumber(t)){let k=e.childNodes,M=this.getPositionIndex(t),I=e.cloneNode(!1),P=e.cloneNode(!1);for(let a=0,r=k.length;a<r;a++){if(a<M)I.appendChild(k[a]);else if(a>M)P.appendChild(k[a]);else continue;a--,r--,M--}return I.childNodes.length>0&&e.parentNode.insertBefore(I,e),P.childNodes.length>0&&e.parentNode.insertBefore(P,e.nextElementSibling),e}let i=e.parentNode,s=0,l=1,c=!0,h,o,_;if((!n||n<0)&&(n=0),e.nodeType===3){if(s=this.getPositionIndex(e),t>=0&&e.length!==t){e.splitText(t);let k=this.getNodeFromPath([s+1],i);this.onlyZeroWidthSpace(k)&&(k.data=this.zeroWidthSpace)}}else if(e.nodeType===1){if(t===0){for(;e.firstChild;)e=e.firstChild;if(e.nodeType===3){let k=this.createTextNode(this.zeroWidthSpace);e.parentNode.insertBefore(k,e),e=k}}e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===n&&(c=!1)}e.nodeType===1&&(l=0);let u=e;for(;this.getElementDepth(u)>n;)for(s=this.getPositionIndex(u)+l,u=u.parentNode,_=h,h=u.cloneNode(!1),o=u.childNodes,_&&(this.isListCell(h)&&this.isList(_)&&_.firstElementChild?(h.innerHTML=_.firstElementChild.innerHTML,si.removeItem(_.firstElementChild),_.children.length>0&&h.appendChild(_)):h.appendChild(_));o[s];)h.appendChild(o[s]);u.childNodes.length<=1&&(!u.firstChild||u.firstChild.textContent.length===0)&&(u.innerHTML="<br>");let g=u.parentNode;return c&&(u=u.nextSibling),h?(this.mergeSameTags(h,null,!1),this.mergeNestedTags(h,(function(k){return this.isList(k)}).bind(this)),h.childNodes.length>0?g.insertBefore(h,u):h=u,this.isListCell(h)&&h.children&&this.isList(h.children[0])&&h.insertBefore(this.createElement("BR"),h.children[0]),i.childNodes.length===0&&this.removeItem(i),h):u},mergeSameTags:function(e,t,n){let i=this,s=t?t.length:0,l=null;return s&&(l=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),function c(h,o,_){let u=h.childNodes;for(let g=0,k=u.length,M,I;g<k&&(M=u[g],I=u[g+1],!!M);g++)if(!(i.isBreak(M)||i.isMedia(M)||i.isInputElement(M))){if(n&&i._isIgnoreNodeChange(M)||!n&&(i.isTable(M)||i.isListCell(M)||i.isFormatElement(M)&&!i.isFreeFormatElement(M))){(i.isTable(M)||i.isListCell(M))&&c(M,o+1,g);continue}if(k===1&&h.nodeName===M.nodeName&&h.parentNode){if(s){let P,a,r,d,p;for(let m=0;m<s;m++)if(P=t[m],P&&P[o]===g){for(a=M,r=h,d=o,p=!0;d>=0;){if(i.getArrayIndex(r.childNodes,a)!==P[d]){p=!1;break}a=M.parentNode,r=a.parentNode,d--}p&&(P.splice(o,1),P[o]=g)}}i.copyTagAttributes(M,h),h.parentNode.insertBefore(M,h),i.removeItem(h)}if(!I){M.nodeType===1&&c(M,o+1,g);break}if(M.nodeName===I.nodeName&&i.isSameAttributes(M,I)&&M.href===I.href){let P=M.childNodes,a=0;for(let m=0,b=P.length;m<b;m++)P[m].textContent.length>0&&a++;let r=M.lastChild,d=I.firstChild,p=0;if(r&&d){let m=r.nodeType===3&&d.nodeType===3;p=r.textContent.length;let b=r.previousSibling;for(;b&&b.nodeType===3;)p+=b.textContent.length,b=b.previousSibling;if(a>0&&r.nodeType===3&&d.nodeType===3&&(r.textContent.length>0||d.textContent.length>0)&&a--,s){let f=null;for(let v=0;v<s;v++)if(f=t[v],f&&f[o]>g){if(o>0&&f[o-1]!==_)continue;f[o]-=1,f[o+1]>=0&&f[o]===g&&(f[o+1]+=a,m&&r&&r.nodeType===3&&d&&d.nodeType===3&&(l[v]+=p))}}}if(M.nodeType===3){if(p=M.textContent.length,M.textContent+=I.textContent,s){let m=null;for(let b=0;b<s;b++)if(m=t[b],m&&m[o]>g){if(o>0&&m[o-1]!==_)continue;m[o]-=1,m[o+1]>=0&&m[o]===g&&(m[o+1]+=a,l[b]+=p)}}}else M.innerHTML+=I.innerHTML;i.removeItem(I),g--}else M.nodeType===1&&c(M,o+1,g)}}(e,0,0),l},mergeNestedTags:function(e,t){typeof t=="string"?t=(function(n){return this.test(n.tagName)}).bind(new this._w.RegExp("^("+(t||".+")+")$","i")):typeof t!="function"&&(t=function(){return!0}),function n(i){let s=i.children;if(s.length===1&&s[0].nodeName===i.nodeName&&t(i)){let l=s[0];for(s=l.children;s[0];)i.appendChild(s[0]);i.removeChild(l)}for(let l=0,c=i.children.length;l<c;l++)n(i.children[l])}(e)},removeEmptyNode:function(e,t,n){let i=this;t&&(t=i.getParentElement(t,function(s){return e===s.parentElement})),function s(l){if(i._notTextNode(l)||l===t||i.isNonEditable(l))return 0;if(l!==e&&i.onlyZeroWidthSpace(l.textContent)&&(!l.firstChild||!i.isBreak(l.firstChild))&&!l.querySelector(i._allowedEmptyNodeList)){if(l.parentNode)return l.parentNode.removeChild(l),-1}else{let c=l.children;for(let h=0,o=c.length,_=0;h<o;h++)!c[h+_]||i.isComponent(c[h+_])||(_+=s(c[h+_]))}return 0}(e),e.childNodes.length===0&&(n?this.removeItem(e):e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(t){return t.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(e){return e.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(e,t){let n=t?1:-1,i=n*-1;e.sort((function(s,l){return!this.isListCell(s)||!this.isListCell(l)?0:(s=this.getElementDepth(s),l=this.getElementDepth(l),s>l?n:s<l?i:0)}).bind(this))},escapeStringRegexp:function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(e){return!/FIGCAPTION/i.test(e.nodeName)&&(this.isComponent(e)||/FIGURE/i.test(e.nodeName))},_isIgnoreNodeChange:function(e){return e&&e.nodeType!==3&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&e.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof e=="string"?e:e.nodeName)},_isSizeNode:function(e){return e&&e.nodeType!==3&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&e.nodeType!==3&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof e=="string"?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){return new RegExp("<\\/?\\b(?!\\b"+(e||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(e){return new RegExp("<\\/?\\b(?:\\b"+(e||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(e,t,n,i,s){let l=[],c=[],h=[],o=[],_=this.getListChildNodes(e,(function(g){if(g.nodeType!==1)return this.isList(g.parentElement)&&l.push(g),!1;if(n.test(g.nodeName)||!t.test(g.nodeName)&&g.childNodes.length===0&&this.isNotCheckingNode(g))return l.push(g),!1;let k=!this.getParentElement(g,this.isNotCheckingNode);if(!this.isTable(g)&&!this.isListCell(g)&&!this.isAnchor(g)&&(this.isFormatElement(g)||this.isRangeFormatElement(g)||this.isTextStyleElement(g))&&g.childNodes.length===0&&k)return c.push(g),!1;if(this.isList(g.parentNode)&&!this.isList(g)&&!this.isListCell(g))return h.push(g),!1;if(this.isCell(g)){let I=g.firstElementChild;if(!this.isFormatElement(I)&&!this.isRangeFormatElement(I)&&!this.isComponent(I))return o.push(g),!1}if(k&&g.className){let I=new this._w.Array(g.classList).map(i).join(" ").trim();I?g.className=I:g.removeAttribute("class")}return s&&g.parentNode!==e&&k&&(this.isListCell(g)&&!this.isList(g.parentNode)||(this.isFormatElement(g)||this.isComponent(g))&&!this.isRangeFormatElement(g.parentNode)&&!this.getParentElement(g,this.isComponent))}).bind(this));for(let g=0,k=l.length;g<k;g++)this.removeItem(l[g]);let u=[];for(let g=0,k=_.length,M,I;g<k;g++)if(M=_[g],I=M.parentNode,!(!I||!I.parentNode))if(this.getParentElement(M,this.isListCell)){let P=M.childNodes;for(let a=P.length-1;k>=0;a--)I.insertBefore(M,P[a]);u.push(M)}else I.parentNode.insertBefore(M,I),u.push(I);for(let g=0,k=u.length,M;g<k;g++)M=u[g],this.onlyZeroWidthSpace(M.textContent.trim())&&this.removeItem(M);for(let g=0,k=c.length;g<k;g++)this.removeItem(c[g]);for(let g=0,k=h.length,M,I,P,a;g<k;g++)if(M=h[g],a=M.parentNode,!!a)if(I=this.createElement("LI"),this.isFormatElement(M)){for(P=M.childNodes;P[0];)I.appendChild(P[0]);a.insertBefore(I,M),this.removeItem(M)}else M=M.nextSibling,I.appendChild(h[g]),a.insertBefore(I,M);for(let g=0,k=o.length,M,I;g<k;g++)M=o[g],I=this.createElement("DIV"),I.innerHTML=M.textContent.trim().length===0&&M.children.length===0?"<br>":M.innerHTML,M.innerHTML=I.outerHTML},_setDefaultOptionStyle:function(e,t){let n="";e.height&&(n+="height:"+e.height+";"),e.minHeight&&(n+="min-height:"+e.minHeight+";"),e.maxHeight&&(n+="max-height:"+e.maxHeight+";"),e.position&&(n+="position:"+e.position+";"),e.width&&(n+="width:"+e.width+";"),e.minWidth&&(n+="min-width:"+e.minWidth+";"),e.maxWidth&&(n+="max-width:"+e.maxWidth+";");let i="",s="",l="";t=n+t;let c=t.split(";");for(let h=0,o=c.length,_;h<o;h++)if(_=c[h].trim(),!!_){if(/^(min-|max-)?width\s*:/.test(_)||/^(z-index|position)\s*:/.test(_)){i+=_+";";continue}if(/^(min-|max-)?height\s*:/.test(_)){/^height/.test(_)&&_.split(":")[1].trim()==="auto"&&(e.height="auto"),s+=_+";";continue}l+=_+";"}return{top:i,frame:s,editor:l}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(t),e.contentDocument.body.className=t._editableClass,e.contentDocument.body.setAttribute("contenteditable",!0),e.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(e){let t=e.iframeCSSFileName,n=this._w.RegExp,i="";for(let s=0,l=t.length,c;s<l;s++){if(c=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[s]))c.push(t[s]);else{let h=new n("(^|.*[\\/])"+t[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let o=document.getElementsByTagName("link"),_=0,u=o.length,g;_<u;_++)g=o[_].href.match(h),g&&c.push(g[0])}if(!c||c.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let h=0,o=c.length;h<o;h++)i+='<link href="'+c[h]+'" rel="stylesheet">'}return i+(e.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},ke=si;var fi={init:function(e,t){typeof t!="object"&&(t={});let n=document;this._initOptions(e,t);let i=n.createElement("DIV");i.className="sun-editor"+(t.rtl?" se-rtl":""),e.id&&(i.id="suneditor_"+e.id);let s=n.createElement("DIV");s.className="se-container";let l=this._createToolBar(n,t.buttonList,t.plugins,t),c=l.element.cloneNode(!1);c.className+=" se-toolbar-shadow",l.element.style.visibility="hidden",l.pluginCallButtons.math&&this._checkKatexMath(t.katex);let h=n.createElement("DIV");h.className="se-arrow";let o=n.createElement("DIV");o.className="se-toolbar-sticky-dummy";let _=n.createElement("DIV");_.className="se-wrapper";let u=this._initElements(t,i,l.element,h),g=u.bottomBar,k=u.wysiwygFrame,M=u.placeholder,I=u.codeView,P=g.resizingBar,a=g.navigation,r=g.charWrapper,d=g.charCounter,p=n.createElement("DIV");p.className="se-loading-box sun-editor-common",p.innerHTML='<div class="se-loading-effect"></div>';let m=n.createElement("DIV");m.className="se-line-breaker",m.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";let b=n.createElement("DIV");b.className+="se-line-breaker-component";let f=b.cloneNode(!0);b.innerHTML=f.innerHTML=t.icons.line_break;let v=n.createElement("DIV");v.className="se-resizing-back";let x=n.createElement("INPUT");x.tabIndex=-1,x.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";let C=t.toolbarContainer;C&&(C.appendChild(l.element),C.appendChild(c));let S=t.resizingBarContainer;return P&&S&&S.appendChild(P),_.appendChild(I),M&&_.appendChild(M),C||(s.appendChild(l.element),s.appendChild(c)),s.appendChild(o),s.appendChild(_),s.appendChild(v),s.appendChild(p),s.appendChild(m),s.appendChild(b),s.appendChild(f),s.appendChild(x),P&&!S&&s.appendChild(P),i.appendChild(s),I=this._checkCodeMirror(t,I),{constructed:{_top:i,_relative:s,_toolBar:l.element,_toolbarShadow:c,_menuTray:l._menuTray,_editorArea:_,_wysiwygArea:k,_codeArea:I,_placeholder:M,_resizingBar:P,_navigation:a,_charWrapper:r,_charCounter:d,_loading:p,_lineBreaker:m,_lineBreaker_t:b,_lineBreaker_b:f,_resizeBack:v,_stickyDummy:o,_arrow:h,_focusTemp:x},options:t,plugins:l.plugins,pluginCallButtons:l.pluginCallButtons,_responsiveButtons:l.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){let n=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce(function(s,l){for(let c in l)ke.hasOwn(l,c)&&(s[c]=l[c]);return s},{});e.height==="auto"&&(n.viewportMargin=1/0,n.height="auto");let i=e.codeMirror.src.fromTextArea(t,n);i.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=i,t=i.display.wrapper,t.className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');let t=[{throwOnError:!1},e.options||{}].reduce(function(n,i){for(let s in i)ke.hasOwn(i,s)&&(n[s]=i[s]);return n},{});e.options=t},_setOptions:function(e,t,n){this._initOptions(t.element.originElement,e);let i=t.element,s=i.relative,l=i.editorArea,c=e.toolbarContainer&&e.toolbarContainer!==n.toolbarContainer,h=e.lang!==n.lang||e.buttonList!==n.buttonList||e.mode!==n.mode||c,o=this._createToolBar(document,h?e.buttonList:n.buttonList,e.plugins,e);o.pluginCallButtons.math&&this._checkKatexMath(e.katex);let _=document.createElement("DIV");_.className="se-arrow",h&&(o.element.style.visibility="hidden",c?(e.toolbarContainer.appendChild(o.element),i.toolbar.parentElement.removeChild(i.toolbar)):i.toolbar.parentElement.replaceChild(o.element,i.toolbar),i.toolbar=o.element,i._menuTray=o._menuTray,i._arrow=_);let u=this._initElements(e,i.topArea,h?o.element:i.toolbar,_),g=u.bottomBar,k=u.wysiwygFrame,M=u.placeholder,I=u.codeView;return i.resizingBar&&ke.removeItem(i.resizingBar),g.resizingBar&&(e.resizingBarContainer&&e.resizingBarContainer!==n.resizingBarContainer?e.resizingBarContainer.appendChild(g.resizingBar):s.appendChild(g.resizingBar)),l.innerHTML="",l.appendChild(I),M&&l.appendChild(M),I=this._checkCodeMirror(e,I),i.resizingBar=g.resizingBar,i.navigation=g.navigation,i.charWrapper=g.charWrapper,i.charCounter=g.charCounter,i.wysiwygFrame=k,i.code=I,i.placeholder=M,e.rtl?ke.addClass(i.topArea,"se-rtl"):ke.removeClass(i.topArea,"se-rtl"),{callButtons:o.pluginCallButtons,plugins:o.plugins,toolbar:o}},_initElements:function(e,t,n,i){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(n.className+=" se-toolbar-inline",n.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(n.className+=" se-toolbar-balloon",n.style.width=e.toolbarWidth,n.appendChild(i));let s=document.createElement(e.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=e._editorStyles.frame,s.className+=e.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("autocorrect","off"),s.setAttribute("scrolling","auto");for(let g in e.iframeAttributes)s.setAttribute(g,e.iframeAttributes[g]);s.className+=" "+e._editableClass,s.style.cssText=e._editorStyles.frame+e._editorStyles.editor,s.className+=e.className}let l=document.createElement("TEXTAREA");l.className="se-wrapper-inner se-wrapper-code"+e.className,l.style.cssText=e._editorStyles.frame,l.style.display="none",e.height==="auto"&&(l.style.overflow="hidden");let c=null,h=null,o=null,_=null;if(e.resizingBar&&(c=document.createElement("DIV"),c.className="se-resizing-bar sun-editor-common",h=document.createElement("DIV"),h.className="se-navigation sun-editor-common",c.appendChild(h),e.charCounter)){if(o=document.createElement("DIV"),o.className="se-char-counter-wrapper",e.charCounterLabel){let g=document.createElement("SPAN");g.className="se-char-label",g.textContent=e.charCounterLabel,o.appendChild(g)}if(_=document.createElement("SPAN"),_.className="se-char-counter",_.textContent="0",o.appendChild(_),e.maxCharCount>0){let g=document.createElement("SPAN");g.textContent=" / "+e.maxCharCount,o.appendChild(g)}c.appendChild(o)}let u=null;return e.placeholder&&(u=document.createElement("SPAN"),u.className="se-placeholder",u.innerText=e.placeholder),{bottomBar:{resizingBar:c,navigation:h,charWrapper:o,charCounter:_},wysiwygFrame:s,codeView:l,placeholder:u}},_initOptions:function(e,t){let n={};if(t.plugins){let l=t.plugins,c=l.length?l:Object.keys(l).map(function(h){return l[h]});for(let h=0,o=c.length,_;h<o;h++)_=c[h].default||c[h],n[_.name]=_}t.plugins=n,t.strictMode=t.strictMode!==!1,t.strictHTMLValidation=t.strictHTMLValidation!==!1,t.lang=t.lang||wo.default,t.value=typeof t.value=="string"?t.value:null,t.allowedClassNames=new ke._w.RegExp((t.allowedClassNames&&typeof t.allowedClassNames=="string"?t.allowedClassNames+"|":"")+"^__se__|se-|katex"),t.historyStackDelayTime=typeof t.historyStackDelayTime=="number"?t.historyStackDelayTime:400,t.frameAttrbutes=t.frameAttrbutes||{},t.defaultTag=typeof t.defaultTag=="string"&&t.defaultTag.length>0?t.defaultTag:"p";let i=t.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},t.textTags||{}].reduce(function(l,c){for(let h in c)l[h]=c[h];return l},{});t._textTagsMap={strong:i.bold.toLowerCase(),b:i.bold.toLowerCase(),u:i.underline.toLowerCase(),ins:i.underline.toLowerCase(),em:i.italic.toLowerCase(),i:i.italic.toLowerCase(),del:i.strike.toLowerCase(),strike:i.strike.toLowerCase(),s:i.strike.toLowerCase(),sub:i.sub.toLowerCase(),sup:i.sup.toLowerCase()},t._defaultCommand={bold:t.textTags.bold,underline:t.textTags.underline,italic:t.textTags.italic,strike:t.textTags.strike,subscript:t.textTags.sub,superscript:t.textTags.sup},t.__allowedScriptTag=t.__allowedScriptTag===!0;let s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";t.tagsBlacklist=t.tagsBlacklist||"",t._defaultTagsWhitelist=(typeof t._defaultTagsWhitelist=="string"?t._defaultTagsWhitelist:s)+(t.__allowedScriptTag?"|script":""),t._editorTagsWhitelist=t.addTagsWhitelist==="*"?"*":this._setWhitelist(t._defaultTagsWhitelist+(typeof t.addTagsWhitelist=="string"&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.tagsBlacklist),t.pasteTagsBlacklist=t.tagsBlacklist+(t.tagsBlacklist&&t.pasteTagsBlacklist?"|"+t.pasteTagsBlacklist:t.pasteTagsBlacklist||""),t.pasteTagsWhitelist=t.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof t.pasteTagsWhitelist=="string"?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.pasteTagsBlacklist),t.attributesWhitelist=!t.attributesWhitelist||typeof t.attributesWhitelist!="object"?null:t.attributesWhitelist,t.attributesBlacklist=!t.attributesBlacklist||typeof t.attributesBlacklist!="object"?null:t.attributesBlacklist,t.mode=t.mode||"classic",t.rtl=!!t.rtl,t.lineAttrReset=["id"].concat(t.lineAttrReset&&typeof t.lineAttrReset=="string"?t.lineAttrReset.toLowerCase().split("|"):[]),t._editableClass="sun-editor-editable"+(t.rtl?" se-rtl":""),t._printClass=typeof t._printClass=="string"?t._printClass:null,t.toolbarWidth=t.toolbarWidth?ke.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer=typeof t.toolbarContainer=="string"?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:t.stickyToolbar===void 0?0:/^\d+/.test(t.stickyToolbar)?ke.getNumber(t.stickyToolbar,0):-1,t.hideToolbar=!!t.hideToolbar,t.fullScreenOffset=t.fullScreenOffset===void 0?0:/^\d+/.test(t.fullScreenOffset)?ke.getNumber(t.fullScreenOffset,0):0,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||!!t.iframe,t.iframeAttributes=t.iframeAttributes||{},t.iframeCSSFileName=t.iframe?typeof t.iframeCSSFileName=="string"?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.previewTemplate=typeof t.previewTemplate=="string"?t.previewTemplate:null,t.printTemplate=typeof t.printTemplate=="string"?t.printTemplate:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.mathFontSize=t.mathFontSize?t.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],t.position=typeof t.position=="string"?t.position:null,t.display=t.display||(e.style.display==="none"||!e.style.display?"block":e.style.display),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=t.resizingBar===void 0?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=t.resizingBar?typeof t.showPathLabel=="boolean"?t.showPathLabel:!0:!1,t.resizeEnable=t.resizeEnable===void 0?!0:!!t.resizeEnable,t.resizingBarContainer=typeof t.resizingBarContainer=="string"?document.querySelector(t.resizingBarContainer):t.resizingBarContainer,t.charCounter=t.maxCharCount>0?!0:typeof t.charCounter=="boolean"?t.charCounter:!1,t.charCounterType=typeof t.charCounterType=="string"?t.charCounterType:"char",t.charCounterLabel=typeof t.charCounterLabel=="string"?t.charCounterLabel.trim():null,t.maxCharCount=ke.isNumber(t.maxCharCount)&&t.maxCharCount>-1?t.maxCharCount*1:null,t.width=t.width?ke.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(ke.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(ke.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?ke.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(ke.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(ke.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.className=typeof t.className=="string"&&t.className.length>0?" "+t.className:"",t.defaultStyle=typeof t.defaultStyle=="string"?t.defaultStyle:"",t.font=t.font?t.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit=typeof t.fontSizeUnit=="string"&&t.fontSizeUnit.trim().toLowerCase()||"px",t.alignItems=typeof t.alignItems=="object"?t.alignItems:t.rtl?["right","center","left","justify"]:["left","center","right","justify"],t.imageResizing=t.imageResizing===void 0?!0:t.imageResizing,t.imageHeightShow=t.imageHeightShow===void 0?!0:!!t.imageHeightShow,t.imageAlignShow=t.imageAlignShow===void 0?!0:!!t.imageAlignShow,t.imageWidth=t.imageWidth?ke.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?ke.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=t.imageRotation!==void 0?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=t.imageFileInput===void 0?!0:t.imageFileInput,t.imageUrlInput=t.imageUrlInput===void 0||!t.imageFileInput?!0:t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl=typeof t.imageUploadUrl=="string"?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?ke.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept=typeof t.imageAccept!="string"||t.imageAccept.trim()==="*"?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryData=t.imageGalleryData||null,t.imageGalleryUrl=typeof t.imageGalleryUrl=="string"?t.imageGalleryUrl:null,t.imageGalleryHeader=t.imageGalleryHeader||null,t.videoResizing=t.videoResizing===void 0?!0:t.videoResizing,t.videoHeightShow=t.videoHeightShow===void 0?!0:!!t.videoHeightShow,t.videoAlignShow=t.videoAlignShow===void 0?!0:!!t.videoAlignShow,t.videoRatioShow=t.videoRatioShow===void 0?!0:!!t.videoRatioShow,t.videoWidth=!t.videoWidth||!ke.getNumber(t.videoWidth,0)?"":ke.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth,t.videoHeight=!t.videoHeight||!ke.getNumber(t.videoHeight,0)?"":ke.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight,t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=t.videoRotation!==void 0?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=ke.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.vimeoQuery=(t.vimeoQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=t.videoUrlInput===void 0||!t.videoFileInput?!0:t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl=typeof t.videoUploadUrl=="string"?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?ke.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept=typeof t.videoAccept!="string"||t.videoAccept.trim()==="*"?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?ke.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?ke.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=t.audioUrlInput===void 0||!t.audioFileInput?!0:t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl=typeof t.audioUploadUrl=="string"?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?ke.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept=typeof t.audioAccept!="string"||t.audioAccept.trim()==="*"?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition=typeof t.tableCellControllerPosition=="string"?t.tableCellControllerPosition.toLowerCase():"cell",t.linkTargetNewWindow=!!t.linkTargetNewWindow,t.linkProtocol=typeof t.linkProtocol=="string"?t.linkProtocol:null,t.linkRel=Array.isArray(t.linkRel)?t.linkRel:[],t.linkRelDefault=t.linkRelDefault||{},t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)?t.shortcutsDisable:[],t.shortcutsHint=t.shortcutsHint===void 0?!0:!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder=typeof t.placeholder=="string"?t.placeholder:null,t.mediaAutoSelect=t.mediaAutoSelect===void 0?!0:!!t.mediaAutoSelect,t.buttonList=t.buttonList?t.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.rtl&&(t.buttonList=t.buttonList.reverse()),t.icons=!t.icons||typeof t.icons!="object"?Gn:[Gn,t.icons].reduce(function(l,c){for(let h in c)ke.hasOwn(c,h)&&(l[h]=c[h]);return l},{}),t.icons=t.rtl?[t.icons,t.icons.rtl].reduce(function(l,c){for(let h in c)ke.hasOwn(c,h)&&(l[h]=c[h]);return l},{}):t.icons,t.__listCommonStyle=t.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],t._editorStyles=ke._setDefaultOptionStyle(t,t.defaultStyle)},_setWhitelist:function(e,t){if(typeof t!="string")return e;t=t.split("|"),e=e.split("|");for(let n=0,i=t.length,s;n<i;n++)s=e.indexOf(t[n]),s>-1&&e.splice(s,1);return e.join("|")},_defaultButtons:function(e){let t=e.icons,n=e.lang,i=ke.isOSX_IOS?"\u2318":"CTRL",s=ke.isOSX_IOS?"\u21E7":"+SHIFT",l=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],c=e.rtl?["[","]"]:["]","["],h=e.rtl?[t.outdent,t.indent]:[t.indent,t.outdent];return{bold:["",n.toolbar.bold+'<span class="se-shortcut">'+(l.indexOf("bold")>-1?"":i+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",t.bold],underline:["",n.toolbar.underline+'<span class="se-shortcut">'+(l.indexOf("underline")>-1?"":i+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",t.underline],italic:["",n.toolbar.italic+'<span class="se-shortcut">'+(l.indexOf("italic")>-1?"":i+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",t.italic],strike:["",n.toolbar.strike+'<span class="se-shortcut">'+(l.indexOf("strike")>-1?"":i+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",t.strike],subscript:["",n.toolbar.subscript,"SUB","",t.subscript],superscript:["",n.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",n.toolbar.removeFormat,"removeFormat","",t.erase],indent:["",n.toolbar.indent+'<span class="se-shortcut">'+(l.indexOf("indent")>-1?"":i+'+<span class="se-shortcut-key">'+c[0]+"</span>")+"</span>","indent","",h[0]],outdent:["",n.toolbar.outdent+'<span class="se-shortcut">'+(l.indexOf("indent")>-1?"":i+'+<span class="se-shortcut-key">'+c[1]+"</span>")+"</span>","outdent","",h[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",n.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["",n.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",n.toolbar.codeView,"codeView","",t.code_view],undo:["",n.toolbar.undo+'<span class="se-shortcut">'+(l.indexOf("undo")>-1?"":i+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",t.undo],redo:["",n.toolbar.redo+'<span class="se-shortcut">'+(l.indexOf("undo")>-1?"":i+'+<span class="se-shortcut-key">Y</span> / '+i+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",t.redo],preview:["se-resizing-enabled",n.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",n.toolbar.print,"print","",t.print],dir:["",n.toolbar[e.rtl?"dir_ltr":"dir_rtl"],"dir","",t[e.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",n.toolbar.dir_ltr,"dir_ltr","",t.dir_ltr],dir_rtl:["",n.toolbar.dir_rtl,"dir_rtl","",t.dir_rtl],save:["se-resizing-enabled",n.toolbar.save+'<span class="se-shortcut">'+(l.indexOf("save")>-1?"":i+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",t.save],blockquote:["",n.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",n.toolbar.font,"font","submenu",'<span class="txt">'+n.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",n.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+n.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",n.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+n.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",n.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",n.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",n.toolbar.align,"align","submenu",e.rtl?t.align_right:t.align_left],list:["",n.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",n.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",n.toolbar.table,"table","submenu",t.table],lineHeight:["",n.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",n.toolbar.template,"template","submenu",t.template],paragraphStyle:["",n.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",n.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",n.toolbar.link,"link","dialog",t.link],image:["",n.toolbar.image,"image","dialog",t.image],video:["",n.toolbar.video,"video","dialog",t.video],audio:["",n.toolbar.audio,"audio","dialog",t.audio],math:["",n.toolbar.math,"math","dialog",t.math],imageGallery:["",n.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){let e=ke.createElement("DIV");e.className="se-btn-module se-btn-module-border";let t=ke.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,n,i,s,l,c){let h=ke.createElement("LI"),o=ke.createElement("BUTTON"),_=t||n;return o.setAttribute("type","button"),o.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),o.setAttribute("data-command",n),o.setAttribute("data-display",i),o.setAttribute("aria-label",_.replace(/<span .+<\/span>/,"")),o.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=c[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),o.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+_+"</span></span>",l&&o.setAttribute("disabled",!0),o.innerHTML=s,h.appendChild(o),{li:h,button:o}},_createToolBar:function(e,t,n,i){let s=e.createElement("DIV");s.className="se-toolbar-separator-vertical";let l=e.createElement("DIV");l.className="se-toolbar sun-editor-common";let c=e.createElement("DIV");c.className="se-btn-tray",l.appendChild(c),t=JSON.parse(JSON.stringify(t));let h=i.icons,o=this._defaultButtons(i),_={},u=[],g=null,k=null,M=null,I=null,P="",a=!1,r=ke.createElement("DIV");r.className="se-toolbar-more-layer";e:for(let m=0,b,f,v,x,C;m<t.length;m++)if(b=!1,C="",x=t[m],M=this._createModuleGroup(),typeof x=="object"){for(let S=0,R;S<x.length;S++){if(k=x[S],R=!1,/^\%\d+/.test(k)&&S===0){x[0]=k.replace(/[^\d]/g,""),u.push(x),t.splice(m--,1);continue e}if(typeof k=="object")typeof k.add=="function"?(P=k.name,g=o[P],n[P]=k):(P=k.name,g=[k.buttonClass,k.title,k.name,k.dataDisplay,k.innerHTML,k._disabled]);else{if(/^\-/.test(k)){C=k.substr(1),M.div.className+=" module-float-"+C;continue}if(/^\#/.test(k)){k.substr(1)==="fix"&&(M.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(k)){R=!0;let L=k.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);v="__se__"+L[1].trim();let F=L[2].trim(),V=L[3].trim();g=["se-btn-more",F,v,"MORE",V]}else g=o[k];if(P=k,!g){let L=n[P];if(!L)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+P+"]");g=[L.buttonClass,L.title,L.name,L.display,L.innerHTML,L._disabled]}}I=this._createButton(g[0],g[1],g[2],g[3],g[4],g[5],h),(b?f:M.ul).appendChild(I.li),n[P]&&(_[P]=I.button),R&&(b=!0,f=ke.createElement("DIV"),f.className="se-more-layer "+v,f.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(C?' style="float: '+C+';"':"")+"></ul></div>",r.appendChild(f),f=f.firstElementChild.firstElementChild)}if(a){let S=s.cloneNode(!1);c.appendChild(S)}c.appendChild(M.div),a=!0}else if(/^\/$/.test(x)){let S=e.createElement("DIV");S.className="se-btn-module-enter",c.appendChild(S),a=!1}switch(c.children.length){case 0:c.style.display="none";break;case 1:ke.removeClass(c.firstElementChild,"se-btn-module-border");break;default:if(i.rtl){let m=s.cloneNode(!1);m.style.float=c.lastElementChild.style.float,c.appendChild(m)}}u.length>0&&u.unshift(t),r.children.length>0&&c.appendChild(r);let d=e.createElement("DIV");d.className="se-menu-tray",l.appendChild(d);let p=e.createElement("DIV");return p.className="se-toolbar-cover",l.appendChild(p),i.hideToolbar&&(l.style.display="none"),{element:l,plugins:n,pluginCallButtons:_,responsiveButtons:u,_menuTray:d,_buttonTray:c}}};var bc=function(e,t,n){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_toolbarShadow:t._toolbarShadow,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow,_focusTemp:t._focusTemp},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector('[data-command="bold"]'),underline:t._toolBar.querySelector('[data-command="underline"]'),italic:t._toolBar.querySelector('[data-command="italic"]'),strike:t._toolBar.querySelector('[data-command="strike"]'),sub:t._toolBar.querySelector('[data-command="SUB"]'),sup:t._toolBar.querySelector('[data-command="SUP"]'),undo:t._toolBar.querySelector('[data-command="undo"]'),redo:t._toolBar.querySelector('[data-command="redo"]'),save:t._toolBar.querySelector('[data-command="save"]'),outdent:t._toolBar.querySelector('[data-command="outdent"]'),indent:t._toolBar.querySelector('[data-command="indent"]'),fullScreen:t._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:t._toolBar.querySelector('[data-command="showBlocks"]'),codeView:t._toolBar.querySelector('[data-command="codeView"]'),dir:t._toolBar.querySelector('[data-command="dir"]'),dir_ltr:t._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:t._toolBar.querySelector('[data-command="dir_rtl"]')},options:n,option:n}},gi=bc;function xo(e,t){let n=e._w,i=e.util,s=e.options.historyStackDelayTime,l=e.context.element,c=e.context.tool.undo,h=e.context.tool.redo,o=null,_=0,u=[];function g(){let M=u[_];l.wysiwyg.innerHTML=M.contents,e.setRange(i.getNodeFromPath(M.s.path,l.wysiwyg),M.s.offset,i.getNodeFromPath(M.e.path,l.wysiwyg),M.e.offset),e.focus(),u.length<=1?(c&&c.setAttribute("disabled",!0),h&&h.setAttribute("disabled",!0)):_===0?(c&&c.setAttribute("disabled",!0),h&&h.removeAttribute("disabled")):_===u.length-1?(c&&c.removeAttribute("disabled"),h&&h.setAttribute("disabled",!0)):(c&&c.removeAttribute("disabled"),h&&h.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function k(){e._checkComponents();let M=l.wysiwyg.innerHTML;if(!M||u[_]&&M===u[_].contents)return;_++;let I=e._variable._range;u.length>_&&(u=u.slice(0,_),h&&h.setAttribute("disabled",!0)),I?u[_]={contents:M,s:{path:i.getNodePath(I.startContainer,null,null),offset:I.startOffset},e:{path:i.getNodePath(I.endContainer,null,null),offset:I.endOffset}}:u[_]={contents:M,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},_===1&&c&&c.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:u,push:function(M){n.setTimeout(e._resourcesStateChange.bind(e));let I=typeof M=="number"?M>0?M:0:M?s:0;if((!I||o)&&(n.clearTimeout(o),!I)){k();return}o=n.setTimeout(function(){n.clearTimeout(o),o=null,k()},I)},undo:function(){_>0&&(_--,g())},redo:function(){u.length-1>_&&(_++,g())},go:function(M){_=M<0?u.length-1:M,g()},getCurrentIndex:function(){return _},reset:function(M){c&&c.setAttribute("disabled",!0),h&&h.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),u.splice(0),_=0,u[_]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},M||t()},_resetCachingButton:function(){l=e.context.element,c=e.context.tool.undo,h=e.context.tool.redo,_===0?(c&&c.setAttribute("disabled",!0),h&&_===u.length-1&&h.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):_===u.length-1&&h&&h.setAttribute("disabled",!0)},_destroy:function(){o&&n.clearTimeout(o),u=null}}}var Xn={name:"notice",add:function(e){let t=e.context;t.notice={};let n=e.util.createElement("DIV"),i=e.util.createElement("SPAN"),s=e.util.createElement("BUTTON");n.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",e.lang.dialogBox.close),s.innerHTML=e.icons.cancel,n.appendChild(i),n.appendChild(s),t.notice.modal=n,t.notice.message=i,s.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(n),n=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function To(e,t,n,i,s,l){let c=e.element.originElement.ownerDocument||document,h=c.defaultView||window,o=ke,_=s.icons,u={_d:c,_w:h,_parser:new h.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:o.camelToKebabCase(s.__listCommonStyle),__focusTemp:e.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:o,functions:null,options:null,wwComputedStyle:null,notice:Xn,icons:_,history:null,context:e,pluginCallButtons:t,plugins:n||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:i,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new h.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new h.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new h.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new h.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:o.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});let a=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let r=0,d,p;r<a.length;r++)d=a[r],p=d.getAttribute("data-command"),this.allCommandButtons[p]=d},_recoverButtonStates:function(){if(this.allCommandButtons){let a=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let r=0,d,p,m;r<a.length;r++)d=a[r],p=d.getAttribute("data-command"),m=this.allCommandButtons[p],m&&(d.parentElement.replaceChild(m,d),this.context.tool[p]&&(this.context.tool[p]=m))}},callPlugin:function(a,r,d){if(d=d||t[a],this.plugins[a])this.initPlugins[a]?typeof this._targetPlugins[a]=="object"&&d&&this.initMenuTarget(a,d,this._targetPlugins[a]):(this.plugins[a].add(this,d),this.initPlugins[a]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+a+'")');this.plugins[a].active&&!this.commandMap[a]&&d&&(this.commandMap[a]=d,this.activePlugins.push(a)),typeof r=="function"&&r()},addModule:function(a){for(let r=0,d=a.length,p;r<d;r++)p=a[r].name,this.plugins[p]||(this.plugins[p]=a[r]),this.initPlugins[p]||(this.initPlugins[p]=!0,typeof this.plugins[p].add=="function"&&this.plugins[p].add(this))},getGlobalScrollOffset:function(){let a=0,r=0,d=e.element.topArea;for(;d;)a+=d.scrollTop,r+=d.scrollLeft,d=d.parentElement;for(d=this._shadowRoot?this._shadowRoot.host:null;d;)a+=d.scrollTop,r+=d.scrollLeft,d=d.parentElement;return{top:a,left:r}},initMenuTarget:function(a,r,d){r?(e.element._menuTray.appendChild(d),this._targetPlugins[a]=!0,this._menuTray[r.getAttribute("data-command")]=d):this._targetPlugins[a]=d},submenuOn:function(a){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();let r=this._submenuName=a.getAttribute("data-command"),d=this.submenu=this._menuTray[r];this.submenuActiveButton=a,this._setMenuPosition(a,d),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[r].on&&this.plugins[r].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,o.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){let a=e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));a.style.display="none",o.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(a){this._bindedContainerOff&&this._bindedContainerOff();let r=this._containerName=a.getAttribute("data-command"),d=this.container=this._menuTray[r];this.containerActiveButton=a,this._setMenuPosition(a,d),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[r].on&&this.plugins[r].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,o.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(a,r){r.style.visibility="hidden",r.style.display="block",r.style.height="",o.addClass(a,"on");let d=this.context.element.toolbar,p=d.offsetWidth,m=g._getEditorOffsets(e.element.toolbar),b=r.offsetWidth,f=a.parentElement.offsetLeft+3;if(s.rtl){let V=a.offsetWidth,K=b>V?b-V:0,te=K>0?0:V-b;r.style.left=f-K+te+"px",m.left>g._getEditorOffsets(r).left&&(r.style.left="0px")}else{let V=p<=b?0:p-(f+b);V<0?r.style.left=f+V+"px":r.style.left=f+"px"}let v=0,x=a;for(;x&&x!==d;)v+=x.offsetTop,x=x.offsetParent;let C=v;this._isBalloon?v+=d.offsetTop+a.offsetHeight:v-=a.offsetHeight;let S=m.top,R=r.offsetHeight,L=this.getGlobalScrollOffset().top,F=h.innerHeight-(S-L+C+a.parentElement.offsetHeight);if(F<R){let V=-1*(R-C+3),K=S-L+V,te=R+(K<0?K:0);te>F?(r.style.height=te+"px",V=-1*(te-C+3)):(r.style.height=F+"px",V=C+a.parentElement.offsetHeight),r.style.top=V+"px"}else r.style.top=C+a.parentElement.offsetHeight+"px";r.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let a=0,r;a<arguments.length;a++)if(r=arguments[a],!!r){if(typeof r=="string"){this.currentControllerName=r;continue}if(typeof r=="function"){this.controllerArray.push(r);continue}if(!o.hasClass(r,"se-controller")){this.currentControllerTarget=r,this.currentFileComponentInfo=this.getFileComponent(r);continue}r.style&&(r.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(r)===-1&&(r.addEventListener("mousedown",function(d){d.preventDefault(),d.stopPropagation()}),this._shadowRootControllerEventTarget.push(r))),this.controllerArray.push(r)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof k.showController=="function"&&k.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(a){this._lineBreaker.style.display="none";let r=this.controllerArray.length;if(a&&a.target&&r>0){for(let d=0;d<r;d++)if(typeof this.controllerArray[d].contains=="function"&&this.controllerArray[d].contains(a.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&a&&a.type==="keydown"&&a.keyCode!==27)&&(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,r>0){for(let d=0;d<r;d++)typeof this.controllerArray[d]=="function"?this.controllerArray[d]():this.controllerArray[d].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(a,r,d,p){s.rtl&&(p.left*=-1);let m=o.getOffset(r,e.element.wysiwygFrame);a.style.visibility="hidden",a.style.display="block";let b=d==="top"?-(a.offsetHeight+2):r.offsetHeight+12;a.style.top=m.top+b+p.top+"px";let f=m.left-e.element.wysiwygFrame.scrollLeft+p.left,v=a.offsetWidth,x=r.offsetWidth,C=o.hasClass(a.firstElementChild,"se-arrow")?a.firstElementChild:null;if(s.rtl){let S=v>x?v-x:0,R=S>0?0:x-v;a.style.left=f-S+R+"px",S>0&&C&&(C.style.left=(v-14<10+S?v-14:10+S)+"px");let L=e.element.wysiwygFrame.offsetLeft-a.offsetLeft;L>0&&(a.style.left="0px",C&&(C.style.left=L+"px"))}else{a.style.left=f+"px";let S=e.element.wysiwygFrame.offsetWidth-(a.offsetLeft+v);S<0?(a.style.left=a.offsetLeft+S+"px",C&&(C.style.left=20-S+"px")):C&&(C.style.left="20px")}a.style.visibility=""},execCommand:function(a,r,d){this._wd.execCommand(a,r,a==="formatBlock"?"<"+d+">":d),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){let a=o.getParentElement(this.getSelectionNode(),"figcaption");a?a.focus():e.element.wysiwyg.focus()},focus:function(){if(e.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{let a=this.getRange();if(a.startContainer===a.endContainer&&o.isWysiwygDiv(a.startContainer)){let r=a.commonAncestorContainer.children[a.startOffset];if(!o.isFormatElement(r)&&!o.isComponent(r)){let d=o.createElement(s.defaultTag),p=o.createElement("BR");d.appendChild(p),e.element.wysiwyg.insertBefore(d,r),this.setRange(p,0,p,0);return}}this.setRange(a.startContainer,a.startOffset,a.endContainer,a.endOffset)}catch{this.nativeFocus()}g._applyTagEffects(),this._isBalloon&&g._toggleToolbarBalloon()}},focusEdge:function(a){a||(a=e.element.wysiwyg.lastElementChild);let r=this.getFileComponent(a);r?this.selectComponent(r.target,r.pluginName):a?(a=o.getChildElement(a,function(d){return d.childNodes.length===0||d.nodeType===3},!0),a?this.setRange(a,a.textContent.length,a,a.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?e.element.wysiwygFrame.blur():e.element.wysiwyg.blur()},setRange:function(a,r,d,p){if(!a||!d)return;r>a.textContent.length&&(r=a.textContent.length),p>d.textContent.length&&(p=d.textContent.length),o.isFormatElement(a)&&(a=a.childNodes[r]||a.childNodes[r-1]||a,r=r>0?a.nodeType===1?1:a.textContent?a.textContent.length:0:0),o.isFormatElement(d)&&(d=d.childNodes[p]||d.childNodes[p-1]||d,p=p>0?d.nodeType===1?1:d.textContent?d.textContent.length:0:0);let m=this._wd.createRange();try{m.setStart(a,r),m.setEnd(d,p)}catch(f){console.warn("[SUNEDITOR.core.focus.error] "+f),this.nativeFocus();return}let b=this.getSelection();return b.removeAllRanges&&b.removeAllRanges(),b.addRange(m),this._rangeInfo(m,this.getSelection()),s.iframe&&this.__focus(),m},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){let a=this._variable._range||this._createDefaultRange(),r=this.getSelection();if(a.collapsed===r.isCollapsed||!e.element.wysiwyg.contains(r.focusNode))return a;if(r.rangeCount>0)return this._variable._range=r.getRangeAt(0),this._variable._range;{let d=r.anchorNode,p=r.focusNode,m=r.anchorOffset,b=r.focusOffset,f=o.compareElements(d,p),v=f.ancestor&&(f.result===0?m<=b:f.result>1);return this.setRange(v?d:p,v?m:b,v?p:d,v?b:m)}},getRange_addLine:function(a,r){if(this._selectionVoid(a)){let d=e.element.wysiwyg,p=o.createElement(s.defaultTag);p.innerHTML="<br>",d.insertBefore(p,r&&r!==d?r.nextElementSibling:d.firstElementChild),this.setRange(p.firstElementChild,0,p.firstElementChild,1),a=this._variable._range}return a},getSelection:function(){let a=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!e.element.wysiwyg.contains(a.focusNode)&&(a.removeAllRanges(),a.addRange(this._createDefaultRange())),a},getSelectionNode:function(){if(e.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){let a=o.getChildElement(e.element.wysiwyg.firstChild,function(r){return r.childNodes.length===0||r.nodeType===3},!1);if(!a)this._editorRange();else return this._variable._selectionNode=a,a}return this._variable._selectionNode},_editorRange:function(){let a=this._wd.activeElement;if(o.isInputElement(a))return this._variable._selectionNode=a,a;let r=this.getSelection();if(!r)return null;let d=null;r.rangeCount>0?d=r.getRangeAt(0):d=this._createDefaultRange(),this._rangeInfo(d,r)},_rangeInfo:function(a,r){let d=null;this._variable._range=a,a.collapsed?o.isWysiwygDiv(a.commonAncestorContainer)?d=a.commonAncestorContainer.children[a.startOffset]||a.commonAncestorContainer:d=a.commonAncestorContainer:d=r.extentNode||r.anchorNode,this._variable._selectionNode=d},_createDefaultRange:function(){let a=e.element.wysiwyg,r=this._wd.createRange(),d=a.firstElementChild,p=null;return d?(p=d.firstChild,p||(p=o.createElement("BR"),d.appendChild(p))):(d=o.createElement(s.defaultTag),p=o.createElement("BR"),d.appendChild(p),a.appendChild(d)),r.setStart(p,0),r.setEnd(p,0),r},_selectionVoid:function(a){let r=a.commonAncestorContainer;return o.isWysiwygDiv(a.startContainer)&&o.isWysiwygDiv(a.endContainer)||/FIGURE/i.test(r.nodeName)||this._fileManager.regExp.test(r.nodeName)||o.isMediaComponent(r)},_resetRangeToTextNode:function(){let a=this.getRange();if(this._selectionVoid(a))return!1;let r=a.collapsed,d=a.startContainer,p=a.startOffset,m=a.endContainer,b=a.endOffset,f,v,x;if(o.isFormatElement(d))for(d.childNodes[p]?(d=d.childNodes[p]||d,p=0):(d=d.lastChild||d,p=d.textContent.length);d&&d.nodeType===1&&d.firstChild;)d=d.firstChild||d,p=0;if(o.isFormatElement(m)){for(m=m.childNodes[b]||m.lastChild||m;m&&m.nodeType===1&&m.lastChild;)m=m.lastChild;b=r?0:m.textContent.length}if(f=o.isWysiwygDiv(d)?e.element.wysiwyg.firstChild:d,v=p,o.isBreak(f)||f.nodeType===1&&f.childNodes.length>0){let C=o.isBreak(f);if(!C){for(;f&&!o.isBreak(f)&&f.nodeType===1;)f=f.childNodes[v]||f.nextElementSibling||f.nextSibling,v=0;let S=o.getFormatElement(f,null);S===o.getRangeFormatElement(S,null)&&(S=o.createElement(o.getParentElement(f,o.isCell)?"DIV":s.defaultTag),f.parentNode.insertBefore(S,f),S.appendChild(f))}if(o.isBreak(f)){let S=o.createTextNode(o.zeroWidthSpace);f.parentNode.insertBefore(S,f),f=S,C&&d===m&&(m=f,b=1)}}if(d=f,p=v,f=o.isWysiwygDiv(m)?e.element.wysiwyg.lastChild:m,v=b,o.isBreak(f)||f.nodeType===1&&f.childNodes.length>0){let C=o.isBreak(f);if(!C){for(;f&&!o.isBreak(f)&&f.nodeType===1&&(x=f.childNodes,x.length!==0);)f=x[v>0?v-1:v]||!/FIGURE/i.test(x[0].nodeName)?x[0]:f.previousElementSibling||f.previousSibling||d,v=v>0?f.textContent.length:v;let S=o.getFormatElement(f,null);S===o.getRangeFormatElement(S,null)&&(S=o.createElement(o.isCell(S)?"DIV":s.defaultTag),f.parentNode.insertBefore(S,f),S.appendChild(f))}if(o.isBreak(f)){let S=o.createTextNode(o.zeroWidthSpace);f.parentNode.insertBefore(S,f),f=S,v=1,C&&!f.previousSibling&&o.removeItem(m)}}return m=f,b=v,this.setRange(d,p,m,b),!0},getSelectedElements:function(a){if(!this._resetRangeToTextNode())return[];let r=this.getRange();if(o.isWysiwygDiv(r.startContainer)){let V=e.element.wysiwyg.children;if(V.length===0)return[];this.setRange(V[0],0,V[V.length-1],V[V.length-1].textContent.trim().length),r=this.getRange()}let d=r.startContainer,p=r.endContainer,m=r.commonAncestorContainer,b=o.getListChildren(m,function(V){return a?a(V):o.isFormatElement(V)});if(!o.isWysiwygDiv(m)&&!o.isRangeFormatElement(m)&&b.unshift(o.getFormatElement(m,null)),d===p||b.length===1)return b;let f=o.getFormatElement(d,null),v=o.getFormatElement(p,null),x=null,C=null,S=function(V){return o.isTable(V)?/^TABLE$/i.test(V.nodeName):!0},R=o.getRangeFormatElement(f,S),L=o.getRangeFormatElement(v,S);o.isTable(R)&&o.isListCell(R.parentNode)&&(R=R.parentNode),o.isTable(L)&&o.isListCell(L.parentNode)&&(L=L.parentNode);let F=R===L;for(let V=0,K=b.length,te;V<K;V++){if(te=b[V],f===te||!F&&te===R){x=V;continue}if(v===te||!F&&te===L){C=V;break}}return x===null&&(x=0),C===null&&(C=b.length-1),b.slice(x,C+1)},getSelectedElementsAndComponents:function(a){let r=this.getRange().commonAncestorContainer,d=o.getParentElement(r,o.isComponent),p=o.isTable(r)?this.getSelectedElements(null):this.getSelectedElements((function(m){let b=this.getParentElement(m,this.isComponent);return this.isFormatElement(m)&&(!b||b===d)||this.isComponent(m)&&!this.getFormatElement(m)}).bind(o));if(a){for(let m=0,b=p.length;m<b;m++)for(let f=m-1;f>=0;f--)if(p[f].contains(p[m])){p.splice(m,1),m--,b--;break}}return p},isEdgePoint:function(a,r,d){return a.nodeType===1&&!a.textContent.length?!0:d!=="end"&&r===0||(!d||d!=="start")&&!a.nodeValue&&r===1||(!d||d==="end")&&!!a.nodeValue&&r===a.nodeValue.length},_isEdgeFormat:function(a,r,d){if(!this.isEdgePoint(a,r,d))return!1;let p=[];for(d=d==="start"?"previousSibling":"nextSibling";a&&!o.isFormatElement(a)&&!o.isWysiwygDiv(a);)if(!a[d]||o.isBreak(a[d])&&!a[d][d])a.nodeType===1&&p.push(a.cloneNode(!1)),a=a.parentNode;else return null;return p},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(a,r){if(!a||!a.parentNode)return null;let d=o.getFormatElement(this.getSelectionNode(),null),p=null;if(!o.isFormatElement(a)&&o.isFreeFormatElement(d||a.parentNode))p=o.createElement("BR");else{let m=r?typeof r=="string"?r:r.nodeName:o.isFormatElement(d)&&!o.isRangeFormatElement(d)&&!o.isFreeFormatElement(d)?d.nodeName:s.defaultTag;p=o.createElement(m),p.innerHTML="<br>",(r&&typeof r!="string"||!r&&o.isFormatElement(d))&&o.copyTagAttributes(p,r||d,["id"])}return o.isCell(a)?a.insertBefore(p,a.nextElementSibling):a.parentNode.insertBefore(p,a.nextElementSibling),p},insertComponent:function(a,r,d,p){if(this.isReadOnly||d&&!this.checkCharCount(a,null))return null;let m=this.removeNode();this.getRange_addLine(this.getRange(),m.container);let b=null,f=this.getSelectionNode(),v=o.getFormatElement(f,null);if(o.isListCell(v))this.insertNode(a,f===v?null:m.container.nextSibling,!1),a.nextSibling||a.parentNode.appendChild(o.createElement("BR"));else{if(this.getRange().collapsed&&(m.container.nodeType===3||o.isBreak(m.container))){let x=o.getParentElement(m.container,(function(C){return this.isRangeFormatElement(C)}).bind(o));b=o.splitElement(m.container,m.offset,x?o.getElementDepth(x)+1:0),b&&(v=b.previousSibling)}this.insertNode(a,o.isRangeFormatElement(v)?null:v,!1),v&&o.onlyZeroWidthSpace(v)&&o.removeItem(v)}if(!p){this.setRange(a,0,a,0);let x=this.getFileComponent(a);x?this.selectComponent(x.target,x.pluginName):b&&(b=o.getEdgeChildNodes(b,null).sc||b,this.setRange(b,0,b,0))}return r||this.history.push(1),b||a},getFileComponent:function(a){if(!this._fileManager.queryString||!a)return null;let r,d;return(/^FIGURE$/i.test(a.nodeName)||/se-component/.test(a.className))&&(r=a.querySelector(this._fileManager.queryString)),!r&&a.nodeName&&this._fileManager.regExp.test(a.nodeName)&&(r=a),r&&(d=this._fileManager.pluginMap[r.nodeName.toLowerCase()],d)?{target:r,component:o.getParentElement(r,o.isComponent),pluginName:d}:null},selectComponent:function(a,r){if(o.isUneditableComponent(o.getParentElement(a,o.isComponent))||o.isUneditableComponent(a))return!1;this.hasFocus||this.focus();let d=this.plugins[r];d&&h.setTimeout((function(){typeof d.select=="function"&&this.callPlugin(r,d.select.bind(this,a),null),this._setComponentLineBreaker(a)}).bind(this))},_setComponentLineBreaker:function(a){this._lineBreaker.style.display="none";let r=o.getParentElement(a,o.isComponent),d=e.element.lineBreaker_t.style,p=e.element.lineBreaker_b.style,m=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:a,b=o.isListCell(r.parentNode),f,v,x;(b?!r.previousSibling:!o.isFormatElement(r.previousElementSibling))?(this._variable._lineBreakComp=r,v=e.element.wysiwyg.scrollTop,f=o.getOffset(a,e.element.wysiwygFrame).top+v,x=m.offsetWidth/2/2,d.top=f-v-12+"px",d.left=o.getOffset(m).left+x+"px",d.display="block"):d.display="none",(b?!r.nextSibling:!o.isFormatElement(r.nextElementSibling))?(f||(this._variable._lineBreakComp=r,v=e.element.wysiwyg.scrollTop,f=o.getOffset(a,e.element.wysiwygFrame).top+v,x=m.offsetWidth/2/2),p.top=f+m.offsetHeight-v-12+"px",p.left=o.getOffset(m).left+m.offsetWidth-x-24+"px",p.display="block"):p.display="none"},_checkDuplicateNode:function(a,r){(function d(p){u._dupleCheck(p,r);let m=p.childNodes;for(let b=0,f=m.length;b<f;b++)d(m[b])})(a)},_dupleCheck:function(a,r){if(!o.isTextStyleElement(a))return;let d=(a.style.cssText.match(/[^;]+;/g)||[]).map(function(b){return b.trim()}),p=a.nodeName;if(/^span$/i.test(p)&&d.length===0)return a;let m=!1;return function b(f){if(!(o.isWysiwygDiv(f)||!o.isTextStyleElement(f))){if(f.nodeName===p){m=!0;let v=f.style.cssText.match(/[^;]+;/g)||[];for(let x=0,C=v.length,S;x<C;x++)(S=d.indexOf(v[x].trim()))>-1&&d.splice(S,1);for(let x=0,C=f.classList.length;x<C;x++)a.classList.remove(f.classList[x])}b(f.parentElement)}}(r),m&&((a.style.cssText=d.join(" "))||(a.setAttribute("style",""),a.removeAttribute("style")),a.attributes.length||a.setAttribute("data-se-duple","true")),a},insertNode:function(a,r,d){if(this.isReadOnly||d&&!this.checkCharCount(a,null))return null;let p=null,m=this.getRange(),b=o.isListCell(m.commonAncestorContainer)?m.commonAncestorContainer:o.getFormatElement(this.getSelectionNode(),null),f=o.isListCell(b)&&(o.isListCell(a)||o.isList(a)),v,x,C,S=null,R=o.isFreeFormatElement(b),L=!R&&(o.isFormatElement(a)||o.isRangeFormatElement(a))||o.isComponent(a);if(f&&(C=r||o.isList(a)?b.lastChild:b.nextElementSibling,S=o.isList(a)?b:(C||b).parentNode),!r&&(L||o.isComponent(a)||o.isMedia(a))){let j=this.isEdgePoint(m.endContainer,m.endOffset,"end"),W=this.removeNode(),Y=W.container,D=Y===W.prevContainer&&m.collapsed?null:W.prevContainer;if(f&&D)if(S=D.nodeType===3?D.parentNode:D,S.contains(Y)){let Q=!0;for(C=Y;C.parentNode&&C.parentNode!==S;)C=C.parentNode,Q=!1;Q&&Y===D&&(C=C.nextSibling)}else C=null;else if(f&&o.isListCell(Y)&&!b.parentElement)b=o.createElement("LI"),S.appendChild(b),Y.appendChild(S),C=null;else if(Y.nodeType===3||o.isBreak(Y)||f){let Q=o.getParentElement(Y,(function(A){return this.isRangeFormatElement(A)||this.isListCell(A)}).bind(o));if(r=o.splitElement(Y,W.offset,Q?o.getElementDepth(Q)+1:0),!r)C=r=b;else if(f){if(b.contains(Y)){let A=o.isList(b.lastElementChild),$=null;j||($=b.cloneNode(!1),$.appendChild(r.textContent.trim()?r:o.createTextNode(o.zeroWidthSpace))),A&&($||($=b.cloneNode(!1),$.appendChild(o.createTextNode(o.zeroWidthSpace))),$.appendChild(b.lastElementChild)),$&&(b.parentNode.insertBefore($,b.nextElementSibling),C=r=$)}}else r=r.previousSibling}}m=!r&&!L?this.getRange_addLine(this.getRange(),null):this.getRange();let F=m.commonAncestorContainer,V=m.startOffset,K=m.endOffset,te=m.startContainer===F&&o.isFormatElement(F),X=te&&(F.childNodes[V]||F.childNodes[0])||m.startContainer,Z=te&&(F.childNodes[K]||F.childNodes[F.childNodes.length-1])||m.endContainer;if(!f)if(r)v=r.parentNode,r=r.nextSibling,x=!0;else if(v=X,X.nodeType===3&&(v=X.parentNode),m.collapsed)if(F.nodeType===3)F.textContent.length>K?r=F.splitText(K):r=F.nextSibling;else if(o.isBreak(v))r=v,v=v.parentNode;else{let j=v.childNodes[V],W=j&&j.nodeType===3&&o.onlyZeroWidthSpace(j)&&o.isBreak(j.nextSibling)?j.nextSibling:j;W?!W.nextSibling&&o.isBreak(W)?(v.removeChild(W),r=null):r=o.isBreak(W)&&!o.isBreak(a)?W:W.nextSibling:r=null}else if(X===Z){this.isEdgePoint(Z,K)?r=Z.nextSibling:r=Z.splitText(K);let W=X;this.isEdgePoint(X,V)||(W=X.splitText(V)),v.removeChild(W),v.childNodes.length===0&&L&&(v.innerHTML="<br>")}else{let W=this.removeNode(),Y=W.container,D=W.prevContainer;if(Y&&Y.childNodes.length===0&&L&&(o.isFormatElement(Y)?Y.innerHTML="<br>":o.isRangeFormatElement(Y)&&(Y.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),o.isListCell(Y)&&a.nodeType===3)v=Y,r=null;else if(!L&&D)if(v=D.nodeType===3?D.parentNode:D,v.contains(Y)){let Q=!0;for(r=Y;r.parentNode&&r.parentNode!==v;)r=r.parentNode,Q=!1;Q&&Y===D&&(r=r.nextSibling)}else r=null;else o.isWysiwygDiv(Y)&&!o.isFormatElement(a)?(v=Y.appendChild(o.createElement(s.defaultTag)),r=null):(r=L?Z:Y===D?Y.nextSibling:Y,v=!r||!r.parentNode?F:r.parentNode);for(;r&&!o.isFormatElement(r)&&r.parentNode!==F;)r=r.parentNode}try{if(!f){if((o.isWysiwygDiv(r)||v===e.element.wysiwyg.parentNode)&&(v=e.element.wysiwyg,r=null),o.isFormatElement(a)||o.isRangeFormatElement(a)||!o.isListCell(v)&&o.isComponent(a)){let j=v;if(o.isList(r))v=r,r=null;else if(o.isListCell(r))v=r.previousElementSibling||r;else if(!x&&!r){let W=this.removeNode(),Y=W.container.nodeType===3?o.isListCell(o.getFormatElement(W.container,null))?W.container:o.getFormatElement(W.container,null)||W.container.parentNode:W.container,D=o.isWysiwygDiv(Y)||o.isRangeFormatElement(Y);v=D?Y:Y.parentNode,r=D?null:Y.nextSibling}j.childNodes.length===0&&v!==j&&o.removeItem(j)}if(L&&!R&&!o.isRangeFormatElement(v)&&!o.isListCell(v)&&!o.isWysiwygDiv(v)&&(r=v.nextElementSibling,v=v.parentNode),o.isWysiwygDiv(v)&&(a.nodeType===3||o.isBreak(a))){let j=o.createElement(s.defaultTag);j.appendChild(a),p=a,a=j}}if(f?S.parentNode?(v=S,r=C):(v=e.element.wysiwyg,r=null):r=v===r?v.lastChild:r,o.isListCell(a)&&!o.isList(v)){if(o.isListCell(v))r=v.nextElementSibling,v=v.parentNode;else{let j=o.createElement("ol");v.insertBefore(j,r),v=j,r=null}f=!0}if(this._checkDuplicateNode(a,v),v.insertBefore(a,r),f)if(o.onlyZeroWidthSpace(b.textContent.trim()))o.removeItem(b),a=a.lastChild;else{let j=o.getArrayItem(b.children,o.isList);j&&(a!==j?(a.appendChild(j),a=j.previousSibling):(v.appendChild(a),a=v),o.onlyZeroWidthSpace(b.textContent.trim())&&o.removeItem(b))}}catch(j){v.appendChild(a),console.warn("[SUNEDITOR.insertNode.warn] "+j)}finally{p&&(a=p);let j=v.querySelectorAll("[data-se-duple]");if(j.length>0)for(let W=0,Y=j.length,D,Q,A,$;W<Y;W++){for(D=j[W],A=D.childNodes,$=D.parentNode;A[0];)Q=A[0],$.insertBefore(Q,D);D===a&&(a=Q),o.removeItem(D)}if((o.isFormatElement(a)||o.isComponent(a))&&X===Z){let W=o.getFormatElement(F,null);W&&W.nodeType===1&&o.isEmptyLine(W)&&o.removeItem(W)}if(R&&(o.isFormatElement(a)||o.isRangeFormatElement(a))&&(a=this._setIntoFreeFormat(a)),!o.isComponent(a)){let W=1;if(a.nodeType===3)W=a.textContent.length,this.setRange(a,W,a,W);else if(!o.isBreak(a)&&!o.isListCell(a)&&o.isFormatElement(v)){let Y=null;(!a.previousSibling||o.isBreak(a.previousSibling))&&(Y=o.createTextNode(o.zeroWidthSpace),a.parentNode.insertBefore(Y,a)),(!a.nextSibling||o.isBreak(a.nextSibling))&&(Y=o.createTextNode(o.zeroWidthSpace),a.parentNode.insertBefore(Y,a.nextSibling)),o._isIgnoreNodeChange(a)&&(a=a.nextSibling,W=0)}this.setRange(a,W,a,W)}return a}},_setIntoFreeFormat:function(a){let r=a.parentNode,d,p;for(;o.isFormatElement(a)||o.isRangeFormatElement(a);){for(d=a.childNodes,p=null;d[0];){if(p=d[0],o.isFormatElement(p)||o.isRangeFormatElement(p)){if(this._setIntoFreeFormat(p),!a.parentNode)break;d=a.childNodes;continue}r.insertBefore(p,a)}a.childNodes.length===0&&o.removeItem(a),a=o.createElement("BR"),r.insertBefore(a,p.nextSibling)}return a},removeNode:function(){this._resetRangeToTextNode();let a=this.getRange();if(a.startContainer===a.endContainer){let W=o.getParentElement(a.startContainer,o.isMediaComponent);if(W){let Y=o.createElement("BR"),D=o.createElement(s.defaultTag);return D.appendChild(Y),o.changeElement(W,D),u.setRange(D,0,D,0),this.history.push(!0),{container:D,offset:0,prevContainer:null}}}let r=a.startOffset===0,d=u.isEdgePoint(a.endContainer,a.endOffset,"end"),p=null,m=null,b=null;r&&(m=o.getFormatElement(a.startContainer),m&&(p=m.previousElementSibling,m=p)),d&&(b=o.getFormatElement(a.endContainer),b=b&&b.nextElementSibling);let f,v=0,x=a.startContainer,C=a.endContainer,S=a.startOffset,R=a.endOffset,L=a.commonAncestorContainer.nodeType===3&&a.commonAncestorContainer.parentNode===x.parentNode?x.parentNode:a.commonAncestorContainer;if(L===x&&L===C&&(x=L.children[S],C=L.children[R],S=R=0),!x||!C)return{container:L,offset:0};if(x===C&&a.collapsed&&x.textContent&&o.onlyZeroWidthSpace(x.textContent.substr(S)))return{container:x,offset:S,prevContainer:x&&x.parentNode?x:null};let F=null,V=null,K=o.getListChildNodes(L,null),te=o.getArrayIndex(K,x),X=o.getArrayIndex(K,C);if(K.length>0&&te>-1&&X>-1){for(let W=te+1,Y=x;W>=0;W--)K[W]===Y.parentNode&&K[W].firstChild===Y&&S===0&&(te=W,Y=Y.parentNode);for(let W=X-1,Y=C;W>te;W--)K[W]===Y.parentNode&&K[W].nodeType===1&&(K.splice(W,1),Y=Y.parentNode,--X)}else{if(K.length===0){if(o.isFormatElement(L)||o.isRangeFormatElement(L)||o.isWysiwygDiv(L)||o.isBreak(L)||o.isMedia(L))return{container:L,offset:0};if(L.nodeType===3)return{container:L,offset:R};K.push(L),x=C=L}else if(x=C=K[0],o.isBreak(x)||o.onlyZeroWidthSpace(x))return{container:o.isMedia(L)?L:x,offset:0};te=X=0}for(let W=te;W<=X;W++){let Y=K[W];if(Y.length===0||Y.nodeType===3&&Y.data===void 0){this._nodeRemoveListItem(Y);continue}if(Y===x){if(x.nodeType===1){if(o.isComponent(x))continue;F=o.createTextNode(x.textContent)}else Y===C?(F=o.createTextNode(x.substringData(0,S)+C.substringData(R,C.length-R)),v=S):F=o.createTextNode(x.substringData(0,S));if(F.length>0?x.data=F.data:this._nodeRemoveListItem(x),Y===C)break;continue}if(Y===C){if(C.nodeType===1){if(o.isComponent(C))continue;V=o.createTextNode(C.textContent)}else V=o.createTextNode(C.substringData(R,C.length-R));V.length>0?C.data=V.data:this._nodeRemoveListItem(C);continue}this._nodeRemoveListItem(Y)}let Z=o.getParentElement(C,"ul"),j=o.getParentElement(x,"li");if(Z&&j&&j.contains(Z)?(f=Z.previousSibling,v=f.textContent.length):(f=C&&C.parentNode?C:x&&x.parentNode?x:a.endContainer||a.startContainer,v=!r&&!d?v:d?f.textContent.length:0),!o.isWysiwygDiv(f)&&f.childNodes.length===0){let W=o.removeItemAllParents(f,null,null);W&&(f=W.sc||W.ec||e.element.wysiwyg)}return!o.getFormatElement(f)&&!(x&&x.parentNode)&&(b?(f=b,v=0):m&&(f=m,v=1)),this.setRange(f,v,f,v),this.history.push(!0),{container:f,offset:v,prevContainer:p}},_nodeRemoveListItem:function(a){let r=o.getFormatElement(a,null);o.removeItem(a),o.isListCell(r)&&(o.removeItemAllParents(r,null,null),r&&o.isList(r.firstChild)&&r.insertBefore(o.createTextNode(o.zeroWidthSpace),r.firstChild))},applyRangeFormatElement:function(a){this.getRange_addLine(this.getRange(),null);let r=this.getSelectedElementsAndComponents(!1);if(!r||r.length===0)return;e:for(let R=0,L=r.length,F,V,K,te,X,Z;R<L;R++)if(F=r[R],!!o.isListCell(F)&&(V=F.lastElementChild,V&&o.isListCell(F.nextElementSibling)&&r.indexOf(F.nextElementSibling)>-1&&(te=V.lastElementChild,r.indexOf(te)>-1))){let j=null;for(;j=te.lastElementChild;)if(o.isList(j))if(r.indexOf(j.lastElementChild)>-1)te=j.lastElementChild;else continue e;K=V.firstElementChild,X=r.indexOf(K),Z=r.indexOf(te),r.splice(X,Z-X+1),L=r.length;continue}let d=r[r.length-1],p,m,b;o.isRangeFormatElement(d)||o.isFormatElement(d)?p=d:p=o.getRangeFormatElement(d,null)||o.getFormatElement(d,null),o.isCell(p)?(m=null,b=p):(m=p.nextSibling,b=p.parentNode);let f=o.getElementDepth(p),v=null,x=[],C=function(R,L,F){let V=null;if(R!==L&&!o.isTable(L)){if(L&&o.getElementDepth(R)===o.getElementDepth(L))return F;V=o.removeItemAllParents(L,null,R)}return V?V.ec:F};for(let R=0,L=r.length,F,V,K,te,X,Z,j;R<L;R++)if(F=r[R],V=F.parentNode,!(!V||a.contains(V)))if(K=o.getElementDepth(F),o.isList(V)){if(v===null&&(Z?(v=Z,j=!0,Z=null):v=V.cloneNode(!1)),x.push(F),X=r[R+1],R===L-1||X&&X.parentNode!==V){X&&F.contains(X.parentNode)&&(Z=X.parentNode.cloneNode(!1));let W=V.parentNode,Y;for(;o.isList(W);)Y=o.createElement(W.nodeName),Y.appendChild(v),v=Y,W=W.parentNode;let D=this.detachRangeFormatElement(V,x,null,!0,!0);f>=K?(f=K,b=D.cc,m=C(b,V,D.ec),m&&(b=m.parentNode)):b===D.cc&&(m=D.ec),b!==D.cc&&(te=C(b,D.cc,te),te!==void 0?m=te:m=D.cc);for(let Q=0,A=D.removeArray.length;Q<A;Q++)v.appendChild(D.removeArray[Q]);j||a.appendChild(v),Z&&D.removeArray[D.removeArray.length-1].appendChild(Z),v=null,j=!1}}else f>=K&&(f=K,b=V,m=F.nextSibling),a.appendChild(F),b!==V&&(te=C(b,V),te!==void 0&&(m=te));if(this.effectNode=null,o.mergeSameTags(a,null,!1),o.mergeNestedTags(a,(function(R){return this.isList(R)}).bind(o)),m&&o.getElementDepth(m)>0&&(o.isList(m.parentNode)||o.isList(m.parentNode.parentNode))){let R=o.getParentElement(m,(function(F){return this.isRangeFormatElement(F)&&!this.isList(F)}).bind(o)),L=o.splitElement(m,null,R?o.getElementDepth(R)+1:0);L.parentNode.insertBefore(a,L)}else b.insertBefore(a,m),C(a,m);let S=o.getEdgeChildNodes(a.firstElementChild,a.lastElementChild);r.length>1?this.setRange(S.sc,0,S.ec,S.ec.textContent.length):this.setRange(S.ec,S.ec.textContent.length,S.ec,S.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(a,r,d,p,m){let b=this.getRange(),f=b.startOffset,v=b.endOffset,x=o.getListChildNodes(a,function(D){return D.parentNode===a}),C=a.parentNode,S=null,R=null,L=a.cloneNode(!1),F=[],V=o.isList(d),K=!1,te=!1,X=!1;function Z(D,Q,A,$){if(o.onlyZeroWidthSpace(Q)&&(Q.innerHTML=o.zeroWidthSpace,f=v=1),Q.nodeType===3)return D.insertBefore(Q,A),Q;let le=(X?Q:$).childNodes,oe=Q.cloneNode(!1),z=null,y=null;for(;le[0];)y=le[0],o._notTextNode(y)&&!o.isBreak(y)&&!o.isListCell(oe)?(oe.childNodes.length>0&&(z||(z=oe),D.insertBefore(oe,A),oe=Q.cloneNode(!1)),D.insertBefore(y,A),z||(z=y)):oe.appendChild(y);if(oe.childNodes.length>0){if(o.isListCell(D)&&o.isListCell(oe)&&o.isList(A))if(V){for(z=A;A;)oe.appendChild(A),A=A.nextSibling;D.parentNode.insertBefore(oe,D.nextElementSibling)}else{let T=$.nextElementSibling,w=o.detachNestedList($,!1);if(a!==w||T!==$.nextElementSibling){let O=oe.childNodes;for(;O[0];)$.appendChild(O[0]);a=w,te=!0}}else D.insertBefore(oe,A);z||(z=oe)}return z}for(let D=0,Q=x.length,A,$,le;D<Q;D++)if(A=x[D],!(A.nodeType===3&&o.isList(L)))if(X=!1,p&&D===0&&(!r||r.length===Q||r[0]===A?S=a.previousSibling:S=L),r&&($=r.indexOf(A)),r&&$===-1)L||(L=a.cloneNode(!1)),L.appendChild(A);else{if(r&&(le=r[$+1]),L&&L.children.length>0&&(C.insertBefore(L,a),L=null),!V&&o.isListCell(A))if(le&&o.getElementDepth(A)!==o.getElementDepth(le)&&(o.isListCell(C)||o.getArrayItem(A.children,o.isList,!1))){let oe=A.nextElementSibling,z=o.detachNestedList(A,!1);(a!==z||oe!==A.nextElementSibling)&&(a=z,te=!0)}else{let oe=A;A=o.createElement(p?oe.nodeName:o.isList(a.parentNode)||o.isListCell(a.parentNode)?"LI":o.isCell(a.parentNode)?"DIV":s.defaultTag);let z=o.isListCell(A),y=oe.childNodes;for(;y[0]&&!(o.isList(y[0])&&!z);)A.appendChild(y[0]);o.copyFormatAttributes(A,oe),X=!0}else A=A.cloneNode(!1);if(!te&&(p?(F.push(A),o.removeItem(x[D])):(d?(K||(C.insertBefore(d,a),K=!0),A=Z(d,A,null,x[D])):A=Z(C,A,a,x[D]),te||(r?(R=A,S||(S=A)):S||(S=R=A))),te)){te=X=!1,x=o.getListChildNodes(a,function(oe){return oe.parentNode===a}),L=a.cloneNode(!1),C=a.parentNode,D=-1,Q=x.length;continue}}let j=a.parentNode,W=a.nextSibling;L&&L.children.length>0&&j.insertBefore(L,W),d?S=d.previousSibling:S||(S=a.previousSibling),W=a.nextSibling!==L?a.nextSibling:L?L.nextSibling:null,a.children.length===0||a.textContent.length===0?o.removeItem(a):o.removeEmptyNode(a,null,!1);let Y=null;if(p)Y={cc:j,sc:S,so:f,ec:W,eo:v,removeArray:F};else{S||(S=R),R||(R=S);let D=o.getEdgeChildNodes(S,R.parentNode?S:R);Y={cc:(D.sc||D.ec).parentNode,sc:D.sc,so:f,ec:D.ec,eo:v,removeArray:null}}if(this.effectNode=null,m)return Y;!p&&Y&&(r?this.setRange(Y.sc,f,Y.ec,v):this.setRange(Y.sc,0,Y.sc,0)),this.history.push(!1)},detachList:function(a,r){let d={},p=!1,m=!1,b=null,f=null,v=(function(x){return!this.isComponent(x)}).bind(o);for(let x=0,C=a.length,S,R,L,F;x<C;x++){if(L=x===C-1,R=o.getRangeFormatElement(a[x],v),F=o.isList(R),!S&&F)S=R,d={r:S,f:[o.getParentElement(a[x],"LI")]},x===0&&(p=!0);else if(S&&F)if(S!==R){let V=this.detachRangeFormatElement(d.f[0].parentNode,d.f,null,r,!0);R=a[x].parentNode,p&&(b=V.sc,p=!1),L&&(f=V.ec),F?(S=R,d={r:S,f:[o.getParentElement(a[x],"LI")]},L&&(m=!0)):S=null}else d.f.push(o.getParentElement(a[x],"LI")),L&&(m=!0);if(L&&o.isList(S)){let V=this.detachRangeFormatElement(d.f[0].parentNode,d.f,null,r,!0);(m||C===1)&&(f=V.ec),p&&(b=V.sc||f)}}return{sc:b,ec:f}},nodeChange:function(a,r,d,p){this._resetRangeToTextNode();let m=this.getRange_addLine(this.getRange(),null);r=r&&r.length>0?r:!1,d=d&&d.length>0?d:!1;let b=!a,f=b&&!d&&!r,v=m.startContainer,x=m.startOffset,C=m.endContainer,S=m.endOffset;if(f&&m.collapsed&&o.isFormatElement(v.parentNode)||v===C&&v.nodeType===1&&o.isNonEditable(v)){let y=v.parentNode;if(!o.isListCell(y)||!o.getValues(y.style).some((function(T){return this._listKebab.indexOf(T)>-1}).bind(this)))return}if(m.collapsed&&!f&&v.nodeType===1&&!o.isBreak(v)&&!o.isComponent(v)){let y=null,T=v.childNodes[x];T&&(T.nextSibling?y=o.isBreak(T)?T:T.nextSibling:y=null);let w=o.createTextNode(o.zeroWidthSpace);v.insertBefore(w,y),this.setRange(w,1,w,1),m=this.getRange(),v=m.startContainer,x=m.startOffset,C=m.endContainer,S=m.endOffset}o.isFormatElement(v)&&(v=v.childNodes[x]||v.firstChild,x=0),o.isFormatElement(C)&&(C=C.childNodes[S]||C.lastChild,S=C.textContent.length),b&&(a=o.createElement("DIV"));let R=h.RegExp,L=a.nodeName;if(!f&&v===C&&!d&&a){let y=v,T=0,w=[],O=a.style;for(let E=0,q=O.length;E<q;E++)w.push(O[E]);let B=a.classList;for(let E=0,q=B.length;E<q;E++)w.push("."+B[E]);if(w.length>0){for(;!o.isFormatElement(y)&&!o.isWysiwygDiv(y);){for(let E=0;E<w.length;E++)if(y.nodeType===1){let q=w[E],G=/^\./.test(q)?new R("\\s*"+q.replace(/^\./,"")+"(\\s+|$)","ig"):!1,ue=b?!!y.style[q]:!!y.style[q]&&!!a.style[q]&&y.style[q]===a.style[q],de=G===!1?!1:b?!!y.className.match(G):!!y.className.match(G)&&!!a.className.match(G);(ue||de)&&T++}y=y.parentNode}if(T>=w.length)return}}let F={},V={},K,te="",X="",Z="";if(r){for(let y=0,T=r.length,w;y<T;y++)w=r[y],/^\./.test(w)?X+=(X?"|":"\\s*(?:")+w.replace(/^\./,""):te+=(te?"|":"(?:;|^|\\s)(?:")+w;te&&(te+=")\\s*:[^;]*\\s*(?:;|$)",te=new R(te,"ig")),X&&(X+=")(?=\\s+|$)",X=new R(X,"ig"))}if(d){Z="^(?:"+d[0];for(let y=1;y<d.length;y++)Z+="|"+d[y];Z+=")$",Z=new R(Z,"i")}let j=h.Boolean,W={v:!1},Y=function(y){let T=y.cloneNode(!1);if(T.nodeType===3||o.isBreak(T))return T;if(f)return null;let w=!Z&&b||Z&&Z.test(T.nodeName);if(w&&!p)return W.v=!0,null;let O=T.style.cssText,B="";te&&O.length>0&&(B=O.replace(te,"").trim(),B!==O&&(W.v=!0));let E=T.className,q="";return X&&E.length>0&&(q=E.replace(X,"").trim(),q!==E&&(W.v=!0)),b&&(X||!E)&&(te||!O)&&!B&&!q&&w?(W.v=!0,null):B||q||T.nodeName!==L||j(te)!==j(O)||j(X)!==j(E)?(te&&O.length>0&&(T.style.cssText=B),T.style.cssText||T.removeAttribute("style"),X&&E.length>0&&(T.className=q.trim()),T.className.trim()||T.removeAttribute("class"),!T.style.cssText&&!T.className&&(T.nodeName===L||w)?(W.v=!0,null):T):(W.v=!0,null)},D=this.getSelectedElements(null);m=this.getRange(),v=m.startContainer,x=m.startOffset,C=m.endContainer,S=m.endOffset,o.getFormatElement(v,null)||(v=o.getChildElement(D[0],function(y){return y.nodeType===3},!1),x=0),o.getFormatElement(C,null)||(C=o.getChildElement(D[D.length-1],function(y){return y.nodeType===3},!1),S=C.textContent.length);let Q=o.getFormatElement(v,null)===o.getFormatElement(C,null),A=D.length-(Q?0:1);K=a.cloneNode(!1);let $=f||b&&function(y){for(let T=0,w=y.length;T<w;T++)if(o._isMaintainedNode(y[T])||o._isSizeNode(y[T]))return!0;return!1}(d),le=b||o._isSizeNode(K),oe=this._util_getMaintainedNode.bind(o,$,le),z=this._util_isMaintainedNode.bind(o,$,le);if(Q){this._resetCommonListCell(D[0],r)&&(m=this.setRange(v,x,C,S));let y=this._nodeChange_oneLine(D[0],K,Y,v,x,C,S,f,b,m.collapsed,W,oe,z);F.container=y.startContainer,F.offset=y.startOffset,V.container=y.endContainer,V.offset=y.endOffset,F.container===V.container&&o.onlyZeroWidthSpace(F.container)&&(F.offset=V.offset=1),this._setCommonListStyle(y.ancestor,null)}else{let y=!1;A>0&&this._resetCommonListCell(D[A],r)&&(y=!0),this._resetCommonListCell(D[0],r)&&(y=!0),y&&this.setRange(v,x,C,S),A>0&&(K=a.cloneNode(!1),V=this._nodeChange_endLine(D[A],K,Y,C,S,f,b,W,oe,z));for(let T=A-1,w;T>0;T--)this._resetCommonListCell(D[T],r),K=a.cloneNode(!1),w=this._nodeChange_middleLine(D[T],K,Y,f,b,W,V.container),w.endContainer&&w.ancestor.contains(w.endContainer)&&(V.ancestor=null,V.container=w.endContainer),this._setCommonListStyle(w.ancestor,null);K=a.cloneNode(!1),F=this._nodeChange_startLine(D[0],K,Y,v,x,f,b,W,oe,z,V.container),F.endContainer&&(V.ancestor=null,V.container=F.endContainer),A<=0?V=F:V.container||(V.ancestor=null,V.container=F.container,V.offset=F.container.textContent.length),this._setCommonListStyle(F.ancestor,null),this._setCommonListStyle(V.ancestor||o.getFormatElement(V.container),null)}this.controllersOff(),this.setRange(F.container,F.offset,V.container,V.offset),this.history.push(!1)},_resetCommonListCell:function(a,r){if(!o.isListCell(a))return;r||(r=this._listKebab);let d=o.getArrayItem(a.childNodes,function(R){return!o.isBreak(R)},!0),p=a.style,m=[],b=[],f=o.getValues(p);for(let R=0,L=this._listKebab.length;R<L;R++)f.indexOf(this._listKebab[R])>-1&&r.indexOf(this._listKebab[R])>-1&&(m.push(this._listCamel[R]),b.push(this._listKebab[R]));if(!m.length)return;let v=o.createElement("SPAN");for(let R=0,L=m.length;R<L;R++)v.style[m[R]]=p[b[R]],p.removeProperty(b[R]);let x=v.cloneNode(!1),C=null,S=!1;for(let R=0,L=d.length,F,V;R<L;R++)F=d[R],!s._textTagsMap[F.nodeName.toLowerCase()]&&(V=o.getValues(F.style),V.length===0||m.some(function(K){return V.indexOf(K)===-1})&&V.some(function(K){m.indexOf(K)>-1})?(C=F.nextSibling,x.appendChild(F)):x.childNodes.length>0&&(a.insertBefore(x,C),x=v.cloneNode(!1),C=null,S=!0));return x.childNodes.length>0&&(a.insertBefore(x,C),S=!0),p.length||a.removeAttribute("style"),S},_setCommonListStyle:function(a,r){if(!o.isListCell(a))return;let d=o.getArrayItem((r||a).childNodes,function(x){return!o.isBreak(x)},!0);if(r=d[0],!r||d.length>1||r.nodeType!==1)return;let p=r.style,m=a.style,b=r.nodeName.toLowerCase(),f=!1;s._textTagsMap[b]===s._defaultCommand.bold.toLowerCase()&&(m.fontWeight="bold"),s._textTagsMap[b]===s._defaultCommand.italic.toLowerCase()&&(m.fontStyle="italic");let v=o.getValues(p);if(v.length>0)for(let x=0,C=this._listCamel.length;x<C;x++)v.indexOf(this._listKebab[x])>-1&&(m[this._listCamel[x]]=p[this._listCamel[x]],p.removeProperty(this._listKebab[x]),f=!0);if(this._setCommonListStyle(a,r),!!f&&!p.length){let x=r.childNodes,C=r.parentNode,S=r.nextSibling;for(;x.length>0;)C.insertBefore(x[0],S);o.removeItem(r)}},_stripRemoveNode:function(a){let r=a.parentNode;if(!a||a.nodeType===3||!r)return;let d=a.childNodes;for(;d[0];)r.insertBefore(d[0],a);r.removeChild(a)},_util_getMaintainedNode:function(a,r,d){return!d||a?null:this.getParentElement(d,this._isMaintainedNode.bind(this))||(r?null:this.getParentElement(d,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(a,r,d){if(!d||a||d.nodeType!==1)return!1;let p=this._isMaintainedNode(d);return this.getParentElement(d,this._isMaintainedNode.bind(this))?p:p||(r?!1:this._isSizeNode(d))},_nodeChange_oneLine:function(a,r,d,p,m,b,f,v,x,C,S,R,L){let F=p.parentNode;for(;!F.nextSibling&&!F.previousSibling&&!o.isFormatElement(F.parentNode)&&!o.isWysiwygDiv(F.parentNode)&&F.nodeName!==r.nodeName;)F=F.parentNode;if(!x&&F===b.parentNode&&F.nodeName===r.nodeName&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))&&o.onlyZeroWidthSpace(b.textContent.slice(f))){let de=F.childNodes,fe=!0;for(let pe=0,ze=de.length,qe,$e,Ze,Fe;pe<ze;pe++){if(qe=de[pe],Fe=!o.onlyZeroWidthSpace(qe),qe===p){$e=!0;continue}if(qe===b){Ze=!0;continue}if(!$e&&Fe||$e&&Ze&&Fe){fe=!1;break}}if(fe)return o.copyTagAttributes(F,r),{ancestor:a,startContainer:p,startOffset:m,endContainer:b,endOffset:f}}S.v=!1;let V=a,K=[r],te=a.cloneNode(!1),X=p===b,Z=p,j=m,W=b,Y=f,D=!1,Q=!1,A,$,le,oe,z,y=h.RegExp;function T(de){let fe=new y("(?:;|^|\\s)(?:"+oe+"null)\\s*:[^;]*\\s*(?:;|$)","ig"),pe="";return fe&&de.style.cssText.length>0&&(pe=fe.test(de.style.cssText)),!pe}if(function de(fe,pe){let ze=fe.childNodes;for(let qe=0,$e=ze.length,Ze;qe<$e;qe++){let Fe=ze[qe];if(!Fe)continue;let Ft=pe,rt;if(!D&&Fe===Z){let Ge=te;z=R(Fe);let Ye=o.createTextNode(Z.nodeType===1?"":Z.substringData(0,j)),et=o.createTextNode(Z.nodeType===1?"":Z.substringData(j,X&&Y>=j?Y-j:Z.data.length-j));if(z){let bi=R(pe);if(bi&&bi.parentNode!==Ge){let Vt=bi,Pn=null;for(;Vt.parentNode!==Ge;){for(pe=Pn=Vt.parentNode.cloneNode(!1);Vt.childNodes[0];)Pn.appendChild(Vt.childNodes[0]);Vt.appendChild(Pn),Vt=Vt.parentNode}Vt.parentNode.appendChild(bi)}z=z.cloneNode(!1)}o.onlyZeroWidthSpace(Ye)||pe.appendChild(Ye);let nt=R(pe);for(nt&&(z=nt),z&&(Ge=z),$=Fe,A=[],oe="";$!==Ge&&$!==V&&$!==null;)Ze=L($)?null:d($),Ze&&$.nodeType===1&&T($)&&(A.push(Ze),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;let $t=A.pop()||et;for(le=$=$t;A.length>0;)$=A.pop(),le.appendChild($),le=$;if(r.appendChild($t),Ge.appendChild(r),z&&!R(W)&&(r=r.cloneNode(!1),te.appendChild(r),K.push(r)),Z=et,j=0,D=!0,$!==et&&$.appendChild(Z),!X)continue}if(!Q&&Fe===W){z=R(Fe);let Ge=o.createTextNode(W.nodeType===1?"":W.substringData(Y,W.length-Y)),Ye=o.createTextNode(X||W.nodeType===1?"":W.substringData(0,Y));if(z?z=z.cloneNode(!1):L(r.parentNode)&&!z&&(r=r.cloneNode(!1),te.appendChild(r),K.push(r)),!o.onlyZeroWidthSpace(Ge)){$=Fe,oe="",A=[];let nt=[];for(;$!==te&&$!==V&&$!==null;)$.nodeType===1&&T($)&&(L($)?nt.push($.cloneNode(!1)):A.push($.cloneNode(!1)),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;for(A=A.concat(nt),rt=le=$=A.pop()||Ge;A.length>0;)$=A.pop(),le.appendChild($),le=$;te.appendChild(rt),$.textContent=Ge.data}if(z&&rt){let nt=R(rt);nt&&(z=nt)}for($=Fe,A=[],oe="";$!==te&&$!==V&&$!==null;)Ze=L($)?null:d($),Ze&&$.nodeType===1&&T($)&&(A.push(Ze),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;let et=A.pop()||Ye;for(le=$=et;A.length>0;)$=A.pop(),le.appendChild($),le=$;z?(r=r.cloneNode(!1),r.appendChild(et),z.insertBefore(r,z.firstChild),te.appendChild(z),K.push(r),z=null):r.appendChild(et),W=Ye,Y=Ye.data.length,Q=!0,!v&&C&&(r=Ye,Ye.textContent=o.zeroWidthSpace),$!==Ye&&$.appendChild(W);continue}if(D){if(Fe.nodeType===1&&!o.isBreak(Fe)){o._isIgnoreNodeChange(Fe)?(te.appendChild(Fe.cloneNode(!0)),C||(r=r.cloneNode(!1),te.appendChild(r),K.push(r))):de(Fe,Fe);continue}$=Fe,A=[],oe="";let Ge=[];for(;$.parentNode!==null&&$!==V&&$!==r;)Ze=Q?$.cloneNode(!1):d($),$.nodeType===1&&!o.isBreak(Fe)&&Ze&&T($)&&(L($)?z||Ge.push(Ze):A.push(Ze),oe+=$.style.cssText.substr(0,$.style.cssText.indexOf(":"))+"|"),$=$.parentNode;A=A.concat(Ge);let Ye=A.pop()||Fe;for(le=$=Ye;A.length>0;)$=A.pop(),le.appendChild($),le=$;if(L(r.parentNode)&&!L(Ye)&&!o.onlyZeroWidthSpace(r)&&(r=r.cloneNode(!1),te.appendChild(r),K.push(r)),!Q&&!z&&L(Ye)){r=r.cloneNode(!1);let et=Ye.childNodes;for(let nt=0,$t=et.length;nt<$t;nt++)r.appendChild(et[nt]);Ye.appendChild(r),te.appendChild(Ye),K.push(r),r.children.length>0?pe=$:pe=r}else Ye===Fe?Q?pe=te:pe=r:Q?(te.appendChild(Ye),pe=$):(r.appendChild(Ye),pe=$);if(z&&Fe.nodeType===3)if(R(Fe)){let et=o.getParentElement(pe,(function(nt){return this._isMaintainedNode(nt.parentNode)||nt.parentNode===te}).bind(o));z.appendChild(et),r=et.cloneNode(!1),K.push(r),te.appendChild(r)}else z=null}rt=Fe.cloneNode(!1),pe.appendChild(rt),Fe.nodeType===1&&!o.isBreak(Fe)&&(Ft=rt),de(Fe,Ft)}}(a,te),x&&!v&&!S.v)return{ancestor:a,startContainer:p,startOffset:m,endContainer:b,endOffset:f};if(v=v&&x,v)for(let de=0;de<K.length;de++){let fe=K[de],pe,ze,qe;if(C)pe=o.createTextNode(o.zeroWidthSpace),te.replaceChild(pe,fe);else{let $e=fe.childNodes;for(ze=$e[0];$e[0];)qe=$e[0],te.insertBefore(qe,fe);o.removeItem(fe)}de===0&&(C?Z=W=pe:(Z=ze,W=qe))}else{if(x)for(let de=0;de<K.length;de++)this._stripRemoveNode(K[de]);C&&(Z=W=r)}o.removeEmptyNode(te,r,!1),C&&(j=Z.textContent.length,Y=W.textContent.length);let w=v||W.textContent.length===0;!o.isBreak(W)&&W.textContent.length===0&&(o.removeItem(W),W=Z),Y=w?W.textContent.length:Y;let O={s:0,e:0},B=o.getNodePath(Z,te,O),E=!W.parentNode;E&&(W=Z);let q={s:0,e:0},G=o.getNodePath(W,te,!E&&!w?q:null);j+=O.s,Y=C?j:E?Z.textContent.length:w?Y+O.s:Y+q.s;let ue=o.mergeSameTags(te,[B,G],!0);return a.parentNode.replaceChild(te,a),Z=o.getNodeFromPath(B,te),W=o.getNodeFromPath(G,te),{ancestor:te,startContainer:Z,startOffset:j+ue[0],endContainer:W,endOffset:Y+ue[1]}},_nodeChange_startLine:function(a,r,d,p,m,b,f,v,x,C,S){let R=p.parentNode;for(;!R.nextSibling&&!R.previousSibling&&!o.isFormatElement(R.parentNode)&&!o.isWysiwygDiv(R.parentNode)&&R.nodeName!==r.nodeName;)R=R.parentNode;if(!f&&R.nodeName===r.nodeName&&!o.isFormatElement(R)&&!R.nextSibling&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))){let D=!0,Q=p.previousSibling;for(;Q;){if(!o.onlyZeroWidthSpace(Q)){D=!1;break}Q=Q.previousSibling}if(D)return o.copyTagAttributes(R,r),{ancestor:a,container:p,offset:m}}v.v=!1;let L=a,F=[r],V=a.cloneNode(!1),K=p,te=m,X=!1,Z,j,W,Y;if(function D(Q,A){let $=Q.childNodes;for(let le=0,oe=$.length,z,y;le<oe;le++){let T=$[le];if(!T)continue;let w=A;if(X&&!o.isBreak(T)){if(T.nodeType===1){if(o._isIgnoreNodeChange(T)){if(r=r.cloneNode(!1),y=T.cloneNode(!0),V.appendChild(y),V.appendChild(r),F.push(r),S&&T.contains(S)){let q=o.getNodePath(S,T);S=o.getNodeFromPath(q,y)}}else D(T,T);continue}j=T,Z=[];let O=[];for(;j.parentNode!==null&&j!==L&&j!==r;)z=d(j),j.nodeType===1&&z&&(C(j)?Y||O.push(z):Z.push(z)),j=j.parentNode;Z=Z.concat(O);let B=Z.length>0,E=Z.pop()||T;for(W=j=E;Z.length>0;)j=Z.pop(),W.appendChild(j),W=j;if(C(r.parentNode)&&!C(E)&&(r=r.cloneNode(!1),V.appendChild(r),F.push(r)),!Y&&C(E)){r=r.cloneNode(!1);let q=E.childNodes;for(let G=0,ue=q.length;G<ue;G++)r.appendChild(q[G]);E.appendChild(r),V.appendChild(E),A=C(j)?r:j,F.push(r)}else B?(r.appendChild(E),A=j):A=r;if(Y&&T.nodeType===3)if(x(T)){let q=o.getParentElement(A,(function(G){return this._isMaintainedNode(G.parentNode)||G.parentNode===V}).bind(o));Y.appendChild(q),r=q.cloneNode(!1),F.push(r),V.appendChild(r)}else Y=null}if(!X&&T===K){let O=V;Y=x(T);let B=o.createTextNode(K.nodeType===1?"":K.substringData(0,te)),E=o.createTextNode(K.nodeType===1?"":K.substringData(te,K.length-te));if(Y){let ue=x(A);if(ue&&ue.parentNode!==O){let de=ue,fe=null;for(;de.parentNode!==O;){for(A=fe=de.parentNode.cloneNode(!1);de.childNodes[0];)fe.appendChild(de.childNodes[0]);de.appendChild(fe),de=de.parentNode}de.parentNode.appendChild(ue)}Y=Y.cloneNode(!1)}o.onlyZeroWidthSpace(B)||A.appendChild(B);let q=x(A);for(q&&(Y=q),Y&&(O=Y),j=A,Z=[];j!==O&&j!==null;)z=d(j),j.nodeType===1&&z&&Z.push(z),j=j.parentNode;let G=Z.pop()||A;for(W=j=G;Z.length>0;)j=Z.pop(),W.appendChild(j),W=j;G!==A?(r.appendChild(G),A=j):A=r,o.isBreak(T)&&r.appendChild(T.cloneNode(!1)),O.appendChild(r),K=E,te=0,X=!0,A.appendChild(K);continue}z=X?d(T):T.cloneNode(!1),z&&(A.appendChild(z),T.nodeType===1&&!o.isBreak(T)&&(w=z)),D(T,w)}}(a,V),f&&!b&&!v.v)return{ancestor:a,container:p,offset:m,endContainer:S};if(b=b&&f,b)for(let D=0;D<F.length;D++){let Q=F[D],A=Q.childNodes,$=A[0];for(;A[0];)V.insertBefore(A[0],Q);o.removeItem(Q),D===0&&(K=$)}else if(f){r=r.firstChild;for(let D=0;D<F.length;D++)this._stripRemoveNode(F[D])}if(!b&&V.childNodes.length===0)a.childNodes?K=a.childNodes[0]:(K=o.createTextNode(o.zeroWidthSpace),a.appendChild(K));else{o.removeEmptyNode(V,r,!1),o.onlyZeroWidthSpace(V.textContent)&&(K=V.firstChild,te=0);let D={s:0,e:0},Q=o.getNodePath(K,V,D);te+=D.s;let A=o.mergeSameTags(V,[Q],!0);a.parentNode.replaceChild(V,a),K=o.getNodeFromPath(Q,V),te+=A[0]}return{ancestor:V,container:K,offset:te,endContainer:S}},_nodeChange_middleLine:function(a,r,d,p,m,b,f){if(!m){let S=null;f&&a.contains(f)&&(S=o.getNodePath(f,a));let R=a.cloneNode(!0),L=r.nodeName,F=r.style.cssText,V=r.className,K=R.childNodes,te=0,X=K.length;for(let Z;te<X&&(Z=K[te],Z.nodeType!==3);te++)if(Z.nodeName===L)Z.style.cssText+=F,o.addClass(Z,V);else{if(!o.isBreak(Z)&&o._isIgnoreNodeChange(Z))continue;if(X===1){K=Z.childNodes,X=K.length,te=-1;continue}else break}if(X>0&&te===X)return a.innerHTML=R.innerHTML,{ancestor:a,endContainer:S?o.getNodeFromPath(S,a):null}}b.v=!1;let v=a.cloneNode(!1),x=[r],C=!0;if(function S(R,L){let F=R.childNodes;for(let V=0,K=F.length,te,X;V<K;V++){let Z=F[V];if(!Z)continue;let j=L;if(!o.isBreak(Z)&&o._isIgnoreNodeChange(Z)){if(r.childNodes.length>0&&(v.appendChild(r),r=r.cloneNode(!1)),X=Z.cloneNode(!0),v.appendChild(X),v.appendChild(r),x.push(r),L=r,f&&Z.contains(f)){let W=o.getNodePath(f,Z);f=o.getNodeFromPath(W,X)}continue}else te=d(Z),te&&(C=!1,L.appendChild(te),Z.nodeType===1&&(j=te));o.isBreak(Z)||S(Z,j)}}(a,r),C||m&&!p&&!b.v)return{ancestor:a,endContainer:f};if(v.appendChild(r),p&&m)for(let S=0;S<x.length;S++){let R=x[S],L=R.childNodes;for(;L[0];)v.insertBefore(L[0],R);o.removeItem(R)}else if(m){r=r.firstChild;for(let S=0;S<x.length;S++)this._stripRemoveNode(x[S])}return o.removeEmptyNode(v,r,!1),o.mergeSameTags(v,null,!0),a.parentNode.replaceChild(v,a),{ancestor:v,endContainer:f}},_nodeChange_endLine:function(a,r,d,p,m,b,f,v,x,C){let S=p.parentNode;for(;!S.nextSibling&&!S.previousSibling&&!o.isFormatElement(S.parentNode)&&!o.isWysiwygDiv(S.parentNode)&&S.nodeName!==r.nodeName;)S=S.parentNode;if(!f&&S.nodeName===r.nodeName&&!o.isFormatElement(S)&&!S.previousSibling&&o.onlyZeroWidthSpace(p.textContent.slice(m))){let Y=!0,D=p.nextSibling;for(;D;){if(!o.onlyZeroWidthSpace(D)){Y=!1;break}D=D.nextSibling}if(Y)return o.copyTagAttributes(S,r),{ancestor:a,container:p,offset:m}}v.v=!1;let R=a,L=[r],F=a.cloneNode(!1),V=p,K=m,te=!1,X,Z,j,W;if(function Y(D,Q){let A=D.childNodes;for(let $=A.length-1,le;0<=$;$--){let oe=A[$];if(!oe)continue;let z=Q;if(te&&!o.isBreak(oe)){if(oe.nodeType===1){if(o._isIgnoreNodeChange(oe)){r=r.cloneNode(!1);let O=oe.cloneNode(!0);F.insertBefore(O,Q),F.insertBefore(r,O),L.push(r)}else Y(oe,oe);continue}Z=oe,X=[];let y=[];for(;Z.parentNode!==null&&Z!==R&&Z!==r;)le=d(Z),le&&Z.nodeType===1&&(C(Z)?W||y.push(le):X.push(le)),Z=Z.parentNode;X=X.concat(y);let T=X.length>0,w=X.pop()||oe;for(j=Z=w;X.length>0;)Z=X.pop(),j.appendChild(Z),j=Z;if(C(r.parentNode)&&!C(w)&&(r=r.cloneNode(!1),F.insertBefore(r,F.firstChild),L.push(r)),!W&&C(w)){r=r.cloneNode(!1);let O=w.childNodes;for(let B=0,E=O.length;B<E;B++)r.appendChild(O[B]);w.appendChild(r),F.insertBefore(w,F.firstChild),L.push(r),r.children.length>0?Q=Z:Q=r}else T?(r.insertBefore(w,r.firstChild),Q=Z):Q=r;if(W&&oe.nodeType===3)if(x(oe)){let O=o.getParentElement(Q,(function(B){return this._isMaintainedNode(B.parentNode)||B.parentNode===F}).bind(o));W.appendChild(O),r=O.cloneNode(!1),L.push(r),F.insertBefore(r,F.firstChild)}else W=null}if(!te&&oe===V){W=x(oe);let y=o.createTextNode(V.nodeType===1?"":V.substringData(K,V.length-K)),T=o.createTextNode(V.nodeType===1?"":V.substringData(0,K));if(W){W=W.cloneNode(!1);let O=x(Q);if(O&&O.parentNode!==F){let B=O,E=null;for(;B.parentNode!==F;){for(Q=E=B.parentNode.cloneNode(!1);B.childNodes[0];)E.appendChild(B.childNodes[0]);B.appendChild(E),B=B.parentNode}B.parentNode.insertBefore(O,B.parentNode.firstChild)}W=W.cloneNode(!1)}else C(r.parentNode)&&!W&&(r=r.cloneNode(!1),F.appendChild(r),L.push(r));for(o.onlyZeroWidthSpace(y)||Q.insertBefore(y,Q.firstChild),Z=Q,X=[];Z!==F&&Z!==null;)le=C(Z)?null:d(Z),le&&Z.nodeType===1&&X.push(le),Z=Z.parentNode;let w=X.pop()||Q;for(j=Z=w;X.length>0;)Z=X.pop(),j.appendChild(Z),j=Z;w!==Q?(r.insertBefore(w,r.firstChild),Q=Z):Q=r,o.isBreak(oe)&&r.appendChild(oe.cloneNode(!1)),W?(W.insertBefore(r,W.firstChild),F.insertBefore(W,F.firstChild),W=null):F.insertBefore(r,F.firstChild),V=T,K=T.data.length,te=!0,Q.insertBefore(V,Q.firstChild);continue}le=te?d(oe):oe.cloneNode(!1),le&&(Q.insertBefore(le,Q.firstChild),oe.nodeType===1&&!o.isBreak(oe)&&(z=le)),Y(oe,z)}}(a,F),f&&!b&&!v.v)return{ancestor:a,container:p,offset:m};if(b=b&&f,b)for(let Y=0;Y<L.length;Y++){let D=L[Y],Q=D.childNodes,A=null;for(;Q[0];)A=Q[0],F.insertBefore(A,D);o.removeItem(D),Y===L.length-1&&(V=A,K=A.textContent.length)}else if(f){r=r.firstChild;for(let Y=0;Y<L.length;Y++)this._stripRemoveNode(L[Y])}if(!b&&F.childNodes.length===0)a.childNodes?V=a.childNodes[0]:(V=o.createTextNode(o.zeroWidthSpace),a.appendChild(V));else{if(!f&&r.textContent.length===0)return o.removeEmptyNode(F,null,!1),{ancestor:null,container:null,offset:0};o.removeEmptyNode(F,r,!1),o.onlyZeroWidthSpace(F.textContent)?(V=F.firstChild,K=V.textContent.length):o.onlyZeroWidthSpace(V)&&(V=r,K=1);let Y={s:0,e:0},D=o.getNodePath(V,F,Y);K+=Y.s;let Q=o.mergeSameTags(F,[D],!0);a.parentNode.replaceChild(F,a),V=o.getNodeFromPath(D,F),K+=Q[0]}return{ancestor:F,container:V,offset:V.nodeType===1&&K===1?V.childNodes.length:K}},actionCall:function(a,r,d){if(r){if(/more/i.test(r)){if(d!==this._moreLayerActiveButton){let p=e.element.toolbar.querySelector("."+a);p&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=d,p.style.display="block",g._showToolbarBalloon(),g._showToolbarInline()),o.addClass(d,"on")}else e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),g._showToolbarBalloon(),g._showToolbarInline());return}if(/container/.test(r)&&(this._menuTray[a]===null||d!==this.containerActiveButton)){this.callPlugin(a,this.containerOn.bind(this,d),d);return}if(this.isReadOnly&&o.arrayIncludes(this.resizingDisabledButtons,d))return;if(/submenu/.test(r)&&(this._menuTray[a]===null||d!==this.submenuActiveButton)){this.callPlugin(a,this.submenuOn.bind(this,d),d);return}else if(/dialog/.test(r)){this.callPlugin(a,this.plugins[a].open.bind(this),d);return}else/command/.test(r)?this.callPlugin(a,this.plugins[a].action.bind(this),d):/fileBrowser/.test(r)&&this.callPlugin(a,this.plugins[a].open.bind(this,null),d)}else a&&this.commandHandler(d,a);/submenu/.test(r)?this.submenuOff():/command/.test(r)||(this.submenuOff(),this.containerOff())},commandHandler:function(a,r){if(!(u.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(r)))switch(r){case"copy":case"cut":this.execCommand(r);break;case"paste":break;case"selectAll":this.containerOff();let d=e.element.wysiwyg,p=o.getChildElement(d.firstChild,function(x){return x.childNodes.length===0||x.nodeType===3},!1)||d.firstChild,m=o.getChildElement(d.lastChild,function(x){return x.childNodes.length===0||x.nodeType===3},!0)||d.lastChild;if(!p||!m)return;if(o.isMedia(p)){let x=this.getFileComponent(p),C=o.createElement("BR"),S=o.createElement(s.defaultTag);S.appendChild(C),p=x?x.component:p,p.parentNode.insertBefore(S,p),p=C}if(o.isMedia(m)){let x=o.createElement("BR"),C=o.createElement(s.defaultTag);C.appendChild(x),d.appendChild(C),m=x}g._showToolbarBalloon(this.setRange(p,0,m,m.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(a);break;case"indent":case"outdent":this.indent(r);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof k.save=="function")k.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:r=s._defaultCommand[r.toLowerCase()]||r,this.commandMap[r]||(this.commandMap[r]=a);let b=this._variable.currentNodesMap,f=b.indexOf(r)>-1?null:o.createElement(r),v=r;/^SUB$/i.test(r)&&b.indexOf("SUP")>-1?v="SUP":/^SUP$/i.test(r)&&b.indexOf("SUB")>-1&&(v="SUB"),this.nodeChange(f,this._commandMapStyles[r]||null,[v],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(a){let r=this.getRange(),d=this.getSelectedElements(null),p=[],m=a!=="indent",b=s.rtl?"marginRight":"marginLeft",f=r.startContainer,v=r.endContainer,x=r.startOffset,C=r.endOffset;for(let S=0,R=d.length,L,F;S<R;S++)L=d[S],!o.isListCell(L)||!this.plugins.list?(F=/\d+/.test(L.style[b])?o.getNumber(L.style[b],0):0,m?F-=25:F+=25,o.setStyle(L,b,F<=0?"":F+"px")):(m||L.previousElementSibling)&&p.push(L);p.length>0&&this.plugins.list.editInsideList.call(this,m,p),this.effectNode=null,this.setRange(f,x,v,C),this.history.push(!1)},toggleDisplayBlocks:function(){let a=e.element.wysiwyg;o.toggleClass(a,"se-show-block"),o.hasClass(a,"se-show-block")?o.addClass(this._styleCommandMap.showBlocks,"active"):o.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){let a=this._variable.isCodeView;this.controllersOff(),o.setDisabledButtons(!a,this.codeViewDisabledButtons),a?(o.isNonEditable(e.element.wysiwygFrame)||this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,g._hideToolbar())),this.nativeFocus(),o.removeClass(this._styleCommandMap.codeView,"active"),o.isNonEditable(e.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?e.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,g._showToolbarInline())),this._variable._range=null,e.element.code.focus(),o.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&o.setDisabledButtons(!0,this.resizingDisabledButtons),typeof k.toggleCodeView=="function"&&k.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){let a=this._getCodeView();if(s.fullPage){let r=this._parser.parseFromString(a,"text/html");if(!this.options.__allowedScriptTag){let m=r.head.children;for(let b=0,f=m.length;b<f;b++)/^script$/i.test(m[b].tagName)&&(r.head.removeChild(m[b]),b--,f--)}let d=r.head.innerHTML;(!r.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!r.head.querySelector("style"))&&(d+=o._setIframeCssTags(this.options)),this._wd.head.innerHTML=d,this._wd.body.innerHTML=this.convertContentsForEditor(r.body.innerHTML);let p=r.body.attributes;for(let m=0,b=p.length;m<b;m++)p[m].name!=="contenteditable"&&this._wd.body.setAttribute(p[m].name,p[m].value);if(!o.hasClass(this._wd.body,"sun-editor-editable")){let m=s._editableClass.split(" ");for(let b=0;b<m.length;b++)o.addClass(this._wd.body,s._editableClass[b])}}else e.element.wysiwyg.innerHTML=a.length>0?this.convertContentsForEditor(a):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){let a=this.convertHTMLForCodeView(e.element.wysiwyg,!1),r="";if(s.fullPage){let d=o.getAttributesToString(this._wd.body,null);r=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+d+`>
`+a+`</body>
</html>`}else r=a;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(r)},toggleFullScreen:function(a){let r=e.element.topArea,d=e.element.toolbar,p=e.element.editorArea,m=e.element.wysiwygFrame,b=e.element.code,f=this._variable;this.controllersOff();let v=d.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;f.isFullScreen?(f.isFullScreen=!1,m.style.cssText=f._wysiwygOriginCssText,b.style.cssText=f._codeOriginCssText,d.style.cssText="",p.style.cssText=f._editorAreaOriginCssText,r.style.cssText=f._originCssText,c.body.style.overflow=f._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&g._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(d),s.stickyToolbar>-1&&o.removeClass(d,"se-toolbar-sticky"),f._fullScreenAttrs.sticky&&!s.toolbarContainer&&(f._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",o.addClass(d,"se-toolbar-sticky")),this._isInline=f._fullScreenAttrs.inline,this._isBalloon=f._fullScreenAttrs.balloon,this._isInline&&g._showToolbarInline(),s.toolbarContainer&&o.removeClass(d,"se-toolbar-balloon"),g.onScroll_window(),a&&o.changeElement(a.firstElementChild,_.expansion),e.element.topArea.style.marginTop="",o.removeClass(this._styleCommandMap.fullScreen,"active")):(f.isFullScreen=!0,f._fullScreenAttrs.inline=this._isInline,f._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&e.element.relative.insertBefore(d,p),r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.maxWidth="100%",r.style.height="100%",r.style.zIndex="2147483647",e.element._stickyDummy.style.display!==""&&(f._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",o.removeClass(d,"se-toolbar-sticky")),f._bodyOverflow=c.body.style.overflow,c.body.style.overflow="hidden",f._editorAreaOriginCssText=p.style.cssText,f._wysiwygOriginCssText=m.style.cssText,f._codeOriginCssText=b.style.cssText,p.style.cssText=d.style.cssText="",m.style.cssText=(m.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,b.style.cssText=(b.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],d.style.width=m.style.height=b.style.height="100%",d.style.position="relative",d.style.display="block",f.innerHeight_fullScreen=h.innerHeight-d.offsetHeight,p.style.height=f.innerHeight_fullScreen-s.fullScreenOffset+"px",a&&o.changeElement(a.firstElementChild,_.reduction),s.iframe&&s.height==="auto"&&(p.style.overflow="auto",this._iframeAutoHeight()),e.element.topArea.style.marginTop=s.fullScreenOffset+"px",o.addClass(this._styleCommandMap.fullScreen,"active")),v&&k.toolbar.hide(),typeof k.toggleFullScreen=="function"&&k.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){let a=o.createElement("IFRAME");a.style.display="none",c.body.appendChild(a);let r=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),d=o.getIframeDocument(a),p=this._wd;if(s.iframe){let m=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(p.body,["contenteditable"]):'class="'+s._editableClass+'"';d.write("<!DOCTYPE html><html><head>"+p.head.innerHTML+"</head><body "+m+">"+r+"</body></html>")}else{let m=c.head.getElementsByTagName("link"),b=c.head.getElementsByTagName("style"),f="";for(let v=0,x=m.length;v<x;v++)f+=m[v].outerHTML;for(let v=0,x=b.length;v<x;v++)f+=b[v].outerHTML;d.write("<!DOCTYPE html><html><head>"+f+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+r+"</body></html>")}this.showLoading(),h.setTimeout(function(){try{if(a.focus(),o.isIE_Edge||o.isChromium||c.documentMode||h.StyleMedia)try{a.contentWindow.document.execCommand("print",!1,null)}catch{a.contentWindow.print()}else a.contentWindow.print()}catch(m){throw Error("[SUNEDITOR.core.print.fail] error: "+m)}finally{u.closeLoading(),o.removeItem(a)}},1e3)},preview:function(){u.submenuOff(),u.containerOff(),u.controllersOff();let a=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),r=h.open("","_blank");r.mimeType="text/html";let d=this._wd;if(s.iframe){let p=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(d.body,["contenteditable"]):'class="'+s._editableClass+'"';r.document.write("<!DOCTYPE html><html><head>"+d.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+p+">"+a+"</body></html>")}else{let p=c.head.getElementsByTagName("link"),m=c.head.getElementsByTagName("style"),b="";for(let f=0,v=p.length;f<v;f++)b+=p[f].outerHTML;for(let f=0,v=m.length;f<v;f++)b+=m[f].outerHTML;r.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+i.toolbar.preview+"</title>"+b+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+a+"</body></html>")}},setDir:function(a){let r=a==="rtl",d=this._prevRtl!==r;this._prevRtl=s.rtl=r,d&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),e.tool.indent&&o.changeElement(e.tool.indent.firstElementChild,_.indent),e.tool.outdent&&o.changeElement(e.tool.outdent.firstElementChild,_.outdent));let p=e.element;r?(o.addClass(p.topArea,"se-rtl"),o.addClass(p.wysiwygFrame,"se-rtl")):(o.removeClass(p.topArea,"se-rtl"),o.removeClass(p.wysiwygFrame,"se-rtl"));let m=o.getListChildren(p.wysiwyg,function(f){return o.isFormatElement(f)&&(f.style.marginRight||f.style.marginLeft||f.style.textAlign)});for(let f=0,v=m.length,x,C,S;f<v;f++)x=m[f],S=x.style.marginRight,C=x.style.marginLeft,(S||C)&&(x.style.marginRight=C,x.style.marginLeft=S),S=x.style.textAlign,S==="left"?x.style.textAlign="right":S==="right"&&(x.style.textAlign="left");let b=e.tool;b.dir&&(o.changeTxt(b.dir.querySelector(".se-tooltip-text"),i.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),o.changeElement(b.dir.firstElementChild,_[s.rtl?"dir_ltr":"dir_rtl"])),b.dir_ltr&&(r?o.removeClass(b.dir_ltr,"active"):o.addClass(b.dir_ltr,"active")),b.dir_rtl&&(r?o.addClass(b.dir_rtl,"active"):o.removeClass(b.dir_rtl,"active"))},setContents:function(a){this.removeRange();let r=a==null?"":this.convertContentsForEditor(a,null,null);if(!this._variable.isCodeView)e.element.wysiwyg.innerHTML=r,this._resetComponents(),this.history.push(!1);else{let d=this.convertHTMLForCodeView(r,!1);this._setCodeView(d)}},setIframeContents:function(a){if(!s.iframe)return!1;a.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?a.head:a.head.replace(this.__scriptTagRegExp,"")),a.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(a.body)),this._resetComponents()},getContents:function(a){let r=this.cleanHTML(e.element.wysiwyg.innerHTML,null,null),d=o.createElement("DIV");d.innerHTML=r;let p=o.getListChildren(d,function(m){return m.hasAttribute("contenteditable")});for(let m=0,b=p.length;m<b;m++)p[m].removeAttribute("contenteditable");if(s.fullPage&&!a){let m=o.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+m+">"+d.innerHTML+"</body></html>"}else return d.innerHTML},getFullContents:function(a){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(a)+"</div>"},_makeLine:function(a,r){let d=s.defaultTag;if(a.nodeType===1){if(this.__disallowedTagNameRegExp.test(a.nodeName))return"";if(/__se__tag/.test(a.className))return a.outerHTML;let p=o.getListChildNodes(a,function(m){return o.isSpanWithoutAttr(m)&&!o.getParentElement(m,o.isNotCheckingNode)})||[];for(let m=p.length-1;m>=0;m--)p[m].outerHTML=p[m].innerHTML;return!r||o.isFormatElement(a)||o.isRangeFormatElement(a)||o.isComponent(a)||o.isFigures(a)||o.isAnchor(a)&&o.isMedia(a.firstElementChild)?o.isSpanWithoutAttr(a)?a.innerHTML:a.outerHTML:"<"+d+">"+(o.isSpanWithoutAttr(a)?a.innerHTML:a.outerHTML)+"</"+d+">"}if(a.nodeType===3){if(!r)return o._HTMLConvertor(a.textContent);let p=a.textContent.split(/\n/g),m="";for(let b=0,f=p.length,v;b<f;b++)v=p[b].trim(),v.length>0&&(m+="<"+d+">"+o._HTMLConvertor(v)+"</"+d+">");return m}return a.nodeType===8&&this._allowHTMLComments?"<!--"+a.textContent.trim()+"-->":""},_tagConvertor:function(a){if(!this._disallowedTextTagsRegExp)return a;let r=s._textTagsMap;return a.replace(this._disallowedTextTagsRegExp,function(d,p,m,b){return p+(typeof r[m]=="string"?r[m]:m)+(b?" "+b:"")})},_deleteDisallowedTags:function(a){return a=a.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(a=a.replace(/(<\/?)font(\s?)/gi,"$1span$2")),a.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(a,r){let d=this._w.Math,p=r.match(/(\d+(?:\.\d+)?)(.+)/),m=p?p[1]*1:o.fontValueMap[r],b=p?p[2]:"rem",f=m;switch(/em/.test(b)?f=d.round(m/.0625):b==="pt"?f=d.round(m*1.333):b==="%"&&(f=m/100),a){case"em":case"rem":case"%":return(f*.0625).toFixed(2)+a;case"pt":return d.floor(f/1.333)+a;default:return f+a}},_cleanStyle:function(a,r,d){let p=(a.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(d)&&!p&&(a.match(/<[^\s]+\s(.+)/)||[])[1]){let m=(a.match(/\ssize="([^"]+)"/i)||[])[1],b=(a.match(/\sface="([^"]+)"/i)||[])[1],f=(a.match(/\scolor="([^"]+)"/i)||[])[1];(m||b||f)&&(p='style="'+(m?"font-size:"+this.util.getNumber(m/3.333,1)+"rem;":"")+(b?"font-family:"+b+";":"")+(f?"color:"+f+";":"")+'"')}if(p){r||(r=[]);let m=p.replace(/&quot;/g,"").match(this._cleanStyleRegExp[d]);if(m){let b=[];for(let f=0,v=m.length,x;f<v;f++)if(x=m[f].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),x&&!/inherit|initial|revert|unset/i.test(x[3])){let C=o.kebabToCamelCase(x[1].trim()),S=this.wwComputedStyle[C]?this.wwComputedStyle[C].replace(/"/g,""):"",R=x[3].trim();switch(C){case"fontFamily":if(!s.plugins.font||s.font.indexOf(R)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(x[0])||(x[0]=x[0].replace((x[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(R))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(R))continue;break}S!==R&&b.push(x[0])}b.length>0&&r.push('style="'+b.join(";")+'"')}}return r},_cleanTags:function(a,r,d){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(r))return r;let p=null,m=d.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),b=this._attributesTagsBlacklist[m];r=r.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),b?r=r.replace(b,""):r=r.replace(this._attributesBlacklistRegExp,"");let f=this._attributesTagsWhitelist[m];if(f?p=r.match(f):p=r.match(a?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),a||m==="span"||m==="li"||this._cleanStyleRegExp[m])if(m==="a"){let v=r.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);v&&(p||(p=[]),p.push(v[0]))}else(!p||!/style=/i.test(p.toString()))&&((m==="span"||m==="li")&&(p=this._cleanStyle(r,p,"span")),this._cleanStyleRegExp[m]?p=this._cleanStyle(r,p,m):/^(P|DIV|H[1-6]|PRE)$/i.test(m)&&(p=this._cleanStyle(r,p,"format")));else{let v=r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);v&&!p?p=[v[0]]:v&&!p.some(function(x){return/^style/.test(x.trim())})&&p.push(v[0])}if(o.isFigures(m)){let v=r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);p||(p=[]),v&&p.push(v[0])}if(p)for(let v=0,x=p.length,C;v<x;v++)C=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(p[v].trim())?"":p[v],d+=(/^\s/.test(C)?"":" ")+C;return d},_editFormat:function(a){let r="",d,p=a.childNodes;for(let m=0,b=p.length,f;m<b;m++)f=p[m],f.nodeType===8?r+="<!-- "+f.textContent+" -->":!o.isFormatElement(f)&&!o.isRangeFormatElement(f)&&!o.isComponent(f)&&!/meta/i.test(f.nodeName)?(d||(d=o.createElement(s.defaultTag)),d.appendChild(f),m--,b--):(d&&(r+=d.outerHTML,d=null),r+=f.outerHTML);return d&&(r+=d.outerHTML),c.createRange().createContextualFragment(r)},_convertListCell:function(a){let r="";for(let d=0,p=a.length,m;d<p;d++)m=a[d],m.nodeType===1?o.isList(m)?r+=m.innerHTML:o.isListCell(m)?r+=m.outerHTML:o.isFormatElement(m)?r+="<li>"+(m.innerHTML.trim()||"<br>")+"</li>":o.isRangeFormatElement(m)&&!o.isTable(m)?r+=this._convertListCell(m):r+="<li>"+m.outerHTML+"</li>":r+="<li>"+(m.textContent||"<br>")+"</li>";return r},_isFormatData:function(a){let r=!1;for(let d=0,p=a.length,m;d<p;d++)if(m=a[d],m.nodeType===1&&!o.isTextStyleElement(m)&&!o.isBreak(m)&&!this.__disallowedTagNameRegExp.test(m.nodeName)){r=!0;break}return r},cleanHTML:function(a,r,d){if(!s.strictMode)return o.htmlCompress(a);a=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(a),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");let p=c.createRange().createContextualFragment(a);try{o._consistencyCheckOfHTML(p,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(v){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+v)}if(this.managedTagsInfo&&this.managedTagsInfo.query){let v=p.querySelectorAll(this.managedTagsInfo.query);for(let x=0,C=v.length,S,R;x<C;x++){R=[].slice.call(v[x].classList);for(let L=0,F=R.length;L<F;L++)if(S=this.managedTagsInfo.map[R[L]],S){S(v[x]);break}}}let m=p.childNodes,b="",f=this._isFormatData(m);f&&(m=this._editFormat(p).childNodes);for(let v=0,x=m.length,C;v<x;v++){if(C=m[v],this.__allowedScriptRegExp.test(C.nodeName)){b+=C.outerHTML;continue}b+=this._makeLine(C,f)}return b=o.htmlRemoveWhiteSpace(b),b?(r&&(b=b.replace(typeof r=="string"?o.createTagsWhitelist(r):r,"")),d&&(b=b.replace(typeof d=="string"?o.createTagsBlacklist(d):d,""))):b=a,this._tagConvertor(b)},convertContentsForEditor:function(a){if(!s.strictMode)return o.htmlCompress(a);a=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(a),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));let r=c.createRange().createContextualFragment(a);try{o._consistencyCheckOfHTML(r,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(b){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+b)}if(this.managedTagsInfo&&this.managedTagsInfo.query){let b=r.querySelectorAll(this.managedTagsInfo.query);for(let f=0,v=b.length,x,C;f<v;f++){C=[].slice.call(b[f].classList);for(let S=0,R=C.length;S<R;S++)if(x=this.managedTagsInfo.map[C[S]],x){x(b[f]);break}}}let d=r.childNodes,p="",m=null;for(let b=0,f;b<d.length;b++){if(f=d[b],this.__allowedScriptRegExp.test(f.nodeName)){p+=f.outerHTML;continue}if(!o.isFormatElement(f)&&!o.isRangeFormatElement(f)&&!o.isComponent(f)&&!o.isFigures(f)&&f.nodeType!==8&&!/__se__tag/.test(f.className)){if(m||(m=o.createElement(s.defaultTag)),m.appendChild(f),b--,d[b+1]&&!o.isFormatElement(d[b+1]))continue;f=m,m=null}m&&(p+=this._makeLine(m,!0),m=null),p+=this._makeLine(f,!0)}return m&&(p+=this._makeLine(m,!0)),p.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(p=o.htmlRemoveWhiteSpace(p),this._tagConvertor(p))},convertHTMLForCodeView:function(a,r){let d="",p=h.RegExp,m=new p("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),b=typeof a=="string"?c.createRange().createContextualFragment(a):a,f=(function(C){return this.isFormatElement(C)||this.isComponent(C)}).bind(o),v=r?"":`
`,x=r?0:this._variable.codeIndent*1;return x=x>0?new h.Array(x+1).join(" "):"",function C(S,R){let L=S.childNodes,F=m.test(S.nodeName),V=F?R:"";for(let K=0,te=L.length,X,Z,j,W,Y,D;K<te;K++){if(X=L[K],W=m.test(X.nodeName),Z=W?v:"",j=f(X)&&!F&&!/^(TH|TD)$/i.test(S.nodeName)?v:"",X.nodeType===8){d+=`
<!-- `+X.textContent.trim()+" -->"+Z;continue}if(X.nodeType===3){o.isList(X.parentElement)||(d+=o._HTMLConvertor(/^\n+$/.test(X.data)?"":X.data));continue}if(X.childNodes.length===0){d+=(/^HR$/i.test(X.nodeName)?v:"")+(/^PRE$/i.test(X.parentElement.nodeName)&&/^BR$/i.test(X.nodeName)?"":V)+X.outerHTML+Z;continue}X.outerHTML?(Y=X.nodeName.toLowerCase(),D=V||W?R:"",d+=(j||(F?"":Z))+D+X.outerHTML.match(p("<"+Y+"[^>]*>","i"))[0]+Z,C(X,R+x,""),d+=(/\n$/.test(d)?D:"")+"</"+Y+">"+(j||Z||F||/^(TH|TD)$/i.test(X.nodeName)?v:"")):d+=new h.XMLSerializer().serializeToString(X)}}(b,""),d.trim()+v},addDocEvent:function(a,r,d){c.addEventListener(a,r,d),s.iframe&&this._wd.addEventListener(a,r)},removeDocEvent:function(a,r){c.removeEventListener(a,r),s.iframe&&this._wd.removeEventListener(a,r)},_charCount:function(a){let r=s.maxCharCount,d=s.charCounterType,p=0;if(a&&(p=this.getCharLength(a,d)),this._setCharCount(),r>0){let m=!1,b=k.getCharCount(d);if(b>r){if(m=!0,p>0){this._editorRange();let f=this.getRange(),v=f.endOffset-1,x=this.getSelectionNode().textContent,C=f.endOffset-(b-r);this.getSelectionNode().textContent=x.slice(0,C<0?0:C)+x.slice(f.endOffset,x.length),this.setRange(f.endContainer,v,f.endContainer,v)}}else b+p>r&&(m=!0);if(m&&(this._callCounterBlink(),p>0))return!1}return!0},checkCharCount:function(a,r){if(s.maxCharCount){let d=r||s.charCounterType,p=this.getCharLength(typeof a=="string"?a:this._charTypeHTML&&a.nodeType===1?a.outerHTML:a.textContent,d);if(p>0&&p+k.getCharCount(d)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(a,r){return/byte/.test(r)?o.getByteLength(a):a.length},resetResponsiveToolbar:function(){u.controllersOff();let a=g._responsiveButtonSize;if(a){let r=0;(u._isBalloon||u._isInline)&&s.toolbarWidth==="auto"?r=e.element.topArea.offsetWidth:r=e.element.toolbar.offsetWidth;let d="default";for(let p=1,m=a.length;p<m;p++)if(r<a[p]){d=a[p]+"";break}g._responsiveCurrentSize!==d&&(g._responsiveCurrentSize=d,k.setToolbarButtons(g._responsiveButtons[d]))}},_setCharCount:function(){e.element.charCounter&&h.setTimeout((function(a,r){this.textContent&&a&&(this.textContent=a.getCharCount(r.charCounterType))}).bind(e.element.charCounter,k,s),0)},_callCounterBlink:function(){let a=e.element.charWrapper;a&&!o.hasClass(a,"se-blink")&&(o.addClass(a,"se-blink"),h.setTimeout(function(){o.removeClass(a,"se-blink")},600))},_checkComponents:function(){for(let a=0,r=this._fileInfoPluginsCheck.length;a<r;a++)this._fileInfoPluginsCheck[a]()},_resetComponents:function(){for(let a=0,r=this._fileInfoPluginsReset.length;a<r;a++)this._fileInfoPluginsReset[a]()},_setCodeView:function(a){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(a):e.element.code.value=a},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():e.element.code.value},_setKeyEffect:function(a){let r=this.commandMap,d=this.activePlugins;for(let p in r)a.indexOf(p)>-1||!o.hasOwn(r,p)||(d.indexOf(p)>-1?n[p].active.call(this,null):r.OUTDENT&&/^OUTDENT$/i.test(p)?o.isImportantDisabled(r.OUTDENT)||r.OUTDENT.setAttribute("disabled",!0):r.INDENT&&/^INDENT$/i.test(p)?o.isImportantDisabled(r.INDENT)||r.INDENT.removeAttribute("disabled"):o.removeClass(r[p],"active"))},_init:function(a,r){let d=h.RegExp;this._ww=s.iframe?e.element.wysiwygFrame.contentWindow:h,this._wd=c,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=h.getComputedStyle(e.element.wysiwyg),this._editorHeight=e.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=o.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+o.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=(function(W){return this.test(W)?W:""}).bind(s.allowedClassNames);let p=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new d("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new d("<("+p+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+p+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new d("^("+p+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new d("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof h.ShadowRoot=="function"){let W=e.element.wysiwygFrame;for(;W;){if(W.shadowRoot){this._shadowRoot=W.shadowRoot;break}else if(W instanceof h.ShadowRoot){this._shadowRoot=W;break}W=W.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}let m=h.Object.keys(s._textTagsMap),b=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(W){return/b|i|ins|s|strike/i.test(W)}):[];for(let W=0;W<b.length;W++)m.splice(m.indexOf(b[W].toLowerCase()),1);this._disallowedTextTagsRegExp=m.length===0?null:new d("(<\\/?)("+m.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");let f=function(W,Y){return W?W==="*"?"[a-z-]+":Y?W+"|"+Y:W:"^"},C="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",S="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new d("^("+f(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new d("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=o.createTagsWhitelist(f(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=o.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=o.createTagsWhitelist(f(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=o.createTagsBlacklist(s.pasteTagsBlacklist);let R='\\s*=\\s*(")[^"]*\\1',L=s.attributesWhitelist,F={},V="";if(L)for(let W in L)!o.hasOwn(L,W)||/^on[a-z]+$/i.test(L[W])||(W==="all"?V=f(L[W],C):F[W]=new d("\\s(?:"+f(L[W],"")+")"+R,"ig"));this._attributesWhitelistRegExp=new d("\\s(?:"+(V||C+"|"+S)+")"+R,"ig"),this._attributesWhitelistRegExp_all_data=new d("\\s(?:"+((V||C)+"|data-[a-z0-9\\-]+")+")"+R,"ig"),this._attributesTagsWhitelist=F;let K=s.attributesBlacklist;if(F={},V="",K)for(let W in K)o.hasOwn(K,W)&&(W==="all"?V=f(K[W],""):F[W]=new d("\\s(?:"+f(K[W],"")+")"+R,"ig"));this._attributesBlacklistRegExp=new d("\\s(?:"+(V||"^")+")"+R,"ig"),this._attributesTagsBlacklist=F,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};let te=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let X=[],Z,j;for(let W in n)if(o.hasOwn(n,W)){if(Z=n[W],j=t[W],(Z.active||Z.action)&&j&&this.callPlugin(W,null,j),typeof Z.checkFileInfo=="function"&&typeof Z.resetFileInfo=="function"&&(this.callPlugin(W,null,j),this._fileInfoPluginsCheck.push(Z.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(Z.resetFileInfo.bind(this))),h.Array.isArray(Z.fileTags)){let Y=Z.fileTags;this.callPlugin(W,null,j),this._fileManager.tags=this._fileManager.tags.concat(Y),X.push(W);for(let D=0,Q=Y.length;D<Q;D++)this._fileManager.pluginMap[Y[D].toLowerCase()]=W}if(Z.managedTags){let Y=Z.managedTags();te.push("."+Y.className),this.managedTagsInfo.map[Y.className]=Y.method.bind(this)}}this.managedTagsInfo.query=te.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new d("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new d("^("+(X.length===0?"^":X.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=xo(this,this._onChange_historyStack.bind(this)),this.addModule([Xn]),s.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(e.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(a,r)},_cachingButtons:function(){this.codeViewDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');let a=e.tool,r=this.commandMap;r.INDENT=a.indent,r.OUTDENT=a.outdent,r[s.textTags.bold.toUpperCase()]=a.bold,r[s.textTags.underline.toUpperCase()]=a.underline,r[s.textTags.italic.toUpperCase()]=a.italic,r[s.textTags.strike.toUpperCase()]=a.strike,r[s.textTags.sub.toUpperCase()]=a.subscript,r[s.textTags.sup.toUpperCase()]=a.superscript,this._styleCommandMap={fullScreen:a.fullScreen,showBlocks:a.showBlocks,codeView:a.codeView},this._saveButtonStates()},_initWysiwygArea:function(a,r){e.element.wysiwyg.innerHTML=a?r:this.convertContentsForEditor((typeof r=="string"?r:/^TEXTAREA$/i.test(e.element.originElement.nodeName)?e.element.originElement.value:e.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&g._applyTagEffects(),this._variable.isChanged=!0,e.tool.save&&e.tool.save.removeAttribute("disabled"),k.onChange&&k.onChange(this.getContents(!0),this),e.element.toolbar.style.display==="block"&&g._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?h.setTimeout(function(){let a=u._iframeAuto.offsetHeight;e.element.wysiwygFrame.style.height=a+"px",o.isResizeObserverSupported||u.__callResizeFunction(a,null)}):o.isResizeObserverSupported||u.__callResizeFunction(e.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(a,r){a=a===-1?r.borderBoxSize&&r.borderBoxSize[0]?r.borderBoxSize[0].blockSize:r.contentRect.height+this._editorHeightPadding:a,this._editorHeight!==a&&(typeof k.onResizeEditor=="function"&&k.onResizeEditor(a,this._editorHeight,u,r),this._editorHeight=a)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}let a=e.element.wysiwyg;!o.onlyZeroWidthSpace(a.textContent)||a.querySelector(o._allowedEmptyNodeList)||(a.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(a){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;let r=this.getRange(),d=r.commonAncestorContainer,p=r.startContainer,m=o.getRangeFormatElement(d,null),b,f,v,x=o.getParentElement(d,o.isComponent);if(!(x&&!o.isTable(x))){if(d.nodeType===1&&d.getAttribute("data-se-embed")==="true"){let C=d.nextElementSibling;o.isFormatElement(C)||(C=this.appendFormatTag(d,s.defaultTag)),this.setRange(C.firstChild,0,C.firstChild,0);return}if(!((o.isRangeFormatElement(p)||o.isWysiwygDiv(p))&&(o.isComponent(p.children[r.startOffset])||o.isComponent(p.children[r.startOffset-1])))){if(o.getParentElement(d,o.isNotCheckingNode))return null;if(m){v=o.createElement(a||s.defaultTag),v.innerHTML=m.innerHTML,v.childNodes.length===0&&(v.innerHTML=o.zeroWidthSpace),m.innerHTML=v.outerHTML,v=m.firstChild,b=o.getEdgeChildNodes(v,null).sc,b||(b=o.createTextNode(o.zeroWidthSpace),v.insertBefore(b,v.firstChild)),f=b.textContent.length,this.setRange(b,f,b,f);return}if(o.isRangeFormatElement(d)&&d.childNodes.length<=1){let C=null;d.childNodes.length===1&&o.isBreak(d.firstChild)?C=d.firstChild:(C=o.createTextNode(o.zeroWidthSpace),d.appendChild(C)),this.setRange(C,1,C,1);return}try{if(d.nodeType===3&&(v=o.createElement(a||s.defaultTag),d.parentNode.insertBefore(v,d),v.appendChild(d)),o.isBreak(v.nextSibling)&&o.removeItem(v.nextSibling),o.isBreak(v.previousSibling)&&o.removeItem(v.previousSibling),o.isBreak(b)){let C=o.createTextNode(o.zeroWidthSpace);b.parentNode.insertBefore(C,b),b=C}}catch{this.execCommand("formatBlock",!1,a||s.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(v&&(o.isBreak(v.nextSibling)&&o.removeItem(v.nextSibling),o.isBreak(v.previousSibling)&&o.removeItem(v.previousSibling),o.isBreak(b))){let C=o.createTextNode(o.zeroWidthSpace);b.parentNode.insertBefore(C,b),b=C}this.effectNode=null,p?this.setRange(p,1,p,1):this.nativeFocus()}}},_setOptionsInit:function(a,r){this.context=e=gi(a.originElement,this._getConstructed(a),s),this._componentsInfoReset=!0,this._editorInit(!0,r)},_editorInit:function(a,r){this._init(a,r),g._addEvent(),this._setCharCount(),g._offStickyToolbar(),g.onResize_window(),e.element.toolbar.style.visibility="";let d=s.frameAttrbutes;for(let p in d)e.element.wysiwyg.setAttribute(p,d[p]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),h.setTimeout(function(){typeof u._resourcesStateChange=="function"&&(g._resizeObserver&&g._resizeObserver.observe(e.element.wysiwygFrame),g._toolbarObserver&&g._toolbarObserver.observe(e.element._toolbarShadow),u._resourcesStateChange(),typeof k.onload=="function"&&k.onload(u,a))})},_getConstructed:function(a){return{_top:a.topArea,_relative:a.relative,_toolBar:a.toolbar,_toolbarShadow:a._toolbarShadow,_menuTray:a._menuTray,_editorArea:a.editorArea,_wysiwygArea:a.wysiwygFrame,_codeArea:a.code,_placeholder:a.placeholder,_resizingBar:a.resizingBar,_navigation:a.navigation,_charCounter:a.charCounter,_charWrapper:a.charWrapper,_loading:a.loading,_lineBreaker:a.lineBreaker,_lineBreaker_t:a.lineBreaker_t,_lineBreaker_b:a.lineBreaker_b,_resizeBack:a.resizeBackground,_stickyDummy:a._stickyDummy,_arrow:a._arrow}}},g={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new h.RegExp("^(8|46)$"),_cursorMoveKeyCode:new h.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new h.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new h.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new h.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new h.RegExp("^("+h.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new h.RegExp(o.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(a,r){let d=null,p=g._keyCodeShortcut[a];switch(p){case"A":d="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(d="bold");break;case"S":r&&s.shortcutsDisable.indexOf("strike")===-1?d="strike":!r&&s.shortcutsDisable.indexOf("save")===-1&&(d="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(d="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(d="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(r?d="redo":d="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(d="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(d=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(d=s.rtl?"outdent":"indent");break}return d?(u.commandHandler(u.commandMap[d],d),!0):!!p},_applyTagEffects:function(){if(o.hasClass(e.element.wysiwyg,"se-read-only"))return!1;let a=u.getSelectionNode();if(a===u.effectNode)return;u.effectNode=a;let r=s.rtl?"marginRight":"marginLeft",d=u.commandMap,p=g._onButtonsCheck,m=[],b=[],f=u.activePlugins,v=f.length,x="";for(;a.firstChild;)a=a.firstChild;for(let C=a;!o.isWysiwygDiv(C)&&C;C=C.parentNode)if(!(C.nodeType!==1||o.isBreak(C))){if(x=C.nodeName.toUpperCase(),b.push(x),!u.isReadOnly)for(let S=0,R;S<v;S++)R=f[S],m.indexOf(R)===-1&&n[R].active.call(u,C)&&m.push(R);if(o.isFormatElement(C)){m.indexOf("OUTDENT")===-1&&d.OUTDENT&&!o.isImportantDisabled(d.OUTDENT)&&(o.isListCell(C)||C.style[r]&&o.getNumber(C.style[r],0)>0)&&(m.push("OUTDENT"),d.OUTDENT.removeAttribute("disabled")),m.indexOf("INDENT")===-1&&d.INDENT&&!o.isImportantDisabled(d.INDENT)&&(m.push("INDENT"),o.isListCell(C)&&!C.previousElementSibling?d.INDENT.setAttribute("disabled",!0):d.INDENT.removeAttribute("disabled"));continue}p&&p.test(x)&&(m.push(x),o.addClass(d[x],"active"))}u._setKeyEffect(m),u._variable.currentNodes=b.reverse(),u._variable.currentNodesMap=m,s.showPathLabel&&(e.element.navigation.textContent=u._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(a){let r=a.target;if(u._bindControllersOff&&a.stopPropagation(),/^(input|textarea|select|option)$/i.test(r.nodeName)?u._antiBlur=!1:a.preventDefault(),o.getParentElement(r,".se-submenu"))a.stopPropagation(),u._notHideToolbar=!0;else{let d=r.getAttribute("data-command"),p=r.className;for(;!d&&!/se-menu-list/.test(p)&&!/sun-editor-common/.test(p);)r=r.parentNode,d=r.getAttribute("data-command"),p=r.className;(d===u._submenuName||d===u._containerName)&&a.stopPropagation()}},addGlobalEvent:function(a,r,d){return s.iframe&&u._ww.addEventListener(a,r,d),u._w.addEventListener(a,r,d),{type:a,listener:r,useCapture:d}},removeGlobalEvent:function(a,r,d){a&&(typeof a=="object"&&(r=a.listener,d=a.useCapture,a=a.type),s.iframe&&u._ww.removeEventListener(a,r,d),u._w.removeEventListener(a,r,d))},onClick_toolbar:function(a){let r=a.target,d=r.getAttribute("data-display"),p=r.getAttribute("data-command"),m=r.className;for(u.controllersOff();r.parentNode&&!p&&!/se-menu-list/.test(m)&&!/se-toolbar/.test(m);)r=r.parentNode,p=r.getAttribute("data-command"),d=r.getAttribute("data-display"),m=r.className;!p&&!d||r.disabled||u.actionCall(p,d,r)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(a){if(u.isReadOnly||o.isNonEditable(e.element.wysiwyg))return;if(o._isExcludeSelectionElement(a.target)){a.preventDefault();return}if(g.removeGlobalEvent(g.__selectionSyncEvent),g.__selectionSyncEvent=g.addGlobalEvent("mouseup",function(){u&&u._editorRange(),g.removeGlobalEvent(g.__selectionSyncEvent)}),typeof k.onMouseDown=="function"&&k.onMouseDown(a,u)===!1)return;let r=o.getParentElement(a.target,o.isCell);if(r){let d=u.plugins.table;d&&r!==d._fixedCell&&!d._shift&&u.callPlugin("table",function(){d.onTableCellMultiSelect.call(u,r,!1)},null)}u._isBalloon&&g._hideToolbar()},onClick_wysiwyg:function(a){let r=a.target;if(u.isReadOnly)return a.preventDefault(),o.isAnchor(r)&&h.open(r.href,r.target),!1;if(o.isNonEditable(e.element.wysiwyg)||typeof k.onClick=="function"&&k.onClick(a,u)===!1)return;let d=u.getFileComponent(r);if(d){a.preventDefault(),u.selectComponent(d.target,d.pluginName);return}let p=o.getParentElement(r,"FIGCAPTION");if(p&&o.isNonEditable(p)&&(a.preventDefault(),p.focus(),u._isInline&&!u._inlineToolbarAttr.isShow)){g._showToolbarInline();let C=function(){g._hideToolbar(),p.removeEventListener("blur",C)};p.addEventListener("blur",C)}if(u._editorRange(),a.detail===3){let C=u.getRange();o.isFormatElement(C.endContainer)&&C.endOffset===0&&(C=u.setRange(C.startContainer,C.startOffset,C.startContainer,C.startContainer.length),u._rangeInfo(C,u.getSelection()))}let m=u.getSelectionNode(),b=o.getFormatElement(m,null),f=o.getRangeFormatElement(m,null),v=m;for(;v&&v.firstChild;)v=v.firstChild;let x=u.getFileComponent(v);if(x){let C=u.getRange();!f&&C.startContainer===C.endContainer&&u.selectComponent(x.target,x.pluginName)}else u.currentFileComponentInfo&&u.controllersOff();if(!b&&!o.isNonEditable(r)&&!o.isList(f)){let C=u.getRange();if(o.getFormatElement(C.startContainer)===o.getFormatElement(C.endContainer))if(o.isList(f)){a.preventDefault();let S=o.createElement("LI"),R=m.nextElementSibling;S.appendChild(m),f.insertBefore(S,R),u.focus()}else!o.isWysiwygDiv(m)&&!o.isComponent(m)&&(!o.isTable(m)||o.isCell(m))&&u._setDefaultFormat(o.isRangeFormatElement(f)?"DIV":s.defaultTag)!==null?(a.preventDefault(),u.focus()):g._applyTagEffects()}else g._applyTagEffects();u._isBalloon&&h.setTimeout(g._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){g._balloonDelay&&h.clearTimeout(g._balloonDelay),g._balloonDelay=h.setTimeout((function(){h.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}).bind(g),350)},_toggleToolbarBalloon:function(){if(u){u._editorRange();let a=u.getRange();u._bindControllersOff||!u._isBalloonAlways&&a.collapsed?g._hideToolbar():g._showToolbarBalloon(a)}},_showToolbarBalloon:function(a){if(!u._isBalloon)return;let r=a||u.getRange(),d=e.element.toolbar,p=e.element.topArea,m=u.getSelection(),b;if(u._isBalloonAlways&&r.collapsed)b=!0;else if(m.focusNode===m.anchorNode)b=m.focusOffset<m.anchorOffset;else{let Z=o.getListChildNodes(r.commonAncestorContainer,null);b=o.getArrayIndex(Z,m.focusNode)<o.getArrayIndex(Z,m.anchorNode)}let f=r.getClientRects();f=f[b?0:f.length-1];let v=u.getGlobalScrollOffset(),x=v.left,C=v.top,S=p.offsetWidth,R=g._getEditorOffsets(null),L=R.top,F=R.left;if(d.style.top="-10000px",d.style.visibility="hidden",d.style.display="block",!f){let Z=u.getSelectionNode();if(o.isFormatElement(Z)){let j=o.createTextNode(o.zeroWidthSpace);u.insertNode(j,null,!1),u.setRange(j,1,j,1),u._editorRange(),f=u.getRange().getClientRects(),f=f[b?0:f.length-1]}if(!f){let j=o.getOffset(Z,e.element.wysiwygFrame);f={left:j.left,top:j.top,right:j.left,bottom:j.top+Z.offsetHeight,noText:!0},x=0,C=0}b=!0}let V=h.Math.round(e.element._arrow.offsetWidth/2),K=d.offsetWidth,te=d.offsetHeight,X=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;if(X&&(f={left:f.left+X.left,top:f.top+X.top,right:f.right+X.right-X.width,bottom:f.bottom+X.bottom-X.height}),g._setToolbarOffset(b,f,d,F,S,x,C,L,V),(K!==d.offsetWidth||te!==d.offsetHeight)&&g._setToolbarOffset(b,f,d,F,S,x,C,L,V),s.toolbarContainer){let Z=p.parentElement,j=s.toolbarContainer,W=j.offsetLeft,Y=j.offsetTop;for(;!j.parentElement.contains(Z)||!/^(BODY|HTML)$/i.test(j.parentElement.nodeName);)j=j.offsetParent,W+=j.offsetLeft,Y+=j.offsetTop;d.style.left=d.offsetLeft-W+p.offsetLeft+"px",d.style.top=d.offsetTop-Y+p.offsetTop+"px"}d.style.visibility=""},_setToolbarOffset:function(a,r,d,p,m,b,f,v,x){let S=d.offsetWidth,R=r.noText&&!a?0:d.offsetHeight,L=(a?r.left:r.right)-p-S/2+b,F=L+S-m,V=(a?r.top-R-x:r.bottom+x)-(r.noText?0:v)+f,K=L<0?1:F<0?L:L-F-1-1,te=!1,X=V+(a?g._getEditorOffsets(null).top:d.offsetHeight-e.element.wysiwyg.offsetHeight);!a&&X>0&&g._getPageBottomSpace()<X?(a=!0,te=!0):a&&c.documentElement.offsetTop>X&&(a=!1,te=!0),te&&(V=(a?r.top-R-x:r.bottom+x)-(r.noText?0:v)+f),d.style.left=h.Math.floor(K)+"px",d.style.top=h.Math.floor(V)+"px",a?(o.removeClass(e.element._arrow,"se-arrow-up"),o.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=R+"px"):(o.removeClass(e.element._arrow,"se-arrow-down"),o.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-x+"px");let Z=h.Math.floor(S/2+(L-K));e.element._arrow.style.left=(Z+x>d.offsetWidth?d.offsetWidth-x:Z<x?x:Z)+"px"},_showToolbarInline:function(){if(!u._isInline)return;let a=e.element.toolbar;s.toolbarContainer?a.style.position="relative":a.style.position="absolute",a.style.visibility="hidden",a.style.display="block",u._inlineToolbarAttr.width=a.style.width=s.toolbarWidth,u._inlineToolbarAttr.top=a.style.top=(s.toolbarContainer?0:-1-a.offsetHeight)+"px",typeof k.showInline=="function"&&k.showInline(a,e,u),g.onScroll_window(),u._inlineToolbarAttr.isShow=!0,a.style.visibility=""},_hideToolbar:function(){!u._notHideToolbar&&!u._variable.isFullScreen&&(e.element.toolbar.style.display="none",u._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(a){if(/AUDIO/.test(a.target.nodeName))return!1;if(u.isReadOnly||u.isDisabled)return a.preventDefault(),a.stopPropagation(),u.history.go(u.history.getCurrentIndex()),!1;let r=u.getRange(),d=u.getSelectionNode(),p=o.getFormatElement(d,null);if(!p&&r.collapsed&&!o.isComponent(d)&&!o.isList(d)){let b=o.getRangeFormatElement(p,null);u._setDefaultFormat(o.isRangeFormatElement(b)?"DIV":s.defaultTag)}u._editorRange();let m=(a.data===null?"":a.data===void 0?" ":a.data)||"";if(!u._charCount(m))return a.preventDefault(),a.stopPropagation(),!1;typeof k.onInput=="function"&&k.onInput(a,u)===!1||u.history.push(!0)},_isUneditableNode:function(a,r){let d=r?a.startContainer:a.endContainer,p=r?a.startOffset:a.endOffset,m=r?"previousSibling":"nextSibling",b=d.nodeType===1,f;return b?(f=g._isUneditableNode_getSibling(d.childNodes[p],m,d),f&&f.nodeType===1&&f.getAttribute("contenteditable")==="false"):(f=g._isUneditableNode_getSibling(d,m,d),u.isEdgePoint(d,p,r?"start":"end")&&f&&f.nodeType===1&&f.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(a,r,d){if(!a)return null;let p=a[r];if(!p)if(p=o.getFormatElement(d),p=p?p[r]:null,p&&!o.isComponent(p))p=r==="previousSibling"?p.firstChild:p.lastChild;else return null;return p},_onShortcutKey:!1,onKeyDown_wysiwyg:function(a){let r=u.getSelectionNode();if(o.isInputElement(r))return;let d=a.keyCode,p=a.shiftKey,m=a.ctrlKey||a.metaKey||d===91||d===92||d===224,b=a.altKey;if(g._IEisComposing=d===229,!m&&u.isReadOnly&&!g._cursorMoveKeyCode.test(d))return a.preventDefault(),!1;if(u.submenuOff(),u._isBalloon&&g._hideToolbar(),typeof k.onKeyDown=="function"&&k.onKeyDown(a,u)===!1)return;if(m&&g._shortcutCommand(d,p))return g._onShortcutKey=!0,a.preventDefault(),a.stopPropagation(),!1;g._onShortcutKey&&(g._onShortcutKey=!1),d===13&&o.isFormatElement(u.getRange().startContainer)&&(u._resetRangeToTextNode(),r=u.getSelectionNode());let f=u.getRange(),v=!f.collapsed||f.startContainer!==f.endContainer,x=u._fileManager.pluginRegExp.test(u.currentControllerName)?u.currentControllerName:"",C=o.getFormatElement(r,null)||r,S=o.getRangeFormatElement(C,null);if(!(/37|38|39|40/.test(a.keyCode)&&g._onKeyDown_wysiwyg_arrowKey(a)===!1)){switch(d){case 8:if(!v&&x){a.preventDefault(),a.stopPropagation(),u.plugins[x].destroy.call(u);break}if(v&&g._hardDelete()){a.preventDefault(),a.stopPropagation();break}if(!o.isFormatElement(C)&&!e.element.wysiwyg.firstElementChild&&!o.isComponent(r)&&u._setDefaultFormat(s.defaultTag)!==null)return a.preventDefault(),a.stopPropagation(),!1;if(!v&&!C.previousElementSibling&&f.startOffset===0&&!r.previousSibling&&!o.isListCell(C)&&o.isFormatElement(C)&&(!o.isFreeFormatElement(C)||o.isClosureFreeFormatElement(C))){if(o.isClosureRangeFormatElement(C.parentNode))return a.preventDefault(),a.stopPropagation(),!1;if(o.isWysiwygDiv(C.parentNode)&&C.childNodes.length<=1&&(!C.firstChild||o.onlyZeroWidthSpace(C.textContent))){if(a.preventDefault(),a.stopPropagation(),C.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){C.innerHTML="<br>";let D=C.attributes;for(;D[0];)C.removeAttribute(D[0].name)}else{let D=o.createElement(s.defaultTag);D.innerHTML="<br>",C.parentElement.replaceChild(D,C)}return u.nativeFocus(),!1}}let L=f.startContainer;if(C&&!C.previousElementSibling&&f.startOffset===0&&L.nodeType===3&&!o.isFormatElement(L.parentNode)){let D=L.parentNode.previousSibling,Q=L.parentNode.nextSibling;D||(Q?D=Q:(D=o.createElement("BR"),C.appendChild(D)));let A=L;for(;C.contains(A)&&!A.previousSibling;)A=A.parentNode;if(!C.contains(A)){L.textContent="",o.removeItemAllParents(L,null,C);break}}if(g._isUneditableNode(f,!0)){a.preventDefault(),a.stopPropagation();break}!v&&u._isEdgeFormat(f.startContainer,f.startOffset,"start")&&o.isFormatElement(C.previousElementSibling)&&(u._formatAttrsTemp=C.previousElementSibling.attributes);let F=f.commonAncestorContainer;if(C=o.getFormatElement(f.startContainer,null),S=o.getRangeFormatElement(C,null),S&&C&&!o.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){if(o.isListCell(C)&&o.isList(S)&&(o.isListCell(S.parentNode)||C.previousElementSibling)&&(r===C||r.nodeType===3&&(!r.previousSibling||o.isList(r.previousSibling)))&&(o.getFormatElement(f.startContainer,null)!==o.getFormatElement(f.endContainer,null)?S.contains(f.startContainer):f.startOffset===0&&f.collapsed)){if(f.startContainer!==f.endContainer)a.preventDefault(),u.removeNode(),f.startContainer.nodeType===3&&u.setRange(f.startContainer,f.startContainer.textContent.length,f.startContainer,f.startContainer.textContent.length),u.history.push(!0);else{let D=C.previousElementSibling||S.parentNode;if(o.isListCell(D)){a.preventDefault();let Q=D;if(!D.contains(C)&&o.isListCell(Q)&&o.isList(Q.lastElementChild)){for(Q=Q.lastElementChild.lastElementChild;o.isListCell(Q)&&o.isList(Q.lastElementChild);)Q=Q.lastElementChild&&Q.lastElementChild.lastElementChild;D=Q}let A=D===S.parentNode?S.previousSibling:D.lastChild;A||(A=o.createTextNode(o.zeroWidthSpace),S.parentNode.insertBefore(A,S.parentNode.firstChild));let $=A.nodeType===3?A.textContent.length:1,le=C.childNodes,oe=A,z=le[0];for(;z=le[0];)D.insertBefore(z,oe.nextSibling),oe=z;o.removeItem(C),S.children.length===0&&o.removeItem(S),u.setRange(A,$,A,$),u.history.push(!0)}}break}if(!v&&f.startOffset===0){let D=!0,Q=F;for(;Q&&Q!==S&&!o.isWysiwygDiv(Q);){if(Q.previousSibling&&(Q.previousSibling.nodeType===1||!o.onlyZeroWidthSpace(Q.previousSibling.textContent.trim()))){D=!1;break}Q=Q.parentNode}if(D&&S.parentNode){a.preventDefault(),u.detachRangeFormatElement(S,o.isListCell(C)?[C]:null,null,!1,!1),u.history.push(!0);break}}}if(!v&&C&&(f.startOffset===0||r===C&&C.childNodes[f.startOffset])){let D=r===C?C.childNodes[f.startOffset]:r,Q=C.previousSibling,A=(F.nodeType===3||o.isBreak(F))&&!F.previousSibling&&f.startOffset===0;if(D&&!D.previousSibling&&(F&&o.isComponent(F.previousSibling)||A&&o.isComponent(Q))){let $=u.getFileComponent(Q);$?(a.preventDefault(),a.stopPropagation(),C.textContent.length===0&&o.removeItem(C),u.selectComponent($.target,$.pluginName)===!1&&u.blur()):o.isComponent(Q)&&(a.preventDefault(),a.stopPropagation(),o.removeItem(Q));break}if(D&&o.isNonEditable(D.previousSibling)){a.preventDefault(),a.stopPropagation(),o.removeItem(D.previousSibling);break}}break;case 46:if(x){a.preventDefault(),a.stopPropagation(),u.plugins[x].destroy.call(u);break}if(v&&g._hardDelete()){a.preventDefault(),a.stopPropagation();break}if(!v&&u._isEdgeFormat(f.endContainer,f.endOffset,"end")&&!C.nextSibling){a.preventDefault(),a.stopPropagation();return}if(g._isUneditableNode(f,!1)){a.preventDefault(),a.stopPropagation();break}if((o.isFormatElement(r)||r.nextSibling===null||o.onlyZeroWidthSpace(r.nextSibling)&&r.nextSibling.nextSibling===null)&&f.startOffset===r.textContent.length){let D=C.nextElementSibling;if(!D)break;if(o.isComponent(D)){if(a.preventDefault(),o.onlyZeroWidthSpace(C)&&(o.removeItem(C),o.isTable(D))){let A=o.getChildElement(D,o.isCell,!1);A=A.firstElementChild||A,u.setRange(A,0,A,0);break}let Q=u.getFileComponent(D);Q?(a.stopPropagation(),u.selectComponent(Q.target,Q.pluginName)===!1&&u.blur()):o.isComponent(D)&&(a.stopPropagation(),o.removeItem(D));break}}if(!v&&(u.isEdgePoint(f.endContainer,f.endOffset)||r===C&&C.childNodes[f.startOffset])){let D=r===C&&C.childNodes[f.startOffset]||r;if(D&&o.isNonEditable(D.nextSibling)){a.preventDefault(),a.stopPropagation(),o.removeItem(D.nextSibling);break}else if(o.isComponent(D)){a.preventDefault(),a.stopPropagation(),o.removeItem(D);break}}if(!v&&u._isEdgeFormat(f.endContainer,f.endOffset,"end")&&o.isFormatElement(C.nextElementSibling)&&(u._formatAttrsTemp=C.attributes),C=o.getFormatElement(f.startContainer,null),S=o.getRangeFormatElement(C,null),o.isListCell(C)&&o.isList(S)&&(r===C||r.nodeType===3&&(!r.nextSibling||o.isList(r.nextSibling))&&(o.getFormatElement(f.startContainer,null)!==o.getFormatElement(f.endContainer,null)?S.contains(f.endContainer):f.endOffset===r.textContent.length&&f.collapsed))){f.startContainer!==f.endContainer&&u.removeNode();let D=o.getArrayItem(C.children,o.isList,!1);if(D=D||C.nextElementSibling||S.parentNode.nextElementSibling,D&&(o.isList(D)||o.getArrayItem(D.children,o.isList,!1))){a.preventDefault();let Q,A;if(o.isList(D)){let $=D.firstElementChild;for(A=$.childNodes,Q=A[0];A[0];)C.insertBefore(A[0],D);o.removeItem($)}else{for(Q=D.firstChild,A=D.childNodes;A[0];)C.appendChild(A[0]);o.removeItem(D)}u.setRange(Q,0,Q,0),u.history.push(!0)}break}break;case 9:if(x||s.tabDisable||(a.preventDefault(),m||b||o.isWysiwygDiv(r)))break;let V=!f.collapsed||u.isEdgePoint(f.startContainer,f.startOffset),K=u.getSelectedElements(null);r=u.getSelectionNode();let te=[],X=[],Z=o.isListCell(K[0]),j=o.isListCell(K[K.length-1]),W={sc:f.startContainer,so:f.startOffset,ec:f.endContainer,eo:f.endOffset};for(let D=0,Q=K.length,A;D<Q;D++)if(A=K[D],o.isListCell(A)){if(!A.previousElementSibling&&!p)continue;te.push(A)}else X.push(A);if(te.length>0&&V&&u.plugins.list)W=u.plugins.list.editInsideList.call(u,p,te);else{let D=o.getParentElement(r,o.isCell);if(D&&V){let Q=o.getParentElement(D,"table"),A=o.getListChildren(Q,o.isCell),$=p?o.prevIdx(A,D):o.nextIdx(A,D);$===A.length&&!p&&($=0),$===-1&&p&&($=A.length-1);let le=A[$];if(!le)break;le=le.firstElementChild||le,u.setRange(le,0,le,0);break}X=X.concat(te),Z=j=null}if(X.length>0)if(p){let D=X.length-1;for(let $=0,le;$<=D;$++){le=X[$].childNodes;for(let oe=0,z=le.length,y;oe<z&&(y=le[oe],!!y);oe++)if(!o.onlyZeroWidthSpace(y)){/^\s{1,4}$/.test(y.textContent)?o.removeItem(y):/^\s{1,4}/.test(y.textContent)&&(y.textContent=y.textContent.replace(/^\s{1,4}/,""));break}}let Q=o.getChildElement(X[0],"text",!1),A=o.getChildElement(X[D],"text",!0);!Z&&Q&&(W.sc=Q,W.so=0),!j&&A&&(W.ec=A,W.eo=A.textContent.length)}else{let D=o.createTextNode(new h.Array(u._variable.tabSize+1).join("\xA0"));if(X.length===1){if(!u.insertNode(D,null,!0))return!1;Z||(W.sc=D,W.so=D.length),j||(W.ec=D,W.eo=D.length)}else{let Q=X.length-1;for(let le=0,oe;le<=Q;le++)oe=X[le].firstChild,oe&&(o.isBreak(oe)?X[le].insertBefore(D.cloneNode(!1),oe):oe.textContent=D.textContent+oe.textContent);let A=o.getChildElement(X[0],"text",!1),$=o.getChildElement(X[Q],"text",!0);!Z&&A&&(W.sc=A,W.so=0),!j&&$&&(W.ec=$,W.eo=$.textContent.length)}}u.setRange(W.sc,W.so,W.ec,W.eo),u.history.push(!1);break;case 13:let Y=o.getFreeFormatElement(r,null);if(u._charTypeHTML){let D="";if(!p&&Y||p?D="<br>":D="<"+C.nodeName+"><br></"+C.nodeName+">",!u.checkCharCount(D,"byte-html"))return a.preventDefault(),!1}if(!p&&!x){let D=u._isEdgeFormat(f.endContainer,f.endOffset,"end"),Q=u._isEdgeFormat(f.startContainer,f.startOffset,"start");if(D&&(/^H[1-6]$/i.test(C.nodeName)||/^HR$/i.test(C.nodeName))){g._enterPrevent(a);let A=null,$=u.appendFormatTag(C,s.defaultTag);if(D&&D.length>0){A=D.pop();let le=A;for(;D.length>0;)A=A.appendChild(D.pop());$.appendChild(le)}if(A=A?A.appendChild($.firstChild):$.firstChild,o.isBreak(A)){let le=o.createTextNode(o.zeroWidthSpace);A.parentNode.insertBefore(le,A),u.setRange(le,1,le,1)}else u.setRange(A,0,A,0);break}else if(S&&C&&!o.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){let A=u.getRange();if(u.isEdgePoint(A.endContainer,A.endOffset)&&o.isList(r.nextSibling)){g._enterPrevent(a);let $=o.createElement("LI"),le=o.createElement("BR");$.appendChild(le),C.parentNode.insertBefore($,C.nextElementSibling),$.appendChild(r.nextSibling),u.setRange(le,1,le,1);break}if((A.commonAncestorContainer.nodeType!==3||!A.commonAncestorContainer.nextElementSibling)&&o.onlyZeroWidthSpace(C.innerText.trim())&&!o.isListCell(C.nextElementSibling)){g._enterPrevent(a);let $=null;if(o.isListCell(S.parentNode)){let le=C.parentNode.parentNode;S=le.parentNode;let oe=o.createElement("LI");oe.innerHTML="<br>",o.copyTagAttributes(oe,C,s.lineAttrReset),$=oe,S.insertBefore($,le.nextElementSibling)}else{let le=o.isCell(S.parentNode)?"DIV":o.isList(S.parentNode)?"LI":o.isFormatElement(S.nextElementSibling)&&!o.isRangeFormatElement(S.nextElementSibling)?S.nextElementSibling.nodeName:o.isFormatElement(S.previousElementSibling)&&!o.isRangeFormatElement(S.previousElementSibling)?S.previousElementSibling.nodeName:s.defaultTag;$=o.createElement(le),o.copyTagAttributes($,C,s.lineAttrReset);let oe=u.detachRangeFormatElement(S,[C],null,!0,!0);oe.cc.insertBefore($,oe.ec)}$.innerHTML="<br>",o.removeItemAllParents(C,null,null),u.setRange($,1,$,1);break}}if(Y){g._enterPrevent(a);let A=r===Y,$=u.getSelection(),le=r.childNodes,oe=$.focusOffset,z=r.previousElementSibling,y=r.nextSibling;if(!o.isClosureFreeFormatElement(Y)&&le&&(A&&f.collapsed&&le.length-1<=oe+1&&o.isBreak(le[oe])&&(!le[oe+1]||(!le[oe+2]||o.onlyZeroWidthSpace(le[oe+2].textContent))&&le[oe+1].nodeType===3&&o.onlyZeroWidthSpace(le[oe+1].textContent))&&oe>0&&o.isBreak(le[oe-1])||!A&&o.onlyZeroWidthSpace(r.textContent)&&o.isBreak(z)&&(o.isBreak(z.previousSibling)||!o.onlyZeroWidthSpace(z.previousSibling.textContent))&&(!y||!o.isBreak(y)&&o.onlyZeroWidthSpace(y.textContent)))){A?o.removeItem(le[oe-1]):o.removeItem(r);let T=u.appendFormatTag(Y,o.isFormatElement(Y.nextElementSibling)&&!o.isRangeFormatElement(Y.nextElementSibling)?Y.nextElementSibling:null);o.copyFormatAttributes(T,Y),u.setRange(T,1,T,1);break}if(A){k.insertHTML(f.collapsed&&o.isBreak(f.startContainer.childNodes[f.startOffset-1])?"<br>":"<br><br>",!0,!1);let T=$.focusNode,w=$.focusOffset;Y===T&&(T=T.childNodes[w-oe>1?w-1:w]),u.setRange(T,1,T,1)}else{let T=$.focusNode.nextSibling,w=o.createElement("BR");u.insertNode(w,null,!1);let O=w.previousSibling,B=w.nextSibling;!o.isBreak(T)&&!o.isBreak(O)&&(!B||o.onlyZeroWidthSpace(B))?(w.parentNode.insertBefore(w.cloneNode(!1),w),u.setRange(w,1,w,1)):u.setRange(B,0,B,0)}g._onShortcutKey=!0;break}if(f.collapsed&&(Q||D)){g._enterPrevent(a);let A=o.createElement("BR"),$=o.createElement(C.nodeName);o.copyTagAttributes($,C,s.lineAttrReset);let le=A;do{if(!o.isBreak(r)&&r.nodeType===1){let oe=r.cloneNode(!1);oe.appendChild(le),le=oe}r=r.parentNode}while(C!==r&&C.contains(r));$.appendChild(le),C.parentNode.insertBefore($,Q&&!D?C:C.nextElementSibling),D&&u.setRange(A,1,A,1);break}if(C){a.stopPropagation();let A,$=0;if(f.collapsed)o.onlyZeroWidthSpace(C)?A=u.appendFormatTag(C,C.cloneNode(!1)):A=o.splitElement(f.endContainer,f.endOffset,o.getElementDepth(C));else{let le=o.getFormatElement(f.startContainer,null)!==o.getFormatElement(f.endContainer,null),oe=C.cloneNode(!1);oe.innerHTML="<br>";let z=f.commonAncestorContainer,y=z===f.startContainer&&z===f.endContainer&&o.onlyZeroWidthSpace(z)?f:u.removeNode();if(A=o.getFormatElement(y.container,null),!A){o.isWysiwygDiv(y.container)&&(g._enterPrevent(a),e.element.wysiwyg.appendChild(oe),A=oe,o.copyTagAttributes(A,C,s.lineAttrReset),u.setRange(A,$,A,$));break}let T=o.getRangeFormatElement(y.container);if(A=A.contains(T)?o.getChildElement(T,o.getFormatElement.bind(o)):A,le){if(D&&!Q)A.parentNode.insertBefore(oe,!y.prevContainer||y.container===y.prevContainer?A.nextElementSibling:A),A=oe,$=0;else if($=y.offset,Q){let w=A.parentNode.insertBefore(oe,A);D&&(A=w,$=0)}}else D&&Q?(A.parentNode.insertBefore(oe,y.prevContainer&&y.container===y.prevContainer?A.nextElementSibling:A),A=oe,$=0):A=o.splitElement(y.container,y.offset,o.getElementDepth(C))}g._enterPrevent(a),o.copyTagAttributes(A,C,s.lineAttrReset),u.setRange(A,$,A,$);break}}if(v)break;if(S&&o.getParentElement(S,"FIGCAPTION")&&o.getParentElement(S,o.isList)&&(g._enterPrevent(a),C=u.appendFormatTag(C,null),u.setRange(C,0,C,0)),x){a.preventDefault(),a.stopPropagation(),u.containerOff(),u.controllersOff();let D=e[x],Q=D._container,A=Q.previousElementSibling||Q.nextElementSibling,$=null;o.isListCell(Q.parentNode)?$=o.createElement("BR"):($=o.createElement(o.isFormatElement(A)&&!o.isRangeFormatElement(A)?A.nodeName:s.defaultTag),$.innerHTML="<br>"),p?Q.parentNode.insertBefore($,Q):Q.parentNode.insertBefore($,Q.nextElementSibling),u.callPlugin(x,function(){u.selectComponent(D._element,x)===!1&&u.blur()},null)}break;case 27:if(x)return a.preventDefault(),a.stopPropagation(),u.controllersOff(),!1;break}if(p&&d===16){a.preventDefault(),a.stopPropagation();let L=u.plugins.table;if(L&&!L._shift&&!L._ref){let F=o.getParentElement(C,o.isCell);if(F){L.onTableCellMultiSelect.call(u,F,!0);return}}}else if(p&&(o.isOSX_IOS?b:m)&&d===32){a.preventDefault(),a.stopPropagation();let L=u.insertNode(o.createTextNode("\xA0"));if(L){u.setRange(L,L.length,L,L.length);return}}if(o.isIE&&!m&&!b&&!v&&!g._nonTextKeyCode.test(d)&&o.isBreak(f.commonAncestorContainer)){let L=o.createTextNode(o.zeroWidthSpace);u.insertNode(L,null,!1),u.setRange(L,1,L,1)}g._directionKeyCode.test(d)&&(h.setTimeout(u._editorRange.bind(u),0),g._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(a){if(a.shiftKey)return;let r=u.getSelectionNode(),d=function(b,f){if(f||(f=0),a.preventDefault(),a.stopPropagation(),!b)return;let v=u.getFileComponent(b);v?u.selectComponent(v.target,v.pluginName):(u.setRange(b,f,b,f),u.controllersOff())},p=o.getParentElement(r,"table");if(p){let b=o.getParentElement(r,"tr"),f=o.getParentElement(r,"td"),v=f,x=f;if(f){for(;v&&v.firstChild;)v=v.firstChild;for(;x&&x.lastChild;)x=x.lastChild}let C=r;for(;C&&C.firstChild;)C=C.firstChild;let S=C===v,R=C===x,L=null,F=0;if(a.keyCode===38&&S){let V=b&&b.previousElementSibling;for(V?L=V.children[f.cellIndex]:L=o.getPreviousDeepestNode(p,u.context.element.wysiwyg);L&&L.lastChild;)L=L.lastChild;L&&(F=L.textContent.length)}else if(a.keyCode===40&&R){let V=b&&b.nextElementSibling;for(V?L=V.children[f.cellIndex]:L=o.getNextDeepestNode(p,u.context.element.wysiwyg);L&&L.firstChild;)L=L.firstChild}if(L)return d(L,F),!1}let m=u.getFileComponent(r);if(m){let b=/37|38/.test(a.keyCode),f=/39|40/.test(a.keyCode);if(b){let v=o.getPreviousDeepestNode(m.target,u.context.element.wysiwyg);d(v,v&&v.textContent.length)}else if(f){let v=o.getNextDeepestNode(m.target,u.context.element.wysiwyg);d(v)}}},onKeyUp_wysiwyg:function(a){if(g._onShortcutKey)return;u._editorRange();let r=a.keyCode,d=a.ctrlKey||a.metaKey||r===91||r===92||r===224,p=a.altKey;if(u.isReadOnly){!d&&g._cursorMoveKeyCode.test(r)&&g._applyTagEffects();return}let m=u.getRange(),b=u.getSelectionNode();if(u._isBalloon&&(u._isBalloonAlways&&r!==27||!m.collapsed))if(u._isBalloonAlways)r!==27&&g._showToolbarBalloonDelay();else{g._showToolbarBalloon();return}let f=b;for(;f&&f.firstChild;)f=f.firstChild;let v=u.getFileComponent(f);if(!(a.keyCode===16||a.shiftKey)&&v?u.selectComponent(v.target,v.pluginName):u.currentFileComponentInfo&&u.controllersOff(),r===8&&o.isWysiwygDiv(b)&&b.textContent===""&&b.children.length===0){a.preventDefault(),a.stopPropagation(),b.innerHTML="";let L=o.createElement(o.isFormatElement(u._variable.currentNodes[0])?u._variable.currentNodes[0]:s.defaultTag);L.innerHTML="<br>",b.appendChild(L),u.setRange(L,0,L,0),g._applyTagEffects(),u.history.push(!1);return}let x=o.getFormatElement(b,null),C=o.getRangeFormatElement(b,null),S=u._formatAttrsTemp;if(S){for(let L=0,F=S.length;L<F;L++){if(r===13&&/^id$/i.test(S[L].name)){x.removeAttribute("id");continue}x.setAttribute(S[L].name,S[L].value)}u._formatAttrsTemp=null}if(!x&&m.collapsed&&!o.isComponent(b)&&!o.isList(b)&&u._setDefaultFormat(o.isRangeFormatElement(C)?"DIV":s.defaultTag)!==null&&(b=u.getSelectionNode()),!d&&!p&&!g._nonTextKeyCode.test(r)&&b.nodeType===3&&o.zeroWidthRegExp.test(b.textContent)&&!(a.isComposing!==void 0?a.isComposing:g._IEisComposing)){let L=m.startOffset,F=m.endOffset,V=(b.textContent.substring(0,F).match(g._frontZeroWidthReg)||"").length;L=m.startOffset-V,F=m.endOffset-V,b.textContent=b.textContent.replace(o.zeroWidthRegExp,""),u.setRange(b,L<0?0:L,b,F<0?0:F)}g._deleteKeyCode.test(r)&&x&&o.onlyZeroWidthSpace(x.textContent)&&!x.previousElementSibling&&(x.innerHTML="<br>",u.setRange(x,0,x,0)),u._charCount(""),!(typeof k.onKeyUp=="function"&&k.onKeyUp(a,u)===!1)&&!d&&!p&&!g._historyIgnoreKeyCode.test(r)&&u.history.push(!0)},onScroll_wysiwyg:function(a){u.controllersOff(),u._isBalloon&&g._hideToolbar(),typeof k.onScroll=="function"&&k.onScroll(a,u)},onFocus_wysiwyg:function(a){u._antiBlur||(u.hasFocus=!0,h.setTimeout(g._applyTagEffects),u._isInline&&g._showToolbarInline(),typeof k.onFocus=="function"&&k.onFocus(a,u))},onBlur_wysiwyg:function(a){u._antiBlur||u._variable.isCodeView||(u.hasFocus=!1,u.effectNode=null,u.controllersOff(),(u._isInline||u._isBalloon)&&g._hideToolbar(),u._setKeyEffect([]),u._variable.currentNodes=[],u._variable.currentNodesMap=[],s.showPathLabel&&(e.element.navigation.textContent=""),typeof k.onBlur=="function"&&k.onBlur(a,u,this))},onMouseDown_resizingBar:function(a){a.stopPropagation(),u.submenuOff(),u.controllersOff(),u._variable.resizeClientY=a.clientY,e.element.resizeBackground.style.display="block";function r(){e.element.resizeBackground.style.display="none",c.removeEventListener("mousemove",g._resize_editor),c.removeEventListener("mouseup",r)}c.addEventListener("mousemove",g._resize_editor),c.addEventListener("mouseup",r)},_resize_editor:function(a){let r=e.element.editorArea.offsetHeight+(a.clientY-u._variable.resizeClientY),d=r<u._variable.minResizingSize?u._variable.minResizingSize:r;e.element.wysiwygFrame.style.height=e.element.code.style.height=d+"px",u._variable.resizeClientY=a.clientY,o.isResizeObserverSupported||u.__callResizeFunction(d,null)},onResize_window:function(){o.isResizeObserverSupported||u.resetResponsiveToolbar();let a=e.element.toolbar,r=a.style.display==="none"||u._isInline&&!u._inlineToolbarAttr.isShow;if(!(a.offsetWidth===0&&!r)){if(e.fileBrowser&&e.fileBrowser.area.style.display==="block"&&(e.fileBrowser.body.style.maxHeight=h.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),u.submenuActiveButton&&u.submenu&&u._setMenuPosition(u.submenuActiveButton,u.submenu),u._variable.isFullScreen){u._variable.innerHeight_fullScreen+=h.innerHeight-a.offsetHeight-u._variable.innerHeight_fullScreen,e.element.editorArea.style.height=u._variable.innerHeight_fullScreen+"px";return}if(u._variable.isCodeView&&u._isInline){g._showToolbarInline();return}u._iframeAutoHeight(),u._sticky&&(a.style.width=e.element.topArea.offsetWidth-2+"px",g.onScroll_window())}},onScroll_window:function(){if(u._variable.isFullScreen||e.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;let a=e.element,r=a.editorArea.offsetHeight,d=(this.scrollY||c.documentElement.scrollTop)+s.stickyToolbar,p=g._getEditorOffsets(s.toolbarContainer).top-(u._isInline?a.toolbar.offsetHeight:0),m=u._isInline&&d-p>0?d-p-e.element.toolbar.offsetHeight:0;d<p?g._offStickyToolbar():d+u._variable.minResizingSize>=r+p?(u._sticky||g._onStickyToolbar(m),a.toolbar.style.top=m+r+p+s.stickyToolbar-d-u._variable.minResizingSize+"px"):d>=p&&g._onStickyToolbar(m)},_getEditorOffsets:function(a){let r=a||e.element.topArea,d=0,p=0,m=0;for(;r;)d+=r.offsetTop,p+=r.offsetLeft,m+=r.scrollTop,r=r.offsetParent;return{top:d,left:p,scroll:m}},_getPageBottomSpace:function(){return c.documentElement.scrollHeight-(g._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(a){let r=e.element;!u._isInline&&!s.toolbarContainer&&(r._stickyDummy.style.height=r.toolbar.offsetHeight+"px",r._stickyDummy.style.display="block"),r.toolbar.style.top=s.stickyToolbar+a+"px",r.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:r.toolbar.offsetWidth+"px",o.addClass(r.toolbar,"se-toolbar-sticky"),u._sticky=!0},_offStickyToolbar:function(){let a=e.element;a._stickyDummy.style.display="none",a.toolbar.style.top=u._isInline?u._inlineToolbarAttr.top:"",a.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:"",a.editorArea.style.marginTop="",o.removeClass(a.toolbar,"se-toolbar-sticky"),u._sticky=!1},_codeViewAutoHeight:function(){u._variable.isFullScreen||(e.element.code.style.height=e.element.code.scrollHeight+"px")},_hardDelete:function(){let a=u.getRange(),r=a.startContainer,d=a.endContainer,p=o.getRangeFormatElement(r),m=o.getRangeFormatElement(d),b=o.isCell(p),f=o.isCell(m),v=a.commonAncestorContainer;if((b&&!p.previousElementSibling&&!p.parentElement.previousElementSibling||f&&!m.nextElementSibling&&!m.parentElement.nextElementSibling)&&p!==m)if(!b)o.removeItem(o.getParentElement(m,function(S){return v===S.parentNode}));else if(!f)o.removeItem(o.getParentElement(p,function(S){return v===S.parentNode}));else return o.removeItem(o.getParentElement(p,function(S){return v===S.parentNode})),u.nativeFocus(),!0;let x=r.nodeType===1?o.getParentElement(r,".se-component"):null,C=d.nodeType===1?o.getParentElement(d,".se-component"):null;return x&&o.removeItem(x),C&&o.removeItem(C),!1},onPaste_wysiwyg:function(a){let r=o.isIE?h.clipboardData:a.clipboardData;return r?g._dataTransferAction("paste",a,r):!0},_setClipboardComponent:function(a,r,d){a.preventDefault(),a.stopPropagation(),d.setData("text/html",r.component.outerHTML)},onCopy_wysiwyg:function(a){let r=o.isIE?h.clipboardData:a.clipboardData;if(typeof k.onCopy=="function"&&k.onCopy(a,r,u)===!1)return a.preventDefault(),a.stopPropagation(),!1;let d=u.currentFileComponentInfo;d&&!o.isIE&&(g._setClipboardComponent(a,d,r),o.addClass(d.component,"se-component-copy"),h.setTimeout(function(){o.removeClass(d.component,"se-component-copy")},150))},onSave_wysiwyg:function(a){if(typeof k.onSave=="function"){k.onSave(a,u);return}},onCut_wysiwyg:function(a){let r=o.isIE?h.clipboardData:a.clipboardData;if(typeof k.onCut=="function"&&k.onCut(a,r,u)===!1)return a.preventDefault(),a.stopPropagation(),!1;let d=u.currentFileComponentInfo;d&&!o.isIE&&(g._setClipboardComponent(a,d,r),o.removeItem(d.component),u.controllersOff()),h.setTimeout(function(){u.history.push(!1)})},onDrop_wysiwyg:function(a){if(u.isReadOnly||o.isIE)return a.preventDefault(),a.stopPropagation(),!1;let r=a.dataTransfer;return r?(g._setDropLocationSelection(a),u.removeNode(),document.body.contains(u.currentControllerTarget)||u.controllersOff(),g._dataTransferAction("drop",a,r)):!0},_setDropLocationSelection:function(a){let r={startContainer:null,startOffset:null,endContainer:null,endOffset:null},d=null;if(a.rangeParent?(r.startContainer=a.rangeParent,r.startOffset=a.rangeOffset,r.endContainer=a.rangeParent,r.endOffset=a.rangeOffset):u._wd.caretRangeFromPoint?d=u._wd.caretRangeFromPoint(a.clientX,a.clientY):d=u.getRange(),d&&(r.startContainer=d.startContainer,r.startOffset=d.startOffset,r.endContainer=d.endContainer,r.endOffset=d.endOffset),r.startContainer===r.endContainer){let p=o.getParentElement(r.startContainer,o.isComponent);p&&(r.startContainer=p,r.startOffset=0,r.endContainer=p,r.endOffset=0)}u.setRange(r.startContainer,r.startOffset,r.endContainer,r.endOffset)},_dataTransferAction:function(a,r,d){let p,m;if(o.isIE){p=d.getData("Text");let b=u.getRange(),f=o.createElement("DIV"),v={sc:b.startContainer,so:b.startOffset,ec:b.endContainer,eo:b.endOffset};return f.setAttribute("contenteditable",!0),f.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(f),f.focus(),h.setTimeout(function(){m=f.innerHTML,o.removeItem(f),u.setRange(v.sc,v.so,v.ec,v.eo),g._setClipboardData(a,r,p,m,d)}),!0}else if(p=d.getData("text/plain"),m=d.getData("text/html"),g._setClipboardData(a,r,p,m,d)===!1)return r.preventDefault(),r.stopPropagation(),!1},_setClipboardData:function(a,r,d,p,m){let b=/class=["']*Mso(Normal|List)/i.test(p)||/content=["']*Word.Document/i.test(p)||/content=["']*OneNote.File/i.test(p)||/content=["']*Excel.Sheet/i.test(p);!p?p=o._HTMLConvertor(d).replace(/\n/g,"<br>"):(p=p.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),b&&(p=p.replace(/\n/g," "),d=d.replace(/\n/g," ")),p=u.cleanHTML(p,u.pasteTagsWhitelistRegExp,u.pasteTagsBlacklistRegExp));let v=u._charCount(u._charTypeHTML?p:d);if(a==="paste"&&typeof k.onPaste=="function"){let C=k.onPaste(r,p,v,u);if(C===!1)return!1;if(typeof C=="string"){if(!C)return!1;p=C}}if(a==="drop"&&typeof k.onDrop=="function"){let C=k.onDrop(r,p,v,u);if(C===!1)return!1;if(typeof C=="string"){if(!C)return!1;p=C}}let x=m.files;if(x.length>0&&!b)return/^image/.test(x[0].type)&&u.plugins.image&&k.insertImage(x),!1;if(!v)return!1;if(p)return k.insertHTML(p,!0,!1),!1},onMouseMove_wysiwyg:function(a){if(u.isDisabled||u.isReadOnly)return!1;let r=o.getParentElement(a.target,o.isComponent),d=u._lineBreaker.style;if(r&&!u.currentControllerName){let p=e.element,m=0,b=p.wysiwyg;do m+=b.scrollTop,b=b.parentElement;while(b&&!/^(BODY|HTML)$/i.test(b.nodeName));let f=p.wysiwyg.scrollTop,v=g._getEditorOffsets(null),x=o.getOffset(r,p.wysiwygFrame).top+f,C=a.pageY+m+(s.iframe&&!s.toolbarContainer?p.toolbar.offsetHeight:0),S=x+(s.iframe?m:v.top),R=o.isListCell(r.parentNode),L="",F="";if((R?!r.previousSibling:!o.isFormatElement(r.previousElementSibling))&&C<S+20)F=x,L="t";else if((R?!r.nextSibling:!o.isFormatElement(r.nextElementSibling))&&C>S+r.offsetHeight-20)F=x+r.offsetHeight,L="b";else{d.display="none";return}u._variable._lineBreakComp=r,u._variable._lineBreakDir=L,d.top=F-f+"px",u._lineBreakerButton.style.left=o.getOffset(r).left+r.offsetWidth/2-15+"px",d.display="block"}else d.display!=="none"&&(d.display="none")},_enterPrevent:function(a){a.preventDefault(),o.isMobile&&u.__focusTemp.focus()},_onMouseDown_lineBreak:function(a){a.preventDefault()},_onLineBreak:function(a){a.preventDefault();let r=u._variable._lineBreakComp,d=this?this:u._variable._lineBreakDir,p=o.isListCell(r.parentNode),m=o.createElement(p?"BR":o.isCell(r.parentNode)?"DIV":s.defaultTag);if(p||(m.innerHTML="<br>"),u._charTypeHTML&&!u.checkCharCount(m.outerHTML,"byte-html"))return;r.parentNode.insertBefore(m,d==="t"?r:r.nextSibling),u._lineBreaker.style.display="none",u._variable._lineBreakComp=null;let b=p?m:m.firstChild;u.setRange(b,1,b,1),u.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){let a=s.iframe?u._ww:e.element.wysiwyg;o.isResizeObserverSupported&&(this._resizeObserver=new h.ResizeObserver(function(r){u.__callResizeFunction(-1,r[0])})),e.element.toolbar.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",g.onClick_toolbar,!1),a.addEventListener("mousedown",g.onMouseDown_wysiwyg,!1),a.addEventListener("click",g.onClick_wysiwyg,!1),a.addEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg,!1),a.addEventListener("keydown",g.onKeyDown_wysiwyg,!1),a.addEventListener("keyup",g.onKeyUp_wysiwyg,!1),a.addEventListener("paste",g.onPaste_wysiwyg,!1),a.addEventListener("copy",g.onCopy_wysiwyg,!1),a.addEventListener("cut",g.onCut_wysiwyg,!1),a.addEventListener("drop",g.onDrop_wysiwyg,!1),a.addEventListener("scroll",g.onScroll_wysiwyg,!1),a.addEventListener("focus",g.onFocus_wysiwyg,!1),a.addEventListener("blur",g.onBlur_wysiwyg,!1),g._lineBreakerBind={a:g._onLineBreak.bind(""),t:g._onLineBreak.bind("t"),b:g._onLineBreak.bind("b")},a.addEventListener("mousemove",g.onMouseMove_wysiwyg,!1),u._lineBreakerButton.addEventListener("mousedown",g._onMouseDown_lineBreak,!1),u._lineBreakerButton.addEventListener("click",g._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",g._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",g._lineBreakerBind.b,!1),a.addEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),a.addEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(e.element.code.addEventListener("keydown",g._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",g._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",g._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?e.element.resizingBar.addEventListener("mousedown",g.onMouseDown_resizingBar,!1):o.addClass(e.element.resizingBar,"se-resizing-none")),g._setResponsiveToolbar(),o.isResizeObserverSupported&&(this._toolbarObserver=new h.ResizeObserver(u.resetResponsiveToolbar)),h.addEventListener("resize",g.onResize_window,!1),s.stickyToolbar>-1&&h.addEventListener("scroll",g.onScroll_window,!1)},_removeEvent:function(){let a=s.iframe?u._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",g._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",g._buttonsEventHandler),e.element.toolbar.removeEventListener("click",g.onClick_toolbar),a.removeEventListener("mousedown",g.onMouseDown_wysiwyg),a.removeEventListener("click",g.onClick_wysiwyg),a.removeEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg),a.removeEventListener("keydown",g.onKeyDown_wysiwyg),a.removeEventListener("keyup",g.onKeyUp_wysiwyg),a.removeEventListener("paste",g.onPaste_wysiwyg),a.removeEventListener("copy",g.onCopy_wysiwyg),a.removeEventListener("cut",g.onCut_wysiwyg),a.removeEventListener("drop",g.onDrop_wysiwyg),a.removeEventListener("scroll",g.onScroll_wysiwyg),a.removeEventListener("mousemove",g.onMouseMove_wysiwyg),u._lineBreakerButton.removeEventListener("mousedown",g._onMouseDown_lineBreak),u._lineBreakerButton.removeEventListener("click",g._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",g._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",g._lineBreakerBind.b),g._lineBreakerBind=null,a.removeEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),a.removeEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),a.removeEventListener("focus",g.onFocus_wysiwyg),a.removeEventListener("blur",g.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",g._codeViewAutoHeight),e.element.code.removeEventListener("keyup",g._codeViewAutoHeight),e.element.code.removeEventListener("paste",g._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",g.onMouseDown_resizingBar),g._resizeObserver&&(g._resizeObserver.unobserve(e.element.wysiwygFrame),g._resizeObserver=null),g._toolbarObserver&&(g._toolbarObserver.unobserve(e.element._toolbarShadow),g._toolbarObserver=null),h.removeEventListener("resize",g.onResize_window),h.removeEventListener("scroll",g.onScroll_window)},_setResponsiveToolbar:function(){if(l.length===0){l=null;return}g._responsiveCurrentSize="default";let a=g._responsiveButtonSize=[],r=g._responsiveButtons={default:l[0]};for(let d=1,p=l.length,m,b;d<p;d++)b=l[d],m=b[0]*1,a.push(m),r[m]=b[1];a.sort(function(d,p){return d-p}).unshift("default")}},k={core:u,util:o,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(a){u.submenuOff(),u.containerOff(),u.moreLayerOff();let r=fi._createToolBar(c,a,u.plugins,s);l=r.responsiveButtons,g._setResponsiveToolbar(),e.element.toolbar.replaceChild(r._buttonTray,e.element._buttonTray);let d=gi(e.element.originElement,u._getConstructed(e.element),s);e.element=d.element,e.tool=d.tool,s.iframe&&(e.element.wysiwyg=u._wd.body),u._recoverButtonStates(),u._cachingButtons(),u.history._resetCachingButton(),u.effectNode=null,u.hasFocus&&g._applyTagEffects(),u.isReadOnly&&o.setDisabledButtons(!0,u.resizingDisabledButtons),typeof k.onSetToolbarButtons=="function"&&k.onSetToolbarButtons(r._buttonTray.querySelectorAll("button"),u)},setOptions:function(a){g._removeEvent(),u._resetComponents(),o.removeClass(u._styleCommandMap.showBlocks,"active"),o.removeClass(u._styleCommandMap.codeView,"active"),u._variable.isCodeView=!1,u._iframeAuto=null,u.plugins=a.plugins||u.plugins;let r=[s,a].reduce(function(b,f){for(let v in f)if(o.hasOwn(f,v))if(v==="plugins"&&f[v]&&b[v]){let x=b[v],C=f[v];x=x.length?x:h.Object.keys(x).map(function(S){return x[S]}),C=C.length?C:h.Object.keys(C).map(function(S){return C[S]}),b[v]=C.filter(function(S){return x.indexOf(S)===-1}).concat(x)}else b[v]=f[v];return b},{}),d=e.element,p=d.wysiwyg.innerHTML,m=fi._setOptions(r,e,s);m.callButtons&&(t=m.callButtons,u.initPlugins={}),m.plugins&&(u.plugins=n=m.plugins),d._menuTray.children.length===0&&(this._menuTray={}),l=m.toolbar.responsiveButtons,u.options=s=r,u.lang=i=s.lang,s.iframe&&d.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),u._setOptionsInit(d,p)}),d.editorArea.appendChild(d.wysiwygFrame),s.iframe||u._setOptionsInit(d,p)},setDefaultStyle:function(a){let r=s._editorStyles=o._setDefaultOptionStyle(s,a),d=e.element;d.topArea.style.cssText=r.top,d.code.style.cssText=s._editorStyles.frame,d.code.style.display="none",s.height==="auto"?d.code.style.overflow="hidden":d.code.style.overflow="",s.iframe?(d.wysiwygFrame.style.cssText=r.frame,d.wysiwyg.style.cssText=r.editor):d.wysiwygFrame.style.cssText=r.frame+r.editor},noticeOpen:function(a){u.notice.open.call(u,a)},noticeClose:function(){u.notice.close.call(u)},save:function(){let a=u.getContents(!1);e.element.originElement.value=a,g.onSave_wysiwyg(a,u)},getContext:function(){return e},getContents:function(a){return u.getContents(a)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(a){return a=typeof a=="string"?a:s.charCounterType,u.getCharLength(u._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,a)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(a){return e[a]?e[a]._infoList:[]},insertImage:function(a){!u.plugins.image||!a||(u.initPlugins.image?u.plugins.image.submitAction.call(u,a):u.callPlugin("image",u.plugins.image.submitAction.bind(u,a),null),u.focus())},insertHTML:function(a,r,d,p){if(e.element.wysiwygFrame.contains(u.getSelection().focusNode)||u.focus(),typeof a=="string"){r||(a=u.cleanHTML(a,null,null));try{if(o.isListCell(o.getFormatElement(u.getSelectionNode(),null))){let F=c.createRange().createContextualFragment(a).childNodes;u._isFormatData(F)&&(a=u._convertListCell(F))}let b=c.createRange().createContextualFragment(a).childNodes;if(d){let L=u._charTypeHTML?"outerHTML":"textContent",F="";for(let V=0,K=b.length;V<K;V++)F+=b[V][L];if(!u.checkCharCount(F,null))return}let f,v,x,C,S;for(;f=b[0];){if(C&&C.nodeType===3&&v&&v.nodeType===1&&o.isBreak(f)){C=f,o.removeItem(f);continue}x=u.insertNode(f,v,!1),v=x.container||x,S||(S=x),C=f}C.nodeType===3&&v.nodeType===1&&(v=C);let R=v.nodeType===3?x.endOffset||v.textContent.length:v.childNodes.length;p?u.setRange(S.container||S,S.startOffset||0,v,R):u.setRange(v,R,v,R)}catch(m){if(u.isDisabled||u.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+m),u.execCommand("insertHTML",!1,a)}}else if(o.isComponent(a))u.insertComponent(a,!1,d,!1);else{let m=null;(o.isFormatElement(a)||o.isMedia(a))&&(m=o.getFormatElement(u.getSelectionNode(),null)),u.insertNode(a,m,d)}u.effectNode=null,u.focus(),u.history.push(!1)},setContents:function(a){u.setContents(a)},appendContents:function(a){let r=u.convertContentsForEditor(a);if(u._variable.isCodeView)u._setCodeView(u._getCodeView()+`
`+u.convertHTMLForCodeView(r,!1));else{let d=o.createElement("DIV");d.innerHTML=r;let p=e.element.wysiwyg,m=d.children;for(let b=0,f=m.length;b<f;b++)m[b]&&p.appendChild(m[b])}u.history.push(!1)},readOnly:function(a){u.isReadOnly=a,o.setDisabledButtons(!!a,u.resizingDisabledButtons),a?(u.controllersOff(),u.submenuActiveButton&&u.submenuActiveButton.disabled&&u.submenuOff(),u._moreLayerActiveButton&&u._moreLayerActiveButton.disabled&&u.moreLayerOff(),u.containerActiveButton&&u.containerActiveButton.disabled&&u.containerOff(),u.modalForm&&u.plugins.dialog.close.call(u),e.element.code.setAttribute("readOnly","true"),o.addClass(e.element.wysiwygFrame,"se-read-only")):(e.element.code.removeAttribute("readOnly"),o.removeClass(e.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!a)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){let a=e.element.topArea.style;a.display==="none"&&(a.display=s.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){u.submenuOff(),u.containerOff(),u.controllersOff(),u.notice&&u.notice.close.call(u),u.modalForm&&u.plugins.dialog.close.call(u),u.history._destroy(),g._removeEvent(),o.removeItem(e.element.toolbar),o.removeItem(e.element.topArea);for(let a in u.functions)o.hasOwn(u,a)&&delete u.functions[a];for(let a in u)o.hasOwn(u,a)&&delete u[a];for(let a in g)o.hasOwn(g,a)&&delete g[a];for(let a in e)o.hasOwn(e,a)&&delete e[a];for(let a in t)o.hasOwn(t,a)&&delete t[a];for(let a in this)o.hasOwn(this,a)&&delete this[a]},toolbar:{disable:function(){u.submenuOff(),u.moreLayerOff(),u.containerOff(),e.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){e.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){u._isInline?g._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display=""),g.onResize_window()},hide:function(){u._isInline?g._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none"),g.onResize_window()}},wysiwyg:{disable:function(){u.controllersOff(),u.modalForm&&u.plugins.dialog.close.call(u),e.element.wysiwyg.setAttribute("contenteditable",!1),u.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enable:function(){e.element.wysiwyg.setAttribute("contenteditable",!0),u.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")}}};u.functions=k,u.options=s;let M=e.element,I=M.originElement,P=M.topArea;return I.style.display="none",P.style.display="block",s.iframe&&M.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),u._editorInit(!1,s.value),s.value=null}),typeof I.nextElementSibling=="object"?I.parentNode.insertBefore(P,I.nextElementSibling):I.parentNode.appendChild(P),M.editorArea.appendChild(M.wysiwygFrame),M=I=P=null,s.iframe||(u._editorInit(!1,s.value),s.value=null),k}var So={init:function(e){return{create:(function(t,n){return this.create(t,n,e)}).bind(this)}},create:function(e,t,n){ke._propertiesInit(),typeof t!="object"&&(t={}),n&&(t=[n,t].reduce(function(l,c){for(let h in c)if(ke.hasOwn(c,h))if(h==="plugins"&&c[h]&&l[h]){let o=l[h],_=c[h];o=o.length?o:Object.keys(o).map(function(u){return o[u]}),_=_.length?_:Object.keys(_).map(function(u){return _[u]}),l[h]=_.filter(function(u){return o.indexOf(u)===-1}).concat(o)}else l[h]=c[h];return l},{}));let i=typeof e=="string"?document.getElementById(e):e;if(!i)throw Error(typeof e=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");let s=fi.init(i,t);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return To(gi(i,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,t,s._responsiveButtons)}};var ko={name:"blockquote",display:"command",add:function(e,t){let n=e.context;n.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(!e)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){let e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}};var Eo={name:"align",display:"submenu",add:function(e,t){let n=e.icons,i=e.context;i.align={targetButton:t,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:e.options.rtl?"right":"left",icons:{justify:n.align_justify,left:n.align_left,right:n.align_right,center:n.align_center}};let s=this.setSubmenu(e),l=i.align._itemMenu=s.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),i.align._alignList=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,s),s=null,l=null},setSubmenu:function(e){let t=e.lang,n=e.icons,i=e.util.createElement("DIV"),s=e.options.alignItems,l="";for(let c=0,h,o;c<s.length;c++)h=s[c],o=t.toolbar["align"+h.charAt(0).toUpperCase()+h.slice(1)],l+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+h+'" title="'+o+'" aria-label="'+o+'"><span class="se-list-icon">'+n["align_"+h]+"</span>"+o+"</button></li>";return i.className="se-submenu se-list-layer se-list-align",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+l+"</ul></div>",i},active:function(e){let t=this.context.align,n=t.targetButton,i=n.firstElementChild;if(!e)this.util.changeElement(i,t.icons[t.defaultDir]),n.removeAttribute("data-focus");else if(this.util.isFormatElement(e)){let s=e.style.textAlign;if(s)return this.util.changeElement(i,t.icons[s]||t.icons[t.defaultDir]),n.setAttribute("data-focus",s),!0}return!1},on:function(){let e=this.context.align,t=e._alignList,n=e.targetButton.getAttribute("data-focus")||e.defaultDir;if(n!==e.currentAlign){for(let i=0,s=t.length;i<s;i++)n===t[i].getAttribute("data-value")?this.util.addClass(t[i],"active"):this.util.removeClass(t[i],"active");e.currentAlign=n}},exchangeDir:function(){let e=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===e)return;this.context.align.defaultDir=e;let t=this.context.align._itemMenu,n=t.querySelector('[data-value="left"]'),i=t.querySelector('[data-value="right"]');if(n&&i){let s=n.parentElement,l=i.parentElement;s.appendChild(i),l.appendChild(n)}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,n=null;for(;!n&&!/UL/i.test(t.tagName);)n=t.getAttribute("data-value"),t=t.parentNode;if(!n)return;let i=this.context.align.defaultDir,s=this.getSelectedElements();for(let l=0,c=s.length;l<c;l++)this.util.setStyle(s[l],"textAlign",n===i?"":n);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}};var Lo={name:"font",display:"submenu",add:function(e,t){let n=e.context;n.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let i=this.setSubmenu(e);i.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),n.font._fontList=i.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-family";let i,s,l,c,h=e.options.font,o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(l=0,c=h.length;l<c;l++)i=h[l],s=i.split(",")[0],o+='<li><button type="button" class="se-btn-list" data-value="'+i+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+i+';">'+s+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},active:function(e){let t=this.context.font.targetText,n=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){let i=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,i),this.util.changeTxt(n,this.lang.toolbar.font+" ("+i+")"),!0}}else{let i=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(t,i),this.util.changeTxt(n,this.hasFocus?this.lang.toolbar.font+(i?" ("+i+")":""):i)}return!1},on:function(){let e=this.context.font,t=e._fontList,n=e.targetText.textContent;if(n!==e.currentFont){for(let i=0,s=t.length;i<s;i++)n===(t[i].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(t[i],"active"):this.util.removeClass(t[i],"active");e.currentFont=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){let n=this.util.createElement("SPAN");/[\s\d\W]/.test(t)&&!/^['"].*['"]$/.test(t)&&(t='"'+t+'"'),n.style.fontFamily=t,this.nodeChange(n,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}};var Mo={name:"fontSize",display:"submenu",add:function(e,t){let n=e.context;n.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let i=this.setSubmenu(e),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),n.fontSize._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null,s=null},setSubmenu:function(e){let t=e.options,n=e.lang,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-size";let s=t.fontSize?t.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72],l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+n.toolbar.default+'" aria-label="'+n.toolbar.default+'">('+n.toolbar.default+")</button></li>";for(let c=0,h=t.fontSizeUnit,o=s.length,_;c<o;c++)_=s[c],l+='<li><button type="button" class="se-btn-list" data-value="'+_+h+'" title="'+_+h+'" aria-label="'+_+h+'" style="font-size:'+_+h+';">'+_+"</button></li>";return l+="</ul></div>",i.innerHTML=l,i},active:function(e){if(!e)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,e.style.fontSize)),!0;return!1},on:function(){let e=this.context.fontSize,t=e._sizeList,n=e.targetText.textContent;if(n!==e.currentSize){for(let i=0,s=t.length;i<s;i++)n===t[i].getAttribute("data-value")?this.util.addClass(t[i],"active"):this.util.removeClass(t[i],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){let n=this.util.createElement("SPAN");n.style.fontSize=t,this.nodeChange(n,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}};var Dn={name:"colorPicker",add:function(e){let t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},t.colorPicker.colorListHTML=this.createColorList(e,this._makeColorList)},createColorList:function(e,t){let n=e.options,i=e.lang,s=!n.colorList||n.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:n.colorList,l=[],c='<div class="se-list-inner">';for(let h=0,o=s.length,_;h<o;h++)_=s[h],_&&(typeof _=="string"&&(l.push(_),h<o-1)||(l.length>0&&(c+='<div class="se-selector-color">'+t(l)+"</div>",l=[]),typeof _=="object"&&(c+='<div class="se-selector-color">'+t(_)+"</div>")));return c+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+i.toolbar.removeFormat+'" aria-label="'+i.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",c},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let n=0,i=e.length,s;n<i;n++)s=e[n],typeof s=="string"&&(t+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return t+="</ul>",t},init:function(e,t){let n=this.plugins.colorPicker,i=t||n.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor;i=n.isHexColor(i)?i:n.rgb2hex(i)||i;let s=this.context.colorPicker._colorList;if(s)for(let l=0,c=s.length;l<c;l++)i.toLowerCase()===s[l].getAttribute("data-value").toLowerCase()?this.util.addClass(s[l],"active"):this.util.removeClass(s[l],"active");n.setInputText.call(this,n.colorName2hex.call(this,i))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="",n=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&t.length===0;)e.nodeType===1&&e.style[n]&&(t=e.style[n]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){let t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var n=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map(function(i){return parseInt(i,10)});return this.util.removeItem(t),n.length>=3?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).substr(1):!1}};var Do={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([Dn]);let n=e.context;n.fontColor={previewEl:null,colorInput:null,colorList:null};let i=this.setSubmenu(e);n.fontColor.colorInput=i.querySelector("._se_color_picker_input"),n.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),i.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),i.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),i.addEventListener("click",this.pickup.bind(e)),n.fontColor.colorList=i.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.context.colorPicker.colorListHTML,n=e.util.createElement("DIV");return n.className="se-submenu se-list-layer",n.innerHTML=t,n},on:function(){let e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput;let n=this.wwComputedStyle.color;e._defaultColor=n?this.plugins.colorPicker.isHexColor(n)?n:this.plugins.colorPicker.rgb2hex(n):"#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;let t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}};var No={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([Dn]);let n=e.context;n.hiliteColor={previewEl:null,colorInput:null,colorList:null};let i=this.setSubmenu(e);n.hiliteColor.colorInput=i.querySelector("._se_color_picker_input"),n.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),i.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),i.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),i.addEventListener("click",this.pickup.bind(e)),n.hiliteColor.colorList=i.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.context.colorPicker.colorListHTML,n=e.util.createElement("DIV");return n.className="se-submenu se-list-layer",n.innerHTML=t,n},on:function(){let e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput;let n=this.wwComputedStyle.backgroundColor;e._defaultColor=n?this.plugins.colorPicker.isHexColor(n)?n:this.plugins.colorPicker.rgb2hex(n):"#ffffff",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;let t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}};var Io={name:"horizontalRule",display:"submenu",add:function(e,t){e.context.horizontalRule={currentHR:null};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){let t=e.lang,n=e.util.createElement("DIV"),i=e.options.hrItems||[{name:t.toolbar.hr_solid,class:"__se__solid"},{name:t.toolbar.hr_dashed,class:"__se__dashed"},{name:t.toolbar.hr_dotted,class:"__se__dotted"}],s="";for(let l=0,c=i.length;l<c;l++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+i[l].class+'" title="'+i[l].name+'" aria-label="'+i[l].name+'"><hr'+(i[l].class?' class="'+i[l].class+'"':"")+(i[l].style?' style="'+i[l].style+'"':"")+"/></button></li>";return n.className="se-submenu se-list-layer se-list-line",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",n},active:function(e){if(!e)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(e.nodeName))return this.context.horizontalRule.currentHR=e,this.util.hasClass(e,"on")||(this.util.addClass(e,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,e,"on"))),!0;return!1},appendHr:function(e){return this.focus(),this.insertComponent(e.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,n=t.getAttribute("data-command");for(;!n&&!/UL/i.test(t.tagName);)t=t.parentNode,n=t.getAttribute("data-command");if(!n)return;let i=this.plugins.horizontalRule.appendHr.call(this,t.firstElementChild);i&&(this.setRange(i,0,i,0),this.submenuOff())}};var Bo={name:"list",display:"submenu",add:function(e,t){let n=e.context;n.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let i=this.setSubmenu(e),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),n.list._list=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null,s=null},setSubmenu:function(e){let t=e.lang,n=e.util.createElement("DIV");return n.className="se-submenu se-list-layer",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+t.toolbar.orderList+'" aria-label="'+t.toolbar.orderList+'">'+e.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+t.toolbar.unorderList+'" aria-label="'+t.toolbar.unorderList+'">'+e.icons.list_bullets+"</button></li></ul></div>",n},active:function(e){let t=this.context.list.targetButton,n=t.firstElementChild,i=this.util;if(i.isList(e)){let s=e.nodeName;return t.setAttribute("data-focus",s),i.addClass(t,"active"),/UL/i.test(s)?i.changeElement(n,this.context.list.icons.bullets):i.changeElement(n,this.context.list.icons.number),!0}else t.removeAttribute("data-focus"),i.changeElement(n,this.context.list.icons.number),i.removeClass(t,"active");return!1},on:function(){let e=this.context.list,t=e._list,n=e.targetButton.getAttribute("data-focus")||"";if(n!==e.currentList){for(let i=0,s=t.length;i<s;i++)n===t[i].getAttribute("data-command")?this.util.addClass(t[i],"active"):this.util.removeClass(t[i],"active");e.currentList=n}},editList:function(e,t,n){let i=this.getRange(),s=t||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(t||(i=this.getRange_addLine(i,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;let l=this.util;l.sortByDepth(s,!0);let c=s[0],h=s[s.length-1],o=(l.isListCell(c)||l.isComponent(c))&&!c.previousElementSibling?c.parentNode.previousElementSibling:c.previousElementSibling,_=(l.isListCell(h)||l.isComponent(h))&&!h.nextElementSibling?h.parentNode.nextElementSibling:h.nextElementSibling,u=i.collapsed,g={sc:i.startContainer,so:i.startContainer===i.endContainer&&l.onlyZeroWidthSpace(i.startContainer)&&i.startOffset===0&&i.endOffset===1?i.endOffset:i.startOffset,ec:i.endContainer,eo:i.endOffset},k=null,M=!0;for(let I=0,P=s.length;I<P;I++)if(!l.isList(l.getRangeFormatElement(s[I],(function(a){return this.getRangeFormatElement(a)&&a!==s[I]}).bind(l)))){M=!1;break}if(M&&(!o||c.tagName!==o.tagName||e!==o.tagName.toUpperCase())&&(!_||h.tagName!==_.tagName||e!==_.tagName.toUpperCase())){if(n){for(let p=0,m=s.length;p<m;p++)for(let b=p-1;b>=0;b--)if(s[b].contains(s[p])){s.splice(p,1),p--,m--;break}}let I=l.getRangeFormatElement(c),P=I&&I.tagName===e,a,r,d=(function(p){return!this.isComponent(p)}).bind(l);P||(r=l.createElement(e));for(let p=0,m=s.length,b,f;p<m;p++)f=l.getRangeFormatElement(s[p],d),!(!f||!l.isList(f))&&(b?b!==f?(n&&l.isListCell(f.parentNode)?this.plugins.list._detachNested.call(this,a.f):k=this.detachRangeFormatElement(a.f[0].parentNode,a.f,r,!1,!0),f=s[p].parentNode,P||(r=l.createElement(e)),b=f,a={r:b,f:[l.getParentElement(s[p],"LI")]}):a.f.push(l.getParentElement(s[p],"LI")):(b=f,a={r:b,f:[l.getParentElement(s[p],"LI")]}),p===m-1&&(n&&l.isListCell(f.parentNode)?this.plugins.list._detachNested.call(this,a.f):k=this.detachRangeFormatElement(a.f[0].parentNode,a.f,r,!1,!0)))}else{let I=o&&o.parentNode,P=_&&_.parentNode;o=I&&!l.isWysiwygDiv(I)&&I.nodeName===e?I:o,_=P&&!l.isWysiwygDiv(P)&&P.nodeName===e?P:_;let a=o&&o.tagName===e,r=_&&_.tagName===e,d=a?o:l.createElement(e),p=null,m=null,b=null,f=null,v=(function(x){return!this.isComponent(x)&&!this.isList(x)}).bind(l);for(let x=0,C=s.length,S,R,L,F,V,K,te,X,Z;x<C;x++){if(R=s[x],R.childNodes.length===0&&!l._isIgnoreNodeChange(R)){l.removeItem(R);continue}if(F=s[x+1],V=R.parentNode,K=F?F.parentNode:null,L=l.isListCell(R),Z=l.isRangeFormatElement(V)?V:null,te=L&&!l.isWysiwygDiv(V)?V.parentNode:V,X=L&&!l.isWysiwygDiv(V)?!F||l.isListCell(te)?V:V.nextSibling:R.nextSibling,S=l.createElement("LI"),l.copyFormatAttributes(S,R),x===0&&g.sc===R&&(g.sc=S),x===C-1&&g.ec===R&&(g.ec=S),l.isComponent(R)){let j=/^HR$/i.test(R.nodeName);j||(S.innerHTML="<br>"),S.innerHTML+=R.outerHTML,j&&(S.innerHTML+="<br>")}else{let j=R.childNodes;for(;j[0];)S.appendChild(j[0])}d.appendChild(S),F||(m=d),(!F||te!==K||l.isRangeFormatElement(X))&&(p||(p=d),(!a||!F||te!==K)&&!(F&&l.isList(K)&&K===V)&&d.parentNode!==te&&te.insertBefore(d,X)),l.removeItem(R),a&&b===null&&(b=d.children.length-1),F&&(l.getRangeFormatElement(K,v)!==l.getRangeFormatElement(V,v)||l.isList(K)&&l.isList(V)&&l.getElementDepth(K)!==l.getElementDepth(V))&&(d=l.createElement(e)),Z&&Z.children.length===0&&l.removeItem(Z)}b&&(p=p.children[b]),r&&(f=d.children.length-1,d.innerHTML+=_.innerHTML,m=d.children[f],l.removeItem(_))}return this.effectNode=null,u&&k||g},_detachNested:function(e){let t=e[0],n=e[e.length-1],i=n.nextElementSibling,s=t.parentNode,l=s.parentNode.nextElementSibling,c=s.parentNode.parentNode;for(let o=0,_=e.length;o<_;o++)c.insertBefore(e[o],l);if(i&&s.children.length>0){let o=s.cloneNode(!1),_=s.childNodes,u=this.util.getPositionIndex(i);for(;_[u];)o.appendChild(_[u]);n.appendChild(o)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(c);let h=this.util.getEdgeChildNodes(t,n);return{cc:t.parentNode,sc:h.sc,ec:h.ec}},editInsideList:function(e,t){t=t||this.getSelectedElements().filter((function(c){return this.isListCell(c)}).bind(this.util));let n=t.length;if(n===0||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[n-1].nextElementSibling))return{sc:t[0],so:0,ec:t[n-1],eo:1};let i=t[0].parentNode,s=t[n-1],l=null;if(e){if(i!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)t.push(s),s=s.nextElementSibling;l=this.plugins.list.editList.call(this,i.nodeName.toUpperCase(),t,!0)}else{let c=this.util.createElement(i.nodeName),h=t[0].previousElementSibling,o=s.nextElementSibling,_={s:null,e:null,sl:i,el:i};for(let k=0,M=n,I;k<M;k++)I=t[k],I.parentNode!==i&&(this.plugins.list._insiedList.call(this,i,c,h,o,_),i=I.parentNode,c=this.util.createElement(i.nodeName)),h=I.previousElementSibling,o=I.nextElementSibling,c.appendChild(I);this.plugins.list._insiedList.call(this,i,c,h,o,_);let u=this.util.getNodeFromPath(_.s,_.sl),g=this.util.getNodeFromPath(_.e,_.el);l={sc:u,so:0,ec:g,eo:g.textContent.length}}return l},_insiedList:function(e,t,n,i,s){let l=!1;if(n&&t.tagName===n.tagName){let c=t.children;for(;c[0];)n.appendChild(c[0]);t=n,l=!0}if(i&&t.tagName===i.tagName){let c=i.children;for(;c[0];)t.appendChild(c[0]);let h=i.nextElementSibling;i.parentNode.removeChild(i),i=h}if(!l){this.util.isListCell(n)&&(e=n,i=null),e.insertBefore(t,i),s.s||(s.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),s.sl=e);let c=e.contains(s.sl)?this.util.getNodePath(s.sl,e):null;s.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),s.el=e,this.util.mergeSameTags(e,[s.s,s.e,c],!1),this.util.mergeNestedTags(e),c&&(s.sl=this.util.getNodeFromPath(c,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,n="";for(;!n&&!/^UL$/i.test(t.tagName);)n=t.getAttribute("data-command"),t=t.parentNode;if(!n)return;let i=this.plugins.list.editList.call(this,n,null,!1);i&&this.setRange(i.sc,i.so,i.ec,i.eo),this.submenuOff(),this.history.push(!1)}};var Oo={name:"table",display:"submenu",add:function(e,t){let n=e.context,i=n.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:e.options.rtl,cellControllerTop:e.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}},s=this.setSubmenu(e),l=s.querySelector(".se-controller-table-picker");i.tableHighlight=s.querySelector(".se-table-size-highlighted"),i.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),i.tableDisplay=s.querySelector(".se-table-size-display"),e.options.rtl&&(i.tableHighlight.style.left=10*18-13+"px");let c=this.setController_table(e);i.tableController=c,i.resizeButton=c.querySelector("._se_table_resize"),i.resizeText=c.querySelector("._se_table_resize > span > span"),i.columnFixedButton=c.querySelector("._se_table_fixed_column"),i.headerButton=c.querySelector("._se_table_header");let h=this.setController_tableEditor(e,i.cellControllerTop);i.resizeDiv=h,i.splitMenu=h.querySelector(".se-btn-group-sub"),i.mergeButton=h.querySelector("._se_table_merge_button"),i.splitButton=h.querySelector("._se_table_split_button"),i.insertRowAboveButton=h.querySelector("._se_table_insert_row_a"),i.insertRowBelowButton=h.querySelector("._se_table_insert_row_b"),l.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e,i)),l.addEventListener("click",this.appendTable.bind(e)),h.addEventListener("click",this.onClick_tableController.bind(e)),c.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,s),n.element.relative.appendChild(h),n.element.relative.appendChild(c),s=null,l=null,h=null,c=null,i=null},setSubmenu:function(e){let t=e.util.createElement("DIV");return t.className="se-submenu se-selector-table",t.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',t},setController_table:function(e){let t=e.lang,n=e.icons,i=e.util.createElement("DIV");return i.className="se-controller se-controller-table",i.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+n.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+n.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+n.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+n.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},setController_tableEditor:function(e,t){let n=e.lang,i=e.icons,s=e.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(t?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+i.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+i.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+i.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+i.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+i.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+i.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+i.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+i.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+n.controller.VerticalSplit+'" aria-label="'+n.controller.VerticalSplit+'">'+n.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+n.controller.HorizontalSplit+'" aria-label="'+n.controller.HorizontalSplit+'">'+n.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){let e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,n=this.context.table._tableXY[0],i=this.context.table._tableXY[1],s="<tbody>";for(;i>0;)s+="<tr>"+t.call(this,"td",n)+"</tr>",--i;if(s+="</tbody>",e.innerHTML=s,this.insertComponent(e,!1,!0,!1)){let c=e.querySelector("td div");this.setRange(c,0,c,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,n){if(e=e.toLowerCase(),n){let i=this.util.createElement(e);return i.innerHTML="<div><br></div>",i}else{let i="";for(;t>0;)i+="<"+e+"><div><br></div></"+e+">",t--;return i}},onMouseMove_tablePicker:function(e,t){t.stopPropagation();let n=this._w.Math.ceil(t.offsetX/18),i=this._w.Math.ceil(t.offsetY/18);n=n<1?1:n,i=i<1?1:i,e._rtl&&(e.tableHighlight.style.left=n*18-13+"px",n=11-n),e.tableHighlight.style.width=n+"em",e.tableHighlight.style.height=i+"em",this.util.changeTxt(e.tableDisplay,n+" x "+i),e._tableXY=[n,i]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;let e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){let e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){let n=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let i=0,s=n.length;i<s;i++)this.util.removeClass(n[i],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){let t=this.plugins.table,n=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell){this.controllersOff(),this.util.removeClass(e,"se-table-selected-cell");return}let i=n._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");n._maxWidth=this.util.hasClass(i,"se-table-size-100")||i.style.width==="100%"||!i.style.width&&!this.util.hasClass(i,"se-table-size-auto"),n._fixedColumn=this.util.hasClass(i,"se-table-layout-fixed")||i.style.tableLayout==="fixed",t.setTableStyle.call(this,n._maxWidth?"width|column":"width"),t.setPositionControllerTop.call(this,i),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(n.resizeDiv,n.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){this.setControllerPosition(this.context.table.tableController,e,"top",{left:0,top:0})},setPositionControllerDiv:function(e,t){let n=this.context.table,i=n.resizeDiv;this.plugins.table.setCellInfo.call(this,e,t),n.cellControllerTop?this.setControllerPosition(i,n._element,"top",{left:n.tableController.offsetWidth,top:0}):this.setControllerPosition(i,e,"bottom",{left:0,top:0})},setCellInfo:function(e,t){let n=this.context.table,i=n._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(i.firstElementChild.nodeName)?this.util.addClass(n.headerButton,"active"):this.util.removeClass(n.headerButton,"active"),t||n._physical_cellCnt===0){n._tdElement!==e&&(n._tdElement=e,n._trElement=e.parentNode);let s=n._trElements=i.rows,l=e.cellIndex,c=0;for(let u=0,g=s[0].cells,k=s[0].cells.length;u<k;u++)c+=g[u].colSpan;let h=n._rowIndex=n._trElement.rowIndex;n._rowCnt=s.length,n._physical_cellCnt=n._trElement.cells.length,n._logical_cellCnt=c,n._physical_cellIndex=l,n._current_colSpan=n._tdElement.colSpan-1,n._current_rowSpan-n._trElement.cells[l].rowSpan-1;let o=[],_=[];for(let u=0,g,k;u<=h;u++){g=s[u].cells,k=0;for(let M=0,I=g.length,P,a,r,d;M<I;M++){if(P=g[M],a=P.colSpan-1,r=P.rowSpan-1,d=M+k,_.length>0)for(let p=0,m;p<_.length;p++)m=_[p],!(m.row>u)&&(d>=m.index?(k+=m.cs,d+=m.cs,m.rs-=1,m.row=u+1,m.rs<1&&(_.splice(p,1),p--)):M===I-1&&(m.rs-=1,m.row=u+1,m.rs<1&&(_.splice(p,1),p--)));if(u===h&&M===l){n._logical_cellIndex=d;break}r>0&&o.push({index:d,cs:a+1,rs:r,row:-1}),k+=a}_=_.concat(o).sort(function(M,I){return M.index-I.index}),o=[]}o=null,_=null}},editTable:function(e,t){let n=this.plugins.table,i=this.context.table,s=i._element,l=e==="row";if(l){let c=i._trElement.parentNode;if(/^THEAD$/i.test(c.nodeName)){if(t==="up")return;if(!c.nextElementSibling||!/^TBODY$/i.test(c.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+n.createCells.call(this,"td",i._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(n._ref){let c=i._tdElement,h=n._selectedCells;if(l)if(t)n.setCellInfo.call(this,t==="up"?h[0]:h[h.length-1],!0),n.editRow.call(this,t,c);else{let o=h[0].parentNode,_=[h[0]];for(let u=1,g=h.length,k;u<g;u++)k=h[u],o!==k.parentNode&&(_.push(k),o=k.parentNode);for(let u=0,g=_.length;u<g;u++)n.setCellInfo.call(this,_[u],!0),n.editRow.call(this,t)}else{let o=h[0].parentNode;if(t){let _=null;for(let u=0,g=h.length-1;u<g;u++)if(o!==h[u+1].parentNode){_=h[u];break}n.setCellInfo.call(this,t==="left"?h[0]:_||h[0],!0),n.editCell.call(this,t,c)}else{let _=[h[0]];for(let u=1,g=h.length,k;u<g&&(k=h[u],o===k.parentNode);u++)_.push(k);for(let u=0,g=_.length;u<g;u++)n.setCellInfo.call(this,_[u],!0),n.editCell.call(this,t)}}t||n.init.call(this)}else n[l?"editRow":"editCell"].call(this,t);if(!t){let c=s.children;for(let h=0;h<c.length;h++)c[h].children.length===0&&(this.util.removeItem(c[h]),h--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(e,t){let n=this.context.table,i=!e,s=e==="up",l=n._rowIndex,c=i||s?l:l+n._current_rowSpan+1,h=i?-1:1,o=n._trElements,_=n._logical_cellCnt;for(let u=0,g=l+(i?-1:0),k;u<=g;u++){if(k=o[u].cells,k.length===0)return;for(let M=0,I=k.length,P,a;M<I;M++)P=k[M].rowSpan,a=k[M].colSpan,!(P<2&&a<2)&&P+u>c&&c>u&&(k[M].rowSpan=P+h,_-=a)}if(i){let u=o[l+1];if(u){let g=[],k=o[l].cells,M=0;for(let I=0,P=k.length,a,r;I<P;I++)a=k[I],r=I+M,M+=a.colSpan-1,a.rowSpan>1&&(a.rowSpan-=1,g.push({cell:a.cloneNode(!1),index:r}));if(g.length>0){let I=g.shift();k=u.cells,M=0;for(let P=0,a=k.length,r,d;P<a&&(r=k[P],d=P+M,M+=r.colSpan-1,!(d>=I.index&&(P--,M--,M+=I.cell.colSpan-1,u.insertBefore(I.cell,r),I=g.shift(),!I)));P++);if(I){u.appendChild(I.cell);for(let P=0,a=g.length;P<a;P++)u.appendChild(g[P].cell)}}}n._element.deleteRow(c)}else{let u=n._element.insertRow(c);u.innerHTML=this.plugins.table.createCells.call(this,"td",_,!1)}i?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||n._tdElement,!0)},editCell:function(e,t){let n=this.context.table,i=this.util,s=!e,l=e==="left",c=n._current_colSpan,h=s||l?n._logical_cellIndex:n._logical_cellIndex+c+1,o=n._trElements,_=[],u=[],g=0,k=[],M=[];for(let I=0,P=n._rowCnt,a,r,d,p,m,b;I<P;I++){a=o[I],r=h,m=!1,d=a.cells,b=0;for(let f=0,v,x=d.length,C,S,R;f<x&&(v=d[f],!!v);f++)if(C=v.rowSpan-1,S=v.colSpan-1,s){if(R=f+b,u.length>0){let L=!d[f+1];for(let F=0,V;F<u.length;F++)V=u[F],!(V.row>I)&&(R>=V.index?(b+=V.cs,R=f+b,V.rs-=1,V.row=I+1,V.rs<1&&(u.splice(F,1),F--)):L&&(V.rs-=1,V.row=I+1,V.rs<1&&(u.splice(F,1),F--)))}C>0&&_.push({rs:C,cs:S+1,index:R,row:-1}),R>=r&&R+S<=r+c?k.push(v):R<=r+c&&R+S>=r?v.colSpan-=i.getOverlapRangeAtIndex(h,h+c,R,R+S):C>0&&(R<r||R+S>r+c)&&M.push({cell:v,i:I,rs:I+C}),b+=S}else{if(f>=r)break;if(S>0){if(g<1&&S+f>=r){v.colSpan+=1,r=null,g=C+1;break}r-=S}if(!m){for(let L=0,F;L<u.length;L++)F=u[L],r-=F.cs,F.rs-=1,F.rs<1&&(u.splice(L,1),L--);m=!0}}if(u=u.concat(_).sort(function(f,v){return f.index-v.index}),_=[],!s){if(g>0){g-=1;continue}r!==null&&d.length>0&&(p=this.plugins.table.createCells.call(this,d[0].nodeName,0,!0),p=a.insertBefore(p,d[r]))}}if(s){let I,P;for(let a=0,r=k.length,d;a<r;a++)d=k[a].parentNode,i.removeItem(k[a]),d.cells.length===0&&(I||(I=i.getArrayIndex(o,d)),P=i.getArrayIndex(o,d),i.removeItem(d));for(let a=0,r=M.length,d;a<r;a++)d=M[a],d.cell.rowSpan=i.getOverlapRangeAtIndex(I,P,d.i,d.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||n._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=(function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}).bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(e){let t=this.util,n=e==="vertical",i=this.context.table,s=i._tdElement,l=i._trElements,c=i._trElement,h=i._logical_cellIndex,o=i._rowIndex,_=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(n){let u=s.colSpan;if(_.rowSpan=s.rowSpan,u>1)_.colSpan=this._w.Math.floor(u/2),s.colSpan=u-_.colSpan,c.insertBefore(_,s.nextElementSibling);else{let g=[],k=[];for(let M=0,I=i._rowCnt,P,a;M<I;M++){P=l[M].cells,a=0;for(let r=0,d=P.length,p,m,b,f;r<d;r++){if(p=P[r],m=p.colSpan-1,b=p.rowSpan-1,f=r+a,k.length>0)for(let v=0,x;v<k.length;v++)x=k[v],!(x.row>M)&&(f>=x.index?(a+=x.cs,f+=x.cs,x.rs-=1,x.row=M+1,x.rs<1&&(k.splice(v,1),v--)):r===d-1&&(x.rs-=1,x.row=M+1,x.rs<1&&(k.splice(v,1),v--)));if(f<=h&&b>0&&g.push({index:f,cs:m+1,rs:b,row:-1}),p!==s&&f<=h&&f+m>=h+u-1){p.colSpan+=1;break}if(f>h)break;a+=m}k=k.concat(g).sort(function(r,d){return r.index-d.index}),g=[]}c.insertBefore(_,s.nextElementSibling)}}else{let u=s.rowSpan;if(_.colSpan=s.colSpan,u>1){_.rowSpan=this._w.Math.floor(u/2);let g=u-_.rowSpan,k=[],M=t.getArrayIndex(l,c)+g;for(let r=0,d,p;r<M;r++){d=l[r].cells,p=0;for(let m=0,b=d.length,f,v,x;m<b&&(x=m+p,!(x>=h));m++)f=d[m],v=f.rowSpan-1,v>0&&v+r>=M&&x<h&&k.push({index:x,cs:f.colSpan}),p+=f.colSpan-1}let I=l[M],P=I.cells,a=k.shift();for(let r=0,d=P.length,p=0,m,b,f,v;r<d;r++){if(f=r+p,m=P[r],b=m.colSpan-1,v=f+b+1,a&&v>=a.index&&(p+=a.cs,v+=a.cs,a=k.shift()),v>=h||r===d-1){I.insertBefore(_,m.nextElementSibling);break}p+=b}s.rowSpan=g}else{_.rowSpan=s.rowSpan;let g=t.createElement("TR");g.appendChild(_);for(let I=0,P;I<o;I++){if(P=l[I].cells,P.length===0)return;for(let a=0,r=P.length;a<r;a++)I+P[a].rowSpan-1>=o&&(P[a].rowSpan+=1)}let k=i._physical_cellIndex,M=c.cells;for(let I=0,P=M.length;I<P;I++)I!==k&&(M[I].rowSpan+=1);c.parentNode.insertBefore(g,c.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){let e=this.plugins.table,t=this.context.table,n=this.util,i=e._ref,s=e._selectedCells,l=s[0],c=null,h=null,o=i.ce-i.cs+1,_=i.re-i.rs+1,u="",g=null;for(let k=1,M=s.length,I,P;k<M;k++){I=s[k],g!==I.parentNode&&(g=I.parentNode),P=I.children;for(let a=0,r=P.length;a<r;a++)n.isFormatElement(P[a])&&n.onlyZeroWidthSpace(P[a].textContent)&&n.removeItem(P[a]);u+=I.innerHTML,n.removeItem(I),g.cells.length===0&&(c?h=g:c=g,_-=1)}if(c){let k=t._trElements,M=n.getArrayIndex(k,c),I=n.getArrayIndex(k,h||c),P=[];for(let a=0,r;a<=I;a++){if(r=k[a].cells,r.length===0){P.push(k[a]);continue}for(let d=0,p=r.length,m,b;d<p;d++)m=r[d],b=m.rowSpan-1,b>0&&a+b>=M&&(m.rowSpan-=n.getOverlapRangeAtIndex(M,I,a,a+b))}for(let a=0,r=P.length;a<r;a++)n.removeItem(P[a])}l.innerHTML+=u,l.colSpan=o,l.rowSpan=_,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,l),n.addClass(l,"se-table-selected-cell"),this.focusEdge(l)},toggleHeader:function(){let e=this.util,t=this.context.table.headerButton,n=e.hasClass(t,"active"),i=this.context.table._element;if(n)e.removeItem(i.querySelector("thead"));else{let s=e.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",i.insertBefore(s,i.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){let t=this.context.table,n=t._element,i,s,l,c;e.indexOf("width")>-1&&(i=t.resizeButton.firstElementChild,s=t.resizeText,t._maxWidth?(l=t.icons.reduction,c=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(n,"se-table-size-auto"),this.util.addClass(n,"se-table-size-100")):(l=t.icons.expansion,c=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(n,"se-table-size-100"),this.util.addClass(n,"se-table-size-auto")),this.util.changeElement(i,l),this.util.changeTxt(s,c)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(n,"se-table-layout-auto"),this.util.addClass(n,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(n,"se-table-layout-fixed"),this.util.addClass(n,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){let n=this.context.table;/^TH$/i.test(e.nodeName)?(n.insertRowAboveButton.setAttribute("disabled",!0),n.insertRowBelowButton.setAttribute("disabled",!0)):(n.insertRowAboveButton.removeAttribute("disabled"),n.insertRowBelowButton.removeAttribute("disabled")),!t||e===t?(n.splitButton.removeAttribute("disabled"),n.mergeButton.setAttribute("disabled",!0)):(n.splitButton.setAttribute("disabled",!0),n.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();let t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),!(!t._fixedCell||!t._selectedTable)&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;let t=this.plugins.table,n=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)n===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(n===t._fixedCell)return;t._toggleEditor.call(this,!1)}!n||n===t._selectedCell||t._fixedCellName!==n.nodeName||t._selectedTable!==this.util.getParentElement(n,"TABLE")||(t._selectedCell=n,t._setMultiCells.call(this,t._fixedCell,n))},_setMultiCells:function(e,t){let n=this.plugins.table,i=n._selectedTable.rows,s=this.util,l=n._selectedTable.querySelectorAll(".se-table-selected-cell");for(let u=0,g=l.length;u<g;u++)s.removeClass(l[u],"se-table-selected-cell");if(e===t&&(s.addClass(e,"se-table-selected-cell"),!n._shift))return;let c=!0,h=[],o=[],_=n._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let u=0,g=i.length,k,M;u<g;u++){k=i[u].cells,M=0;for(let I=0,P=k.length,a,r,d,p;I<P;I++){if(a=k[I],d=a.colSpan-1,p=a.rowSpan-1,r=I+M,h.length>0)for(let m=0,b;m<h.length;m++)b=h[m],!(b.row>u)&&(r>=b.index?(M+=b.cs,r+=b.cs,b.rs-=1,b.row=u+1,b.rs<1&&(h.splice(m,1),m--)):I===P-1&&(b.rs-=1,b.row=u+1,b.rs<1&&(h.splice(m,1),m--)));if(c){if((a===e||a===t)&&(_.cs=_.cs!==null&&_.cs<r?_.cs:r,_.ce=_.ce!==null&&_.ce>r+d?_.ce:r+d,_.rs=_.rs!==null&&_.rs<u?_.rs:u,_.re=_.re!==null&&_.re>u+p?_.re:u+p,_._i+=1),_._i===2){c=!1,h=[],o=[],u=-1;break}}else if(s.getOverlapRangeAtIndex(_.cs,_.ce,r,r+d)&&s.getOverlapRangeAtIndex(_.rs,_.re,u,u+p)){let m=_.cs<r?_.cs:r,b=_.ce>r+d?_.ce:r+d,f=_.rs<u?_.rs:u,v=_.re>u+p?_.re:u+p;if(_.cs!==m||_.ce!==b||_.rs!==f||_.re!==v){_.cs=m,_.ce=b,_.rs=f,_.re=v,u=-1,h=[],o=[];break}s.addClass(a,"se-table-selected-cell")}p>0&&o.push({index:r,cs:d+1,rs:p,row:-1}),M+=a.colSpan-1}h=h.concat(o).sort(function(I,P){return I.index-P.index}),o=[]}},_removeEvents:function(){let e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){let n=this.plugins.table;n._removeEvents.call(this),this.controllersOff(),n._shift=t,n._fixedCell=e,n._fixedCellName=e.nodeName,n._selectedTable=this.util.getParentElement(e,"TABLE");let i=n._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,l=i.length;s<l;s++)this.util.removeClass(i[s],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),n._bindOnSelect=n._onCellMultiSelect.bind(this),n._bindOffSelect=n._offCellMultiSelect.bind(this),t?(n._bindOffShift=(function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),n._ref||this.controllersOff()}).bind(this),this._wd.addEventListener("keyup",n._bindOffShift,!1),this._wd.addEventListener("mousedown",n._bindOnSelect,!1)):this._wd.addEventListener("mousemove",n._bindOnSelect,!1),this._wd.addEventListener("mouseup",n._bindOffSelect,!1),n._initBind=n.init.bind(this),this._wd.addEventListener("touchmove",n._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;let n=t.getAttribute("data-command"),i=t.getAttribute("data-value"),s=t.getAttribute("data-option"),l=this.plugins.table;if(typeof l._closeSplitMenu=="function"&&(l._closeSplitMenu(),n==="onsplit")||!n)return;e.preventDefault();let c=this.context.table;switch(n){case"insert":case"delete":l.editTable.call(this,i,s);break;case"header":l.toggleHeader.call(this);break;case"onsplit":l.openSplitMenu.call(this);break;case"split":l.splitCells.call(this,i);break;case"merge":l.mergeCells.call(this);break;case"resize":c._maxWidth=!c._maxWidth,l.setTableStyle.call(this,"width"),l.setPositionControllerTop.call(this,c._element),l.setPositionControllerDiv.call(this,c._tdElement,l._shift);break;case"layout":c._fixedColumn=!c._fixedColumn,l.setTableStyle.call(this,"column"),l.setPositionControllerTop.call(this,c._element),l.setPositionControllerDiv.call(this,c._tdElement,l._shift);break;case"remove":let h=c._element.parentNode;this.util.removeItem(c._element),this.controllersOff(),h!==this.context.element.wysiwyg&&this.util.removeItemAllParents(h,function(o){return o.childNodes.length===0},null),this.focus()}this.history.push(!1)}};var Fo={name:"formatBlock",display:"submenu",add:function(e,t){let n=e.context;n.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),n.formatBlock._formatList=i.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.options,n=e.lang.toolbar,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";let s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],l=!t.formats||t.formats.length===0?s:t.formats,c='<div class="se-list-inner"><ul class="se-list-basic">';for(let h=0,o=l.length,_,u,g,k,M,I,P;h<o;h++)_=l[h],typeof _=="string"&&s.indexOf(_)>-1?(u=_.toLowerCase(),g=u==="blockquote"?"range":u==="pre"?"free":"replace",M=/^h/.test(u)?u.match(/\d+/)[0]:"",k=n["tag_"+(M?"h":u)]+M,P="",I=""):(u=_.tag.toLowerCase(),g=_.command,k=_.name||u,P=_.class,I=P?' class="'+P+'"':""),c+='<li><button type="button" class="se-btn-list" data-command="'+g+'" data-value="'+u+'" data-class="'+P+'" title="'+k+'" aria-label="'+k+'"><'+u+I+">"+k+"</"+u+"></button></li>";return c+="</ul></div>",i.innerHTML=c,i},active:function(e){let t=this.lang.toolbar.formats,n=this.context.formatBlock.targetText;if(!e)this.util.changeTxt(n,t);else if(this.util.isFormatElement(e)){let s=this.context.formatBlock._formatList,l=e.nodeName.toLowerCase(),c=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let h=0,o=s.length,_;h<o;h++)if(_=s[h],l===_.getAttribute("data-value")&&c===_.getAttribute("data-class")){t=_.title;break}return this.util.changeTxt(n,t),n.setAttribute("data-value",l),n.setAttribute("data-class",c),!0}return!1},on:function(){let e=this.context.formatBlock,t=e._formatList,n=e.targetText,i=(n.getAttribute("data-value")||"")+(n.getAttribute("data-class")||"");if(i!==e.currentFormat){for(let s=0,l=t.length,c;s<l;s++)c=t[s],i===c.getAttribute("data-value")+c.getAttribute("data-class")?this.util.addClass(c,"active"):this.util.removeClass(c,"active");e.currentFormat=i}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,n=null,i=null,s=null,l="";for(;!n&&!/UL/i.test(t.tagName);){if(n=t.getAttribute("data-command"),i=t.getAttribute("data-value"),l=t.getAttribute("data-class"),n){s=t.firstChild;break}t=t.parentNode}if(n){if(n==="range"){let c=s.cloneNode(!1);this.applyRangeFormatElement(c)}else{let c=this.getRange(),h=this.getSelectedElementsAndComponents(!1);if(h.length===0&&(c=this.getRange_addLine(c,null),h=this.getSelectedElementsAndComponents(!1),h.length===0))return;let o=c.startOffset,_=c.endOffset,u=this.util,g=h[0],k=h[h.length-1],M=u.getNodePath(c.startContainer,g,null,null),I=u.getNodePath(c.endContainer,k,null,null),P=this.detachList(h,!1);P.sc&&(g=P.sc),P.ec&&(k=P.ec),this.setRange(u.getNodeFromPath(M,g),o,u.getNodeFromPath(I,k),_);let a=this.getSelectedElementsAndComponents(!1);if(n==="free"){let r=a.length-1,d=a[r].parentNode,p=s.cloneNode(!1),m=p;for(let b=r,f,v,x,C,S,R,L=!0;b>=0;b--)if(f=a[b],f!==(a[b+1]?a[b+1].parentNode:null)){if(R=u.isComponent(f),v=R?"":f.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),x=u.getParentElement(f,function(F){return F.parentNode===d}),(d!==f.parentNode||R)&&(u.isFormatElement(d)?(d.parentNode.insertBefore(p,d.nextSibling),d=d.parentNode):(d.insertBefore(p,x?x.nextSibling:null),d=f.parentNode),C=p.nextSibling,C&&p.nodeName===C.nodeName&&u.isSameAttributes(p,C)&&(p.innerHTML+="<BR>"+C.innerHTML,u.removeItem(C)),p=s.cloneNode(!1),L=!0),S=p.innerHTML,p.innerHTML=(L||!v||!S||/<br>$/i.test(v)?v:v+"<BR>")+S,b===0){d.insertBefore(p,f),C=f.nextSibling,C&&p.nodeName===C.nodeName&&u.isSameAttributes(p,C)&&(p.innerHTML+="<BR>"+C.innerHTML,u.removeItem(C));let F=p.previousSibling;F&&p.nodeName===F.nodeName&&u.isSameAttributes(p,F)&&(F.innerHTML+="<BR>"+p.innerHTML,u.removeItem(p))}R||u.removeItem(f),v&&(L=!1)}this.setRange(m,0,m,0)}else{for(let r=0,d=a.length,p,m;r<d;r++)p=a[r],(p.nodeName.toLowerCase()!==i.toLowerCase()||(p.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==l)&&!u.isComponent(p)&&(m=s.cloneNode(!1),u.copyFormatAttributes(m,p),m.innerHTML=p.innerHTML,p.parentNode.replaceChild(m,p)),r===0&&(g=m||p),r===d-1&&(k=m||p),m=null;this.setRange(u.getNodeFromPath(M,g),o,u.getNodeFromPath(I,k),_)}this.history.push(!1)}this.submenuOff()}}};var Ao={name:"lineHeight",display:"submenu",add:function(e,t){let n=e.context;n.lineHeight={_sizeList:null,currentSize:-1};let i=this.setSubmenu(e),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),n.lineHeight._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null,s=null},setSubmenu:function(e){let t=e.options,n=e.lang,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer";let s=t.lineHeights?t.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}],l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+n.toolbar.default+'" aria-label="'+n.toolbar.default+'">('+n.toolbar.default+")</button></li>";for(let c=0,h=s.length,o;c<h;c++)o=s[c],l+='<li><button type="button" class="se-btn-list" data-value="'+o.value+'" title="'+o.text+'" aria-label="'+o.text+'">'+o.text+"</button></li>";return l+="</ul></div>",i.innerHTML=l,i},on:function(){let e=this.context.lineHeight,t=e._sizeList,n=this.util.getFormatElement(this.getSelectionNode()),i=n?n.style.lineHeight+"":"";if(i!==e.currentSize){for(let s=0,l=t.length;s<l;s++)i===t[s].getAttribute("data-value")?this.util.addClass(t[s],"active"):this.util.removeClass(t[s],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value")||"",n=this.getSelectedElements();for(let i=0,s=n.length;i<s;i++)n[i].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}};var Ro={name:"template",display:"submenu",add:function(e,t){let n=e.context;n.template={selectedIndex:-1};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.options.templates;if(!t||t.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');let n=e.util.createElement("DIV");n.className="se-list-layer";let i='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,l=t.length,c;s<l;s++)c=t[s],i+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+c.name+'" aria-label="'+c.name+'">'+c.name+"</button></li>";return i+="</ul></div>",n.innerHTML=i,n},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation(),this.context.template.selectedIndex=e.target.getAttribute("data-value")*1;let t=this.options.templates[this.context.template.selectedIndex];if(t.html)this.setContents(t.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}};var Ho={name:"paragraphStyle",display:"submenu",add:function(e,t){let n=e.context;n.paragraphStyle={_classList:null};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),n.paragraphStyle._classList=i.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){let t=e.options,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";let i=e.lang.menu,s={spaced:{name:i.spaced,class:"__se__p-spaced",_class:""},bordered:{name:i.bordered,class:"__se__p-bordered",_class:""},neon:{name:i.neon,class:"__se__p-neon",_class:""}},l=!t.paragraphStyles||t.paragraphStyles.length===0?["spaced","bordered","neon"]:t.paragraphStyles,c='<div class="se-list-inner"><ul class="se-list-basic">';for(let h=0,o=l.length,_,u,g,k;h<o;h++){if(_=l[h],typeof _=="string"){let M=s[_.toLowerCase()];if(!M)continue;_=M}u=_.name,g=_.class?' class="'+_.class+'"':"",k=_._class,c+='<li><button type="button" class="se-btn-list'+(k?" "+k:"")+'" data-value="'+_.class+'" title="'+u+'" aria-label="'+u+'"><div'+g+">"+u+"</div></button></li>"}return c+="</ul></div>",n.innerHTML=c,n},on:function(){let t=this.context.paragraphStyle._classList,n=this.util.getFormatElement(this.getSelectionNode());for(let i=0,s=t.length;i<s;i++)this.util.hasClass(n,t[i].getAttribute("data-value"))?this.util.addClass(t[i],"active"):this.util.removeClass(t[i],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,n=null;for(;!/^UL$/i.test(t.tagName)&&(n=t.getAttribute("data-value"),!n);)t=t.parentNode;if(!n)return;let i=this.getSelectedElements();if(i.length===0&&(this.getRange_addLine(this.getRange(),null),i=this.getSelectedElements(),i.length===0))return;let s=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let l=0,c=i.length;l<c;l++)s(i[l],n);this.submenuOff(),this.history.push(!1)}};var Po={name:"textStyle",display:"submenu",add:function(e,t){let n=e.context;n.textStyle={_styleList:null};let i=this.setSubmenu(e),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),n.textStyle._styleList=i.querySelectorAll("li button"),e.initMenuTarget(this.name,t,i),i=null,s=null},setSubmenu:function(e){let t=e.options,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";let i={code:{name:e.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:e.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:e.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=t.textStyles?t.textStyles:e._w.Object.keys(i),l='<div class="se-list-inner"><ul class="se-list-basic">';for(let c=0,h=s.length,o,_,u,g,k,M,I;c<h;c++){if(o=s[c],g="",M="",k=[],typeof o=="string"){let P=i[o.toLowerCase()];if(!P)continue;o=P}u=o.name,_=o.tag||"span",I=o._class,o.style&&(g+=' style="'+o.style+'"',M+=o.style.replace(/:[^;]+(;|$)\s*/g,","),k.push("style")),o.class&&(g+=' class="'+o.class+'"',M+="."+o.class.trim().replace(/\s+/g,",."),k.push("class")),M=M.replace(/,$/,""),l+='<li><button type="button" class="se-btn-list'+(I?" "+I:"")+'" data-command="'+_+'" data-value="'+M+'" title="'+u+'" aria-label="'+u+'"><'+_+g+">"+u+"</"+_+"></button></li>"}return l+="</ul></div>",n.innerHTML=l,n},on:function(){let e=this.util,n=this.context.textStyle._styleList,i=this.getSelectionNode();for(let s=0,l=n.length,c,h,o;s<l;s++){c=n[s],h=c.getAttribute("data-value").split(",");for(let _=0,u,g;_<h.length;_++){for(u=i,o=!1;u&&!e.isFormatElement(u)&&!e.isComponent(u);){if(u.nodeName.toLowerCase()===c.getAttribute("data-command").toLowerCase()&&(g=h[_],/^\./.test(g)?e.hasClass(u,g.replace(/^\./,"")):u.style[g])){o=!0;break}u=u.parentNode}if(!o)break}o?e.addClass(c,"active"):e.removeClass(c,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,n=null,i=null;for(;!n&&!/UL/i.test(t.tagName);){if(n=t.getAttribute("data-command"),n){i=t.firstChild;break}t=t.parentNode}if(!n)return;let s=i.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();let l=i.classList;for(let o=0,_=l.length;o<_;o++)s.push("."+l[o]);let c=this.util.hasClass(t,"active")?null:i.cloneNode(!1),h=c?null:[i.nodeName];this.nodeChange(c,s,h,!0),this.submenuOff()}};var Wo=Ke(oi());var Vo={name:"selectMenu",add:function(e){e.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(e,t,n){e.form.innerHTML="<ul>"+n+"</ul>",e.items=t,e.menus=e.form.querySelectorAll("li")},initEvent:function(e,t){let n=t.querySelector(".se-select-list"),i=this.context.selectMenu.caller[e]={form:n,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:e};n.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),n.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,i)),n.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,i))},onMousedown_list:function(e){e.preventDefault(),e.stopPropagation()},onMouseMove_list:function(e,t){this.util.addClass(e.form,"__se_select-menu-mouse-move");let n=t.target.getAttribute("data-index");n&&(e.index=n*1)},onClick_list:function(e,t){let n=t.target.getAttribute("data-index");n&&e.clickMethod.call(this,e.items[n])},moveItem:function(e,t){this.util.removeClass(e.form,"__se_select-menu-mouse-move"),t=e.index+t;let n=e.menus,i=n.length,s=e.index=t>=i?0:t<0?i-1:t;for(let l=0;l<i;l++)l===s?this.util.addClass(n[l],"active"):this.util.removeClass(n[l],"active");e.item=e.items[s]},getItem:function(e,t){return t=!t||t<0?e.index:t,e.items[t]},on:function(e,t){let n=this.context.selectMenu.caller[e];this.context.selectMenu.callerContext=n,n.clickMethod=t,n.callerName=e},open:function(e,t){let n=e.form;n.style.visibility="hidden",n.style.display="block",t(n),n.style.visibility=""},close:function(e){e.form.style.display="none",e.items=[],e.menus=[],e.index=-1,e.item=null},init:function(e){e&&(e.items=[],e.menus=[],e.index=-1,e.item=null,e.callerName="",this.context.selectMenu.callerContext=null)}};var In={name:"anchor",add:function(e){e.addModule([Vo]),e.context.anchor={caller:{},forms:this.setDialogForm(e),host:(e._w.location.origin+e._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(e){let t=e.lang,n=e.options.linkRel,i=(e.options.linkRelDefault.default||"").split(" "),s=e.icons,l=e.util.createElement("DIV"),c='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(e.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+t.dialogBox.linkBox.bookmark+'" aria-label="'+t.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+e.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+t.dialogBox.linkBox.downloadLinkCheck+"</label>";if(n.length>0){c+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let h=0,o=n.length,_;h<o;h++)_=n[h],c+='<li><button type="button" class="se-btn-list'+(i.indexOf(_)>-1?" se-checked":"")+'" data-command="'+_+'" title="'+_+'" aria-label="'+_+'"><span class="se-svg">'+s.checked+"</span>"+_+"</button></li>";c+="</ul></div></div></div>"}return c+="</div></div>",l.innerHTML=c,l},initEvent:function(e,t){let n=this.plugins.anchor,i=this.context.anchor.caller[e]={modal:t,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:e};typeof i.linkDefaultRel.default=="string"&&(i.linkDefaultRel.default=i.linkDefaultRel.default.trim()),typeof i.linkDefaultRel.check_new_window=="string"&&(i.linkDefaultRel.check_new_window=i.linkDefaultRel.check_new_window.trim()),typeof i.linkDefaultRel.check_bookmark=="string"&&(i.linkDefaultRel.check_bookmark=i.linkDefaultRel.check_bookmark.trim()),i.urlInput=t.querySelector(".se-input-url"),i.anchorText=t.querySelector("._se_anchor_text"),i.newWindowCheck=t.querySelector("._se_anchor_check"),i.downloadCheck=t.querySelector("._se_anchor_download"),i.download=t.querySelector("._se_anchor_download_icon"),i.preview=t.querySelector(".se-link-preview"),i.bookmark=t.querySelector("._se_anchor_bookmark_icon"),i.bookmarkButton=t.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,e,t);let s=this.context.selectMenu.caller[e];this.options.linkRel.length>0&&(i.relButton=t.querySelector(".se-anchor-rel-btn"),i.relList=t.querySelector(".se-list-layer"),i.relPreview=t.querySelector(".se-anchor-rel-preview"),i.relButton.addEventListener("click",n.onClick_relButton.bind(this,i)),i.relList.addEventListener("click",n.onClick_relList.bind(this,i))),i.newWindowCheck.addEventListener("change",n.onChange_newWindowCheck.bind(this,i)),i.downloadCheck.addEventListener("change",n.onChange_downloadCheck.bind(this,i)),i.anchorText.addEventListener("input",n.onChangeAnchorText.bind(this,i)),i.urlInput.addEventListener("input",n.onChangeUrlInput.bind(this,i)),i.urlInput.addEventListener("keydown",n.onKeyDownUrlInput.bind(this,s)),i.urlInput.addEventListener("focus",n.onFocusUrlInput.bind(this,i,s)),i.urlInput.addEventListener("blur",n.onBlurUrlInput.bind(this,s)),i.bookmarkButton.addEventListener("click",n.onClick_bookmarkButton.bind(this,i))},on:function(e,t){let n=this.plugins.anchor;if(!t)n.init.call(this,e),e.anchorText.value=this.getSelection().toString().trim(),e.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(e.linkAnchor){this.context.dialog.updateModal=!0;let i=e.linkAnchor.getAttribute("href");e.linkValue=e.preview.textContent=e.urlInput.value=n.selfPathBookmark.call(this,i)?i.substr(i.lastIndexOf("#")):i,e.anchorText.value=e.linkAnchor.textContent,e.newWindowCheck.checked=!!/_blank/i.test(e.linkAnchor.target),e.downloadCheck.checked=e.linkAnchor.download}this.context.anchor.callerContext=e,n.setRel.call(this,e,t&&e.linkAnchor?e.linkAnchor.rel:e.defaultRel),n.setLinkPreview.call(this,e,e.linkValue),this.plugins.selectMenu.on.call(this,e.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(e){let t=this._w.location.href.replace(/\/$/,"");return e.indexOf("#")===0||e.indexOf(t)===0&&e.indexOf("#")===(t.indexOf("#")===-1?t.length:t.substr(0,t.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(e,t){if(!t)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{let n=e.relButton,i=e.relList;this.util.addClass(n,"active"),i.style.visibility="hidden",i.style.display="block",this.options.rtl?i.style.left=n.offsetLeft-i.offsetWidth-1+"px":i.style.left=n.offsetLeft+n.offsetWidth+1+"px",i.style.top=n.offsetTop+n.offsetHeight/2-i.offsetHeight/2+"px",i.style.visibility="",this.plugins.anchor._closeRelMenu=(function(s,l,c){c&&(s.relButton.contains(c.target)||s.relList.contains(c.target))||(this.util.removeClass(l,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}).bind(this,e,n),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(e,t){this.plugins.anchor.toggleRelList.call(this,e,!this.util.hasClass(t.target,"active"))},onClick_relList:function(e,t){let n=t.target,i=n.getAttribute("data-command");if(!i)return;let s=e.currentRel,l=this.util.toggleClass(n,"se-checked"),c=s.indexOf(i);l?c===-1&&s.push(i):c>-1&&s.splice(c,1),e.relPreview.title=e.relPreview.textContent=s.join(" ")},setRel:function(e,t){let n=e.relList,i=e.currentRel=t?t.split(" "):[];if(!n)return;let s=n.querySelectorAll("button");for(let l=0,c=s.length,h;l<c;l++)h=s[l].getAttribute("data-command"),i.indexOf(h)>-1?this.util.addClass(s[l],"se-checked"):this.util.removeClass(s[l],"se-checked");e.relPreview.title=e.relPreview.textContent=i.join(" ")},createHeaderList:function(e,t,n){let i=this.util.getListChildren(this.context.element.wysiwyg,function(h){return/h[1-6]/i.test(h.nodeName)});if(i.length===0)return;let s=new this._w.RegExp("^"+n.replace(/^#/,""),"i"),l=[],c="";for(let h=0,o=i.length,_;h<o;h++)_=i[h],s.test(_.textContent)&&(l.push(_),c+='<li class="se-select-item" data-index="'+h+'">'+_.textContent+"</li>");l.length===0?this.plugins.selectMenu.close.call(this,t):(this.plugins.selectMenu.createList(t,l,c),this.plugins.selectMenu.open.call(this,t,this.plugins.anchor._setMenuListPosition.bind(this,e)))},_setMenuListPosition:function(e,t){t.style.top=e.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(e,t){switch(t.keyCode){case 38:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,-1);break;case 40:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,1);break;case 13:e.index>-1&&(t.preventDefault(),t.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(e,null)));break}},setHeaderBookmark:function(e){let t=this.context.anchor.callerContext,n=e.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");e.id=n,t.urlInput.value="#"+n,(!t.anchorText.value.trim()||!t._change)&&(t.anchorText.value=e.textContent),this.plugins.anchor.setLinkPreview.call(this,t,t.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(e,t){e._change=!!t.target.value.trim()},onChangeUrlInput:function(e,t){let n=t.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,e,n),this.plugins.anchor.selfPathBookmark.call(this,n)?this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,n):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(e,t){let n=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,n)&&this.plugins.anchor.createHeaderList.call(this,e,t,n)},onBlurUrlInput:function(e){this.plugins.selectMenu.close.call(this,e)},setLinkPreview:function(e,t){let n=e.preview,i=this.options.linkProtocol,s=this.options.linkNoPrefix,l=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(t)||t.indexOf(i)===0,c=i?this._w.RegExp("^"+this.util.escapeStringRegexp(t.substr(0,i.length))).test(i):!1;t=e.linkValue=n.textContent=t?s?t:i&&!l&&!c?i+t:l?t:/^www\./.test(t)?"http://"+t:this.context.anchor.host+(/^\//.test(t)?"":"/")+t:"",this.plugins.anchor.selfPathBookmark.call(this,t)?(e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active")):(e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,t)&&e.downloadCheck.checked?e.download.style.display="block":e.download.style.display="none"},setCtx:function(e,t){e&&(t.linkAnchor=e,t.linkValue=e.href,t.currentRel=e.rel.split(" "))},updateAnchor:function(e,t,n,i,s){!this.plugins.anchor.selfPathBookmark.call(this,t)&&i.downloadCheck.checked?e.setAttribute("download",n||t):e.removeAttribute("download"),i.newWindowCheck.checked?e.target="_blank":e.removeAttribute("target");let l=i.currentRel.join(" ");l?e.rel=l:e.removeAttribute("rel"),e.href=t,s?e.children.length===0&&(e.textContent=""):e.textContent=n},createAnchor:function(e,t){if(e.linkValue.length===0)return null;let n=e.linkValue,i=e.anchorText,s=i.value.length===0?n:i.value,l=e.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,l,n,s,e,t),e.linkValue=e.preview.textContent=e.urlInput.value=e.anchorText.value="",l},onClick_bookmarkButton:function(e){let t=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,t)?(t=t.substr(1),e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(t="#"+t,e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active"),e.downloadCheck.checked=!1,e.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,t)),e.urlInput.value=t,this.plugins.anchor.setLinkPreview.call(this,e,t),e.urlInput.focus()},onChange_newWindowCheck:function(e,t){typeof e.linkDefaultRel.check_new_window=="string"&&(t.target.checked?this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(e,t){t.target.checked?(e.download.style.display="block",e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),e.linkValue=e.preview.textContent=e.urlInput.value=e.urlInput.value.replace(/^\#+/,""),typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_bookmark))):(e.download.style.display="none",typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_bookmark)))},_relMerge:function(e,t){let n=e.currentRel;if(!t)return n.join(" ");if(/^only\:/.test(t))return t=t.replace(/^only\:/,"").trim(),e.currentRel=t.split(" "),t;let i=t.split(" ");for(let s=0,l=i.length,c;s<l;s++)c=n.indexOf(i[s]),c===-1&&n.push(i[s]);return n.join(" ")},_relDelete:function(e,t){if(!t)return e.currentRel.join(" ");/^only\:/.test(t)&&(t=t.replace(/^only\:/,"").trim());let n=e.currentRel.join(" ").replace(this._w.RegExp(t+"\\s*"),"");return e.currentRel=n.split(" "),n},init:function(e){e.linkAnchor=null,e.linkValue=e.preview.textContent=e.urlInput.value="",e.anchorText.value="",e.newWindowCheck.checked=!1,e.downloadCheck.checked=!1,e._change=!1,this.plugins.anchor.setRel.call(this,e,e.defaultRel),e.relList&&this.plugins.anchor.toggleRelList.call(this,e,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}};var qo={name:"link",display:"dialog",add:function(e){e.addModule([Wo.default,In]);let t=e.context,n=t.link={focusElement:null,_linkAnchor:null,anchorCtx:null},i=this.setDialog(e);n.modal=i;let s=this.setController_LinkButton(e);n.linkController=s,i.querySelector("form").addEventListener("submit",this.submit.bind(e)),s.addEventListener("click",this.onClick_linkController.bind(e)),t.dialog.modal.appendChild(i),t.element.relative.appendChild(s),e.plugins.anchor.initEvent.call(e,"link",i),n.focusElement=t.anchor.caller.link.urlInput,i=null,s=null},setDialog:function(e){let t=e.lang,n=e.util.createElement("DIV"),i=e.icons;n.className="se-dialog-content",n.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+i.cancel+'</button><span class="se-modal-title">'+t.dialogBox.linkBox.title+"</span></div>"+e.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>";return n.innerHTML=s,n},setController_LinkButton:function(e){let t=e.lang,n=e.icons,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+n.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+n.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+n.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();try{let t=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(t===null)return;if(this.context.dialog.updateModal){let n=this.context.link._linkAnchor.childNodes[0];this.setRange(n,0,n,n.textContent.length)}else{let n=this.getSelectedElements();if(n.length>1){let i=this.util.createElement(n[0].nodeName);if(i.appendChild(t),!this.insertNode(i,null,!0))return}else if(!this.insertNode(t,null,!0))return;this.setRange(t.childNodes[0],0,t.childNodes[0],t.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(e)&&e.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0;return!1},on:function(e){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,e)},call_controller:function(e){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=e;let t=this.context.link.linkController,n=t.querySelector("a");n.href=e.href,n.title=e.textContent,n.textContent=e.textContent,this.util.addClass(e,"on"),this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(t)){let n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(n,0,i,i.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var Yo=Ke(oi());var Qo=Ke(On()),jo=Ke(Kn()),Go=Ke(Rn()),Xo={name:"image",display:"dialog",add:function(e){e.addModule([Yo.default,In,Qo.default,jo.default,Go.default]);let t=e.options,n=e.context,i=n.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:t.imageWidth==="auto"?"":t.imageWidth,_origin_h:t.imageHeight==="auto"?"":t.imageHeight,_proportionChecked:!0,_resizing:t.imageResizing,_resizeDotHide:!t.imageHeightShow,_rotation:t.imageRotation,_alignHide:!t.imageAlignShow,_onlyPercentage:t.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null},s=this.setDialog(e);i.modal=s,i.imgInputFile=s.querySelector("._se_image_file"),i.imgUrlFile=s.querySelector("._se_image_url"),i.focusElement=i.imgInputFile||i.imgUrlFile,i.altText=s.querySelector("._se_image_alt"),i.captionCheckEl=s.querySelector("._se_image_check_caption"),i.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(i.imgInputFile,i.imgUrlFile,i.previewSrc)),i.imgUrlFile&&i.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(i.previewSrc,i._v_src,t.linkProtocol)),i.imgInputFile&&i.imgUrlFile&&i.imgInputFile.addEventListener("change",this._fileInputChange.bind(i));let l=s.querySelector(".__se__gallery");l&&l.addEventListener("click",this._openGallery.bind(e)),i.proportion={},i.inputX={},i.inputY={},t.imageResizing&&(i.proportion=s.querySelector("._se_image_check_proportion"),i.inputX=s.querySelector("._se_image_size_x"),i.inputY=s.querySelector("._se_image_size_y"),i.inputX.value=t.imageWidth,i.inputY.value=t.imageHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),i.inputX.addEventListener("change",this.setRatio.bind(e)),i.inputY.addEventListener("change",this.setRatio.bind(e)),i.proportion.addEventListener("change",this.setRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),n.dialog.modal.appendChild(s),e.plugins.anchor.initEvent.call(e,"image",s.querySelector("._se_tab_content_url")),i.anchorCtx=e.context.anchor.caller.image,s=null},setDialog:function(e){let t=e.options,n=e.lang,i=e.util.createElement("DIV");i.className="se-dialog-content se-dialog-image",i.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+n.dialogBox.close+'" aria-label="'+n.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+n.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+n.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+n.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(t.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+t.imageAccept+'"'+(t.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+n.controller.remove+'" aria-label="'+n.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(t.imageGalleryUrl&&e.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+n.toolbar.imageGallery+'" aria-label="'+n.toolbar.imageGallery+'">'+e.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+n.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',t.imageResizing){let l=t.imageSizeOnlyPercentage,c=l?' style="display: none !important;"':"",h=t.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',l||!t.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+n.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+n.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+n.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+' /><label class="se-dialog-size-x"'+h+">"+(l?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+c+(l?' max="100"':"")+h+"/><label"+c+h+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+n.dialogBox.proportion+'</label><button type="button" title="'+n.dialogBox.revertButton+'" aria-label="'+n.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+n.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+e.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(t.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+n.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+n.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+n.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+n.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'"><span>'+n.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=s,i},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.getAttribute("data-value")||e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,n){let i=n.target.value.trim();e._linkValue=this.textContent=i?t&&i.indexOf("://")===-1&&i.indexOf("#")!==0?t+i:i.indexOf("://")===-1?"/"+i:i:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){let t=e||this.context.image._element,n=this.util.getParentElement(t,this.util.isMediaComponent)||t,i=t.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(t,n,i,this)===!1)return;let s=n.previousElementSibling||n.nextElementSibling,l=n.parentNode;this.util.removeItem(n),this.plugins.image.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,function(c){return c.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",i,this.functions.onImageUpload),this.history.push(!1)},on:function(e){let t=this.context.image;e?t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=t._origin_h=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,t.anchorCtx,e)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(e){let t=this.context.image.modal,n=e==="init"?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(n.tagName))return!1;let i=n.getAttribute("data-tab-link"),s="_se_tab_content",l,c,h;for(c=t.getElementsByClassName(s),l=0;l<c.length;l++)c[l].style.display="none";for(h=t.getElementsByClassName("_se_tab_link"),l=0;l<h.length;l++)this.util.removeClass(h[l],"active");return t.querySelector("."+s+"_"+i).style.display="block",this.util.addClass(n,"active"),i==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():i==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(e){let t=this.context.image,n=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&n.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),n.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),n.onRender_imgUrl.call(this,t._v_src._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,n=[];for(let h=0,o=e.length;h<o;h++)/image/i.test(e[h].type)&&(n.push(e[h]),t+=e[h].size);let i=this.options.imageUploadSizeLimit;if(i>0){let h=0,o=this.context.image._infoList;for(let _=0,u=o.length;_<u;_++)h+=o[_].size*1;if(t+h>i){this.closeLoading();let _="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+i/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(_,{limitSize:i,currentSize:h,uploadSize:t},this))&&this.functions.noticeOpen(_);return}}let s=this.context.image;s._uploadFileLength=n.length;let c={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){let h=this.functions.onImageUploadBefore(n,c,this,(function(o){o&&this._w.Array.isArray(o.result)?this.plugins.image.register.call(this,c,o):this.plugins.image.upload.call(this,c,o)}).bind(this));if(typeof h>"u")return;if(!h){this.closeLoading();return}this._w.Array.isArray(h)&&h.length>0&&(n=h)}this.plugins.image.upload.call(this,c,n)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.image.error.call(this,t,null);return}let n=this.options.imageUploadUrl,i=this.context.dialog.updateModal?1:t.length;if(typeof n=="string"&&n.length>0){let s=new FormData;for(let l=0;l<i;l++)s.append("file-"+l,t[l]);this.plugins.fileManager.upload.call(this,n,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.anchor,e.inputWidth,e.inputHeight,e.align,e.alt,i,e.isUpdate)},callBack_imgUpload:function(e,t){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(t,e,this);else{let n=JSON.parse(t.responseText);n.errorMessage?this.plugins.image.error.call(this,n.errorMessage,n):this.plugins.image.register.call(this,e,n)}},register:function(e,t){let n=t.result;for(let i=0,s=n.length,l;i<s;i++)if(l={name:n[i].name,size:n[i].size},e.isUpdate){this.plugins.image.update_src.call(this,n[i].url,e.element,l);break}else this.plugins.image.create_image.call(this,n[i].url,e.anchor,e.inputWidth,e.inputHeight,e.align,l,e.alt);this.closeLoading()},setup_reader:function(e,t,n,i,s,l,c,h){try{if(c===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=c;let o=this._w.FileReader,_=[c];this.context.image.inputX.value=n,this.context.image.inputY.value=i;for(let u=0,g,k;u<c;u++)g=new o,k=e[u],g.onload=(function(M,I,P,a,r){_[r]={result:M.result,file:a},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,I,_,P,t,n,i,s,l),this.closeLoading())}).bind(this,g,h,this.context.image._element,k,u),g.readAsDataURL(k)}catch(o){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+o.message+'"')}},onRender_imgBase64:function(e,t,n,i,s,l,c,h){let o=this.plugins.image.update_src,_=this.plugins.image.create_image;for(let u=0,g=t.length;u<g;u++)e?(this.context.image._element.setAttribute("data-file-name",t[u].file.name),this.context.image._element.setAttribute("data-file-size",t[u].file.size),o.call(this,t[u].result,n,t[u].file)):_.call(this,t[u].result,i,s,l,c,t[u].file,h)},onRender_imgUrl:function(e){if(e||(e=this.context.image._v_src._linkValue),!e)return!1;let t=this.context.image;try{let n={name:e.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e,t._element,n):this.plugins.image.create_image.call(this,e,this.plugins.anchor.createAnchor.call(this,t.anchorCtx,!0),t.inputX.value,t.inputY.value,t._align,n,t._altText)}catch(n){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+n.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t){return t?(t.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t.href),t.appendChild(e),t):e},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){let e=this.plugins.image,t=this.context.image,n=(function(i){e.onModifyMode.call(this,i,null),e.openModify.call(this,!0),t.inputX.value=t._origin_w,t.inputY.value=t._origin_h;let s=this.util.getFormatElement(i);s&&(t._align=s.style.textAlign||s.style.float),this.util.isAnchor(i.parentNode)&&!t.anchorCtx.linkValue&&(t.anchorCtx.linkValue=" "),e.update_image.call(this,!0,!1,!0),e.init.call(this)}).bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,n,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,n,i,s,l,c){let h=this.plugins.image,o=this.context.image;this.context.resizing._resize_plugin="image";let _=this.util.createElement("IMG");_.src=e,_.alt=c,_.setAttribute("data-rotate","0"),t=h.onRender_link.call(this,_,t?t.cloneNode(!1):null),o._resizing&&_.setAttribute("data-proportion",o._proportionChecked);let u=this.plugins.component.set_cover.call(this,t),g=this.plugins.component.set_container.call(this,u,"se-image-container");o._captionChecked&&(o._caption=this.plugins.component.create_caption.call(this),u.appendChild(o._caption)),o._element=_,o._cover=u,o._container=g,h.applySize.call(this,n,i),h.setAlign.call(this,s,_,u,g),_.onload=h._image_create_onload.bind(this,_,o.svgDefaultSize,g),this.insertComponent(g,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",_,this.functions.onImageUpload,l,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t,n){if(e.offsetWidth===0&&this.plugins.image.applySize.call(this,t,""),this.options.mediaAutoSelect)this.selectComponent(e,"image");else{let i=this.appendFormatTag(n,null);i&&this.setRange(i,0,i,0)}this.history.push(!1)},update_image:function(e,t,n){let i=this.context.image,s=i._element,l=i._cover,c=i._container,h=!1;l===null&&(h=!0,s=i._element.cloneNode(!0),l=this.plugins.component.set_cover.call(this,s)),c===null?(l=l.cloneNode(!0),s=l.querySelector("img"),h=!0,c=this.plugins.component.set_container.call(this,l,"se-image-container")):h&&(c.innerHTML="",c.appendChild(l),i._cover=l,i._element=s,h=!1);let o,_=this.util.isNumber(i.inputX.value)?i.inputX.value+i.sizeUnit:i.inputX.value,u=this.util.isNumber(i.inputY.value)?i.inputY.value+i.sizeUnit:i.inputY.value;/%$/.test(s.style.width)?o=_!==c.style.width||u!==c.style.height:o=_!==s.style.width||u!==s.style.height,s.alt=i._altText;let g=!1;i._captionChecked?i._caption||(i._caption=this.plugins.component.create_caption.call(this),l.appendChild(i._caption),g=!0):i._caption&&(this.util.removeItem(i._caption),i._caption=null,g=!0);let k=null,M=this.plugins.anchor.createAnchor.call(this,i.anchorCtx,!0);if(M)i._linkElement!==M||h&&!c.contains(M)?(i._linkElement=M.cloneNode(!1),l.insertBefore(this.plugins.image.onRender_link.call(this,s,i._linkElement),i._caption),k=i._element):i._linkElement.setAttribute("data-image-link","image");else if(i._linkElement!==null){let P=s;if(P.setAttribute("data-image-link",""),l.contains(i._linkElement)){let a=P.cloneNode(!0);l.removeChild(i._linkElement),l.insertBefore(a,i._caption),i._element=s=a}}let I=null;if(h){if(I=this.util.isRangeFormatElement(i._element.parentNode)||this.util.isWysiwygDiv(i._element.parentNode)?i._element:this.util.isAnchor(i._element.parentNode)?i._element.parentNode:this.util.getFormatElement(i._element)||i._element,this.util.getParentElement(i._element,this.util.isNotCheckingNode))I=k?M:i._element,I.parentNode.replaceChild(c,I);else if(this.util.isListCell(I)){let P=this.util.getParentElement(i._element,function(a){return a.parentNode===I});I.insertBefore(c,P),this.util.removeItem(i._element),this.util.removeEmptyNode(P,null,!0)}else if(this.util.isFormatElement(I)){let P=this.util.getParentElement(i._element,function(a){return a.parentNode===I});I=this.util.splitElement(I,P),I.parentNode.insertBefore(c,I),this.util.removeItem(i._element),this.util.removeEmptyNode(I,null,!0),I.children.length===0&&(I.innerHTML=this.util.htmlRemoveWhiteSpace(I.innerHTML))}else if(this.util.isFormatElement(I.parentNode)){let P=I.parentNode;P.parentNode.insertBefore(c,I.previousSibling?P.nextElementSibling:P),i.__updateTags.map(function(a){return I.contains(a)}).length===0&&this.util.removeItem(I)}else I=this.util.isFigures(I.parentNode)?I.parentNode:I,I.parentNode.replaceChild(c,I);s=c.querySelector("img"),i._element=s,i._cover=l,i._container=c}k&&(h?(this.util.removeItem(k),this.util.getListChildren(M,function(P){return/IMG/i.test(P.tagName)}).length===0&&this.util.removeItem(M)):this.util.removeItem(M)),(g||!i._onlyPercentage&&o)&&!e&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&i._captionChecked)&&(/%$/.test(i.inputX.value)||/%$/.test(i.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(i.inputX.value,0),this.util.getNumber(i.inputY.value,0))),i._resizing&&(s.setAttribute("data-proportion",i._proportionChecked),o&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),t&&this.selectComponent(s,"image"),n||this.history.push(!1)},update_src:function(e,t,n){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,n,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;let n=this.context.image;n._linkElement=n.anchorCtx.linkAnchor=this.util.isAnchor(e.parentNode)?e.parentNode:null,n._element=e,n._cover=this.util.getParentElement(e,"FIGURE"),n._container=this.util.getParentElement(e,this.util.isMediaComponent),n._caption=this.util.getChildElement(n._cover,"FIGCAPTION"),n._align=e.getAttribute("data-align")||e.style.float||"none",e.style.float="",this.plugins.anchor.setCtx(n._linkElement,n.anchorCtx),t&&(n._element_w=t.w,n._element_h=t.h,n._element_t=t.t,n._element_l=t.l);let i=n._element.getAttribute("data-size")||n._element.getAttribute("data-origin"),s,l;i?(i=i.split(","),s=i[0],l=i[1]):t&&(s=t.w,l=t.h),n._origin_w=s||e.style.width||e.width||"",n._origin_h=l||e.style.height||e.height||""},openModify:function(e){let t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,(t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(e,t){let n=this.context.image;return e||(e=n.inputX.value||this.options.imageWidth),t||(t=n.inputY.value||this.options.imageHeight),n._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,e,t,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(e,t,n,i){let s=this.context.image,l=/^(rw|lw)$/.test(i)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(i)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(e)?e+s.sizeUnit:e,this.plugins.image.cancelPercentAttr.call(this)),l||(s._element.style.height=this.util.isNumber(t)?t+s.sizeUnit:/%$/.test(t)?"":t),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),n||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){let e=this.context.image;e._caption&&(e._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){let e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);let t=(e._element.getAttribute("data-origin")||"").split(","),n=t[0],i=t[1];t&&(e._onlyPercentage||/%$/.test(n)&&(/%$/.test(i)||!/\d/.test(i))?this.plugins.image.setPercentSize.call(this,n,i):this.plugins.image.setSize.call(this,n,i),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){let n=this.context.image;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+n.sizeUnit:t||"";let i=/%$/.test(t);n._container.style.width=this.util.isNumber(e)?e+"%":e,n._container.style.height="",n._cover.style.width="100%",n._cover.style.height=i?t:"",n._element.style.width="100%",n._element.style.height=i?"":t,n._element.style.maxWidth="",n._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),n._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,n._element),this.plugins.resizing._module_saveCurrentSize.call(this,n)},cancelPercentAttr:function(){let e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,n,i){let s=this.context.image;e||(e=s._align),t||(t=s._element),n||(n=s._cover),i||(i=s._container),/%$/.test(t.style.width)&&e==="center"?(i.style.minWidth="100%",n.style.width=i.style.width):(i.style.minWidth="",n.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:!t.style.width||t.style.width==="auto"?"":t.style.width||"100%"),this.util.hasClass(i,"__se__float-"+e)||(this.util.removeClass(i,s._floatClassRegExp),this.util.addClass(i,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){let e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1),this.plugins.anchor.init.call(this,e.anchorCtx)}};var Ko=Ke(oi()),Jo=Ke(On()),el=Ke(Kn()),tl=Ke(Rn()),il={name:"video",display:"dialog",add:function(e){e.addModule([Ko.default,Jo.default,el.default,tl.default]);let t=e.options,n=e.context,i=n.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.youtubeQuery,_vimeoQuery:t.vimeoQuery,_videoRatio:t.videoRatio*100+"%",_defaultRatio:t.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:t.videoRatio*100+"%",_origin_w:t.videoWidth==="100%"?"":t.videoWidth,_origin_h:t.videoHeight==="56.25%"?"":t.videoHeight,_proportionChecked:!0,_resizing:t.videoResizing,_resizeDotHide:!t.videoHeightShow,_rotation:t.videoRotation,_alignHide:!t.videoAlignShow,_onlyPercentage:t.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1},s=this.setDialog(e);i.modal=s,i.videoInputFile=s.querySelector("._se_video_file"),i.videoUrlFile=s.querySelector(".se-input-url"),i.focusElement=i.videoUrlFile||i.videoInputFile,i.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.videoInputFile,i.videoUrlFile,i.preview)),i.videoInputFile&&i.videoUrlFile&&i.videoInputFile.addEventListener("change",this._fileInputChange.bind(i)),i.videoUrlFile&&i.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.linkProtocol)),i.proportion={},i.videoRatioOption={},i.inputX={},i.inputY={},t.videoResizing&&(i.proportion=s.querySelector("._se_video_check_proportion"),i.videoRatioOption=s.querySelector(".se-video-ratio"),i.inputX=s.querySelector("._se_video_size_x"),i.inputY=s.querySelector("._se_video_size_y"),i.inputX.value=t.videoWidth,i.inputY.value=t.videoHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),i.inputX.addEventListener("change",this.setRatio.bind(e)),i.inputY.addEventListener("change",this.setRatio.bind(e)),i.proportion.addEventListener("change",this.setRatio.bind(e)),i.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),n.dialog.modal.appendChild(s),s=null},setDialog:function(e){let t=e.options,n=e.lang,i=e.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+n.dialogBox.close+'" aria-label="'+n.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+n.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(t.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+t.videoAccept+'"'+(t.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+n.controller.remove+'" aria-label="'+n.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),t.videoResizing){let l=t.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],c=t.videoRatio,h=t.videoSizeOnlyPercentage,o=h?' style="display: none !important;"':"",_=t.videoHeightShow?"":' style="display: none !important;"',u=t.videoRatioShow?"":' style="display: none !important;"',g=!h&&!t.videoHeightShow&&!t.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+n.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+_+">"+n.dialogBox.height+'</label><label class="size-h"'+u+">("+n.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(h?' type="number" min="1"':'type="text"')+(h?' max="100"':"")+'/><label class="se-dialog-size-x"'+g+">"+(h?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+t.videoRatio*100+'%"'+(h?' type="number" min="1"':'type="text"')+(h?' max="100"':"")+_+'/><select class="se-input-select se-video-ratio" title="'+n.dialogBox.ratio+'" aria-label="'+n.dialogBox.ratio+'"'+u+">",_||(s+='<option value=""> - </option>');for(let k=0,M=l.length;k<M;k++)s+='<option value="'+l[k].value+'"'+(c.toString()===l[k].value.toString()?" selected":"")+">"+l[k].name+"</option>";s+='</select><button type="button" title="'+n.dialogBox.revertButton+'" aria-label="'+n.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+o+g+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+n.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(t.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+n.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+n.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+n.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+n.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'"><span>'+n.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=s,i},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,n){let i=n.target.value.trim();/^<iframe.*\/iframe>$/.test(i)?(e._linkValue=i,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=i?t&&i.indexOf("://")===-1&&i.indexOf("#")!==0?t+i:i.indexOf("://")===-1?"/"+i:i:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);let t=this.options.videoTagAttrs;if(t)for(let n in t)this.util.hasOwn(t,n)&&e.setAttribute(n,t[n])},createVideoTag:function(){let e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;let t=this.options.videoIframeAttrs;if(t)for(let n in t)this.util.hasOwn(t,n)&&e.setAttribute(n,t[n])},createIframeTag:function(){let e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){let t=e||this.context.video._element,n=this.context.video._container,i=t.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(t,n,i,this)===!1)return;let s=n.previousElementSibling||n.nextElementSibling,l=n.parentNode;this.util.removeItem(n),this.plugins.video.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,function(c){return c.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",i,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){let t=this.context.video;e?t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=t._origin_h=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(e){let t=this.context.video,n=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=n?n*100+"%":t._defaultSizeY,t.inputY.placeholder=n?n*100+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}let n=this.context.video;this.plugins.resizing._module_setInputSize.call(this,n,e),e==="y"&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||n._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){let t=this.context.video,n=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),n.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),n.setup_url.call(this,t._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,n=[];for(let c=0,h=e.length;c<h;c++)/video/i.test(e[c].type)&&(n.push(e[c]),t+=e[c].size);let i=this.options.videoUploadSizeLimit;if(i>0){let c=0,h=this.context.video._infoList;for(let o=0,_=h.length;o<_;o++)c+=h[o].size*1;if(t+c>i){this.closeLoading();let o="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+i/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(o,{limitSize:i,currentSize:c,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}let s=this.context.video;s._uploadFileLength=n.length;let l={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){let c=this.functions.onVideoUploadBefore(n,l,this,(function(h){h&&this._w.Array.isArray(h.result)?this.plugins.video.register.call(this,l,h):this.plugins.video.upload.call(this,l,h)}).bind(this));if(typeof c>"u")return;if(!c){this.closeLoading();return}typeof c=="object"&&c.length>0&&(n=c)}this.plugins.video.upload.call(this,l,n)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.video.error.call(this,t,null);return}let n=this.options.videoUploadUrl,i=this.context.dialog.updateModal?1:t.length;if(typeof n=="string"&&n.length>0){let s=new FormData;for(let l=0;l<i;l++)s.append("file-"+l,t[l]);this.plugins.fileManager.upload.call(this,n,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(e,t){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(t,e,this);else{let n=JSON.parse(t.responseText);n.errorMessage?this.plugins.video.error.call(this,n.errorMessage,n):this.plugins.video.register.call(this,e,n)}},register:function(e,t){let n=t.result,i=this.plugins.video.createVideoTag.call(this);for(let s=0,l=n.length,c;s<l;s++)c={name:n[s].name,size:n[s].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:i.cloneNode(!1),n[s].url,e.inputWidth,e.inputHeight,e.align,c,e.isUpdate);this.closeLoading()},setup_url:function(e){try{let t=this.context.video;if(e||(e=t._linkValue),!e||/^<iframe.*\/iframe>$/.test(e)&&(e=new this._w.DOMParser().parseFromString(e,"text/html").querySelector("iframe").src,e.length===0))return!1;if(/youtu\.?be/.test(e)){if(/^http/.test(e)||(e="https://"+e),e=e.replace("watch?v=",""),/^\/\/.+\/embed\//.test(e)||(e=e.replace(e.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),t._youtubeQuery.length>0)if(/\?/.test(e)){let n=e.split("?");e=n[0]+"?"+t._youtubeQuery+"&"+n[1]}else e+="?"+t._youtubeQuery}else if(/vimeo\.com/.test(e)&&(e.endsWith("/")&&(e=e.slice(0,-1)),e="https://player.vimeo.com/video/"+e.slice(e.lastIndexOf("/")+1),t._vimeoQuery.length>0))if(/\?/.test(e)){let n=e.split("?");e=n[0]+"?"+t._vimeoQuery+"&"+n[1]}else e+="?"+t._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(e)&&!/vimeo\.com/.test(e)?"createVideoTag":"createIframeTag"].call(this),e,t.inputX.value,t.inputY.value,t._align,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,n,i,s,l,c){this.context.resizing._resize_plugin="video";let h=this.context.video,o=null,_=null,u=!1;if(c){if(e=h._element,e.src!==t){u=!0;let P=/youtu\.?be/.test(t),a=/vimeo\.com/.test(t);if((P||a)&&!/^iframe$/i.test(e.nodeName)){let r=this.plugins.video.createIframeTag.call(this);r.src=t,e.parentNode.replaceChild(r,e),h._element=e=r}else if(!P&&!a&&!/^video$/i.test(e.nodeName)){let r=this.plugins.video.createVideoTag.call(this);r.src=t,e.parentNode.replaceChild(r,e),h._element=e=r}else e.src=t}_=h._container,o=this.util.getParentElement(e,"FIGURE")}else u=!0,e.src=t,h._element=e,o=this.plugins.component.set_cover.call(this,e),_=this.plugins.component.set_container.call(this,o,"se-video-container");h._cover=o,h._container=_;let g=this.plugins.resizing._module_getSizeX.call(this,h)!==(n||h._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,h)!==(i||h._videoRatio),k=!c||g;h._resizing&&(this.context.video._proportionChecked=h.proportion.checked,e.setAttribute("data-proportion",h._proportionChecked));let M=!1;k&&(M=this.plugins.video.applySize.call(this)),M&&s==="center"||this.plugins.video.setAlign.call(this,null,e,o,_);let I=!0;if(c)h._resizing&&this.context.resizing._rotateVertical&&k&&this.plugins.resizing.setTransformSize.call(this,e,null,null);else if(I=this.insertComponent(_,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){let P=this.appendFormatTag(_,null);P&&this.setRange(P,0,P,0)}I&&(u&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,l,!0),c&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;let t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);let n=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,i=e;t._element=e=e.cloneNode(!0);let s=t._cover=this.plugins.component.set_cover.call(this,e),l=t._container=this.plugins.component.set_container.call(this,s,"se-video-container");try{let c=n.querySelector("figcaption"),h=null;c&&(h=this.util.createElement("DIV"),h.innerHTML=c.innerHTML,this.util.removeItem(c));let o=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,o[0]||i.style.width||i.width||"",o[1]||i.style.height||i.height||"");let _=this.util.getFormatElement(i);if(_&&(t._align=_.style.textAlign||_.style.float),this.plugins.video.setAlign.call(this,null,e,s,l),this.util.getParentElement(i,this.util.isNotCheckingNode))i.parentNode.replaceChild(l,i);else if(this.util.isListCell(n)){let u=this.util.getParentElement(i,function(g){return g.parentNode===n});n.insertBefore(l,u),this.util.removeItem(i),this.util.removeEmptyNode(u,null,!0)}else if(this.util.isFormatElement(n)){let u=this.util.getParentElement(i,function(g){return g.parentNode===n});n=this.util.splitElement(n,u),n.parentNode.insertBefore(l,n),this.util.removeItem(i),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(l,n);h&&n.parentNode.insertBefore(h,l.nextElementSibling)}catch(c){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",c)}this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(e,t){let n=this.context.video;n._element=e,n._cover=this.util.getParentElement(e,"FIGURE"),n._container=this.util.getParentElement(e,this.util.isMediaComponent),n._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",t&&(n._element_w=t.w,n._element_h=t.h,n._element_t=t.t,n._element_l=t.l);let i=n._element.getAttribute("data-size")||n._element.getAttribute("data-origin"),s,l;i?(i=i.split(","),s=i[0],l=i[1]):t&&(s=t.w,l=t.h),n._origin_w=s||e.style.width||e.width||"",n._origin_h=l||e.style.height||e.height||""},openModify:function(e){let t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),(t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);let n=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,n)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(n,2):n)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1,n=this.context.video,i=n.videoRatioOption.options;/%$/.test(e)||n._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||e*1>=1)&&(e=""),n.inputY.placeholder="";for(let s=0,l=i.length;s<l;s++)i[s].value===e?(t=i[s].selected=!0,n.inputY.placeholder=e?e*100+"%":""):i[s].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(e,t){let n=this.context.video;return e||(e=n.inputX.value||this.options.videoWidth),t||(t=n.inputY.value||this.options.videoHeight),n._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(n._videoRatio)?n._videoRatio:n._defaultRatio)),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,e,t||n._videoRatio||n._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(e,t,n,i){let s=this.context.video,l=/^(rw|lw)$/.test(i),c=/^(th|bh)$/.test(i);c||(e=this.util.getNumber(e,0)),l||(t=this.util.isNumber(t)?t+s.sizeUnit:t||""),e=e?e+s.sizeUnit:"",c||(s._element.style.width=e),l||(s._cover.style.paddingBottom=s._cover.style.height=t),!c&&!/%$/.test(e)&&(s._cover.style.width=e,s._container.style.width=""),!l&&!/%$/.test(t)?s._element.style.height=t:s._element.style.height="",n||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){let t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);let n=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(n){let i=n[0],s=n[1];t._onlyPercentage||/%$/.test(i)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,i,s):this.plugins.video.setSize.call(this,i,s),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){let n=this.context.video;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+n.sizeUnit:t||n._defaultRatio,n._container.style.width=this.util.isNumber(e)?e+"%":e,n._container.style.height="",n._cover.style.width="100%",n._cover.style.height=t,n._cover.style.paddingBottom=t,n._element.style.width="100%",n._element.style.height="100%",n._element.style.maxWidth="",n._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),n._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,n)},cancelPercentAttr:function(){let e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,n,i){let s=this.context.video;e||(e=s._align),t||(t=s._element),n||(n=s._cover),i||(i=s._container),/%$/.test(t.style.width)&&e==="center"?(i.style.minWidth="100%",n.style.width=i.style.width,n.style.height=n.style.height,n.style.paddingBottom=/%$/.test(n.style.height)?this.util.getNumber(this.util.getNumber(n.style.height,2)/100*this.util.getNumber(n.style.width,2),2)+"%":n.style.height):(i.style.minWidth="",n.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",n.style.paddingBottom=n.style.height),this.util.hasClass(i,"__se__float-"+e)||(this.util.removeClass(i,s._floatClassRegExp),this.util.addClass(i,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){let e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.options.videoWidth,e._origin_h=this.options.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}};var nl=Ke(oi()),sl=Ke(On()),ol=Ke(Rn()),ll={name:"audio",display:"dialog",add:function(e){e.addModule([nl.default,sl.default,ol.default]);let t=e.context,n=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:e.options.audioWidth,_origin_h:e.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null},i=this.setDialog(e);n.modal=i,n.audioInputFile=i.querySelector("._se_audio_files"),n.audioUrlFile=i.querySelector(".se-input-url"),n.focusElement=n.audioInputFile||n.audioUrlFile,n.preview=i.querySelector(".se-link-preview");let s=this.setController(e);n.controller=s,i.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.audioInputFile&&i.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.audioInputFile,n.audioUrlFile,n.preview)),n.audioInputFile&&n.audioUrlFile&&n.audioInputFile.addEventListener("change",this._fileInputChange.bind(n)),s.addEventListener("click",this.onClick_controller.bind(e)),n.audioUrlFile&&n.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,e.options.linkProtocol)),t.dialog.modal.appendChild(i),t.element.relative.appendChild(s),i=null,s=null},setDialog:function(e){let t=e.options,n=e.lang,i=e.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+n.dialogBox.close+'" aria-label="'+n.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+n.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return t.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+t.audioAccept+'"'+(t.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+n.controller.remove+'" aria-label="'+n.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'"><span>'+n.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=s,i},setController:function(e){let t=e.lang,n=e.icons,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+n.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+n.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){let e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);let t=this.context.audio._origin_w,n=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+n),e.style.cssText=(t?"width:"+t+"; ":"")+(n?"height:"+n+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);let t=this.options.audioTagAttrs;if(t)for(let n in t)this.util.hasOwn(t,n)&&e.setAttribute(n,t[n])},_onLinkPreview:function(e,t,n){let i=n.target.value.trim();e._linkValue=this.textContent=i?t&&i.indexOf("://")===-1&&i.indexOf("#")!==0?t+i:i.indexOf("://")===-1?"/"+i:i:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;let t=this.util.getParentElement(e,this.util.isComponent)||e,n=e.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(e,t,n,this)===!1)return;let i=t.previousElementSibling||t.nextElementSibling,s=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(l){return l.childNodes.length===0},null),this.focusEdge(i),this.plugins.fileManager.deleteInfo.call(this,"audio",n,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){let t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(e){let t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,n=[];for(let c=0,h=e.length;c<h;c++)/audio/i.test(e[c].type)&&(n.push(e[c]),t+=e[c].size);let i=this.options.audioUploadSizeLimit;if(i>0){let c=0,h=this.context.audio._infoList;for(let o=0,_=h.length;o<_;o++)c+=h[o].size*1;if(t+c>i){this.closeLoading();let o="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+i/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(o,{limitSize:i,currentSize:c,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}let s=this.context.audio;s._uploadFileLength=n.length;let l={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){let c=this.functions.onAudioUploadBefore(n,l,this,(function(h){h&&this._w.Array.isArray(h.result)?this.plugins.audio.register.call(this,l,h):this.plugins.audio.upload.call(this,l,h)}).bind(this));if(typeof c>"u")return;if(!c){this.closeLoading();return}typeof c=="object"&&c.length>0&&(n=c)}this.plugins.audio.upload.call(this,l,n)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.audio.error.call(this,t,null);return}let n=this.options.audioUploadUrl,i=this.context.dialog.updateModal?1:t.length,s=new FormData;for(let l=0;l<i;l++)s.append("file-"+l,t[l]);this.plugins.fileManager.upload.call(this,n,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(t,e,this);else{let n=JSON.parse(t.responseText);n.errorMessage?this.plugins.audio.error.call(this,n.errorMessage,n):this.plugins.audio.register.call(this,e,n)}},register:function(e,t){let n=t.result;for(let i=0,s=n.length,l,c;i<s;i++)e.isUpdate?c=e.element:c=this.plugins.audio._createAudioTag.call(this),l={name:n[i].name,size:n[i].size},this.plugins.audio.create_audio.call(this,c,n[i].url,l,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(e.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,n,i){let s=this.context.audio;if(i)if(s._element&&(e=s._element),e&&e.src!==t)e.src=t,this.selectComponent(e,"audio");else{this.selectComponent(e,"audio");return}else{e.src=t;let l=this.plugins.component.set_cover.call(this,e),c=this.plugins.component.set_container.call(this,l,"");if(!this.insertComponent(c,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){let h=this.appendFormatTag(c,null);h&&this.setRange(h,0,h,0)}}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,n,!1),i&&this.history.push(!1)},updateCover:function(e){let t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);let n=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,i=e;t._element=e=e.cloneNode(!1);let s=this.plugins.component.set_cover.call(this,e),l=this.plugins.component.set_container.call(this,s,"se-audio-container");try{if(this.util.getParentElement(i,this.util.isNotCheckingNode))i.parentNode.replaceChild(l,i);else if(this.util.isListCell(n)){let c=this.util.getParentElement(i,function(h){return h.parentNode===n});n.insertBefore(l,c),this.util.removeItem(i),this.util.removeEmptyNode(c,null,!0)}else if(this.util.isFormatElement(n)){let c=this.util.getParentElement(i,function(h){return h.parentNode===n});n=this.util.splitElement(n,c),n.parentNode.insertBefore(l,n),this.util.removeItem(i),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(l,n)}catch(c){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",c)}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(e){let t=this.context.audio;this.setControllerPosition(t.controller,e,"bottom",{left:0,top:0}),this.controllersOn(t.controller,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){let t=this.context.audio;t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;let e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}};var rl=Ke(oi()),al="https://katex.org/docs/supported.html",cl={name:"math",display:"dialog",add:function(e){e.addModule([rl.default]);let t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let n=this.setDialog(e);t.math.modal=n,t.math.focusElement=n.querySelector(".se-math-exp"),t.math.previewElement=n.querySelector(".se-math-preview"),t.math.fontSizeElement=n.querySelector(".se-math-size"),t.math.focusElement.addEventListener("paste",function(s){typeof e.functions.onPasteMath=="function"&&e.functions.onPasteMath(s,e)},!1),t.math.focusElement.addEventListener(e.util.isIE?"textinput":"input",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",(function(s){this.fontSize=s.target.value}).bind(t.math.previewElement.style),!1);let i=this.setController_MathButton(e);t.math.mathController=i,t.math._mathExp=null,n.querySelector("form").addEventListener("submit",this.submit.bind(e),!1),i.addEventListener("click",this.onClick_mathController.bind(e)),t.math.previewElement.style.fontSize=t.math.defaultFontSize,t.dialog.modal.appendChild(n),t.element.relative.appendChild(i),n=null,i=null},setDialog:function(e){let t=e.lang,n=e.util.createElement("DIV"),i=e.options.mathFontSize,s=i[0].value;n.className="se-dialog-content",n.style.display="none";let l='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.inputLabel+' (<a href="'+al+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let c=0,h=i.length,o;c<h;c++)o=i[c],o.default&&(s=o.value),l+='<option value="'+o.value+'"'+(o.default?" selected":"")+">"+o.text+"</option>";return l+='</select></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",e.context.math.defaultFontSize=s,n.innerHTML=l,n},setController_MathButton:function(e){let t=e.lang,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+e.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+e.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp")||!this.options.katex)return;let t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML,e.setAttribute("contenteditable",!1)}}},_renderer:function(e){let t="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),t=this.options.katex.src.renderToString(e,{throwOnError:!0,displayMode:!0})}catch(n){this.util.addClass(this.context.math.focusElement,"se-error"),t='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+al+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",n)}return t},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();let t=(function(){if(this.context.math.focusElement.value.trim().length===0)return!1;let n=this.context.math,i=n.focusElement.value,s=n.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(i)),s.setAttribute("data-font-size",n.fontSizeElement.value),s.style.fontSize=n.fontSizeElement.value,this.context.dialog.updateModal){let l=this.util.getParentElement(n._mathExp,".katex");l.parentNode.replaceChild(s,l),this.setRange(s,0,s,1)}else{let l=this.getSelectedElements();if(l.length>1){let h=this.util.createElement(l[0].nodeName);if(h.appendChild(s),!this.insertNode(h,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;let c=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(c,s.nextSibling),this.setRange(s,0,s,1)}return n.focusElement.value="",n.fontSizeElement.value="1em",n.previewElement.style.fontSize="1em",n.previewElement.innerHTML="",!0}).bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0;return!1},on:function(e){if(!e)this.plugins.math.init.call(this);else{let t=this.context.math;if(t._mathExp){let n=this.util.HTMLDecoder(t._mathExp.getAttribute("data-exp")),i=t._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,t.focusElement.value=n,t.fontSizeElement.value=i,t.previewElement.innerHTML=this.plugins.math._renderer.call(this,n),t.previewElement.style.fontSize=i}}},call_controller:function(e){this.context.math._mathExp=e;let t=this.context.math.mathController;this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();let t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){let e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}};var hl=Ke(dl()),pl={name:"imageGallery",add:function(e){e.addModule([hl.default]);let t=e.context;t.imageGallery={title:e.lang.toolbar.imageGallery,directData:e.options.imageGalleryData,url:e.options.imageGalleryUrl,header:e.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){let t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(e.thumbnail||e.src)+'" alt="'+(e.alt||t)+'" data-command="pick" data-value="'+(e.src||e.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e,t){this.callPlugin("image",(function(){let n={name:t,size:0};this.plugins.image.create_image.call(this,e.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",n,e.alt)}).bind(this),null)}};var ml={blockquote:ko,align:Eo,font:Lo,fontSize:Mo,fontColor:Do,hiliteColor:No,horizontalRule:Io,list:Bo,table:Oo,formatBlock:Fo,lineHeight:Ao,template:Ro,paragraphStyle:Ho,textStyle:Po,link:qo,image:Xo,video:il,audio:ll,math:cl,imageGallery:pl};var _c=["inputForWysiwyg"];function yc(e,t){if(e&1&&(H(0,"label",2),J(1),ee(2,"transloco"),H(3,"span",8),J(4,"*"),U()()),e&2){let n=re();se("htmlFor",n.componentId()),N(),ne(" ",ce(2,3,n.componentLabel())," "),N(2),se("hidden",!n._isRequired())}}function vc(e,t){if(e&1&&(H(0,"small",7),J(1),ee(2,"transloco"),U()),e&2){let n=re();se("hidden",n._showSuccess()||n._showErrors()),N(),ne(" ",ce(2,2,n.helpMessage())," ")}}var Jn=(()=>{let t=class t extends Dt{constructor(){super(...arguments),this._inputForWysiwyg=Me("inputForWysiwyg"),this.minHeight=ie("200px"),this.font=ie(!0),this.fontSize=ie(!0),this.formatBlock=ie(!0),this.paragraphStyle=ie(!0),this.blockquote=ie(!0),this.bold=ie(!0),this.underline=ie(!0),this.italic=ie(!0),this.strike=ie(!0),this.fontColor=ie(!0),this.highlightColor=ie(!0),this.textStyle=ie(!0),this.removeFormat=ie(!0),this.align=ie(!0),this.list=ie(!0),this.table=ie(!0),this.link=ie(!0),this.image=ie(!0),this.fullScreen=ie(!0),this.showBlocks=ie(!0),this.onImageUploadError=ie(),this.onFileDrop=ie(),this.wysiwygOptions=ie(void 0),this._sunEditorWysiwygInstance=he(void 0),this._sunEditorWysiwygInstance$=Qe(this._sunEditorWysiwygInstance),this.changeDetectorRef=he(Se(Si)),this._generateSunEditorWysiwygEffect=vt(()=>{try{let i=this._inputForWysiwyg()?.nativeElement;if(i){let s=ct({plugins:ml,defaultTag:"div",buttonList:this._ngControl()?.control?.enabled&&!this.isReadonly()?[this.getButtonList()]:[],minHeight:this.minHeight(),width:"100%"},this.wysiwygOptions()??{}),l=this._sunEditorWysiwygInstance(),c=this._ngControl();l?(c?.control?.enabled&&l.enable(),l.setOptions(s)):(l=So.create(i,s),this._sunEditorWysiwygInstance.set(l));let h=this.onImageUploadError(),o=this.onFileDrop();h&&l&&(l.onImageUploadError=h),o&&l&&(l.onDrop=o),this.registerEvents()}}catch{}}),this.STRIP_HTML_REGEX=/<[^>]*>/g}registerEvents(){let i=this._sunEditorWysiwygInstance();i&&(i.onChange=s=>{this.onChangedHandler(s),this.changeDetectorRef().markForCheck()},i.onBlur=()=>{this.onBlurHandler()},this._isDisabled()&&i.disable())}writeValue(i){super.writeValue(i),this._sunEditorWysiwygInstance$.pipe(Ae(this.destroyRef),yi(s=>!!s),ss(1)).subscribe(s=>{if(s)try{s.setContents(i)}catch{}})}validate(i){return i.hasValidator(me.required)&&i.value?.replace(this.STRIP_HTML_REGEX,"")===""?{required:!0}:null}onChangedHandler(i){super.onChangedHandler(i);let s=this._ngControl();s?.control&&this.validate(s.control)&&s.control.setErrors(this.validate(s.control))}getButtonList(){let i=[];return this.font()&&i.push("font"),this.fontSize()&&i.push("fontSize"),this.formatBlock()&&i.push("formatBlock"),this.paragraphStyle()&&i.push("paragraphStyle"),this.blockquote()&&i.push("blockquote"),this.bold()&&i.push("bold"),this.underline()&&i.push("underline"),this.italic()&&i.push("italic"),this.strike()&&i.push("strike"),this.fontColor()&&i.push("fontColor"),this.highlightColor()&&i.push("hiliteColor"),this.textStyle()&&i.push("textStyle"),this.removeFormat()&&i.push("removeFormat"),this.align()&&i.push("align"),this.list()&&i.push("list"),this.table()&&i.push("table"),this.link()&&i.push("link"),this.image()&&i.push("image"),this.fullScreen()&&i.push("fullScreen"),this.showBlocks()&&i.push("showBlocks"),i}};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=wi(t)))(l||t)}})(),t.\u0275cmp=Ne({type:t,selectors:[["quang-wysiwyg"]],viewQuery:function(s,l){s&1&&Le(l._inputForWysiwyg,_c,5),s&2&&Ve()},inputs:{minHeight:[1,"minHeight"],font:[1,"font"],fontSize:[1,"fontSize"],formatBlock:[1,"formatBlock"],paragraphStyle:[1,"paragraphStyle"],blockquote:[1,"blockquote"],bold:[1,"bold"],underline:[1,"underline"],italic:[1,"italic"],strike:[1,"strike"],fontColor:[1,"fontColor"],highlightColor:[1,"highlightColor"],textStyle:[1,"textStyle"],removeFormat:[1,"removeFormat"],align:[1,"align"],list:[1,"list"],table:[1,"table"],link:[1,"link"],image:[1,"image"],fullScreen:[1,"fullScreen"],showBlocks:[1,"showBlocks"],onImageUploadError:[1,"onImageUploadError"],onFileDrop:[1,"onFileDrop"],wysiwygOptions:[1,"wysiwygOptions"]},features:[xt([{provide:St,useExisting:Ct(()=>t),multi:!0}]),wt],decls:13,vars:22,consts:[["inputForWysiwyg",""],[1,"mb-3"],[1,"form-label",3,"htmlFor"],[1,"input-wysiwyg-container","is-invalid"],[1,"form-control",3,"disabled","id","ngClass","placeholder","readOnly","tabIndex","value"],[1,"valid-feedback"],[1,"invalid-feedback"],["aria-live","assertive",1,"form-text","text-muted",3,"hidden"],[3,"hidden"]],template:function(s,l){s&1&&(H(0,"div",1),ye(1,yc,5,5,"label",2),H(2,"div",3),Ce(3,"textarea",4,0),ee(5,"transloco"),U(),H(6,"div",5),J(7),ee(8,"transloco"),U(),H(9,"div",6),J(10),ee(11,"transloco"),U(),ye(12,vc,3,4,"small",7),U()),s&2&&(N(),ve(l.componentLabel()?1:-1),N(),Ue("is-invalid",l._showErrors())("is-valid",l._showSuccess()),N(),se("disabled",l._isDisabled())("id",l.componentId())("ngClass",l.componentClass())("placeholder",ce(5,15,l.componentPlaceholder()))("readOnly",l.isReadonly())("tabIndex",l.componentTabIndex())("value",l._value()),N(4),ne(" ",ce(8,17,l.successMessage())," "),N(3),ne(" ",xe(11,19,l._currentErrorMessage(),l._currentErrorMessageExtraData())," "),N(2),ve(l.helpMessage()?12:-1))},dependencies:[Ie,tt],styles:[`[_nghost-%COMP%]{display:block}  .se-toolbar{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important;z-index:unset!important}  .se-wrapper-inner{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .se-btn{color:var(--bs-body-color)!important}  .se-btn:enabled.active{color:var(--bs-primary)!important}  .se-btn:hover{background-color:var(--bs-secondary-bg)!important}  .se-resizing-bar{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .se-navigation{color:var(--bs-body-color)!important;background-color:var(--bs-body-bg)!important}  .sun-editor input{display:none}  .sun-editor .se-container{border-radius:var(--bs-border-radius)}  .se-wrapper{z-index:unset!important}  .se-wrapper textarea:disabled+.se-wrapper-wysiwyg{background-color:var(--bs-secondary-bg)}  .se-wrapper .se-wrapper-inner{border-top:1px solid var(--bs-border-color)}  .is-invalid .sun-editor .se-container .se-toolbar{border-bottom:1px solid var(--bs-danger)}  .is-invalid .sun-editor .se-container .se-wrapper .se-wrapper-inner{--bs-form-bg-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");border:1px solid var(--bs-danger);padding-right:3rem;background-position:right .75rem center,center right 2.25rem;background-size:1.5rem,calc(.75em + .375rem) calc(.75em + .375rem);background-image:var(--bs-form-bg-icon);background-repeat:no-repeat}  .is-valid .sun-editor .se-container .se-toolbar{border-bottom:1px solid var(--bs-success)}  .is-valid .sun-editor .se-container .se-wrapper .se-wrapper-inner{--bs-form-bg-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");border:1px solid var(--bs-success);padding-right:3rem;background-position:right .75rem center,center right 2.25rem;background-size:1.5rem,calc(.75em + .375rem) calc(.75em + .375rem);background-image:var(--bs-form-bg-icon);background-repeat:no-repeat}`],changeDetection:0});let e=t;return e})();var Cc=["testComponent"],wc=e=>({enabled:e}),xc=e=>({required:e}),Tc=e=>({readonly:e}),Sc=e=>({value:e}),kc=e=>({valid:e});function Ec(e,t){if(e&1&&(H(0,"div",5),Ce(1,"quang-wysiwyg",11,0),U()),e&2){let n=re();N(),se("errorMap",n.errors())("highlightColor",n.highlightColor())("isReadonly",n.isReadonly())("minHeight",n.wysiwygHeight())("onImageUploadError",n.onImageUploadError)("wysiwygOptions",n.wysiwygOptions)}}function Lc(e,t){if(e&1&&(H(0,"div",9)(1,"span"),J(2),ee(3,"json"),ee(4,"transloco"),U(),H(5,"span"),J(6),ee(7,"transloco"),U()()),e&2){let n=re();N(2),ne(" ",xe(4,4,"form.label.formValue",Te(10,Sc,ce(3,2,n.testForm.value)))," "),N(4),ne(" ",xe(7,7,"form.label.formValidity",Te(12,kc,n.testForm.valid))," ")}}var fl=(()=>{let t=class t{constructor(){this.WysiwygTestComponent=Jn,this.quangTranslationService=Se(Xe),this.testComponent=Me("testComponent"),this.testComponentSource=we(()=>this.testComponent()?document.getElementById("testComponent")?.getAttribute("data-source")??"":""),this.componentsReadmePath=we(()=>this.quangTranslationService.activeLang()==="en"?"./assets/docs/wysiwyg.md":"./assets/docs/wysiwyg.it.md"),this.isReadonly=he(!1),this.showValueAndValidity=he(!1),this.formBuilder=Se(st),this.highlightColor=he(!0),this.wysiwygHeight=he("200px"),this.errors=he([{error:me.required.name,message:"form.errors.required"},{error:me.minLength.name,message:"form.errors.minLength"},{error:me.maxLength.name,message:"form.errors.maxLength"}]),this.testForm=this.formBuilder.group({testInput:this.formBuilder.control({value:"gagagagagagagaga",disabled:!1},[me.required,me.minLength(10),me.maxLength(100)])}),this.showInput=he(!0),this.wysiwygOptions={iframe:!0,iframeCSSFileName:".+",minHeight:void 0,height:void 0},this.onImageUploadError=(i,s,l)=>(console.log("onImageUploadError",i,s,l),!0)}changeFormEnabled(){this.testForm.enabled?this.testForm.disable():this.testForm.enable()}getIsRequiredInput(){return this.testForm.controls.testInput.hasValidator(me.required)}changeFormInputRequired(){this.getIsRequiredInput()?this.testForm.controls.testInput.removeValidators(me.required):this.testForm.controls.testInput.addValidators(me.required),this.testForm.controls.testInput.updateValueAndValidity()}changeVisibility(){this.showInput.set(!this.showInput())}recreateForm(){this.testForm=this.formBuilder.group({testInput:this.formBuilder.control("New form created",[me.required])})}setFormValues(){this.testForm.controls.testInput.patchValue("ciao!")}checkCurrentFormValueAndValidity(){this.showValueAndValidity.set(!0),console.log("Current form value:",this.testForm.value),console.log("Current form validity:",this.testForm.valid)}setReadonly(){this.isReadonly.set(!this.isReadonly())}flipButton(){this.highlightColor.set(!this.highlightColor())}changeHeight(){this.wysiwygHeight.set(`${Math.random()*500}px`)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ne({type:t,selectors:[["playground-wysiwyg-test"]],viewQuery:function(s,l){s&1&&Le(l.testComponent,Cc,5),s&2&&Ve()},decls:39,vars:45,consts:[["testComponent",""],[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"d-flex","gap-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","gap-3","mt-3"],[1,"d-flex","flex-column","mt-3","ms-3"],[3,"componentType","customReadmePath","exampleHtml"],["componentLabel","form.label.wysiwyg","formControlName","testInput","id","testComponent","playgroundSourceCode","","successMessage","form.label.success",3,"errorMap","highlightColor","isReadonly","minHeight","onImageUploadError","wysiwygOptions"]],template:function(s,l){s&1&&(H(0,"h3"),J(1),ee(2,"transloco"),U(),H(3,"form",1)(4,"div",2),Ce(5,"div",3),H(6,"div",4),ye(7,Ec,3,6,"div",5),H(8,"div",6)(9,"button",7),ae("click",function(){return l.changeFormEnabled()}),J(10),ee(11,"transloco"),U(),H(12,"button",7),ae("click",function(){return l.changeFormInputRequired()}),J(13),ee(14,"transloco"),U(),H(15,"button",7),ae("click",function(){return l.changeVisibility()}),J(16),ee(17,"transloco"),U(),H(18,"button",7),ae("click",function(){return l.recreateForm()}),J(19),ee(20,"transloco"),U(),H(21,"button",7),ae("click",function(){return l.setFormValues()}),J(22),ee(23,"transloco"),U(),H(24,"button",7),ae("click",function(){return l.checkCurrentFormValueAndValidity()}),J(25),ee(26,"transloco"),U(),H(27,"button",7),ae("click",function(){return l.setReadonly()}),J(28),ee(29,"transloco"),U()(),H(30,"div",8)(31,"button",7),ae("click",function(){return l.flipButton()}),J(32),ee(33,"transloco"),U(),H(34,"button",7),ae("click",function(){return l.changeHeight()}),J(35),ee(36,"transloco"),U()()()()(),ye(37,Lc,8,14,"div",9),Ce(38,"playground-component-documentation",10)),s&2&&(N(),je(ce(2,16,"title.components.wysiwyg")),N(2),se("formGroup",l.testForm),N(4),ve(l.showInput()?7:-1),N(3),ne(" ",xe(11,18,"form.buttons.enabled",Te(39,wc,l.testForm.enabled))," "),N(3),ne(" ",xe(14,21,"form.buttons.required",Te(41,xc,l.getIsRequiredInput()))," "),N(3),ne(" ",ce(17,24,"form.buttons.changeVisibility")," "),N(3),ne(" ",ce(20,26,"form.buttons.recreateForm")," "),N(3),ne(" ",ce(23,28,"form.buttons.setForm")," "),N(3),ne(" ",ce(26,30,"form.buttons.checkForm")," "),N(3),ne(" ",xe(29,32,"form.buttons.readonly",Te(43,Tc,l.isReadonly()))," "),N(4),ne(" ",ce(33,35,"form.buttons.flipButton")," "),N(3),ne(" ",ce(36,37,"form.buttons.changeHeight")," "),N(2),ve(l.showValueAndValidity()?37:-1),N(),se("componentType",l.WysiwygTestComponent)("customReadmePath",l.componentsReadmePath())("exampleHtml",l.testComponentSource()))},dependencies:[mt,Et,pt,kt,ht,ot,Lt,Mt,Ie,Jn,it,lt],encapsulation:2,changeDetection:0});let e=t;return e})();var Mc=[{path:"autocomplete",component:Ms},{path:"date",component:uo},{path:"input",component:ho},{path:"paginator",component:fo},{path:"select",component:go},{path:"table",component:_o},{path:"toggle",component:yo},{path:"wysiwyg",component:fl},{path:"loader",component:mo},{path:"**",pathMatch:"full",redirectTo:"input"}],D_=Mc;export{D_ as default};
