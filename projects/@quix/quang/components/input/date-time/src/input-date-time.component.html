<div class="inputWrapper">
  <div class="dateTimeWrapper">
    <div class="mb-3">
      <label
        [attr.aria-label]="ariaLabel"
        [class.is-invalid]="control?.invalid && control?.dirty && errorMessage"
        [class.is-valid]="control?.valid && control?.dirty && successMessage"
        [htmlFor]="id"
        *ngIf="label"
        class="form-label"
      >
        {{ label | transloco }}
        <span [hidden]="!control?.errors?.['required']">*</span>
      </label>
      <div
        [class.input-group-lg]="size === 'lg'"
        [class.input-group-sm]="size === 'sm'"
        class="input-group"
      >
        <input
          [attr.aria-label]="ariaLabel + ' date'"
          [autocomplete]="autocomplete"
          [autofocus]="autofocus"
          [bsConfig]="config"
          [bsValue]="_valueDate"
          [class.is-invalid]="control?.invalid && control?.dirty && errorMessage"
          [class.is-valid]="control?.valid && control?.dirty && successMessage"
          [datesDisabled]="disabledDates"
          [daysDisabled]="disabledDaysOfTheWeek"
          [disabled]="_disabled"
          [id]="id"
          [maxDate]="maxDate"
          [minDate]="minDate"
          [ngClass]="customClass"
          [placeholder]="placeholder | transloco"
          [placement]="placement"
          [tabIndex]="tabIndex"
          (blur)="onTouched()"
          (bsValueChange)="onBsValueChange($event)"
          #drp="bsDatepicker"
          #input
          bsDatepicker
          class="form-control"
          type="text"
        />
        <div class="input-group-append">
          <button
            [ngClass]="buttonClass"
            [tabIndex]="tabIndex"
            (click)="_disabled ? null : drp.toggle()"
            #inputBtn
            aria-label="calendar-button"
            class="btn"
            type="button"
          >
            <ng-content select="[calendarIcon]"></ng-content>
          </button>
        </div>
        <div class="valid-feedback">
          {{ _successMessage | transloco }}
        </div>

        <div
          [attr.aria-errormessage]="_errorMessage"
          class="invalid-feedback"
        >
          {{ _errorMessage | transloco: { requiredValue: _requiredValue } }}
        </div>
      </div>
    </div>
    <div class="timepicker-margin">
      <div
        [class.input-group-lg]="size === 'lg'"
        [class.input-group-sm]="size === 'sm'"
        class="input-group"
      >
        <timepicker
          [arrowkeys]="true"
          [attr.aria-label]="ariaLabel + ' time' | transloco"
          [class.is-invalid]="control?.invalid && control?.dirty && errorMessage"
          [class.is-valid]="control?.valid && control?.dirty && successMessage"
          [disabled]="_disabled"
          [hoursPlaceholder]="hoursPlaceholder | transloco"
          [hourStep]="hourStep"
          [id]="id"
          [max]="maxTime"
          [min]="minTime"
          [minutesPlaceholder]="minutesPlaceholder | transloco"
          [minuteStep]="minuteStep"
          [mousewheel]="true"
          [ngClass]="customClass"
          [secondsPlaceholder]="secondsPlaceholder | transloco"
          [secondsStep]="secondStep"
          [showMeridian]="showMeridianButton"
          [showSeconds]="showSecond"
          [showSpinners]="showSelector"
          [tabIndex]="tabIndex"
          (blur)="onTouched()"
          (ngModelChange)="onChangeTime($event)"
          [(ngModel)]="_valueTime"
        ></timepicker>
      </div>
    </div>
  </div>

  <small
    [hidden]="control?.dirty && ((control?.valid && successMessage) || (control?.invalid && errorMessage))"
    [id]="id + 'Help'"
    *ngIf="helpMessage"
    class="form-text text-muted"
  >
    {{ _helpMessage | transloco }}
  </small>
</div>
