<section class="container-fluid" id="dd">
  <div class="row">
    <div class="col">
      <ks-title [title]="'Drag & drop'"></ks-title>
    </div>
    <div class="col text-right"></div>
  </div>
  <div class="row mb-3">
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>Demo</h3>
        <div cardBody>
          <div class="example-box" cdkDrag>Drag me around</div>
        </div>
      </quang-card-header>
    </div>
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>HTML</h3>
        <div cardBody>
          <pre class="html">{{ 'lib.dd.demo' | transloco }}</pre>
        </div>
      </quang-card-header>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>Zona di movimento</h3>
        <div cardBody>
          <div class="example-boundary">
            <div
              class="example-box"
              cdkDragBoundary=".example-boundary"
              cdkDrag>
              I can only be dragged within the container
            </div>
          </div>
        </div>
      </quang-card-header>
    </div>
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>HTML</h3>
        <div cardBody>
          <pre class="html">{{ 'lib.dd.zone' | transloco }}</pre>
        </div>
      </quang-card-header>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>Liste</h3>
        <div cardBody>
          <div class="example-container mb-3">
            <h4>Da fare</h4>
            <div
              cdkDropList
              #todoList="cdkDropList"
              [cdkDropListData]="todo"
              [cdkDropListConnectedTo]="[doneList]"
              class="example-list"
              (cdkDropListDropped)="dropConnection($event)">
              <div class="example-box-list" *ngFor="let item of todo" cdkDrag>
                {{ item }}
              </div>
            </div>
          </div>
          <div class="example-container">
            <h4>Fatti</h4>
            <div
              cdkDropList
              #doneList="cdkDropList"
              [cdkDropListData]="done"
              [cdkDropListConnectedTo]="[todoList]"
              class="example-list"
              (cdkDropListDropped)="dropConnection($event)">
              <div class="example-box-list" *ngFor="let item of done" cdkDrag>
                {{ item }}
              </div>
            </div>
          </div>
        </div>
      </quang-card-header>
    </div>
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>HTML/TS</h3>
        <div cardBody>
          <pre class="html">{{ 'lib.dd.listHtml' | transloco }}</pre>
          <pre class="ts">{{ 'lib.dd.listCode' | transloco }}</pre>
        </div>
      </quang-card-header>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>Matrice</h3>
        <div cardBody>
          <button
            type="button"
            class="btn btn-outline-success"
            (click)="addRow()">
            Aggiungi riga
          </button>
          <div class="example-matrix">
            <div *ngFor="let r of row; let i = index">
              <div
                cdkDropListOrientation="horizontal"
                cdkDropList
                [id]="r.id"
                [cdkDropListData]="r.value"
                [cdkDropListConnectedTo]="connectedTo"
                class="list"
                (cdkDropListDropped)="dropConnection($event)">
                <div
                  class="box"
                  *ngFor="let item of r.value; let y = index"
                  cdkDrag>
                  {{ 'index ' + getIndex(i, y) }} - {{ item }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </quang-card-header>
    </div>
    <div class="col-6">
      <quang-card-header>
        <h3 cardHeader>HTML/TS</h3>
        <div cardBody>
          <pre class="html">{{ 'lib.dd.matrixHtml' | transloco }}</pre>
          <pre class="ts">{{ 'lib.dd.matrixCode' | transloco }}</pre>
        </div>
      </quang-card-header>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <quang-card-header>
        <h3 cardHeader>Approfondimenti</h3>
        <div cardBody>
          <a
            href="https://material.angular.io/cdk/drag-drop/overview"
            target="_blank"
            >Material drag & drop</a
          >
        </div>
      </quang-card-header>
    </div>
  </div>
</section>
